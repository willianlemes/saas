h4KK.v5x=function (){return typeof h4KK.N5x.j5l==='function'?h4KK.N5x.j5l.apply(h4KK.N5x,arguments):h4KK.N5x.j5l;};h4KK.N5x=function(s5x){return{j5l:function(){var d5x,e5x=arguments;switch(s5x){case 0:d5x=e5x[0]-e5x[1];break;}return d5x;},D5l:function(w5x){s5x=w5x;}};}();h4KK.q3H=function (){return typeof h4KK.K3H.j5l==='function'?h4KK.K3H.j5l.apply(h4KK.K3H,arguments):h4KK.K3H.j5l;};function h4KK(){}h4KK.r02=function (){return typeof h4KK.N02.j5l==='function'?h4KK.N02.j5l.apply(h4KK.N02,arguments):h4KK.N02.j5l;};h4KK.C3H=function (){return typeof h4KK.K3H.D5l==='function'?h4KK.K3H.D5l.apply(h4KK.K3H,arguments):h4KK.K3H.D5l;};h4KK.s5l=function (){return typeof h4KK.x5l.D5l==='function'?h4KK.x5l.D5l.apply(h4KK.x5l,arguments):h4KK.x5l.D5l;};h4KK.D7z=function (){return typeof h4KK.r7z.D5l==='function'?h4KK.r7z.D5l.apply(h4KK.r7z,arguments):h4KK.r7z.D5l;};h4KK.z7d=function (){return typeof h4KK.S7d.D5l==='function'?h4KK.S7d.D5l.apply(h4KK.S7d,arguments):h4KK.S7d.D5l;};h4KK.E1H=function (){return typeof h4KK.j1H.j5l==='function'?h4KK.j1H.j5l.apply(h4KK.j1H,arguments):h4KK.j1H.j5l;};h4KK.E5l=function (){return typeof h4KK.x5l.j5l==='function'?h4KK.x5l.j5l.apply(h4KK.x5l,arguments):h4KK.x5l.j5l;};h4KK.o5z=function (){return typeof h4KK.d5z.j5l==='function'?h4KK.d5z.j5l.apply(h4KK.d5z,arguments):h4KK.d5z.j5l;};h4KK.E5d=function(O5d){return{j5l:function(){var N5d,M5d=arguments;switch(O5d){case 0:N5d=M5d[0]<=M5d[1];break;case 1:N5d=M5d[0]>=M5d[1];break;case 2:N5d=M5d[0]+M5d[1];break;}return N5d;},D5l:function(U5d){O5d=U5d;}};}();h4KK.B5z=function (){return typeof h4KK.d5z.D5l==='function'?h4KK.d5z.D5l.apply(h4KK.d5z,arguments):h4KK.d5z.D5l;};h4KK.t5x=function (){return typeof h4KK.N5x.j5l==='function'?h4KK.N5x.j5l.apply(h4KK.N5x,arguments):h4KK.N5x.j5l;};h4KK.x5l=function(q5l){return{j5l:function(){var g5l,L5l=arguments;switch(q5l){case 3:g5l=L5l[1]+L5l[0]-L5l[2];break;case 2:g5l=L5l[1]===L5l[0];break;case 0:g5l=L5l[0]+L5l[1];break;case 1:g5l=L5l[0]-L5l[1];break;}return g5l;},D5l:function(w5l){q5l=w5l;}};}();h4KK.V02=function (){return typeof h4KK.N02.D5l==='function'?h4KK.N02.D5l.apply(h4KK.N02,arguments):h4KK.N02.D5l;};h4KK.O61=function (){return typeof h4KK.a61.j5l==='function'?h4KK.a61.j5l.apply(h4KK.a61,arguments):h4KK.a61.j5l;};h4KK.r7z=function(v7z){return{j5l:function(){var I7z,C7z=arguments;switch(v7z){case 0:I7z=C7z[0]/C7z[1];break;case 4:I7z=C7z[3]*C7z[1]/C7z[2]|C7z[0];break;case 2:I7z=C7z[0]-C7z[1];break;case 1:I7z=(C7z[0]/C7z[1]|C7z[2])*C7z[3];break;case 3:I7z=C7z[1]+C7z[0]/C7z[3]*C7z[2];break;case 5:I7z=C7z[1]/C7z[0]|C7z[2];break;}return I7z;},D5l:function(T7z){v7z=T7z;}};}();h4KK.S7d=function(s1d){return{j5l:function(){var l7d,D7d=arguments;switch(s1d){case 0:l7d=D7d[1]/D7d[0];break;case 1:l7d=(D7d[2]+D7d[1])/D7d[0];break;}return l7d;},D5l:function(C7d){s1d=C7d;}};}();h4KK.Z02=function (){return typeof h4KK.N02.j5l==='function'?h4KK.N02.j5l.apply(h4KK.N02,arguments):h4KK.N02.j5l;};h4KK.V0E=function (){return typeof h4KK.R0E.D5l==='function'?h4KK.R0E.D5l.apply(h4KK.R0E,arguments):h4KK.R0E.D5l;};h4KK.D91=function (){return typeof h4KK.t91.D5l==='function'?h4KK.t91.D5l.apply(h4KK.t91,arguments):h4KK.t91.D5l;};h4KK.Q3H=function (){return typeof h4KK.K3H.D5l==='function'?h4KK.K3H.D5l.apply(h4KK.K3H,arguments):h4KK.K3H.D5l;};h4KK.P91=function (){return typeof h4KK.t91.D5l==='function'?h4KK.t91.D5l.apply(h4KK.t91,arguments):h4KK.t91.D5l;};h4KK.U5l=function (){return typeof h4KK.x5l.j5l==='function'?h4KK.x5l.j5l.apply(h4KK.x5l,arguments):h4KK.x5l.j5l;};h4KK.w7Q=function (){return typeof h4KK.f0Q.D5l==='function'?h4KK.f0Q.D5l.apply(h4KK.f0Q,arguments):h4KK.f0Q.D5l;};h4KK.D92=function (){return typeof h4KK.N92.D5l==='function'?h4KK.N92.D5l.apply(h4KK.N92,arguments):h4KK.N92.D5l;};h4KK.I91=function (){return typeof h4KK.t91.j5l==='function'?h4KK.t91.j5l.apply(h4KK.t91,arguments):h4KK.t91.j5l;};h4KK.i11=function (){return typeof h4KK.H11.j5l==='function'?h4KK.H11.j5l.apply(h4KK.H11,arguments):h4KK.H11.j5l;};h4KK.d5z=function(t5z){return{j5l:function(){var p5z,j5z=arguments;switch(t5z){case 0:p5z=j5z[0]+j5z[1];break;case 1:p5z=void j5z[0]!==j5z[1];break;case 2:p5z=j5z[0]-j5z[1];break;}return p5z;},D5l:function(A5z){t5z=A5z;}};}();h4KK.g92=function (){return typeof h4KK.N92.j5l==='function'?h4KK.N92.j5l.apply(h4KK.N92,arguments):h4KK.N92.j5l;};h4KK.k02=function (){return typeof h4KK.N02.D5l==='function'?h4KK.N02.D5l.apply(h4KK.N02,arguments):h4KK.N02.D5l;};h4KK.O91=function (){return typeof h4KK.t91.j5l==='function'?h4KK.t91.j5l.apply(h4KK.t91,arguments):h4KK.t91.j5l;};h4KK.o5l=function (){return typeof h4KK.x5l.D5l==='function'?h4KK.x5l.D5l.apply(h4KK.x5l,arguments):h4KK.x5l.D5l;};h4KK.G5d=function (){return typeof h4KK.E5d.j5l==='function'?h4KK.E5d.j5l.apply(h4KK.E5d,arguments):h4KK.E5d.j5l;};h4KK.f5z=function (){return typeof h4KK.d5z.j5l==='function'?h4KK.d5z.j5l.apply(h4KK.d5z,arguments):h4KK.d5z.j5l;};h4KK.U5x=function (){return typeof h4KK.N5x.D5l==='function'?h4KK.N5x.D5l.apply(h4KK.N5x,arguments):h4KK.N5x.D5l;};h4KK.z1H=function (){return typeof h4KK.j1H.D5l==='function'?h4KK.j1H.D5l.apply(h4KK.j1H,arguments):h4KK.j1H.D5l;};h4KK.t61=function (){return typeof h4KK.a61.D5l==='function'?h4KK.a61.D5l.apply(h4KK.a61,arguments):h4KK.a61.D5l;};h4KK.F7z=function (){return typeof h4KK.r7z.D5l==='function'?h4KK.r7z.D5l.apply(h4KK.r7z,arguments):h4KK.r7z.D5l;};h4KK.f0Q=function(a0Q){return{j5l:function(){var P0Q,G0Q=arguments;switch(a0Q){case 0:P0Q=G0Q[0]+G0Q[1];break;case 1:P0Q=G0Q[2]*G0Q[1]+G0Q[0];break;}return P0Q;},D5l:function(p0Q){a0Q=p0Q;}};}();h4KK.A61=function (){return typeof h4KK.a61.D5l==='function'?h4KK.a61.D5l.apply(h4KK.a61,arguments):h4KK.a61.D5l;};h4KK.r11=function (){return typeof h4KK.H11.D5l==='function'?h4KK.H11.D5l.apply(h4KK.H11,arguments):h4KK.H11.D5l;};h4KK.x92=function (){return typeof h4KK.N92.j5l==='function'?h4KK.N92.j5l.apply(h4KK.N92,arguments):h4KK.N92.j5l;};h4KK.I0Q=function (){return typeof h4KK.f0Q.j5l==='function'?h4KK.f0Q.j5l.apply(h4KK.f0Q,arguments):h4KK.f0Q.j5l;};h4KK.l0E=function (){return typeof h4KK.R0E.D5l==='function'?h4KK.R0E.D5l.apply(h4KK.R0E,arguments):h4KK.R0E.D5l;};h4KK.N92=function(z92){return{j5l:function(){var Q92,Y92=arguments;switch(z92){case 0:Q92=Y92[0]-Y92[1];break;case 1:Q92=Y92[2]*Y92[1]-Y92[0];break;}return Q92;},D5l:function(r92){z92=r92;}};}();h4KK.t91=function(Y91){return{j5l:function(){var x91,u91=arguments;switch(Y91){case 0:x91=u91[1]-u91[0];break;}return x91;},D5l:function(G91){Y91=G91;}};}();h4KK.K3H=function(z3H){return{j5l:function(){var A3H,F3H=arguments;switch(z3H){case 0:A3H=(F3H[1]-F3H[2])*F3H[0];break;}return A3H;},D5l:function(T3H){z3H=T3H;}};}();h4KK.b7z=function (){return typeof h4KK.r7z.j5l==='function'?h4KK.r7z.j5l.apply(h4KK.r7z,arguments):h4KK.r7z.j5l;};h4KK.X5d=function (){return typeof h4KK.E5d.D5l==='function'?h4KK.E5d.D5l.apply(h4KK.E5d,arguments):h4KK.E5d.D5l;};h4KK.g0E=function (){return typeof h4KK.R0E.j5l==='function'?h4KK.R0E.j5l.apply(h4KK.R0E,arguments):h4KK.R0E.j5l;};h4KK.l3H=function (){return typeof h4KK.K3H.j5l==='function'?h4KK.K3H.j5l.apply(h4KK.K3H,arguments):h4KK.K3H.j5l;};h4KK.a61=function(K61){return{j5l:function(){var D61,F61=arguments;switch(K61){case 0:D61=F61[0]-F61[1];break;case 1:D61=(F61[0]+F61[3]+F61[1])*F61[4]-F61[2];break;}return D61;},D5l:function(J61){K61=J61;}};}();h4KK.o5d=function (){return typeof h4KK.E5d.D5l==='function'?h4KK.E5d.D5l.apply(h4KK.E5d,arguments):h4KK.E5d.D5l;};h4KK.M7z=function (){return typeof h4KK.r7z.j5l==='function'?h4KK.r7z.j5l.apply(h4KK.r7z,arguments):h4KK.r7z.j5l;};h4KK.c0Q=function (){return typeof h4KK.f0Q.j5l==='function'?h4KK.f0Q.j5l.apply(h4KK.f0Q,arguments):h4KK.f0Q.j5l;};h4KK.z11=function (){return typeof h4KK.H11.D5l==='function'?h4KK.H11.D5l.apply(h4KK.H11,arguments):h4KK.H11.D5l;};h4KK.s1H=function (){return typeof h4KK.j1H.j5l==='function'?h4KK.j1H.j5l.apply(h4KK.j1H,arguments):h4KK.j1H.j5l;};h4KK.j92=function (){return typeof h4KK.N92.D5l==='function'?h4KK.N92.D5l.apply(h4KK.N92,arguments):h4KK.N92.D5l;};h4KK.X7d=function (){return typeof h4KK.S7d.D5l==='function'?h4KK.S7d.D5l.apply(h4KK.S7d,arguments):h4KK.S7d.D5l;};h4KK.T61=function (){return typeof h4KK.a61.j5l==='function'?h4KK.a61.j5l.apply(h4KK.a61,arguments):h4KK.a61.j5l;};h4KK.k5x=function (){return typeof h4KK.N5x.D5l==='function'?h4KK.N5x.D5l.apply(h4KK.N5x,arguments):h4KK.N5x.D5l;};h4KK.R0E=function(a7E){return{j5l:function(){var q0E,C0E=arguments;switch(a7E){case 0:q0E=C0E[0]+C0E[1];break;}return q0E;},D5l:function(W0E){a7E=W0E;}};}();h4KK.u0E=function (){return typeof h4KK.R0E.j5l==='function'?h4KK.R0E.j5l.apply(h4KK.R0E,arguments):h4KK.R0E.j5l;};h4KK.S7Q=function (){return typeof h4KK.f0Q.D5l==='function'?h4KK.f0Q.D5l.apply(h4KK.f0Q,arguments):h4KK.f0Q.D5l;};h4KK.j1H=function(G1H){return{j5l:function(){var L1H,i1H=arguments;switch(G1H){case 1:L1H=i1H[1]-i1H[0];break;case 0:L1H=-i1H[0];break;}return L1H;},D5l:function(b1H){G1H=b1H;}};}();h4KK.H11=function(o61){return{j5l:function(){var h61,d61=arguments;switch(o61){case 0:h61=d61[1]+d61[0];break;case 1:h61=d61[2]+d61[4]+d61[3]+d61[0]+d61[1];break;case 2:h61=d61[1]+d61[0]+d61[2];break;}return h61;},D5l:function(m11){o61=m11;}};}();h4KK.K7d=function (){return typeof h4KK.S7d.j5l==='function'?h4KK.S7d.j5l.apply(h4KK.S7d,arguments):h4KK.S7d.j5l;};h4KK.Y5d=function (){return typeof h4KK.E5d.j5l==='function'?h4KK.E5d.j5l.apply(h4KK.E5d,arguments):h4KK.E5d.j5l;};h4KK.N02=function(I02){return{j5l:function(){var h02,S02=arguments;switch(I02){case 0:h02=S02[3]*S02[1]/S02[0]*S02[2];break;case 2:h02=S02[0]+S02[1];break;case 1:h02=S02[1]*S02[2]*S02[3]-S02[0];break;}return h02;},D5l:function(y02){I02=y02;}};}();h4KK.Y1H=function (){return typeof h4KK.j1H.D5l==='function'?h4KK.j1H.D5l.apply(h4KK.j1H,arguments):h4KK.j1H.D5l;};h4KK.Y7d=function (){return typeof h4KK.S7d.j5l==='function'?h4KK.S7d.j5l.apply(h4KK.S7d,arguments):h4KK.S7d.j5l;};h4KK.E5z=function (){return typeof h4KK.d5z.D5l==='function'?h4KK.d5z.D5l.apply(h4KK.d5z,arguments):h4KK.d5z.D5l;};h4KK.n11=function (){return typeof h4KK.H11.j5l==='function'?h4KK.H11.j5l.apply(h4KK.H11,arguments):h4KK.H11.j5l;};(function(){(function(K,la){var ub,Db,Qa,uc,qa,va,ab,Dd,Ed,Ka,La,Nb,Fd,vc,Gd,Hd,Uc,l,oa,hc,Id,Vc,F,Q,ia,wb,ib,Wa,fa,bb,Pa,Pb,Ga,Da,Ia,db,wc,xb,qb,rb,xc,Wc,Jd,Gb,Hb,Qb,Xc,Xb,yb,yc,Mb,Yc,Kd,Yb,Zc,$c,ad,bd,zb,cd,dd,ed,$b,Ab,Bb,ac,zc,Ac,Bc,hb,Ne,Oa,Ob,Ld,Cc,mb,Md,Oe,sb,Nd,Od,Dc,Pd,Pe,gc,Qd,Me,Qe,fd,Ec,Re,Se,Ad,Te,Bd,Rd,jb,ic,Sd,jc,Td,nb,Ud,gd,Vd,id,Fc,Wd,Ve,Cd,Gc,Tc,Xd,Ue,Yd,jd,Zd,$d,ae,kd,Lb,ce,be,We,kc,de,md,lc,ee,ld,fe,ge,nd,ie,je,Jc,Tb,bc,Ub,ke,le,me,ne,oe,pe,Kc,Xe,qe,re,pd,se,gb,Rb,Zb,Sb,Jb,Cb,Hc,cb,Fb,he,mc,Vb,te,Ye,nc,ue,Ze,cc,ve,Lc,qd,oc,rd,we,pc,xe,ye,ze,$e,qc,Ae,af,bf,Be,od,Ic,Ce,Le,De,cf,ef,df,dc,tc,ff,zd,gf,Ee;function Va(h,l){if(!l||"utf-8"===l)return Nc(h);throw Error("unsupported encoding");}function Sa(h,l){if(!l||"utf-8"===l)return Oc(h);throw Error("unsupported encoding");}function Nc(h){for(var l=0,n,Ma=h.length,F="";l<Ma;){n=h[l++];if(n&128)if(192===(n&224))n=((n&31)<<6)+(h[l++]&63);else if(224===(n&240))n=((n&15)<<12)+((h[l++]&63)<<6)+(h[l++]&63);else throw Error("unsupported character");F+=String.fromCharCode(n);}return F;}function Oc(h){var l,n,Ma,F,r;l=h.length;n=0;F=0;for(Ma=l;Ma--;)r=h.charCodeAt(Ma),128>r?n++:n=2048>r?n+2:n+3;n=new Uint8Array(n);for(Ma=0;Ma<l;Ma++)r=h.charCodeAt(Ma),128>r?n[F++]=r:(2048>r?n[F++]=192|r>>>6:(n[F++]=224|r>>>12,n[F++]=128|r>>>6&63),n[F++]=128|r&63);return n;}function $a(h,n){if(h===n)return!0;if(!h||!n||h.length!=n.length)return!1;for(var l=0;l<h.length;++l)if(h[l]!=n[l])return!1;return!0;}function fb(h){var r;if(!(h&&h.constructor==Uint8Array||Array.isArray(h)))throw new TypeError("Cannot compute the hash code of "+h);for(var n=1,l=0;l<h.length;++l){r=h[l];if("number"!==typeof r)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+r);n=31*n+r&4294967295;}return n;}function ud(h,n){var Ba;if(h===n)return!0;if(!h||!n)return!1;n instanceof Array||(n=[n]);for(var l=0;l<n.length;++l){for(var r=n[l],F=!1,Kb=0;Kb<h.length;++Kb){Ba=h[Kb];if(r.equals&&"function"===typeof r.equals&&r.equals(Ba)||r==Ba){F=!0;break;}}if(!F)return!1;}return!0;}function vd(h,n){return ud(h,n)&&(h.length==n.length||ud(n,h));}function n(h,n,l){var r,F;l&&(r=l);if("object"!==typeof h||"function"!==typeof h.result||"function"!==typeof h.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{F=n.call(r,h);F!==la&&h.result(F);}catch(Pc){try{h.error(Pc);}catch(Ba){}}}function r(h,l,r){if("object"!==typeof h||"function"!==typeof h.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(h,l,r);}function h(h,n,l){1E5>h&&(h=1E5+h);Object.defineProperties(this,{internalCode:{value:h,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:l,writable:!1,configurable:!1}});}function Qc(h){switch(h){case Oa.PSK:case Oa.MGK:return!0;default:return!1;}}function wd(h){switch(h){case Oa.PSK:case Oa.MGK:case Oa.X509:case Oa.RSA:case Oa.NPTICKET:case Oa.ECC:return!0;default:return!1;}}function Ie(h){return h.toJSON();}function xd(n,l){tc?l.result(tc):Promise.resolve().then(function(){return Ia.getKeyByName(n);})["catch"](function(){return Ia.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(h){tc=h;l.result(tc);})["catch"](function(n){l.error(new F(h.INTERNAL_EXCEPTION,"Unable to get system key"));});}function yd(h,n){var l,r,F;l=n.masterToken;r=n.userIdToken;F=n.serviceTokens;return{NccpMethod:h.method,UserId:h.userId,UT:r&&r.serialNumber,MT:l&&l.serialNumber+":"+l.sequenceNumber,STCount:F&&F.length};}function Je(h){return h.uniqueKey();}function Ke(r,K,pb,Ma,sc){var Ha;function Kb(h,L){h.errorCode===l.ENTITY_REAUTH||h.errorCode===l.ENTITYDATA_REAUTH?(Ma.clearCryptoContexts(),Ta()):h.errorCode!==l.USER_REAUTH&&h.errorCode!==l.USERDATA_REAUTH||Ba(L);}function Ba(h){if(h=Ma.getUserIdToken(h))Ma.removeUserIdToken(h),Ta();}function X(h,L,I){var w;w=[];(function D(){h.read(-1,L,{result:function(h){n(I,function(){var v,E,J,I,L;if(h)w.push(h),D();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:I=w.length,L=0;for(E=v=0;E<I;E++)v+=w[E].length;v=new Uint8Array(v);for(E=0;E<I;E++)J=w[E],v.set(J,L),L+=J.length;return v;}});},timeout:function(){I.timeout();},error:function(h){I.error(h);}});}());}function Ta(){Ma.getStoreState({result:function(h){for(var L=Ha.slice(),I=0;I<L.length;I++)L[I]({storeState:h});},timeout:function(){r.error("Timeout getting store state",""+e);},error:function(h){r.error("Error getting store state",""+h);}});}Ha=[];this.addEventHandler=function(h,L){switch(h){case"shouldpersist":Ha.push(L);}};this.send=function(n){return new Promise(function(L,I){var w,z,D;w=n.timeout;z=new zd(r,pb,n,Ma.getKeyRequestData());D=new Ad(n.url);r.trace("Sending MSL request");K.request(pb,z,D,w,{result:function(z){var v;z&&z.getMessageHeader();r.trace("Received MSL response",{Method:n.method});if(z){n.allowTokenRefresh&&Ta();v=z.getErrorHeader();v?(Kb(v,n.userId),I({success:!1,error:v})):X(z,w,{result:function(h){L({success:!0,body:Va(h)});},timeout:function(){I({success:!1,subCode:sc.MSL_READ_TIMEOUT});},error:function(h){I({success:!1,error:h});}});}else I({success:!1,error:new F(h.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){I({success:!1,subCode:sc.MSL_REQUEST_TIMEOUT});},error:function(h){I({success:!1,error:h});}});});};this.hasUserIdToken=function(h){return!!Ma.getUserIdToken(h);};this.getUserIdTokenKeys=function(){return Ma.getUserIdTokenKeys();};this.removeUserIdToken=Ba;this.clearUserIdTokens=function(){Ma.clearUserIdTokens();Ta();};this.isErrorReauth=function(h){return h&&h.errorCode==l.USERDATA_REAUTH;};this.isErrorHeader=function(h){return h instanceof Lb;};this.getErrorCode=function(h){return h&&h.errorCode;};this.getStateForMdx=function(h){var L,I;L=Ma.getMasterToken();h=Ma.getUserIdToken(h);I=Ma.getCryptoContext(L);return{masterToken:L,userIdToken:h,cryptoContext:I};};this.buildPlayDataRequest=function(h,L){var I;I=new Bd();K.request(pb,new zd(r,pb,h),I,h.timeout,{result:function(){L.result(I.getRequest());},error:function(){L.result(I.getRequest());},timeout:function(){L.timeout();}});};this.rekeyUserIdToken=function(h,L){Ma.rekeyUserIdToken(h,L);Ta();};this.getServiceTokens=function(h){var L;L=Ma.getMasterToken();(h=Ma.getUserIdToken(h))&&!h.isBoundTo(L)&&(h=la);return Ma.getServiceTokens(L,h);};this.removeServiceToken=function(h){var L;L=Ma.getMasterToken();Ma.getServiceTokens(L).find(function(I){return I.name===h;})&&(Ma.removeServiceTokens(h,L),Ta());};}function Rc(n,l,r,Ma,K,Q){function Ba(l){var X;return Promise.resolve().then(function(){X=n.authenticationKeyNames[l];if(!X)throw new F(h.KEY_IMPORT_ERROR,"Invalid config keyName "+l);return Ia.getKeyByName(X);}).then(function(n){return new Promise(function(l,L){Xb(n,{result:l,error:function(){L(new F(h.KEY_IMPORT_ERROR,"Unable to create "+X+" CipherKey"));}});});})["catch"](function(n){throw new F(h.KEY_IMPORT_ERROR,"Unable to import "+X,n);});}return Promise.resolve().then(function(){if(!Ia.getKeyByName)throw new F(h.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ba("e"),Ba("h"),Ba("w")]);}).then(function(h){var X,Ha,Ja;X={};X[l]=new r(n.esn,h[0],h[1],h[2]);h=new Ma(n.esn);Ha=new Le();Ha=[new K(Ha)];Ja=new Q(l);return{entityAuthFactories:X,entityAuthData:h,keyExchangeFactories:Ha,keyRequestData:Ja};});}function Sc(n,l,r){var pb;function Ma(){return Promise.resolve().then(function(){return Ia.generateKey(l,!1,["wrapKey","unwrapKey"]);}).then(function(h){return K(h.publicKey,h.privateKey);});}function K(n,l){return Promise.all([new Promise(function(l,X){Mb(n,{result:l,error:function(n){X(new F(h.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,X){Yb(l,{result:n,error:function(n){X(new F(h.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(h){h=new Tc("rsaKeypairId",r,h[0],h[1]);pb&&(h.storeData={keyxPublicKey:n,keyxPrivateKey:l});return h;});}pb=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var h,l;h=n.storeState;l=h&&h.keyxPublicKey;h=h&&h.keyxPrivateKey;return pb&&l&&h?K(l,h):Ma();}).then(function(h){var l,Ta,Ha;l={};l[Oa.NONE]=new Me();Ta=new gc(n.esn);Ha=[new Cd()];return{entityAuthFactories:l,entityAuthData:Ta,keyExchangeFactories:Ha,keyRequestData:h,createKeyRequestData:pb?Ma:la};});}Db=K.nfCrypto||K.msCrypto||K.webkitCrypto||K.crypto;Qa=Db&&(Db.webkitSubtle||Db.subtle);uc=K.nfCryptokeys||K.msCryptokeys||K.webkitCryptokeys||K.cryptokeys;(function(h){var n,l;n=function(){function h(h,l){h instanceof n?(this.abv=h.abv,this.position=h.position):(this.abv=h,this.position=l||0);}h.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(h){this.abv[this.position++]=h;},peekByte:function(h){return this.abv[h];},copyBytes:function(h,l,n){var X;X=new Uint8Array(this.abv.buffer,this.position,n);h=new Uint8Array(h.buffer,l,n);X.set(h);this.position+=n;},seek:function(h){this.position=h;},skip:function(h){this.position+=h;},getPosition:function(){return this.position;},setPosition:function(h){this.position=h;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return h;}();l={};(function(){var J,v,E,Ca,aa,Aa,wa,Z,ra;function h(A,v){var w;v.writeByte(A.tagClass<<6|A.constructed<<5|A.tag);w=A.payloadLen;if(128>w)v.writeByte(w);else{for(var E=w,z=0;E;)++z,E>>=8;v.writeByte(128|z);for(E=0;E<z;++E)v.writeByte(w>>8*(z-E-1)&255);}if(A.child)for(A.tag==J.BIT_STRING&&v.writeByte(0),w=A._child;w;){if(!h(w,v))return!1;w=w.next;}else switch(A.tag){case J.INTEGER:A.backingStore[A.dataIdx]>>7&&v.writeByte(0);v.copyBytes(A.backingStore,A.dataIdx,A.dataLen);break;case J.BIT_STRING:v.writeByte(0);v.copyBytes(A.backingStore,A.dataIdx,A.dataLen);break;case J.OCTET_STRING:v.copyBytes(A.backingStore,A.dataIdx,A.dataLen);break;case J.OBJECT_IDENTIFIER:v.copyBytes(A.backingStore,A.dataIdx,A.dataLen);}return!0;}function r(h){var A,v;A=h.readByte();v=A&127;if(v==A)return v;if(3<v||0===v)return-1;for(var w=A=0;w<v;++w)A=A<<8|h.readByte();return A;}function F(h,w,E){var A,z,I,W,D,ka,L;A=h.backingStore;z=new n(A,w);w+=E;E=h;if(8<aa++)return la;for(;z.getPosition()<w;){z.getPosition();D=z.readByte();if(31==(D&31)){for(W=0;D&128;)W<<=8,W|=D&127;D=W;}I=D;W=I&31;if(0>W||30<W)return la;D=r(z);if(0>D||D>z.getRemaining())return la;E.constructed=I&32;E.tagClass=(I&192)>>6;E.tag=W;E.dataLen=D;E.dataIdx=z.getPosition();W=z;ka=I;I=D;if(ka&32)W=!0;else if(ka<J.BIT_STRING||ka>J.OCTET_STRING)W=!1;else{L=new n(W);ka==J.BIT_STRING&&L.skip(1);L.readByte()>>6&1?W=!1:(ka=r(L),W=L.getPosition()-W.getPosition()+ka==I);}W&&(W=z.getPosition(),I=D,E.tag==J.BIT_STRING&&(E.dataIdx++,E.dataLen--,W++,I--),E.child=new v(A,E),F(E.child,W,I));E.tag==J.INTEGER&&(W=z.getPosition(),0==z.peekByte(W)&&z.peekByte(W+1)>>7&&(E.dataIdx++,E.dataLen--));z.skip(D);z.getPosition()<w&&(E.next=new v(A,E.parent),E=E.next);}aa--;return h;}function K(h,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(h[v++]!=Aa[w])return!1;return!0;}function X(h){var v;if(!(h&&h.child&&h.child.next&&h.child.child&&h.child.next.child))return!1;v=h.child.child;return K(v.backingStore,v.dataIdx,v.dataLen)&&2==h.nChildren&&2==h.child.nChildren&&2==h.child.next.child.nChildren?!0:!1;}function Ta(h){var v;if(!(h&&h.child&&h.child.next&&h.child.next.child&&h.child.next.next&&h.child.next.next.child))return!1;v=h.child.next.child;return K(v.backingStore,v.dataIdx,v.dataLen)&&3==h.nChildren&&2==h.child.next.nChildren&&9==h.child.next.next.child.nChildren?!0:!1;}function Ha(h){var v,A;v=E.createSequenceNode();A=new Ca(v);A.addChild(E.createSequenceNode());A.addChild(E.createOidNode(Aa));A.addSibling(E.createNullNode());A.addToParent(v,E.createBitStringNode(null));A.addChild(E.createSequenceNode());A.addChild(E.createIntegerNode(h.n));A.addSibling(E.createIntegerNode(h.e));return v;}function Ja(h){var v;h=h.child.next.child.child;v=h.data;h=h.next;return new wa(v,h.data,null,null);}function L(h){var v,A;v=E.createSequenceNode();A=new Ca(v);A.addChild(E.createIntegerNode(new Uint8Array([0])));A.addSibling(E.createSequenceNode());A.addChild(E.createOidNode(Aa));A.addSibling(E.createNullNode());A.addToParent(v,E.createOctetStringNode(null));A.addChild(E.createSequenceNode());A.addChild(E.createIntegerNode(new Uint8Array([0])));A.addSibling(E.createIntegerNode(h.n));A.addSibling(E.createIntegerNode(h.e));A.addSibling(E.createIntegerNode(h.d));A.addSibling(E.createIntegerNode(h.p));A.addSibling(E.createIntegerNode(h.q));A.addSibling(E.createIntegerNode(h.dp));A.addSibling(E.createIntegerNode(h.dq));A.addSibling(E.createIntegerNode(h.qi));return v;}function I(h){var v;v=[];h=h.child.next.next.child.child.next;for(var A=0;8>A;A++)v.push(h.data),h=h.next;return new Z(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(h,v,w,E){if(!(h instanceof wa||h instanceof Z))return la;if(w)for(var A=0;A<w.length;++A)if(-1==ra.indexOf(w[A]))return la;v={kty:"RSA",alg:v,key_ops:w||[],ext:E==la?!1:E,n:qa(h.n,!0),e:qa(h.e,!0)};h instanceof Z&&(v.d=qa(h.d,!0),v.p=qa(h.p,!0),v.q=qa(h.q,!0),v.dp=qa(h.dp,!0),v.dq=qa(h.dq,!0),v.qi=qa(h.qi,!0));return v;}function z(h){var v,w,A,E,z,I,J,D,aa,L;if(!h.kty||"RSA"!=h.kty||!h.n||!h.e)return la;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(h.alg&&-1==v.indexOf(h.alg))return la;v=[];h.use?"enc"==h.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==h.use&&(v=["sign","verify"]):v=h.key_ops;w=h.ext;A=va(h.n,!0);E=va(h.e,!0);if(h.d){z=va(h.d,!0);I=va(h.p,!0);J=va(h.q,!0);D=va(h.dp,!0);aa=va(h.dq,!0);L=va(h.qi,!0);return new Z(A,E,z,I,J,D,aa,L,h.alg,v,w);}return new wa(A,E,w,v);}function D(h,v,w,E){this.der=h;this.type=v;this.keyOps=w;this.extractable=E;}J={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(h,v,w,E,z,I){this._data=h;this._parent=v||la;this._constructed=w||!1;this._tagClass=0;this._tag=E||0;this._dataIdx=z||0;this._dataLen=I||0;};v.prototype={_child:la,_next:la,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(h){this._constructed=0!=h?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(h){this._tagClass=h;},get tag(){return this._tag;},set tag(h){this._tag=h;},get dataIdx(){return this._dataIdx;},set dataIdx(h){this._dataIdx=h;},get dataLen(){return this._dataLen;},set dataLen(h){this._dataLen=h;},get child(){return this._child;},set child(h){this._child=h;this._child.parent=this;},get next(){return this._next;},set next(h){this._next=h;},get parent(){return this._parent;},set parent(h){this._parent=h;},get payloadLen(){var h;h=0;if(this._child){for(var v=this._child;v;)h+=v.length,v=v.next;this._tag==J.BIT_STRING&&h++;}else switch(this._tag){case J.INTEGER:h=this._dataLen;this._data[this._dataIdx]>>7&&h++;break;case J.BIT_STRING:h=this._dataLen+1;break;case J.OCTET_STRING:h=this._dataLen;break;case J.NULL:h=0;break;case J.OBJECT_IDENTIFIER:K(this._data,this._dataIdx,this._dataLen)&&(h=9);}return h;},get length(){var h,v;h=this.payloadLen;if(127<h)for(v=h;v;)v>>=8,++h;return h+2;},get der(){var v,w;v=this.length;if(!v)return la;v=new Uint8Array(v);w=new n(v);return h(this,w)?v:la;},get nChildren(){for(var h=0,v=this._child;v;)h++,v=v.next;return h;}};E={createSequenceNode:function(){return new v(null,null,!0,J.SEQUENCE,null,null);},createOidNode:function(h){return new v(h,null,!1,J.OBJECT_IDENTIFIER,0,h?h.length:0);},createNullNode:function(){return new v(null,null,!1,J.NULL,null,null);},createBitStringNode:function(h){return new v(h,null,!1,J.BIT_STRING,0,h?h.length:0);},createIntegerNode:function(h){return new v(h,null,!1,J.INTEGER,0,h?h.length:0);},createOctetStringNode:function(h){return new v(h,null,!1,J.OCTET_STRING,0,h?h.length:0);}};Ca=function(h){this._currentNode=this._rootNode=h;};Ca.prototype={addChild:function(h){this.addTo(this._currentNode,h);},addSibling:function(h){this.addTo(this._currentNode.parent,h);},addTo:function(h,v){this._currentNode=v;this._currentNode.parent=h;if(h.child){for(var w=h.child;w.next;)w=w.next;w.next=v;}else h.child=v;},addToParent:function(h,v){this.findNode(h)&&this.addTo(h,v);},findNode:function(h){for(var v=this._currentNode;v;){if(h==v)return!0;v=v.parent;}return!1;}};aa=0;Aa=new Uint8Array([42,134,72,134,247,13,1,1,1]);wa=function(h,v,w,E){this.n=h;this.e=v;this.ext=w;this.keyOps=E;};Z=function(h,v,w,E,z,I,J,D,ka,aa,L){this.n=h;this.e=v;this.d=w;this.p=E;this.q=z;this.dp=I;this.dq=J;this.qi=D;this.alg=ka;this.keyOps=aa;this.ext=L;};ra="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");D.prototype.getDer=function(){return this.der;};D.prototype.getType=function(){return this.type;};D.prototype.getKeyOps=function(){return this.keyOps;};D.prototype.getExtractable=function(){return this.extractable;};l.parse=function(h){aa=0;return F(new v(h),0,h.length);};l.show=function(h,v){};l.isRsaSpki=X;l.isRsaPkcs8=Ta;l.NodeFactory=E;l.Builder=Ca;l.tagVal=J;l.RsaPublicKey=wa;l.RsaPrivateKey=Z;l.buildRsaSpki=Ha;l.parseRsaSpki=function(h){h=l.parse(h);return X?Ja(h):la;};l.buildRsaPkcs8=L;l.parseRsaPkcs8=function(h){h=l.parse(h);return Ta(h)?I(h):la;};l.buildRsaJwk=w;l.parseRsaJwk=z;l.RsaDer=D;l.rsaDerToJwk=function(h,v,E,z){h=l.parse(h);if(!h)return la;if(X(h))h=Ja(h);else if(Ta(h))h=I(h);else return la;return w(h,v,E,z);};l.jwkToRsaDer=function(h){var v,w;h=z(h);if(!h)return la;if(h instanceof wa)v="spki",w=Ha(h).der;else if(h instanceof Z)v="pkcs8",w=L(h).der;else return la;return new D(w,v,h.keyOps,h.ext);};l.webCryptoAlgorithmToJwkAlg=function(h){return"RSAES-PKCS1-v1_5"==h.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==h.name?"SHA-256"==h.hash.name?"RS256":"SHA-384"==h.hash.name?"RS384":"SHA-512"==h.hash.name?"RS512":la:la;};l.webCryptoUsageToJwkKeyOps=function(h){return h.map(function(h){return"wrapKey"==h?"wrap":"unwrapKey"==h?"unwrap":h;});};}());h.ASN1=l;}(K));(function(){for(var h={},l={},n={"=":0,".":0},r={"=":0,".":0},F=/\s+/g,K=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ba=64;Ba--;)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=4096*Ba,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=Ba;for(Ba=64;Ba--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba];)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=4096*Ba,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=Ba;qa=function(h,l){for(var n="",X=0,L=h.length,I=L-2,w,z=l?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=l?"":"=";X<I;)w=65536*h[X++]+256*h[X++]+h[X++],n+=z[w>>>18]+z[w>>>12&63]+z[w>>>6&63]+z[w&63];X==I?(w=65536*h[X++]+256*h[X++],n+=z[w>>>18]+z[w>>>12&63]+z[w>>>6&63]+D):X==L-1&&(w=65536*h[X++],n+=z[w>>>18]+z[w>>>12&63]+D+D);return n;};va=function(X,Ta){var Ha;X=X.replace(F,"");if(Ta){Ha=X.length%4;if(Ha)for(var Ha=4-Ha,Ja=0;Ja<Ha;++Ja)X+="=";}Ha=X.length;if(0!=Ha%4||!K.test(X))throw Error("bad base64: "+X);for(var L=Ha/4*3-("="==X[Ha-1]?1:0)-("="==X[Ha-2]?1:0),I=new Uint8Array(L),w=0,z=0;w<Ha;)Ja=h[X[w++]]+l[X[w++]]+n[X[w++]]+r[X[w++]],I[z++]=Ja>>>16,z<L&&(I[z++]=Ja>>>8&255,z<L&&(I[z++]=Ja&255));return I;};}());ab={};(function(){var K,Ba,X,Ha;function h(l){if(!(this instanceof h))return new h(l);for(var L=0,I=Ba.length;L<I;L++)this[Ba[L]]="";this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=l||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=X.BEGIN;this.stack=new K();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(h,L,I){if(h[L])h[L](I);}function l(h,L){var I,w;I=h.opt;w=h.textNode;I.trim&&(w=w.trim());I.normalize&&(w=w.replace(/\s+/g," "));h.textNode=w;h.textNode&&n(h,L?L:"onvalue",h.textNode);h.textNode="";}function r(h,L){l(h);L+="\nLine: "+h.line+"\nColumn: "+h.column+"\nChar: "+h.c;L=Error(L);h.error=L;n(h,"onerror",L);return h;}function F(Ja){Ja.state!==X.VALUE&&r(Ja,"Unexpected end");l(Ja);Ja.c="";Ja.closed=!0;n(Ja,"onend");h.call(Ja,Ja.opt);return Ja;}K=Array;ab.parser=function(n){return new h(n);};ab.CParser=h;ab.MAX_BUFFER_LENGTH=65536;ab.DEBUG=!1;ab.INFO=!1;ab.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ba=["textNode","numberNode"];ab.EVENTS.filter(function(h){return"error"!==h&&"end"!==h;});X=0;ab.STATE={BEGIN:X++,VALUE:X++,OPEN_OBJECT:X++,CLOSE_OBJECT:X++,OPEN_ARRAY:X++,CLOSE_ARRAY:X++,TEXT_ESCAPE:X++,STRING:X++,BACKSLASH:X++,END:X++,OPEN_KEY:X++,CLOSE_KEY:X++,TRUE:X++,TRUE2:X++,TRUE3:X++,FALSE:X++,FALSE2:X++,FALSE3:X++,FALSE4:X++,NULL:X++,NULL2:X++,NULL3:X++,NUMBER_DECIMAL_POINT:X++,NUMBER_DIGIT:X++};for(var Ta in ab.STATE)ab.STATE[ab.STATE[Ta]]=Ta;X=ab.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(h){return h.__proto__;});Ha=/[\\"\n]/g;h.prototype={end:function(){F(this);},write:function(h){var w,z,D;if(this.error)throw this.error;if(this.closed)return r(this,"Cannot write after close. Assign an onready handler.");if(null===h)return F(this);for(var L=h[0],I;L;){I=L;this.c=L=h.charAt(this.index++);I!==L?this.p=I:I=this.p;if(!L)break;this.position++;"\n"===L?(this.line++,this.column=0):this.column++;switch(this.state){case X.BEGIN:"{"===L?this.state=X.OPEN_OBJECT:"["===L?this.state=X.OPEN_ARRAY:"\r"!==L&&"\n"!==L&&" "!==L&&"\t"!==L&&r(this,"Non-whitespace before {[.");continue;case X.OPEN_KEY:case X.OPEN_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===X.OPEN_KEY)this.stack.push(X.CLOSE_KEY);else if("}"===L){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||X.VALUE;continue;}else this.stack.push(X.CLOSE_OBJECT);'"'===L?this.state=X.STRING:r(this,'Malformed object key should start with "');continue;case X.CLOSE_KEY:case X.CLOSE_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;":"===L?(this.state===X.CLOSE_OBJECT?(this.stack.push(X.CLOSE_OBJECT),l(this,"onopenobject")):l(this,"onkey"),this.state=X.VALUE):"}"===L?(l(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||X.VALUE):","===L?(this.state===X.CLOSE_OBJECT&&this.stack.push(X.CLOSE_OBJECT),l(this),this.state=X.OPEN_KEY):r(this,"Bad object");continue;case X.OPEN_ARRAY:case X.VALUE:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===X.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=X.VALUE,"]"===L){n(this,"onclosearray");this.state=this.stack.pop()||X.VALUE;continue;}else this.stack.push(X.CLOSE_ARRAY);'"'===L?this.state=X.STRING:"{"===L?this.state=X.OPEN_OBJECT:"["===L?this.state=X.OPEN_ARRAY:"t"===L?this.state=X.TRUE:"f"===L?this.state=X.FALSE:"n"===L?this.state=X.NULL:"-"===L?this.numberNode+=L:"0"===L?(this.numberNode+=L,this.state=X.NUMBER_DIGIT):-1!=="123456789".indexOf(L)?(this.numberNode+=L,this.state=X.NUMBER_DIGIT):r(this,"Bad value");continue;case X.CLOSE_ARRAY:if(","===L)this.stack.push(X.CLOSE_ARRAY),l(this,"onvalue"),this.state=X.VALUE;else if("]"===L)l(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||X.VALUE;else if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;else r(this,"Bad array");continue;case X.STRING:I=this.index-1;w=this.slashed,z=this.unicodeI;a:for(;;){if(ab.DEBUG)for(;0<z;)if(this.unicodeS+=L,L=h.charAt(this.index++),4===z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),z=0,I=this.index-1):z++,!L)break a;if('"'===L&&!w){this.state=this.stack.pop()||X.VALUE;(this.textNode+=h.substring(I,this.index-1))||n(this,"onvalue","");break;}if("\\"===L&&!w&&(w=!0,this.textNode+=h.substring(I,this.index-1),L=h.charAt(this.index++),!L))break;if(w)if(w=!1,"n"===L?this.textNode+="\n":"r"===L?this.textNode+="\r":"t"===L?this.textNode+="\t":"f"===L?this.textNode+="\f":"b"===L?this.textNode+="\b":"u"===L?(z=1,this.unicodeS=""):this.textNode+=L,L=h.charAt(this.index++),I=this.index-1,L)continue;else break;Ha.lastIndex=this.index;D=Ha.exec(h);if(null===D){this.index=h.length+1;this.textNode+=h.substring(I,this.index-1);break;}this.index=D.index+1;L=h.charAt(D.index);if(!L){this.textNode+=h.substring(I,this.index-1);break;}}this.slashed=w;this.unicodeI=z;continue;case X.TRUE:if(""===L)continue;"r"===L?this.state=X.TRUE2:r(this,"Invalid true started with t"+L);continue;case X.TRUE2:if(""===L)continue;"u"===L?this.state=X.TRUE3:r(this,"Invalid true started with tr"+L);continue;case X.TRUE3:if(""===L)continue;"e"===L?(n(this,"onvalue",!0),this.state=this.stack.pop()||X.VALUE):r(this,"Invalid true started with tru"+L);continue;case X.FALSE:if(""===L)continue;"a"===L?this.state=X.FALSE2:r(this,"Invalid false started with f"+L);continue;case X.FALSE2:if(""===L)continue;"l"===L?this.state=X.FALSE3:r(this,"Invalid false started with fa"+L);continue;case X.FALSE3:if(""===L)continue;"s"===L?this.state=X.FALSE4:r(this,"Invalid false started with fal"+L);continue;case X.FALSE4:if(""===L)continue;"e"===L?(n(this,"onvalue",!1),this.state=this.stack.pop()||X.VALUE):r(this,"Invalid false started with fals"+L);continue;case X.NULL:if(""===L)continue;"u"===L?this.state=X.NULL2:r(this,"Invalid null started with n"+L);continue;case X.NULL2:if(""===L)continue;"l"===L?this.state=X.NULL3:r(this,"Invalid null started with nu"+L);continue;case X.NULL3:if(""===L)continue;"l"===L?(n(this,"onvalue",null),this.state=this.stack.pop()||X.VALUE):r(this,"Invalid null started with nul"+L);continue;case X.NUMBER_DECIMAL_POINT:"."===L?(this.numberNode+=L,this.state=X.NUMBER_DIGIT):r(this,"Leading zero not followed by .");continue;case X.NUMBER_DIGIT:-1!=="0123456789".indexOf(L)?this.numberNode+=L:"."===L?(-1!==this.numberNode.indexOf(".")&&r(this,"Invalid number has two dots"),this.numberNode+=L):"e"===L||"E"===L?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||r(this,"Invalid number has two exponential"),this.numberNode+=L):"+"===L||"-"===L?("e"!==I&&"E"!==I&&r(this,"Invalid symbol in number"),this.numberNode+=L):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||X.VALUE);continue;default:r(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){h=Math.max(ab.MAX_BUFFER_LENGTH,10);I=L=0;for(w=Ba.length;I<w;I++){z=this[Ba[I]].length;if(z>h)switch(Ba[I]){case"text":break;default:r(this,"Max buffer length exceeded: "+Ba[I]);}L=Math.max(L,z);}this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH-L+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var r;function h(h,n){n||(n=h.length);return h.reduce(function(h,l,X){return X<n?h+String.fromCharCode(l):h;},"");}for(var n={},l=0;256>l;++l){r=h([l]);n[r]=l;}for(var F=Object.keys(n).length,K=[],l=0;256>l;++l)K[l]=[l];Dd=function(l,X){var v,E;function r(h,v){var E;for(;0<v;){if(z>=w.length)return!1;if(v>D){E=h;E=E>>>v-D;w[z]|=E&255;v-=D;D=8;++z;}else v<=D&&(E=h,E<<=D-v,E&=255,E>>>=8-D,w[z]|=E&255,D-=v,v=0,0==D&&(D=8,++z));}return!0;}for(var Ha in n)X[Ha]=n[Ha];for(var Ja=F,L=[],I=8,w=new Uint8Array(l.length),z=0,D=8,J=0;J<l.length;++J){v=l[J];L.push(v);Ha=h(L);E=X[Ha];if(!E){L=h(L,L.length-1);if(!r(X[L],I))return null;0!=Ja>>I&&++I;X[Ha]=Ja++;L=[v];}}return 0<L.length&&(Ha=h(L),E=X[Ha],!r(E,I))?null:w.subarray(0,8>D?z+1:z);};Ed=function(h){var J,v,D,r;for(var l=K.slice(),n=0,r=0,Ja=8,L=new Uint8Array(Math.ceil(1.5*h.length)),I=0,w,z=[];n<h.length&&!(8*(h.length-n)-r<Ja);){for(var D=w=0;D<Ja;){J=Math.min(Ja-D,8-r);v=h[n];v=v<<r;v=v&255;v=v>>>8-J;D=D+J;r=r+J;8==r&&(r=0,++n);w|=(v&255)<<Ja-D;}D=l[w];0==z.length?++Ja:(D?z.push(D[0]):z.push(z[0]),l[l.length]=z,z=[],l.length==1<<Ja&&++Ja,D||(D=l[w]));w=I+D.length;w>=L.length&&(J=new Uint8Array(Math.ceil(1.5*w)),J.set(L),L=J);L.set(D,I);I=w;z=z.concat(D);}return L.subarray(0,I);};}());(function(){var h,n,r;Ka="utf-8";La=9007199254740992;h=Nb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Nb);Fd=function(n){for(var l=[h.GZIP,h.LZW],r=0;r<l.length&&0<n.length;++r)for(var F=l[r],X=0;X<n.length;++X)if(n[X]==F)return F;return null;};n=vc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vc);Gd=function(h){return n.AES_CBC_PKCS5Padding==h?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==h?n.RSA_ECB_PKCS1Padding:n[h];};r=Hd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Hd);Uc=function(h){return r[h];};l={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(l);}());oa={isObjectLiteral:function(h){return null!==h&&"object"===typeof h&&h.constructor===Object;},extendDeep:function(){var h,n,l,r,F,K,Ba,X;h=arguments[0];n=1;l=arguments.length;r=!1;"boolean"===typeof h&&(r=h,h=arguments[1],n=2);for(;n<l;n++)if(null!=(F=arguments[n]))for(K in F)r&&K in h||(X=F[K],h!==X&&X!==la&&(Ba=h[K],h[K]=null!==Ba&&null!==X&&"object"===typeof Ba&&"object"===typeof X?oa.extendDeep(r,{},Ba,X):X));return h;}};(function(){var Ba,X;function h(h,n){return function(){var l,L;l=h.base;h.base=n;L=h.apply(this,arguments);h.base=l;return L;};}function n(n,l,r){var L,I,w,z;r=r||X;z=!!r.extendAll;for(L in l)I=l.__lookupGetter__(L),w=l.__lookupSetter__(L),I||w?(I&&n.__defineGetter__(L,I),w&&n.__defineSetter__(L,w)):(I=l[L],w=n[L],"function"===typeof I&&"function"===typeof w&&I!==w?(I.base!==Function.prototype.base&&(I=h(I,w)),I.base=w):(z||r[L])&&oa.isObjectLiteral(I)&&oa.isObjectLiteral(w)&&(I=oa.extendDeep({},w,I)),n[L]=I);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function L(){var I;I=h.call(arguments,0);L.base.apply(this,n.concat(I));}});}function r(h,l){var X;X=new this(Ba);n(X,h,l);return K(X);}function F(h,l){n(this.prototype,h,l);return this;}function K(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=F;return n;}Ba={};X={actions:!0};Function.prototype.base=function(){};oa.Class={create:K,mixin:n,extend:function(h,n){var l;l=K();l.prototype=new h();return l.extend(n);}};oa.mixin=function(){oa.log&&oa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var Ba,X,Ta;function h(h,n){return function(){var l,I;l=h.base;h.base=n;I=h.apply(this,arguments);h.base=l;return I;};}function n(n,l,L){var I,w,z,D;L=L||X;D=!!L.extendAll;for(I in l)w=l.__lookupGetter__(I),z=l.__lookupSetter__(I),w||z?(w&&n.__defineGetter__(I,w),z&&n.__defineSetter__(I,z)):(w=l[I],z=n[I],"function"===typeof w&&"function"===typeof z&&w!==z?(w.base!==Ta&&(w=h(w,z)),w.base=z):(D||L[I])&&oa.isObjectLiteral(w)&&oa.isObjectLiteral(z)&&(w=oa.extendDeep({},z,w)),n[I]=w);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function I(){var w;w=h.call(arguments,0);I.base.apply(this,n.concat(w));}});}function r(h,l){var L;L=new this(Ba);n(L,h,l);return K(L);}function F(h,l){n(this.prototype,h,l);return this;}function K(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=F;return n;}Ba={};X={actions:!0};Ta=function(){};Function.prototype.base=Ta;oa.Class={create:K,mixin:n,extend:function(h,n){var l;l=K();l.prototype=new h();return l.extend(n);}};oa.mixin=function(){oa.log&&oa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function h(h){return h==La?1:h+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var l=h(n._nextWaiter);!n._waiters[l];)l=h(l);return l;}hc=oa.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var l;if(this._waiters[h]){l=this._waiters[h];delete this._waiters[h];h==this._nextWaiter&&(this._nextWaiter=n(this));l.call(this,la);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(l,F){var K,Q;K=this;Q=h(this._lastWaiter);this._lastWaiter=Q;r(F,function(){var h,X;if(0<this._queue.length){h=this._queue.shift();setTimeout(function(){F.result(h);},0);}else{-1!=l&&(X=setTimeout(function(){delete K._waiters[Q];Q==K._nextWaiter&&(K._nextWaiter=n(K));F.timeout();},l));this._waiters[Q]=function(h){clearTimeout(X);setTimeout(function(){F.result(h);},0);};this._nextWaiter||(this._nextWaiter=Q);}},K);return Q;},add:function(h){var l;if(this._nextWaiter){l=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);l.call(this,h);}else this._queue.push(h);}});}());(function(){var h;h=0-La;Id=oa.Class.create({nextBoolean:function(){var h;h=new Uint8Array(1);Db.getRandomValues(h);return h[0]&1?!0:!1;},nextInt:function(h){var n;if(null!==h&&h!==la){if("number"!==typeof h)throw new TypeError("n must be of type number");if(1>h)throw new RangeError("n must be greater than zero");--h;n=new Uint8Array(4);Db.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(h-0+1)+0);}h=new Uint8Array(4);Db.getRandomValues(h);n=(h[3]&127)<<24|h[2]<<16|h[1]<<8|h[0];return h[3]&128?-n:n;},nextLong:function(){var l,n;for(var n=h;n==h;){n=new Uint8Array(7);Db.getRandomValues(n);l=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-l-1:l;}return n;},nextBytes:function(h){Db.getRandomValues(h);}});}());(function(){function h(h){return h==La?1:h+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var l=h(n._nextReader);!n._waitingReaders[l];)l=h(l);return l;}function l(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var l=h(n._nextWriter);!n._waitingWriters[l];)l=h(l);return l;}Vc=oa.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var r;if(this._waitingReaders[h]){r=this._waitingReaders[h];delete this._waitingReaders[h];h==this._nextReader&&(this._nextReader=n(this));r.call(this,!0);}this._waitingWriters[h]&&(r=this._waitingWriters[h],delete this._waitingWriters[h],h==this._nextWriter&&(this._nextWriter=l(this)),r.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(l,F){var K,Q;K=this;Q=h(this._lastNumber);this._lastNumber=Q;r(F,function(){var h;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[Q]=!0,Q;-1!=l&&(h=setTimeout(function(){delete K._waitingReaders[Q];Q==K._nextReader&&(K._nextReader=n(K));F.timeout();},l));this._waitingReaders[Q]=function(n){clearTimeout(h);n?setTimeout(function(){F.result(la);},0):(K._readers[Q]=!0,setTimeout(function(){F.result(Q);},0));};this._nextReader||(this._nextReader=Q);},K);return Q;},writeLock:function(n,F){var K,Q;K=this;Q=h(this._lastNumber);this._lastNumber=Q;r(F,function(){var h;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=Q;-1!=n&&(h=setTimeout(function(){delete K._waitingWriters[Q];Q==K._nextWriter&&(K._nextWriter=l(K));F.timeout();},n));this._waitingWriters[Q]=function(n){clearTimeout(h);n?setTimeout(function(){F.result(la);},0):(K._writer=Q,setTimeout(function(){F.result(Q);},0));};this._nextWriter||(this._nextWriter=Q);},K);return Q;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new fa("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=l(this),n.call(this,!1));else{for(var r=this._nextReader;0<Object.keys(this._waitingReaders).length;r=h(r))this._waitingReaders[r]&&(n=this._waitingReaders[r],delete this._waitingReaders[r],n.call(this,!1));this._nextReader=0;}}});}());oa.Class.mixin(h,{JSON_PARSE_ERROR:new h(0,l.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new h(1,l.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new h(2,l.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new h(3,l.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new h(4,l.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new h(5,l.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new h(6,l.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new h(7,l.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new h(8,l.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new h(9,l.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new h(10,l.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new h(11,l.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new h(12,l.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new h(13,l.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new h(14,l.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new h(15,l.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new h(16,l.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new h(17,l.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new h(18,l.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new h(19,l.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new h(20,l.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new h(21,l.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new h(22,l.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new h(23,l.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new h(24,l.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new h(25,l.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new h(26,l.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new h(27,l.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new h(28,l.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new h(29,l.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new h(30,l.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new h(31,l.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new h(32,l.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new h(33,l.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new h(34,l.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new h(35,l.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new h(36,l.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new h(37,l.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new h(38,l.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new h(39,l.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new h(40,l.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new h(41,l.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new h(42,l.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new h(43,l.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new h(44,l.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new h(45,l.FAIL,"Error exporting key."),DIGEST_ERROR:new h(46,l.FAIL,"Error in digest."),UNSUPPORTED_KEY:new h(47,l.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new h(48,l.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new h(49,l.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new h(50,l.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new h(51,l.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new h(52,l.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new h(53,l.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new h(54,l.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new h(55,l.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new h(56,l.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new h(57,l.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new h(58,l.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new h(59,l.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new h(60,l.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new h(61,l.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new h(62,l.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new h(1E3,l.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new h(1001,l.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new h(1002,l.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new h(1003,l.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(1004,l.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(1005,l.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new h(1006,l.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new h(1007,l.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new h(1008,l.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new h(1009,l.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new h(1010,l.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new h(1011,l.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new h(1012,l.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new h(1013,l.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new h(1014,l.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new h(2E3,l.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new h(2001,l.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new h(2002,l.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new h(2003,l.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new h(2004,l.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new h(2005,l.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2006,l.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2007,l.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new h(2008,l.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new h(2009,l.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new h(2010,l.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new h(2011,l.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new h(2012,l.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new h(2013,l.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new h(2014,l.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new h(2015,l.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new h(2016,l.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new h(2017,l.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new h(2018,l.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new h(2019,l.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new h(2020,l.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new h(3E3,l.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new h(3001,l.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new h(3002,l.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new h(3003,l.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new h(3004,l.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3005,l.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3006,l.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new h(3007,l.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new h(3008,l.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new h(3009,l.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new h(4E3,l.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new h(4001,l.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new h(4002,l.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new h(4003,l.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new h(4004,l.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new h(4005,l.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new h(4006,l.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new h(4007,l.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new h(4008,l.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new h(4009,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new h(4010,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new h(4011,l.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new h(4012,l.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new h(4013,l.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new h(4014,l.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new h(4015,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new h(4016,l.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new h(4017,l.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new h(4018,l.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new h(4019,l.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new h(4020,l.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new h(4021,l.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new h(4022,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new h(4023,l.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new h(4024,l.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new h(4025,l.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new h(4026,l.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new h(5E3,l.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new h(5001,l.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new h(5002,l.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new h(5003,l.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new h(5004,l.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new h(5005,l.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new h(5006,l.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new h(5007,l.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new h(5008,l.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new h(5009,l.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new h(5010,l.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new h(5011,l.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new h(5012,l.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new h(5013,l.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new h(5014,l.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new h(5015,l.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new h(5016,l.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new h(5017,l.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new h(5018,l.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new h(5019,l.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new h(5020,l.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new h(5021,l.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new h(5022,l.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new h(5023,l.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new h(5024,l.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new h(5025,l.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new h(5026,l.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new h(5027,l.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new h(5028,l.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new h(5029,l.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new h(5030,l.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new h(5031,l.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new h(5032,l.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new h(5033,l.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new h(5034,l.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new h(5035,l.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new h(5036,l.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new h(5037,l.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new h(5038,l.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new h(5039,l.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new h(5040,l.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new h(6E3,l.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new h(6001,l.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new h(6002,l.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new h(6003,l.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new h(6004,l.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new h(6005,l.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new h(6006,l.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new h(6007,l.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new h(6008,l.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new h(6009,l.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new h(6010,l.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new h(6011,l.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new h(6012,l.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new h(6013,l.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new h(6014,l.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new h(6015,l.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new h(6016,l.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new h(6017,l.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new h(6018,l.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(6019,l.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new h(6020,l.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new h(6021,l.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new h(6022,l.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new h(6023,l.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new h(6024,l.FAIL,"Invalid header data."),PAYLOAD_INVALID:new h(6025,l.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new h(6026,l.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new h(6027,l.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new h(6028,l.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new h(6029,l.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new h(6030,l.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new h(6031,l.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new h(6032,l.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new h(6033,l.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new h(6034,l.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new h(6035,l.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new h(6036,l.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new h(6037,l.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new h(7E3,l.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new h(7001,l.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new h(7002,l.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new h(7003,l.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new h(7004,l.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new h(7005,l.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new h(7006,l.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new h(7007,l.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new h(7008,l.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new h(7009,l.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new h(7010,l.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new h(7011,l.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new h(7012,l.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new h(7013,l.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new h(7014,l.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new h(7015,l.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new h(7016,l.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new h(8E3,l.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new h(8001,l.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new h(8002,l.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new h(8003,l.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new h(8004,l.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new h(8005,l.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new h(8006,l.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new h(8007,l.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new h(8008,l.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new h(8009,l.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new h(8010,l.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new h(8011,l.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new h(8012,l.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new h(9E3,l.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new h(9001,l.FAIL,"Error communicating with MSL entity."),NONE:new h(9999,l.FAIL,"Special unit test error.")});Object.freeze(h);(function(){F=oa.Class.create(Error());F.mixin({init:function(h,n,l){var K,Q,fa;function r(){return Q?Q:this.cause&&this.cause instanceof F?this.cause.messageId:la;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);K=h.message;n&&(K+=" ["+n+"]");fa=this.stack;Object.defineProperties(this,{message:{value:K,writable:!1,configurable:!0},error:{value:h,writable:!1,configurable:!0},cause:{value:l,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:r,set:function(h){if(0>h||h>La)throw new RangeError("Message ID "+h+" is outside the valid range.");r()||(Q=h);},configurable:!0},stack:{get:function(){var h;h=this.toString();fa&&(h+="\n"+fa);l&&l.stack&&(h+="\nCaused by "+l.stack);return h;},configurable:!0}});},setEntity:function(h){!h||this.masterToken||this.entityAuthenticationData||(h instanceof gb?this.masterToken=h:h instanceof Ob&&(this.entityAuthenticationData=h));return this;},setUser:function(h){!h||this.userIdToken||this.userAuthenticationData||(h instanceof Zb?this.userIdToken=h:h instanceof Fb&&(this.userAuthenticationData=h));return this;},setMessageId:function(h){this.messageId=h;return this;},toString:function(){return this.name+": "+this.message;}});}());Q=F.extend({init:function Kb(h,n,l){Kb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ia=F.extend({init:function pb(h,n,l){pb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});wb=F.extend({init:function Ma(h,n,l){Ma.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){ib=oa.Class.create(Error());ib.mixin({init:function(h,n,l){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:l,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();r&&(h+="\n"+r);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Wa=oa.Class.create(Error());Wa.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){fa=oa.Class.create(Error());fa.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){bb=oa.Class.create(Error());bb.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Pa=F.extend({init:function sc(h,n,l){sc.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Pb=F.extend({init:function Pc(h,n){Pc.base.call(this,h);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ga=F.extend({init:function Ba(h,n,l){Ba.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Da=F.extend({init:function X(h,n,l){X.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var L;function h(h){return"undefined"===typeof h?!1:h;}function n(h){return h&&h.length?(db===L.V2014_02&&(h=h.map(function(h){return"wrap"==h?"wrapKey":"unwrap"==h?"unwrapKey":h;})),h):db===L.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function l(h,w,n,l,J){return Promise.resolve().then(function(){return Qa.importKey(h,w,n,l,J);})["catch"](function(v){var E;if("spki"!==h&&"pkcs8"!==h)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(n);E=ASN1.webCryptoUsageToJwkKeyOps(J);v=ASN1.rsaDerToJwk(w,v,E,l);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Qa.importKey("jwk",Oc(v),n,l,J);});}function r(h,w){return Promise.resolve().then(function(){return Qa.exportKey(h,w);})["catch"](function(n){if("spki"!==h&&"pkcs8"!==h)throw n;return Qa.exportKey("jwk",w).then(function(h){h=JSON.parse(Nc(new Uint8Array(h)));h=ASN1.jwkToRsaDer(h);if(!h)throw Error("Could not make valid DER from JWK input");return h.getDer().buffer;});});}L=wc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wc);db=L.LATEST;Ia={encrypt:function(h,w,n){switch(db){case L.LEGACY:return new Promise(function(z,l){var v;v=Qa.encrypt(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Qa.encrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(h,w,n){switch(db){case L.LEGACY:return new Promise(function(z,l){var v;v=Qa.decrypt(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Qa.decrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(h,w,n){switch(db){case L.LEGACY:return new Promise(function(z,l){var v;v=Qa.sign(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Qa.sign(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(h,w,n,l){switch(db){case L.LEGACY:return new Promise(function(z,v){var E;E=Qa.verify(h,w,n,l);E.oncomplete=function(h){z(h.target.result);};E.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Qa.verify(h,w,n,l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(h,w){switch(db){case L.LEGACY:return new Promise(function(n,l){var z;z=Qa.digest(h,w);z.oncomplete=function(h){n(h.target.result);};z.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Qa.digest(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(l,w,z){var I,J;I=h(w);J=n(z);switch(db){case L.LEGACY:return new Promise(function(h,w){var v;v=Qa.generateKey(l,I,J);v.oncomplete=function(v){h(v.target.result);};v.onerror=function(h){w(h);};});case L.V2014_01:case L.V2014_02:return Qa.generateKey(l,I,J);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(l,w,z,D,J){var v,E;v=h(D);E=n(J);switch(db){case L.LEGACY:return new Promise(function(h,n){var J;J=Qa.deriveKey(l,w,z,v,E);J.oncomplete=function(v){h(v.target.result);};J.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return Qa.deriveKey(l,w,z,v,E);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(I,w,z,D,J){var v,E;v=h(D);E=n(J);switch(db){case L.LEGACY:return new Promise(function(h,n){var l;l=Qa.importKey(I,w,z,v,E);l.oncomplete=function(v){h(v.target.result);};l.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return l(I,w,z,v,E);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(h,w){switch(db){case L.LEGACY:return new Promise(function(n,l){var z;z=Qa.exportKey(h,w);z.oncomplete=function(h){n(h.target.result);};z.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return r(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(h,w,n,l){switch(db){case L.LEGACY:return new Promise(function(h,v){var E;E=Qa.wrapKey(w,n,l);E.oncomplete=function(v){h(v.target.result);};E.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Qa.wrapKey(h,w,n,l).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(l,w,z,D,J,v,E){switch(db){case L.LEGACY:return new Promise(function(h,v){var n;n=Qa.unwrapKey(w,J,z);n.oncomplete=function(v){h(v.target.result);};n.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Qa.unwrapKey(l,w,z,D,J,h(v),n(E));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};uc&&uc.getKeyByName&&(Ia.getKeyByName=function(h){switch(db){case L.LEGACY:return new Promise(function(w,n){var z;z=uc.getKeyByName(h);z.oncomplete=function(h){w(h.target.result);};z.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return uc.getKeyByName(h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});K.netflix=K.netflix||{};K.netflix.crypto=Ia;}());xb={name:"AES-KW"};qb={name:"AES-CBC"};rb={name:"HMAC",hash:{name:"SHA-256"}};xc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Wc={name:"RSAES-PKCS1-v1_5"};Jd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Gb=["encrypt","decrypt"];Hb=["wrap","unwrap"];Qb=["sign","verify"];(function(){Xc=oa.Class.create({init:function(l,r,F){var L;function X(h){n(r,function(){var w;w=h?qa(h):la;Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},keyData:{value:h,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l)throw new Q(h.INVALID_SYMMETRIC_KEY);!F&&l.extractable?Ia.exportKey("raw",l).then(function(h){X(new Uint8Array(h));},function(n){r.error(new Q(h.KEY_EXPORT_ERROR,"raw"));}):X(F);},L);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Xb=function(h,n){new Xc(h,n);};yb=function(l,r,F,K){n(K,function(){try{l="string"==typeof l?va(l):l;}catch(L){throw new Q(h.INVALID_SYMMETRIC_KEY,"keydata "+l,L);}Ia.importKey("raw",l,r,!0,F).then(function(h){new Xc(h,K,l);},function(n){K.error(new Q(h.INVALID_SYMMETRIC_KEY));});});};}());(function(){yc=oa.Class.create({init:function(l,r,F){var L;function X(h){n(r,function(){Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l||"public"!=l.type)throw new TypeError("Only original public crypto keys are supported.");!F&&l.extractable?Ia.exportKey("spki",l).then(function(h){X(new Uint8Array(h));},function(n){r.error(new Q(h.KEY_EXPORT_ERROR,"spki"));}):X(F);});},getEncoded:function(){return this.encoded;}});Mb=function(h,n){new yc(h,n);};Yc=function(l,r,F,K){n(K,function(){try{l="string"==typeof l?va(l):l;}catch(L){throw new Q(h.INVALID_PUBLIC_KEY,"spki "+l,L);}Ia.importKey("spki",l,r,!0,F).then(function(h){new yc(h,K,l);},function(n){K.error(new Q(h.INVALID_PUBLIC_KEY));});});};}());(function(){Kd=oa.Class.create({init:function(l,r,F){var L;function X(h){n(r,function(){Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l||"private"!=l.type)throw new TypeError("Only original private crypto keys are supported.");!F&&l.extractable?Ia.exportKey("pkcs8",l).then(function(h){X(new Uint8Array(h));},function(n){r.error(new Q(h.KEY_EXPORT_ERROR,"pkcs8"));}):X(F);});},getEncoded:function(){return this.encoded;}});Yb=function(h,n){new Kd(h,n);};}());(function(){var l;l=bd={V1:1,V2:2};Zc=oa.Class.create({init:function(h,r,F,L){n(L,function(){var n,w,z,D;n=l.V1;w=h;z=null;for(D in vc)if(vc[D]==h){n=l.V2;w=null;z=h;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:z,writable:!1,configurable:!1},iv:{value:r,writable:!1,configurable:!1},ciphertext:{value:F,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var h;h={};switch(this.version){case l.V1:h.keyid=this.keyId;this.iv&&(h.iv=qa(this.iv));h.ciphertext=qa(this.ciphertext);h.sha256="AA==";break;case l.V2:h.version=this.version;h.cipherspec=this.cipherSpec;this.iv&&(h.iv=qa(this.iv));h.ciphertext=qa(this.ciphertext);break;default:throw new fa("Ciphertext envelope version "+this.version+" encoding unsupported.");}return h;}});$c=function(h,n,l,L){new Zc(h,n,l,L);};ad=function(r,F,X){n(X,function(){var n,I,w,z,D,J,v;n=r.keyid;I=r.cipherspec;w=r.iv;z=r.ciphertext;D=r.sha256;if(!F)if((F=r.version)&&"number"===typeof F&&F===F){J=!1;for(v in l)if(l[v]==F){J=!0;break;}if(!J)throw new Q(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}else F=l.V1;switch(F){case l.V1:if("string"!==typeof n||w&&"string"!==typeof w||"string"!==typeof z||"string"!==typeof D)throw new ia(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));break;case l.V2:v=r.version;if(v!=l.V2)throw new Q(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));if("string"!==typeof I||w&&"string"!==typeof w||"string"!==typeof z)throw new ia(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));I=Gd(I);if(!I)throw new Q(h.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(r));n=I;break;default:throw new Q(h.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}try{w&&(w=va(w));z=va(z);}catch(E){throw new Q(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(r),E);}new Zc(n,w,z,X);});};}());(function(){var l;l=ed={V1:1,V2:2};zb=oa.Class.create({init:function(h,n,r){var L;switch(h){case l.V1:L=r;break;case l.V2:L={};L.version=h;L.algorithm=n;L.signature=qa(r);L=Sa(JSON.stringify(L),Ka);break;default:throw new fa("Signature envelope version "+h+" encoding unsupported.");}Object.defineProperties(this,{version:{value:h,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:r,writable:!1,configurable:!1},bytes:{value:L,writable:!1,configurable:!1}});}});cd=function(){var h,r,F,L;2==arguments.length?(h=l.V1,r=arguments[0],F=null,L=arguments[1]):3==arguments.length&&(h=l.V2,F=arguments[0],r=arguments[1],L=arguments[2]);n(L,function(){return new zb(h,F,r);});};dd=function(r,F,X){n(X,function(){var n,I,w,z,D,J,v;if(F)switch(F){case l.V1:return new zb(l.V1,null,r);case l.V2:try{n=Va(r,Ka);I=JSON.parse(n);w=parseInt(I.version);z=I.algorithm;D=I.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof z||"string"!==typeof D)throw new ia(h.JSON_PARSE_ERROR,"signature envelope "+qa(r));if(l.V2!=w)throw new Q(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+qa(r));J=Uc(z);if(!J)throw new Q(h.UNIDENTIFIED_ALGORITHM,"signature envelope "+qa(r));v=va(D);if(!v)throw new Q(h.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(r));return new zb(l.V2,J,v);}catch(E){if(E instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"signature envelope "+qa(r),E);throw E;}default:throw new Q(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+qa(r));}try{n=Va(r,Ka);I=JSON.parse(n);}catch(E){I=null;}if(I&&I.version){if(n=I.version,"number"!==typeof n||n!==n)n=l.V1;}else n=l.V1;switch(n){case l.V1:return new zb(n,null,r);case l.V2:J=I.algorithm;D=I.signature;if("string"!==typeof J||"string"!==typeof D)return new zb(l.V1,null,r);J=Uc(J);if(!J)return new zb(l.V1,null,r);try{v=va(D);}catch(E){return new zb(l.V1,null,r);}return new zb(n,J,v);default:throw new Q(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+r);}});};}());$b=oa.Class.create({encrypt:function(h,n){},decrypt:function(h,n){},wrap:function(h,n){},unwrap:function(h,n,l,r){},sign:function(h,n){},verify:function(h,n,l){}});(function(){var l;l=Bb={RSA_OAEP:xc.name,A128KW:xb.name};ub="A128GCM";Ab=oa.Class.create({init:function(h,n,r,L,I){switch(n){case l.RSA_OAEP:I=I&&(I.rawKey||I);L=L&&(L.rawKey||L);break;case l.A128KW:I=L=L&&(L.rawKey||L);break;default:throw new fa("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:r,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:I,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:L,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new Q(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new Q(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,r){n(r,function(){Ia.wrapKey("jwe+jwk",l.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new Q(h.WRAP_ERROR));});},this);},unwrap:function(l,r,F,L){function I(l){n(L,function(){switch(l.type){case"secret":Xb(l,L);break;case"public":Mb(l,L);break;case"private":Yb(l,L);break;default:throw new Q(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(L,function(){Ia.unwrapKey("jwe+jwk",l,this._unwrapKey,this._unwrapKey.algorithm,r,!1,F).then(function(h){I(h);},function(){L.error(new Q(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new Q(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,r){r.error(new Q(h.VERIFY_NOT_SUPPORTED));}});}());ac=$b.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.result(h);},unwrap:function(h,n,l,r){r.result(h);},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!0);}});(function(){var l;l=Ac={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zc=$b.extend({init:function Ha(h,n,I,w,z){Ha.base.call(this);I&&(I=I.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:I,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:z==l.ENCRYPT_DECRYPT_PKCS1?Wc:z==l.ENCRYPT_DECRYPT_OAEP?xc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:z==l.WRAP_UNWRAP_PKCS1?Wc:z==l.WRAP_UNWRAP_OAEP?xc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:z==l.SIGN_VERIFY?Jd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var L;L=this;n(r,function(){if("nullOp"==this.transform)return l;if(!this.publicKey)throw new Q(h.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==l.length)return l;Ia.encrypt(L.transform,L.publicKey,l).then(function(n){$c(L.id,null,n,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Sa(l,Ka));}catch(D){r.error(new Q(h.ENCRYPT_ERROR,null,D));}},error:function(n){n instanceof F||(n=new Q(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new Q(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var L;L=this;n(r,function(){var n,w;if("nullOp"==this.transform)return l;if(!this.privateKey)throw new Q(h.DECRYPT_NOT_SUPPORTED,"no private key");if(0==l.length)return l;try{w=Va(l,Ka);n=JSON.parse(w);}catch(z){if(z instanceof SyntaxError)throw new Q(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,z);throw new Q(h.DECRYPT_ERROR,null,z);}ad(n,bd.V1,{result:function(n){var l;try{if(n.keyId!=L.id)throw new Q(h.ENVELOPE_KEY_ID_MISMATCH);l=r.result;Ia.decrypt(L.transform,L.privateKey,n.ciphertext).then(l,function(n){r.error(new Q(h.DECRYPT_ERROR));});}catch(J){J instanceof F?r.error(J):r.error(new Q(h.DECRYPT_ERROR,null,J));}},error:function(n){n instanceof ia&&(n=new Q(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof F||(n=new Q(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new Q(h.WRAP_NOT_SUPPORTED,"no public key");n=r.result;Ia.wrapKey("jwk",l.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){r.error(new Q(h.WRAP_ERROR));});},this);},unwrap:function(l,r,L,I){function w(l){n(I,function(){switch(l.type){case"secret":Xb(l,I);break;case"public":Mb(l,I);break;case"private":Yb(l,I);break;default:throw new Q(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(I,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new Q(h.UNWRAP_NOT_SUPPORTED,"no private key");Ia.unwrapKey("jwk",l,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},r,!1,L).then(w,function(n){I.error(new Q(h.UNWRAP_ERROR));});},this);},sign:function(l,r){n(r,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new Q(h.SIGN_NOT_SUPPORTED,"no private key");Ia.sign(this.algo,this.privateKey,l).then(function(h){cd(h,{result:function(h){r.result(h.bytes);},error:r.error});},function(n){r.error(new Q(h.SIGNATURE_ERROR));});},this);},verify:function(l,r,L){var I;I=this;n(L,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new Q(h.VERIFY_NOT_SUPPORTED,"no public key");dd(r,ed.V1,{result:function(w){n(L,function(){var n;n=L.result;Ia.verify(this.algo,this.publicKey,w.signature,l).then(n,function(n){L.error(new Q(h.SIGNATURE_ERROR));});},I);},error:L.error});},this);}});}());(function(){Bc=$b.extend({init:function Ta(h,n,l,I,w){Ta.base.call(this);l=l&&l.rawKey;I=I&&I.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:l,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:I,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var K;K=this;n(r,function(){var n;if(!this.encryptionKey)throw new Q(h.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);Ia.encrypt({name:qb.name,iv:n},K.encryptionKey,l).then(function(l){l=new Uint8Array(l);$c(K.id,n,l,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Sa(l,Ka));}catch(D){r.error(new Q(h.ENCRYPT_ERROR,null,D));}},error:function(n){n instanceof F||(n=new Q(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new Q(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var K;K=this;n(r,function(){var n,I;if(!this.encryptionKey)throw new Q(h.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;try{I=Va(l,Ka);n=JSON.parse(I);}catch(w){if(w instanceof SyntaxError)throw new Q(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new Q(h.DECRYPT_ERROR,null,w);}ad(n,bd.V1,{result:function(n){try{if(n.keyId!=K.id)throw new Q(h.ENVELOPE_KEY_ID_MISMATCH);Ia.decrypt({name:qb.name,iv:n.iv},K.encryptionKey,n.ciphertext).then(function(h){h=new Uint8Array(h);r.result(h);},function(){r.error(new Q(h.DECRYPT_ERROR));});}catch(z){z instanceof F?r.error(z):r.error(new Q(h.DECRYPT_ERROR,null,z));}},error:function(n){n instanceof ia&&(n=new Q(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof F||(n=new Q(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){if(!this.wrapKey)throw new Q(h.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.wrapKey("raw",l.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new Q(h.WRAP_ERROR));});},this);},unwrap:function(l,r,F,L){function I(l){n(L,function(){switch(l.type){case"secret":Xb(l,L);break;case"public":Mb(l,L);break;case"private":Yb(l,L);break;default:throw new Q(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(L,function(){if(!this.wrapKey)throw new Q(h.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.unwrapKey("raw",l,this.wrapKey,this.wrapKey.algorithm,r,!1,F).then(function(h){I(h);},function(n){L.error(new Q(h.UNWRAP_ERROR));});},this);},sign:function(l,r){var F;F=this;n(r,function(){if(!this.hmacKey)throw new Q(h.SIGN_NOT_SUPPORTED,"no HMAC key.");Ia.sign(rb,this.hmacKey,l).then(function(h){n(r,function(){var n;n=new Uint8Array(h);cd(n,{result:function(h){r.result(h.bytes);},error:r.error});},F);},function(){r.error(new Q(h.HMAC_ERROR));});},this);},verify:function(l,r,F){var L;L=this;n(F,function(){if(!this.hmacKey)throw new Q(h.VERIFY_NOT_SUPPORTED,"no HMAC key.");dd(r,ed.V1,{result:function(I){n(F,function(){Ia.verify(rb,this.hmacKey,I.signature,l).then(function(h){F.result(h);},function(n){F.error(new Q(h.HMAC_ERROR));});},L);},error:F.error});},this);}});}());hb=Bc.extend({init:function Ta(n,l,r,I,w){if(r||I||w)Ta.base.call(this,n,r+"_"+l.sequenceNumber,I,w,null);else{if(!l.isDecrypted())throw new Pb(h.MASTERTOKEN_UNTRUSTED,l);Ta.base.call(this,n,l.identity+"_"+l.sequenceNumber,l.encryptionKey,l.hmacKey,null);}}});Ne=$b.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.error(new fa("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(h,n,l,r){r.error(new fa("Unwrap is unsupported by the MSL token crypto context."));},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!1);}});Oa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Oa);(function(){Ob=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Ob?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});Ld=function(n,l){var r,L,I;r=l.scheme;L=l.authdata;if(!r||!L)throw new ia(h.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(l));if(!Oa[r])throw new wb(h.UNIDENTIFIED_ENTITYAUTH_SCHEME,r);I=n.getEntityAuthenticationFactory(r);if(!I)throw new wb(h.ENTITYAUTH_FACTORY_NOT_FOUND,r);return I.createData(n,L);};}());Cc=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,n){},getCryptoContext:function(h,n){}});(function(){mb=Ob.extend({init:function Ha(h){Ha.base.call(this,Oa.MGK);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function Ja(h){return this===h?!0:h instanceof mb?Ja.base.call(this,this,h)&&this.identity==h.identity:!1;}});Md=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new mb(l);};}());Oe=Cc.extend({init:function Ha(h){Ha.base.call(this,Oa.MGK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Md(n);},getCryptoContext:function(n,l){if(!(l instanceof mb))throw new fa("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.identity!=this.localIdentity)throw new wb(h.ENTITY_NOT_FOUND,"mgk "+l.identity).setEntity(l);return new ac();}});(function(){sb=Ob.extend({init:function Ja(h){Ja.base.call(this,Oa.PSK);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function L(h){return this===h?!0:h instanceof sb?L.base.call(this,this,h)&&this.identity==h.identity:!1;}});Nd=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new sb(l);};}());Od=Cc.extend({init:function Ja(h){Ja.base.call(this,Oa.PSK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Nd(n);},getCryptoContext:function(n,l){if(!(l instanceof sb))throw new fa("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.getIdentity()!=this.localIdentity)throw new wb(h.ENTITY_NOT_FOUND,"psk "+l.identity).setEntity(l);return new ac();}});(function(){Dc=Ob.extend({init:function L(h,n){L.base.call(this,Oa.RSA);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;h.pubkeyid=this.publicKeyId;return h;},equals:function I(h){return this===h?!0:h instanceof Dc?I.base.call(this,this,h)&&this.identity==h.identity&&this.publicKeyId==h.publicKeyId:!1;}});Pd=function(n){var l,z;l=n.identity;z=n.pubkeyid;if(!l||"string"!==typeof l||!z||"string"!==typeof z)throw new ia(h.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Dc(l,z);};}());Pe=Cc.extend({init:function L(h){L.base.call(this,Oa.RSA);Object.defineProperties(this,{store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Pd(n);},getCryptoContext:function(n,l){var w,z,D;if(!(l instanceof Dc))throw new fa("Incorrect authentication data type "+l+".");w=l.identity;z=l.publicKeyId;D=this.store.getPublicKey(z);if(!D)throw new wb(h.RSA_PUBLICKEY_NOT_FOUND,z).setEntity(l);return new zc(n,w,null,D,Ac.SIGN_VERIFY);}});(function(){gc=Ob.extend({init:function I(h){I.base.call(this,Oa.NONE);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function w(h){return this===h?!0:h instanceof gc?w.base.call(this,this,h)&&this.identity==h.identity:!1;}});Qd=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new gc(l);};}());Me=Cc.extend({init:function I(){I.base.call(this,Oa.NONE);},createData:function(h,n){return Qd(n);},getCryptoContext:function(h,n){if(!(n instanceof gc))throw new fa("Incorrect authentication data type "+JSON.stringify(n)+".");return new ac();}});Qe=oa.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(h,n){if(!(n instanceof yc))throw new fa("Incorrect key data type "+n+".");this.rsaKeys[h]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(h){delete this.rsaKeys[h];},getPublicKey:function(h){return this.rsaKeys[h];}});fd=oa.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){}});Ec=oa.Class.create({abort:function(){},close:function(h,n){},write:function(h,n,l,D,J){},flush:function(h,n){}});Re=oa.Class.create({init:function(h){Object.defineProperties(this,{_data:{value:h,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Wa("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(h,n,l){r(l,function(){var n;if(this._closed)throw new Wa("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==h&&(h=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+h);this._currentPosition+=n.length;return n;},this);}});Se=oa.Class.create({init:function(){var h;h={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},abort:function(){},close:function(h,n){this._closed=!0;n.result(!0);},write:function(h,n,l,D,J){r(J,function(){var v;if(this._closed)throw new Wa("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=h.subarray(n,l);this._buffered.push(v);return v.length;},this);},flush:function(h,n){var l,w;for(;0<this._buffered.length;){l=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+l.length);w.set(this._result);w.set(l,this._result.length);this._result=w;}else this._result=new Uint8Array(l);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Te=oa.Class.create({getResponse:function(h,n,l){}});(function(){var h,n;h=Ec.extend({init:function(h,n){var l;l={_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Se(),writable:!1,enumerable:!1,configurable:!1},_response:{value:la,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new hc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(h){this._timeout=h;},getResponse:function(h,n){var l;l=this;this._responseQueue.poll(h,{result:function(h){r(n,function(){h&&this._responseQueue.add(h);return h;},l);},timeout:function(){r(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},l);},error:function(h){r(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw h;},l);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(h,n){var l;l=this;r(n,function(){var h;if(this._response)return!0;h=this._buffer.toByteArray();0<h.length&&(this._abortToken=this._httpLocation.getResponse({body:h},this._timeout,{result:function(h){l._response={response:h};l._responseQueue.add(l._response);},timeout:function(){l._response={isTimeout:!0};l._responseQueue.add(l._response);},error:function(h){l._response={isError:!0,error:h};l._responseQueue.add(l._response);}}));return!0;},this);},write:function(h,n,l,v,E){r(E,function(){if(this._response)throw new Wa("HttpOutputStream already closed.");this._buffer.write(h,n,l,v,E);},this);},flush:function(h,n){r(n,function(){if(this._response)return!0;this._buffer.flush(h,n);},this);}});n=fd.extend({init:function(h){Object.defineProperties(this,{_out:{value:h,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:la,writable:!0,enumerable:!1,configurable:!1},_exception:{value:la,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:la,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(h,n,l){var E;function v(v){r(l,function(){if(!v)return new Uint8Array(0);this._out.getResponse(n,{result:function(v){r(l,function(){var w;if(v.isTimeout)this._timedout=!0,l.timeout();else{if(v.isError)throw this._exception=v.error||new Wa("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Wa("Missing HTTP response."),this._exception;v.response.json!==la&&(this._json=v.response.json,this.getJSON=function(){return E._json;});w=v.response.content||Oc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Re(w);this._buffer.read(h,n,l);}},E);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},E);}E=this;r(l,function(){if(this._exception)throw this._exception;if(this._timedout)l.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(h,n,l):this._out.close(n,{result:function(h){v(h);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},E);}});Ad=oa.Class.create({init:function(h,n){Object.defineProperties(this,{_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(h){this._timeout=h;},openConnection:function(){var l;l=new h(this._httpLocation,this._timeout);return{input:new n(l),output:l};}});}());(function(){var h,n;h=Ec.extend({init:function(){var h;h={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setTimeout:function(){},getResponse:function(h,n){n.result({success:!1,content:null,errorHttpCode:la,errorSubCode:la});},abort:function(){},close:function(h,n){n.result(!0);},write:function(h,n,l,v,E){var w,z;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=h.subarray(n,l);z=new Uint8Array(this._buffer.length+w.length);z.set(this._buffer);z.set(w,this._buffer.length);this._buffer=z;E.result(w.length);}catch(Aa){E.error(Aa);}},flush:function(h,n){n.result(!0);},request:function(){return this._buffer;}});n=fd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){l.result(new Uint8Array(16));}});Bd=oa.Class.create({init:function(){var l;l={output:{value:new h(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Nc(this.output.request());}});}());Rd=function(h,n,l){function w(h){var n,l;h=new Ue(Va(h,"utf-8"));n=[];for(l=h.nextValue();l!==la;)n.push(l),l=h.nextValue();return n;}(function(h,n,E){h.read(-1,n,{result:function(h){h&&h.length?E(null,h):E(null,null);},timeout:function(){l.timeout();},error:function(h){E(h,null);}});}(h,n,function(n,v){n?l.error(n):v?h.getJSON!==la&&"function"===typeof h.getJSON?l.result(h.getJSON()):l.result(w(v)):l.result(null);}));};jb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(jb);(function(){ic=oa.Class.create({init:function(h){Object.defineProperties(this,{keyExchangeScheme:{value:h,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof ic?this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Sd=function(l,w,z){n(z,function(){var n,r,v;n=w.scheme;r=w.keydata;if(!n||!r||"object"!==typeof r)throw new ia(h.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!jb[n])throw new Pa(h.UNIDENTIFIED_KEYX_SCHEME,n);v=l.getKeyExchangeFactory(n);if(!v)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,n);v.createRequestData(l,r,z);});};}());(function(){jc=oa.Class.create({init:function(h,n){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.mastertoken=this.masterToken;h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof jc?this.masterToken.equals(h.masterToken)&&this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Td=function(l,w,z){n(z,function(){var r,J,v;r=w.mastertoken;J=w.scheme;v=w.keydata;if(!J||!r||"object"!==typeof r||!v||"object"!==typeof v)throw new ia(h.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!jb[J])throw new Pa(h.UNIDENTIFIED_KEYX_SCHEME,J);Rb(l,r,{result:function(E){n(z,function(){var n;n=l.getKeyExchangeFactory(J);if(!n)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,J);return n.createResponseData(l,E,v);});},error:function(h){z.error(h);}});});};}());(function(){var l;l=oa.Class.create({init:function(h,n){Object.defineProperties(this,{keyResponseData:{value:h,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});nb=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createRequestData:function(h,n,l){},createResponseData:function(h,n,l){},generateResponse:function(h,n,l,r){},getCryptoContext:function(h,n,l,r,v){},generateSessionKeys:function(l,z){n(z,function(){var n,w;n=new Uint8Array(16);w=new Uint8Array(32);l.getRandom().nextBytes(n);l.getRandom().nextBytes(w);yb(n,qb,Gb,{result:function(n){yb(w,rb,Qb,{result:function(h){z.result({encryptionKey:n,hmacKey:h});},error:function(n){z.error(new Q(h.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){z.error(new Q(h.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(h,n,l){yb(h,qb,Gb,{result:function(h){yb(n,rb,Qb,{result:function(n){l.result({encryptionKey:h,hmacKey:n});},error:function(h){l.error(h);}});},error:function(h){l.error(h);}});}});nb.KeyExchangeData=l;}());(function(){var w,z,r;function l(l,v,E,z,r){n(r,function(){var aa,J;switch(v){case w.PSK:aa=new sb(z),J=l.getEntityAuthenticationFactory(Oa.PSK);if(!J)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);aa=J.getCryptoContext(l,aa);return new Ab(l,Bb.A128KW,ub,la);case w.MGK:aa=new mb(z);J=l.getEntityAuthenticationFactory(Oa.MGK);if(!J)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);aa=J.getCryptoContext(l,aa);return new Ab(l,Bb.A128KW,ub,la);case w.WRAP:aa=l.getMslCryptoContext();aa.unwrap(E,xb,Hb,{result:function(h){n(r,function(){return new Ab(l,Bb.A128KW,ub,h);});},error:r.error});break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=gd=ic.extend({init:function v(h,n){v.base.call(this,jb.JWE_LADDER);switch(h){case w.WRAP:if(!n)throw new fa("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=qa(this.wrapdata));return h;},equals:function E(h){return h===this?!0:h instanceof gd?E.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.wrapdata,h.wrapdata):!1;},uniqueKey:function Ca(){var h;h=Ca.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+fb(this.wrapdata));return h;}});r=Vd=jc.extend({init:function aa(h,n,l,w,A){aa.base.call(this,h,jb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:A,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=qa(this.wrapKey);h.wrapdata=qa(this.wrapdata);h.encryptionkey=qa(this.encryptionKey);h.hmackey=qa(this.hmacKey);return h;},equals:function Aa(h){return this===h?!0:h instanceof Vd?Aa.base.call(this,h)&&$a(this.wrapKey,h.wrapKey)&&$a(this.wrapdata,h.wrapdata)&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Ud=nb.extend({init:function Z(h){Z.base.call(this,jb.JWE_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,A){n(A,function(){var n,l,A;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{A=va(l);}catch(da){throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==A||0==A.length)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:A=null;}return new z(n,A);});},createResponseData:function(n,l,w){var A,z,Z,D,ra,I,F;n=w.wrapkey;A=w.wrapdata;z=w.encryptionkey;Z=w.hmackey;if(!(n&&"string"===typeof n&&A&&"string"===typeof A&&z&&"string"===typeof z&&Z)||"string"!==typeof Z)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{D=va(n);ra=va(A);}catch(ka){throw new Q(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ka);}try{I=va(z);}catch(ka){throw new Q(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ka);}try{F=va(Z);}catch(ka){throw new Q(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ka);}return new r(l,D,ra,I,F);},generateResponse:function(w,D,A,W){var Na,ta;function Z(h,l,A){Na.generateSessionKeys(w,{result:function(w){n(W,function(){ra(h,l,A,w.encryptionKey,w.hmacKey);},Na);},error:function(h){n(W,function(){h instanceof F&&h.setEntity(ta);throw h;});}});}function ra(h,A,z,r,Z){n(W,function(){l(w,D.mechanism,D.wrapdata,h,{result:function(h){h.wrap(A,{result:function(g){I(A,z,r,Z,g);},error:function(g){n(W,function(){g instanceof F&&g.setEntity(ta);throw g;});}});},error:function(h){n(W,function(){h instanceof F&&h.setEntity(ta);throw h;});}});},Na);}function I(h,l,A,z,r){n(W,function(){var ka;ka=new Ab(w,Bb.A128KW,ub,h);ka.wrap(A,{result:function(g){ka.wrap(z,{result:function(c){ua(l,r,A,g,z,c);},error:function(c){n(W,function(){c instanceof F&&c.setEntity(ta);throw c;});}});},error:function(g){n(W,function(){g instanceof F&&g.setEntity(ta);throw g;});}});},Na);}function ua(h,l,z,Z,D,ra){n(W,function(){var g;g=w.getTokenFactory();ta?g.renewMasterToken(w,ta,z,D,{result:function(c){n(W,function(){var a,b;a=new hb(w,c);b=new r(c,l,h,Z,ra);return new nb.KeyExchangeData(b,a,W);},Na);},error:function(c){n(W,function(){c instanceof F&&c.setEntity(ta);throw c;});}}):g.createMasterToken(w,A,z,D,{result:function(c){n(W,function(){var a,b;a=new hb(w,c);b=new r(c,l,h,Z,ra);return new nb.KeyExchangeData(b,a,W);},Na);},error:W.error});},Na);}Na=this;n(W,function(){var l,r;if(!(D instanceof z))throw new fa("Key request data "+JSON.stringify(D)+" was not created by this factory.");l=A;if(A instanceof gb){if(!A.isVerified())throw new Pb(h.MASTERTOKEN_UNTRUSTED,A);ta=A;l=A.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);yb(r,xb,Hb,{result:function(h){n(W,function(){w.getMslCryptoContext().wrap(h,{result:function(n){Z(l,h,n);},error:function(h){n(W,function(){h instanceof F&&h.setEntity(ta);throw h;},Na);}});},Na);},error:function(l){n(W,function(){throw new Q(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ta);},Na);}});},Na);},getCryptoContext:function(l,D,A,W,xa){var ra;function Z(h,w,A,z,r){n(xa,function(){var ka;ka=new Ab(l,Bb.A128KW,ub,r);ka.unwrap(w.encryptionKey,qb,Gb,{result:function(r){ka.unwrap(w.hmacKey,rb,Qb,{result:function(h){n(xa,function(){this.repository.addCryptoContext(w.wrapdata,ka);this.repository.removeCryptoContext(A);return new hb(l,w.masterToken,z,r,h);},ra);},error:function(l){n(xa,function(){l instanceof F&&l.setEntity(h);throw l;});}});},error:function(l){n(xa,function(){l instanceof F&&l.setEntity(h);throw l;});}});},ra);}ra=this;n(xa,function(){var W,ga;if(!(D instanceof z))throw new fa("Key request data "+JSON.stringify(D)+" was not created by this factory.");if(!(A instanceof r))throw new fa("Key response data "+JSON.stringify(A)+" was not created by this factory.");W=D.mechanism;ga=D.wrapdata;l.getEntityAuthenticationData(null,{result:function(z){n(xa,function(){var r,D,ra;r=z.getIdentity();switch(W){case w.PSK:D=new sb(r);ra=l.getEntityAuthenticationFactory(Oa.PSK);if(!ra)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,W).setEntity(z);D=ra.getCryptoContext(l,D);D=new Ab(l,Bb.A128KW,ub,la);break;case w.MGK:D=new mb(r);ra=l.getEntityAuthenticationFactory(Oa.MGK);if(!ra)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,W).setEntity(z);D=ra.getCryptoContext(l,D);D=new Ab(l,Bb.A128KW,ub,D.wrapKey);break;case w.WRAP:D=this.repository.getCryptoContext(ga);if(!D)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,qa(ga)).setEntity(z);break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,W).setEntity(z);}D.unwrap(A.wrapKey,xb,Hb,{result:function(h){Z(z,A,ga,r,h);},error:function(h){n(xa,function(){h instanceof F&&h.setEntity(z);throw h;});}});},ra);},error:xa.error});},ra);}});}());(function(){var w,z,r,J;function l(l,E,z,r,D){n(D,function(){var v,aa;switch(E){case w.PSK:v=new sb(r),aa=l.getEntityAuthenticationFactory(Oa.PSK);if(!aa)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,E);v=aa.getCryptoContext(l,v);return new J(la);case w.MGK:v=new mb(r);aa=l.getEntityAuthenticationFactory(Oa.MGK);if(!aa)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,E);v=aa.getCryptoContext(l,v);return new J(la);case w.WRAP:v=l.getMslCryptoContext();v.unwrap(z,xb,Hb,{result:function(h){n(D,function(){return new J(h);});},error:D.error});break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,E);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=Fc=ic.extend({init:function E(h,n){E.base.call(this,jb.JWK_LADDER);switch(h){case w.WRAP:if(!n)throw new fa("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=qa(this.wrapdata));return h;},equals:function Ca(h){return h===this?!0:h instanceof Fc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.wrapdata,h.wrapdata):!1;},uniqueKey:function aa(){var h;h=aa.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+fb(this.wrapdata));return h;}});r=Wd=jc.extend({init:function Aa(h,n,l,w,z){Aa.base.call(this,h,jb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=qa(this.wrapKey);h.wrapdata=qa(this.wrapdata);h.encryptionkey=qa(this.encryptionKey);h.hmackey=qa(this.hmacKey);return h;},equals:function wa(h){return this===h?!0:h instanceof Wd?wa.base.call(this,h)&&$a(this.wrapKey,h.wrapKey)&&$a(this.wrapdata,h.wrapdata)&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});J=$b.extend({init:function(h){h&&h.rawKey&&(h=h.rawKey);Object.defineProperties(this,{_wrapKey:{value:h,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new Q(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new Q(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,w){n(w,function(){Ia.wrapKey("jwk",l.rawKey,this._wrapKey,xb).then(function(h){w.result(h);},function(n){w.error(new Q(h.WRAP_ERROR));});},this);},unwrap:function(l,w,z,r){function A(l){n(r,function(){switch(l.type){case"secret":Xb(l,r);break;case"public":Mb(l,r);break;case"private":Yb(l,r);break;default:throw new Q(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(r,function(){Ia.unwrapKey("jwk",l,this._wrapKey,xb,w,!1,z).then(function(h){A(h);},function(n){r.error(new Q(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new Q(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,w){w.error(new Q(h.VERIFY_NOT_SUPPORTED));}});id=nb.extend({init:function ra(h){ra.base.call(this,jb.JWK_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,J){n(J,function(){var n,l,A;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{A=va(l);}catch(ua){throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==A||0==A.length)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:A=null;}return new z(n,A);});},createResponseData:function(n,l,w){var z,A,J,D,W,ra,ka;n=w.wrapkey;z=w.wrapdata;A=w.encryptionkey;J=w.hmackey;if(!(n&&"string"===typeof n&&z&&"string"===typeof z&&A&&"string"===typeof A&&J)||"string"!==typeof J)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{D=va(n);W=va(z);}catch(vb){throw new Q(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),vb);}try{ra=va(A);}catch(vb){throw new Q(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),vb);}try{ka=va(J);}catch(vb){throw new Q(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),vb);}return new r(l,D,W,ra,ka);},generateResponse:function(w,A,D,I){var ta,ka;function W(h,l,z){ta.generateSessionKeys(w,{result:function(w){n(I,function(){ra(h,l,z,w.encryptionKey,w.hmacKey);},ta);},error:function(h){n(I,function(){h instanceof F&&h.setEntity(ka);throw h;});}});}function ra(h,z,r,D,J){n(I,function(){l(w,A.mechanism,A.wrapdata,h,{result:function(g){g.wrap(z,{result:function(c){xa(z,r,D,J,c);},error:function(c){n(I,function(){c instanceof F&&c.setEntity(ka);throw c;});}});},error:function(g){n(I,function(){g instanceof F&&g.setEntity(ka);throw g;});}});},ta);}function xa(h,l,w,z,r){n(I,function(){var g;g=new J(h);g.wrap(w,{result:function(c){g.wrap(z,{result:function(a){Na(l,r,w,c,z,a);},error:function(a){n(I,function(){a instanceof F&&a.setEntity(ka);throw a;});}});},error:function(c){n(I,function(){c instanceof F&&c.setEntity(ka);throw c;});}});},ta);}function Na(h,l,z,A,J,g){n(I,function(){var c;c=w.getTokenFactory();ka?c.renewMasterToken(w,ka,z,J,{result:function(a){n(I,function(){var b,f;b=new hb(w,a);f=new r(a,l,h,A,g);return new nb.KeyExchangeData(f,b,I);},ta);},error:function(a){n(I,function(){a instanceof F&&a.setEntity(ka);throw a;});}}):c.createMasterToken(w,D,z,J,{result:function(a){n(I,function(){var b,f;b=new hb(w,a);f=new r(a,l,h,A,g);return new nb.KeyExchangeData(f,b,I);},ta);},error:I.error});},ta);}ta=this;n(I,function(){var l,r;if(!(A instanceof z))throw new fa("Key request data "+JSON.stringify(A)+" was not created by this factory.");l=D;if(D instanceof gb){if(!D.isVerified())throw new Pb(h.MASTERTOKEN_UNTRUSTED,D);ka=D;l=D.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);yb(r,xb,Hb,{result:function(h){n(I,function(){w.getMslCryptoContext().wrap(h,{result:function(n){W(l,h,n);},error:function(h){n(I,function(){h instanceof F&&h.setEntity(ka);throw h;},ta);}});},ta);},error:function(l){n(I,function(){throw new Q(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ka);},ta);}});},ta);},getCryptoContext:function(l,A,D,I,ga){var ra;function W(h,w,z,r,A){n(ga,function(){var ka;ka=new J(A);ka.unwrap(w.encryptionKey,qb,Gb,{result:function(A){ka.unwrap(w.hmacKey,rb,Qb,{result:function(h){n(ga,function(){this.repository.addCryptoContext(w.wrapdata,ka);this.repository.removeCryptoContext(z);return new hb(l,w.masterToken,r,A,h);},ra);},error:function(l){n(ga,function(){l instanceof F&&l.setEntity(h);throw l;});}});},error:function(l){n(ga,function(){l instanceof F&&l.setEntity(h);throw l;});}});},ra);}ra=this;n(ga,function(){var I,xa;if(!(A instanceof z))throw new fa("Key request data "+JSON.stringify(A)+" was not created by this factory.");if(!(D instanceof r))throw new fa("Key response data "+JSON.stringify(D)+" was not created by this factory.");I=A.mechanism;xa=A.wrapdata;l.getEntityAuthenticationData(null,{result:function(z){n(ga,function(){var r,A,ka;r=z.getIdentity();switch(I){case w.PSK:A=new sb(r);ka=l.getEntityAuthenticationFactory(Oa.PSK);if(!ka)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(z);A=ka.getCryptoContext(l,A);A=new J(A.wrapKey);break;case w.MGK:A=new mb(r);ka=l.getEntityAuthenticationFactory(Oa.MGK);if(!ka)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(z);A=ka.getCryptoContext(l,A);A=new J(A.wrapKey);break;case w.WRAP:A=this.repository.getCryptoContext(xa);if(!A)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,qa(xa)).setEntity(z);break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(z);}A.unwrap(D.wrapKey,xb,Hb,{result:function(h){W(z,D,xa,r,h);},error:function(h){n(ga,function(){h instanceof F&&h.setEntity(z);throw h;});}});},ra);},error:ga.error});},ra);}});}());Ve=oa.Class.create({addCryptoContext:function(h,l){},getCryptoContext:function(h){},removeCryptoContext:function(h){}});(function(){var w,z,r,J;function l(l,n,z,r,D){switch(z){case w.JWE_RSA:case w.JWEJS_RSA:return new Ab(l,Bb.RSA_OAEP,ub,r,D);case w.JWK_RSA:return new zc(l,n,r,D,Ac.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new zc(l,n,r,D,Ac.WRAP_UNWRAP_PKCS1);default:throw new Q(h.UNSUPPORTED_KEYX_MECHANISM,z);}}w=Gc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};z=Tc=ic.extend({init:function E(h,l,n,w){E.base.call(this,jb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:h,writable:!1,configurable:!1},mechanism:{value:l,writable:!1,configurable:!1},publicKey:{value:n,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.mechanism=this.mechanism;h.publickey=qa(this.publicKey.getEncoded());return h;},equals:function Ca(h){var l;if(h===this)return!0;if(!(h instanceof Tc))return!1;l=this.privateKey===h.privateKey||this.privateKey&&h.privateKey&&$a(this.privateKey.getEncoded(),h.privateKey.getEncoded());return Ca.base.call(this,h)&&this.keyPairId==h.keyPairId&&this.mechanism==h.mechanism&&$a(this.publicKey.getEncoded(),h.publicKey.getEncoded())&&l;},uniqueKey:function aa(){var h,l;h=this.publicKey.getEncoded();l=this.privateKey&&this.privateKey.getEncoded();h=aa.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+fb(h);l&&(h+=":"+fb(l));return h;}});r=function(l,r){n(r,function(){var n,D,J,A;n=l.keypairid;D=l.mechanism;J=l.publickey;if(!n||"string"!==typeof n||!D||!J||"string"!==typeof J)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(l));if(!w[D])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,D);try{A=va(J);switch(D){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:Yc(A,xc,Hb,{result:function(h){r.result(new z(n,D,h,null));},error:function(h){r.error(h);}});break;case w.JWK_RSAES:Yc(A,Wc,Hb,{result:function(h){r.result(new z(n,D,h,null));},error:function(h){r.error(h);}});break;default:throw new Q(h.UNSUPPORTED_KEYX_MECHANISM,D);}}catch(W){if(!(W instanceof F))throw new Q(h.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(l),W);throw W;}});};J=Xd=jc.extend({init:function Aa(h,l,n,w){Aa.base.call(this,h,jb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.encryptionkey=qa(this.encryptionKey);h.hmackey=qa(this.hmacKey);return h;},equals:function wa(h){return this===h?!0:h instanceof Xd?wa.base.call(this,h)&&this.keyPairId==h.keyPairId&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+this.keyPairId+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Cd=nb.extend({init:function ra(){ra.base.call(this,jb.ASYMMETRIC_WRAPPED);},createRequestData:function(h,l,n){r(l,n);},createResponseData:function(l,n,w){var z,r,A,D;l=w.keypairid;z=w.encryptionkey;r=w.hmackey;if(!l||"string"!==typeof l||!z||"string"!==typeof z||!r||"string"!==typeof r)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{A=va(z);}catch(Na){throw new Q(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Na);}try{D=va(r);}catch(Na){throw new Q(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Na);}return new J(n,l,A,D);},generateResponse:function(h,w,r,D){var W;function A(z,A){n(D,function(){var ka;ka=l(h,w.keyPairId,w.mechanism,null,w.publicKey);ka.wrap(z,{result:function(h){n(D,function(){ka.wrap(A,{result:function(l){I(z,h,A,l);},error:function(h){n(D,function(){h instanceof F&&r instanceof gb&&h.setEntity(r);throw h;},W);}});},W);},error:function(h){n(D,function(){h instanceof F&&r instanceof gb&&h.setEntity(r);throw h;},W);}});},W);}function I(l,z,A,I){n(D,function(){var ka;ka=h.getTokenFactory();r instanceof gb?ka.renewMasterToken(h,r,l,A,{result:function(l){n(D,function(){var n,r;n=new hb(h,l);r=new J(l,w.keyPairId,z,I);return new nb.KeyExchangeData(r,n,D);},W);},error:function(h){n(D,function(){h instanceof F&&h.setEntity(r);throw h;},W);}}):ka.createMasterToken(h,r,l,A,{result:function(l){n(D,function(){var n,r;n=new hb(h,l);r=new J(l,w.keyPairId,z,I);return new nb.KeyExchangeData(r,n,D);},W);},error:D.error});},W);}W=this;n(D,function(){if(!(w instanceof z))throw new fa("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(h,{result:function(h){A(h.encryptionKey,h.hmacKey);},error:function(h){n(D,function(){h instanceof F&&r instanceof gb&&h.setEntity(r);throw h;},W);}});},W);},getCryptoContext:function(w,r,D,I,ga){var A;A=this;n(ga,function(){var W,ra,da;if(!(r instanceof z))throw new fa("Key request data "+JSON.stringify(r)+" was not created by this factory.");if(!(D instanceof J))throw new fa("Key response data "+JSON.stringify(D)+" was not created by this factory.");W=r.keyPairId;ra=D.keyPairId;if(W!=ra)throw new Pa(h.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+W+"; response "+ra).setEntity(I);ra=r.privateKey;if(!ra)throw new Pa(h.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(I);da=l(w,W,r.mechanism,ra,null);da.unwrap(D.encryptionKey,qb,Gb,{result:function(h){da.unwrap(D.hmacKey,rb,Qb,{result:function(l){w.getEntityAuthenticationData(null,{result:function(r){n(ga,function(){var n;n=r.getIdentity();return new hb(w,D.masterToken,n,h,l);},A);},error:function(h){n(ga,function(){h instanceof F&&h.setEntity(I);throw h;},A);}});},error:function(h){n(ga,function(){h instanceof F&&h.setEntity(I);throw h;},A);}});},error:function(h){n(ga,function(){h instanceof F&&h.setEntity(I);throw h;},A);}});},A);}});}());Ue=oa.Class.create({init:function(h){var l,n,r,J,v,E,I,aa;l=ab.parser();n=[];r=[];I=0;aa=!1;l.onerror=function(h){aa||(aa=!0,l.end());};l.onopenobject=function(h){var l;if(J)J[E]={},r.push(J),J=J[E];else if(v){l={};r.push(v);v.push(l);J=l;v=la;}else J={};E=h;};l.oncloseobject=function(){var h;h=r.pop();h?"object"===typeof h?J=h:(J=la,v=h):(n.push(J),I=l.index,J=la);};l.onopenarray=function(){var h;if(J)J[E]=[],r.push(J),v=J[E],J=la;else if(v){h=[];r.push(v);v.push(h);v=h;}else v=[];};l.onclosearray=function(){var h;h=r.pop();h?"object"===typeof h?(J=h,v=la):v=h:(n.push(v),I=l.index,v=la);};l.onkey=function(h){E=h;};l.onvalue=function(h){J?J[E]=h:v?v.push(h):(n.push(h),I=l.index);};l.write(h).close();Object.defineProperties(this,{_values:{value:n,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:I,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?la:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var l,w,r,D,J;l=jd="entityauthdata";w=Zd="mastertoken";r=$d="headerdata";D=ae="errordata";J=kd="signature";Yd=function(v,E,z,aa){n(aa,function(){var n,I,Z,ra,A,W;n=E[l];I=E[w];Z=E[J];if(n&&"object"!==typeof n||I&&"object"!==typeof I||"string"!==typeof Z)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));try{ra=va(Z);}catch(xa){throw new Ga(h.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(E),xa);}A=null;n&&(A=Ld(v,n));W=E[r];if(W!=la&&null!=W){if("string"!==typeof W)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));I?Rb(v,I,{result:function(h){ld(v,W,A,h,ra,z,aa);},error:function(h){aa.error(h);}}):ld(v,W,A,null,ra,z,aa);}else if(n=E[D],n!=la&&null!=n){if("string"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));be(v,n,A,ra,aa);}else throw new ia(h.JSON_PARSE_ERROR,JSON.stringify(E));});};}());(function(){function r(h,l){this.errordata=h;this.signature=l;}Lb=oa.Class.create({init:function(l,r,D,J,v,E,I,aa,Aa,wa){var w;w=this;n(wa,function(){var z,A;0>E&&(E=-1);if(0>J||J>La)throw new fa("Message ID "+J+" is out of range.");if(!r)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);if(Aa)return Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:D,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:E,writable:!1,configurable:!1},errorMessage:{value:I,writable:!1,configurable:!1},userMessage:{value:aa,writable:!1,configurable:!1},errordata:{value:Aa.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Aa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;z={};D&&(z.recipient=D);z.messageid=J;z.errorcode=v;0<E&&(z.internalcode=E);I&&(z.errormsg=I);aa&&(z.usermsg=aa);try{A=l.getEntityAuthenticationFactory(r.scheme).getCryptoContext(l,r);}catch(W){throw W instanceof F&&(W.setEntity(r),W.setMessageId(J)),W;}z=Sa(JSON.stringify(z),Ka);A.encrypt(z,{result:function(h){n(wa,function(){A.sign(h,{result:function(l){n(wa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:D,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:E,writable:!1,configurable:!1},errorMessage:{value:I,writable:!1,configurable:!1},userMessage:{value:aa,writable:!1,configurable:!1},errordata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(wa,function(){h instanceof F&&(h.setEntity(r),h.setMessageId(J));throw h;},w);}});},w);},error:function(h){n(wa,function(){h instanceof F&&(h.setEntity(r),h.setMessageId(J));throw h;},w);}});},w);},toJSON:function(){var h;h={};h[jd]=this.entityAuthenticationData;h[ae]=qa(this.errordata);h[kd]=qa(this.signature);return h;}});ce=function(h,l,n,r,v,E,I,aa,Aa){new Lb(h,l,n,r,v,E,I,aa,null,Aa);};be=function(w,z,D,J,v){n(v,function(){var E,I,aa;if(!D)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);try{I=D.scheme;aa=w.getEntityAuthenticationFactory(I);if(!aa)throw new wb(h.ENTITYAUTH_FACTORY_NOT_FOUND,I);E=aa.getCryptoContext(w,D);}catch(Aa){throw Aa instanceof F&&Aa.setEntity(D),Aa;}try{z=va(z);}catch(Aa){throw new Ga(h.HEADER_DATA_INVALID,z,Aa).setEntity(D);}if(!z||0==z.length)throw new Ga(h.HEADER_DATA_MISSING,z).setEntity(D);E.verify(z,J,{result:function(I){n(v,function(){if(!I)throw new Q(h.MESSAGE_VERIFICATION_FAILED).setEntity(D);E.decrypt(z,{result:function(E){n(v,function(){var n,I,A,aa,Aa,ga,da,Ca;n=Va(E,Ka);try{I=JSON.parse(n);}catch(ta){if(ta instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"errordata "+n,ta).setEntity(D);throw ta;}A=I.recipient!==la?I.recipient:null;aa=parseInt(I.messageid);Aa=parseInt(I.errorcode);ga=parseInt(I.internalcode);da=I.errormsg;Ca=I.usermsg;if(A&&"string"!==typeof A||!aa||aa!=aa||!Aa||Aa!=Aa||I.internalcode&&ga!=ga||da&&"string"!==typeof da||Ca&&"string"!==typeof Ca)throw new ia(h.JSON_PARSE_ERROR,"errordata "+n).setEntity(D);if(0>aa||aa>La)throw new Ga(h.MESSAGE_ID_OUT_OF_RANGE,"errordata "+n).setEntity(D);I=!1;for(var F in l)if(l[F]==Aa){I=!0;break;}I||(Aa=l.FAIL);if(ga){if(0>ga)throw new Ga(h.INTERNAL_CODE_NEGATIVE,"errordata "+n).setEntity(D).setMessageId(aa);}else ga=-1;n=new r(z,J);new Lb(w,D,A,aa,Aa,ga,da,Ca,n,v);});},error:function(h){n(v,function(){h instanceof F&&h.setEntity(D);throw h;});}});});},error:function(h){n(v,function(){h instanceof F&&h.setEntity(D);throw h;});}});});};}());We=oa.Class.create({getUserMessage:function(h,l){}});(function(){md=function(h,l){var n,w;if(!h||!l)return null;n=h.compressionAlgorithms.filter(function(h){for(var n=0;n<l.compressionAlgorithms.length;++n)if(h==l.compressionAlgorithms[n])return!0;return!1;});w=h.languages.filter(function(h){for(var n=0;n<l.languages.length;++n)if(h==l.languages[n])return!0;return!1;});return new kc(n,w);};kc=oa.Class.create({init:function(h,l){h||(h=[]);l||(l=[]);h.sort();Object.defineProperties(this,{compressionAlgorithms:{value:h,writable:!1,enumerable:!0,configurable:!1},languages:{value:l,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var h;h={};h.compressionalgos=this.compressionAlgorithms;h.languages=this.languages;return h;},equals:function(h){return this===h?!0:h instanceof kc?vd(this.compressionAlgorithms,h.compressionAlgorithms)&&vd(this.languages,h.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});de=function(l){var n,r,J;n=l.compressionalgos;r=l.languages;if(n&&!(n instanceof Array)||r&&!(r instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(l));l=[];for(var D=0;n&&D<n.length;++D){J=n[D];Nb[J]&&l.push(J);}return new kc(l,r);};}());(function(){var wa,Z;function l(h,l,n,v,w){this.customer=h;this.sender=l;this.messageCryptoContext=n;this.headerdata=v;this.signature=w;}function w(h,l,n,v,w,r,E,z,D,ka,J,aa,I,Z,Aa,g,c,a,b,f){return{cryptoContext:{value:l,writable:!1,configurable:!1},customer:{value:n,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:r,writable:!1,configurable:!1},messageId:{value:E,writable:!1,configurable:!1},nonReplayableId:{value:g,writable:!1,configurable:!1},keyRequestData:{value:z,writable:!1,configurable:!1},keyResponseData:{value:D,writable:!1,configurable:!1},userAuthenticationData:{value:ka,writable:!1,configurable:!1},userIdToken:{value:J,writable:!1,configurable:!1},serviceTokens:{value:aa,writable:!1,configurable:!1},peerMasterToken:{value:I,writable:!1,configurable:!1},peerUserIdToken:{value:Z,writable:!1,configurable:!1},peerServiceTokens:{value:Aa,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:c,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}};}function r(l,n,v){var w;if(v){if(n=l.getMslStore().getCryptoContext(v))return n;if(!v.isVerified()||!v.isDecrypted())throw new Pb(h.MASTERTOKEN_UNTRUSTED,v);return new hb(l,v);}v=n.scheme;w=l.getEntityAuthenticationFactory(v);if(!w)throw new wb(h.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(l,n);}function D(l,v,w,r,E){n(E,function(){v.verify(w,r,{result:function(l){n(E,function(){if(!l)throw new Q(h.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(h){n(E,function(){return Va(h,Ka);});},error:function(h){E.error(h);}});});},error:function(h){E.error(h);}});});}function J(h,l,v){n(v,function(){if(l)Td(h,l,v);else return null;});}function v(h,l,v,w){n(w,function(){if(l)Sb(h,l,v,w);else return null;});}function E(h,l,v,w){n(w,function(){if(v)he(h,l,v,w);else return null;});}function Ca(l,v,w,r,E,z,D){var J;function A(v,D,aa){var ka,I;if(D>=v.length){ka=[];for(I in J)ka.push(J[I]);aa.result(ka);}else{ka=v[D];if("object"!==typeof ka)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+z);Hc(l,ka,w,r,E,{result:function(h){n(aa,function(){J[h.uniqueKey()]=h;A(v,D+1,aa);});},error:function(h){aa.error(h);}});}}J={};n(D,function(){if(v){if(!(v instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+z);A(v,0,D);}else return[];});}function aa(l,v,w,r,E,z){function A(l,v,w){n(w,function(){var n;n=v.peermastertoken;if(n&&"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+E);if(!n)return null;Rb(l,n,w);});}function D(l,v,w,r){n(r,function(){var n;n=v.peeruseridtoken;if(n&&"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+E);if(!n)return null;Sb(l,n,w,r);});}n(z,function(){if(!l.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};A(l,v,{result:function(h){n(z,function(){var A;A=w?w.masterToken:h;D(l,v,A,{result:function(w){n(z,function(){Ca(l,v.peerservicetokens,A,w,r,E,{result:function(l){n(z,function(){return{peerMasterToken:h,peerUserIdToken:w,peerServiceTokens:l};});},error:function(h){n(z,function(){h instanceof F&&(h.setEntity(A),h.setUser(w));throw h;});}});});},error:function(h){n(z,function(){h instanceof F&&h.setEntity(A);throw h;});}});});},error:z.error});});}function Aa(l,v,w,r){var z;function E(h,v){n(r,function(){if(v>=h.length)return z;Sd(l,h[v],{result:function(l){n(r,function(){z.push(l);E(h,v+1);});},error:function(h){r.error(h);}});});}z=[];n(r,function(){var l;l=v.keyrequestdata;if(!l)return z;if(!(l instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+w);E(l,0);});}wa=fe=oa.Class.create({init:function(h,l,n,v,w,r,E,z,D){Object.defineProperties(this,{messageId:{value:h,writable:!1,configurable:!1},nonReplayableId:{value:l,writable:!1,configurable:!1},renewable:{value:n,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:r,writable:!1,configurable:!1},userAuthData:{value:E,writable:!1,configurable:!1},userIdToken:{value:z,writable:!1,configurable:!1},serviceTokens:{value:D,writable:!1,configurable:!1}});}});Z=ge=oa.Class.create({init:function(h,l,n){Object.defineProperties(this,{peerMasterToken:{value:h,writable:!1,configurable:!1},peerUserIdToken:{value:l,writable:!1,configurable:!1},peerServiceTokens:{value:n,writable:!1,configurable:!1}});}});lc=oa.Class.create({init:function(h,l,v,E,z,D,J){var aa;function A(A){n(J,function(){var ka,I,Z,pa,ga,g,c,a,b,f,m,q,d,k,p,t,u;l=v?null:l;ka=E.nonReplayableId;I=E.renewable;Z=E.capabilities;pa=E.messageId;ga=E.keyRequestData?E.keyRequestData:[];g=E.keyResponseData;c=E.userAuthData;a=E.userIdToken;b=E.serviceTokens?E.serviceTokens:[];h.isPeerToPeer()?(f=z.peerMasterToken,m=z.peerUserIdToken,q=z.peerServiceTokens?z.peerServiceTokens:[]):(m=f=null,q=[]);if(0>pa||pa>La)throw new fa("Message ID "+pa+" is out of range.");if(!l&&!v)throw new fa("Message entity authentication data or master token must be provided.");g?h.isPeerToPeer()?(d=v,k=g.masterToken):(d=g.masterToken,k=f):(d=v,k=f);if(a&&(!d||!a.isBoundTo(d)))throw new fa("User ID token must be bound to a master token.");if(m&&(!k||!m.isBoundTo(k)))throw new fa("Peer user ID token must be bound to a peer master token.");b.forEach(function(f){if(f.isMasterTokenBound()&&(!d||!f.isBoundTo(d)))throw new fa("Master token bound service tokens must be bound to the provided master token.");if(f.isUserIdTokenBound()&&(!a||!f.isBoundTo(a)))throw new fa("User ID token bound service tokens must be bound to the provided user ID token.");},this);q.forEach(function(a){if(a.isMasterTokenBound()&&(!k||!a.isBoundTo(k)))throw new fa("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!m||!a.isBoundTo(m)))throw new fa("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(D){p=D.customer;t=D.messageCryptoContext;u=w(h,t,p,l,v,A,pa,ga,g,c,a,b,f,m,q,ka,I,Z,D.headerdata,D.signature);Object.defineProperties(this,u);return this;}p=a?a.customer:null;u={};A&&(u.sender=A);u.messageid=pa;"number"===typeof ka&&(u.nonreplayableid=ka);u.renewable=I;Z&&(u.capabilities=Z);0<ga.length&&(u.keyrequestdata=ga);g&&(u.keyresponsedata=g);c&&(u.userauthdata=c);a&&(u.useridtoken=a);0<b.length&&(u.servicetokens=b);f&&(u.peermastertoken=f);m&&(u.peeruseridtoken=m);0<q.length&&(u.peerservicetokens=q);try{t=r(h,l,v);}catch(y){throw y instanceof F&&(y.setEntity(v),y.setEntity(l),y.setUser(a),y.setUser(c),y.setMessageId(pa)),y;}u=Sa(JSON.stringify(u),Ka);t.encrypt(u,{result:function(d){n(J,function(){t.sign(d,{result:function(k){n(J,function(){var u;u=w(h,t,p,l,v,A,pa,ga,g,c,a,b,f,m,q,ka,I,Z,d,k);Object.defineProperties(this,u);return this;},aa);},error:function(d){n(J,function(){d instanceof F&&(d.setEntity(v),d.setEntity(l),d.setUser(a),d.setUser(c),d.setMessageId(pa));throw d;},aa);}});},aa);},error:function(d){n(J,function(){d instanceof F&&(d.setEntity(v),d.setEntity(l),d.setUser(a),d.setUser(c),d.setMessageId(pa));throw d;},aa);}});},aa);}aa=this;n(J,function(){D?A(D.sender):v?h.getEntityAuthenticationData(null,{result:function(h){h=h.getIdentity();A(h);},error:J.error}):A(null);},aa);},isEncrypting:function(){return this.masterToken||Qc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var h;h={};this.masterToken?h[Zd]=this.masterToken:h[jd]=this.entityAuthenticationData;h[$d]=qa(this.headerdata);h[kd]=qa(this.signature);return h;}});ee=function(h,l,n,v,w,E){new lc(h,l,n,v,w,null,E);};ld=function(w,z,I,xa,ga,da,ua){n(ua,function(){var A,W;I=xa?null:I;if(!I&&!xa)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);A=z;try{z=va(A);}catch(ka){throw new Ga(h.HEADER_DATA_INVALID,A,ka);}if(!z||0==z.length)throw new Ga(h.HEADER_DATA_MISSING,A);try{W=r(w,I,xa);}catch(ka){throw ka instanceof F&&(ka.setEntity(xa),ka.setEntity(I)),ka;}D(w,W,z,ga,{result:function(r){n(ua,function(){var A,D,ka,pa,ra;try{A=JSON.parse(r);}catch(g){if(g instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r,g).setEntity(xa).setEntity(I);throw g;}D=parseInt(A.messageid);if(!D||D!=D)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(xa).setEntity(I);if(0>D||D>La)throw new Ga(h.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+r).setEntity(xa).setEntity(I);ka=xa?A.sender:null;if(xa&&(!ka||"string"!==typeof ka))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(xa).setEntity(I).setMessageId(D);pa=A.keyresponsedata;if(pa&&"object"!==typeof pa)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(xa).setEntity(I).setMessageId(D);ra=ua;ua={result:function(g){ra.result(g);},error:function(g){g instanceof F&&(g.setEntity(xa),g.setEntity(I),g.setMessageId(D));ra.error(g);}};J(w,pa,{result:function(g){n(ua,function(){var c,a;c=!w.isPeerToPeer()&&g?g.masterToken:xa;a=A.useridtoken;if(a&&"object"!==typeof a)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r);v(w,a,c,{result:function(a){n(ua,function(){var f;f=A.userauthdata;if(f&&"object"!==typeof f)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r);E(w,c,f,{result:function(f){n(ua,function(){var b,d,k;if(f){d=f.scheme;k=w.getUserAuthenticationFactory(d);if(!k)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,d).setUser(a).setUser(f);d=xa?xa.identity:I.getIdentity();b=k.authenticate(w,d,f,a);}else b=a?a.customer:null;Ca(w,A.servicetokens,c,a,da,r,{result:function(d){n(ua,function(){var k,p,m,c;k=A.nonreplayableid!==la?parseInt(A.nonreplayableid):null;p=A.renewable;if(k!=k||"boolean"!==typeof p)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r);if(0>k||k>La)throw new Ga(h.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+r);m=null;c=A.capabilities;if(c){if("object"!==typeof c)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+r);m=de(c);}Aa(w,A,r,{result:function(t){aa(w,A,g,da,r,{result:function(c){n(ua,function(){var q,u,B,y;q=c.peerMasterToken;u=c.peerUserIdToken;B=c.peerServiceTokens;y=new wa(D,k,p,m,t,g,f,a,d);q=new Z(q,u,B);u=new l(b,ka,W,z,ga);new lc(w,I,xa,y,q,u,ua);});},error:ua.error});},error:function(d){n(ua,function(){d instanceof F&&(d.setUser(a),d.setUser(f));throw d;});}});});},error:function(d){n(ua,function(){d instanceof F&&(d.setEntity(c),d.setUser(a),d.setUser(f));throw d;});}});});},error:ua.error});});},error:ua.error});});},error:ua.error});});},error:ua.error});});};}());(function(){function l(h,l){this.payload=h;this.signature=l;}nd=oa.Class.create({init:function(h,l,r,J,v,E,I,aa){var w;w=this;n(aa,function(){var z,D;if(0>h||h>La)throw new fa("Sequence number "+h+" is outside the valid range.");if(0>l||l>La)throw new fa("Message ID "+l+" is outside the valid range.");if(I)return Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:I.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:I.signature,writable:!1,enumerable:!1,configurable:!1}}),this;J?(z=od(J,v),z||(J=null,z=v)):(J=null,z=v);D={};D.sequencenumber=h;D.messageid=l;r&&(D.endofmsg=r);J&&(D.compressionalgo=J);D.data=qa(z);z=Sa(JSON.stringify(D),Ka);E.encrypt(z,{result:function(z){n(aa,function(){E.sign(z,{result:function(E){n(aa,function(){Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:z,writable:!1,enumerable:!1,configurable:!1},signature:{value:E,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){aa.error(h);}});},w);},error:function(h){aa.error(h);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var h;h={};h.payload=qa(this.payload);h.signature=qa(this.signature);return h;}});ie=function(h,l,n,r,v,E,I){new nd(h,l,n,r,v,E,null,I);};je=function(w,r,D){n(D,function(){var z,v,E,I;z=w.payload;v=w.signature;if(!z||"string"!==typeof z||"string"!==typeof v)throw new ia(h.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{E=va(z);}catch(aa){throw new Ga(h.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),aa);}try{I=va(v);}catch(aa){throw new Ga(h.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),aa);}r.verify(E,I,{result:function(v){n(D,function(){if(!v)throw new Q(h.PAYLOAD_VERIFICATION_FAILED);r.decrypt(E,{result:function(v){n(D,function(){var n,w,z,A,J,aa,ga;n=Va(v,Ka);try{w=JSON.parse(n);}catch(da){if(da instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"payload chunk payload "+n,da);throw da;}z=parseInt(w.sequencenumber);A=parseInt(w.messageid);J=w.endofmsg;aa=w.compressionalgo;w=w.data;if(!z||z!=z||!A||A!=A||J&&"boolean"!==typeof J||aa&&"string"!==typeof aa||"string"!==typeof w)throw new ia(h.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>z||z>La)throw new F(h.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>A||A>La)throw new F(h.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);J||(J=!1);if(aa&&!Nb[aa])throw new Ga(h.UNIDENTIFIED_COMPRESSION,aa);try{ga=va(w);}catch(da){throw new Ga(h.PAYLOAD_DATA_CORRUPT,w,da);}if(ga&&0!=ga.length)n=aa?Ic(aa,ga):ga;else{if(0<w.length)throw new Ga(h.PAYLOAD_DATA_CORRUPT,w);if(J)n=new Uint8Array(0);else throw new Ga(h.PAYLOAD_DATA_MISSING,w);}ga=new l(E,I);new nd(z,A,J,aa,n,r,ga,D);});},error:function(h){D.error(h);}});});},error:function(h){D.error(h);}});});};}());(function(){var D,J;function l(l,w,r,z,D){var E,J,A,aa,I;function v(){n(D,function(){var r,z;J>=w.length&&(J=0,++E);if(E>=A.length){if(aa)throw aa;throw new Pa(h.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}r=A[E];z=w[J];r.scheme!=z.keyExchangeScheme?(++J,v()):r.generateResponse(l,z,I,{result:function(h){D.result(h);},error:function(h){n(D,function(){if(!(h instanceof F))throw h;aa=h;++J;v();});}});});}E=0;J=0;A=l.getKeyExchangeFactories();I=r?r:z;v();}function w(h,w,r,z,D){n(D,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)z?z.isRenewable()||z.isExpired()?l(h,v,z,null,D):h.getTokenFactory().isNewestMasterToken(h,z,{result:function(w){n(D,function(){if(w)return null;l(h,v,z,null,D);});},error:D.error}):l(h,v,null,r.getIdentity(),D);else return null;});}function r(l,w,r,z){n(z,function(){var n,v,E,D;n=w.userIdToken;v=w.userAuthenticationData;E=w.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&w.isRenewable()||n.isExpired()||!n.isBoundTo(r)){v=l.getTokenFactory();v.renewUserIdToken(l,n,r,z);return;}}else if(w.isRenewable()&&r&&v){n=w.customer;if(!n){n=v.scheme;D=l.getUserAuthenticationFactory(n);if(!D)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(r).setUser(v).setMessageId(E);n=D.authenticate(l,r.identity,v,null);}v=l.getTokenFactory();v.createUserIdToken(l,n,r,z);return;}return n;});}D=new Uint8Array(0);J=Tb=function(h){if(0>h||h>La)throw new fa("Message ID "+h+" is outside the valid range.");return h==La?0:h+1;};bc=function(h){if(0>h||h>La)throw new fa("Message ID "+h+" is outside the valid range.");return 0==h?La:h-1;};Ub=function(h,l,w,r,z){n(z,function(){var v;if(r==la||null==r){v=h.getRandom();do r=v.nextLong();while(0>r||r>La);}else if(0>r||r>La)throw new fa("Message ID "+r+" is outside the valid range.");h.getEntityAuthenticationData(null,{result:function(v){n(z,function(){var n;n=h.getMessageCapabilities();return new Jc(h,r,n,v,l,w,null,null,null,null,null);});},error:function(h){z.error(h);}});});};ke=function(h,l,z){n(z,function(){var E,D,I,Ca,A,W;function v(h){n(z,function(){h instanceof F&&(h.setEntity(E),h.setEntity(D),h.setUser(I),h.setUser(Ca),h.setMessageId(A));throw h;});}E=l.masterToken;D=l.entityAuthenticationData;I=l.userIdToken;Ca=l.userAuthenticationData;A=l.messageId;W=J(A);w(h,l,D,E,{result:function(w){n(z,function(){var D;D=w?w.keyResponseData.masterToken:D=E;h.getEntityAuthenticationData(null,{result:function(A){n(z,function(){r(h,l,D,{result:function(v){n(z,function(){var n,r,z;I=v;n=md(l.messageCapabilities,h.getMessageCapabilities());r=l.keyResponseData;z=l.serviceTokens;return h.isPeerToPeer()?new Jc(h,W,n,A,r?r.masterToken:l.peerMasterToken,l.peerUserIdToken,l.peerServiceTokens,E,I,z,w):new Jc(h,W,n,A,r?r.masterToken:E,I,z,null,null,null,w);});},error:v});});},error:v});});},error:v});});};le=function(h,l,w,r,z){n(z,function(){h.getEntityAuthenticationData(null,{result:function(v){n(z,function(){var n,E;if(l!=la&&null!=l)n=J(l);else{E=h.getRandom();do n=E.nextInt();while(0>n||n>La);}ce(h,v,n,w.responseCode,w.internalCode,w.message,r,z);});},error:function(h){z.error(h);}});});};Jc=oa.Class.create({init:function(h,l,n,w,r,z,D,J,A,I,F){var v,E,aa,Z,W;if(!h.isPeerToPeer()&&(J||A))throw new fa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=F&&!h.isPeerToPeer()?F.keyResponseData.masterToken:r;E={};h.getMslStore().getServiceTokens(v,z).forEach(function(h){E[h.name]=h;},this);D&&D.forEach(function(h){E[h.name]=h;},this);W={};h.isPeerToPeer()&&(aa=J,Z=A,D=F?F.keyResponseData.masterToken:J,h.getMslStore().getServiceTokens(D,A).forEach(function(h){W[h.name]=h;},this),I&&I.forEach(function(h){W[h.name]=h;},this));Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:l,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:F,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:z,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:E,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:aa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Z,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:W,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Qc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Qc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||wd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||wd(this._entityAuthData.scheme);},getHeader:function(l){n(l,function(){var n,v,w,r,z;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);r=[];for(z in this._keyRequestData)r.push(this._keyRequestData[z]);if(this._nonReplayable){if(!this._masterToken)throw new Ga(h.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);z=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else z=null;n=new fe(this._messageId,z,this._renewable,this._capabilities,r,n,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new ge(this._peerMasterToken,this._peerUserIdToken,v);ee(this._ctx,this._entityAuthData,this._masterToken,n,w,l);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(h){this._nonReplayable=h;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(h){this._renewable=h;return this;},setAuthTokens:function(h,l){var n,v,w;if(l&&!l.isBoundTo(h))throw new fa("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new fa("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{n=this._ctx.getMslStore().getServiceTokens(h,l);}catch(wa){if(wa instanceof F)throw new fa("Invalid master token and user ID token combination despite checking above.",wa);throw wa;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(n){(n.isUserIdTokenBound()&&!n.isBoundTo(l)||n.isMasterTokenBound()&&!n.isBoundTo(h))&&delete this._serviceTokens[n.name];},this);n.forEach(function(h){this._serviceTokens[h.name]=h;},this);this._masterToken=h;this._userIdToken=l;},setUserAuthenticationData:function(h){this._userAuthData=h;return this;},setCustomer:function(h,l){var v;v=this;n(l,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new fa("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new fa("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,h,w,{result:function(h){n(l,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=h:(this._userIdToken=h,this._userAuthData=null);return!0;},v);},error:function(h){l.error(h);}});},v);},addKeyRequestData:function(h){this._keyRequestData[h.uniqueKey()]=h;return this;},removeKeyRequestData:function(h){delete this._keyRequestData[h.uniqueKey()];return this;},addServiceToken:function(l){var n;n=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(l.isMasterTokenBound()&&!l.isBoundTo(n))throw new Ga(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(n)).setEntity(n);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._userIdToken))throw new Ga(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(n).setUser(this._userIdToken);this._serviceTokens[l.name]=l;return this;},addServiceTokenIfAbsent:function(h){this._serviceTokens[h.name]||this.addServiceToken(h);return this;},excludeServiceToken:function(h){delete this._serviceTokens[h];return this;},deleteServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._serviceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;Cb(this._ctx,h,D,r,w,!1,null,new ac(),{result:function(h){n(l,function(){return this.addServiceToken(h);},v);},error:function(h){h instanceof F&&(h=new fa("Failed to create and add empty service token to message.",h));l.error(h);}});},v);},getServiceTokens:function(){var h,l;h=[];for(l in this._serviceTokens)h.push(this._serviceTokens[l]);return h;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(l,n){var v;if(!this._ctx.isPeerToPeer())throw new fa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(n&&!l)throw new fa("Peer master token cannot be null when setting peer user ID token.");if(n&&!n.isBoundTo(l))throw new Ga(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+n+"; mt "+l).setEntity(l).setUser(n);try{v=this._ctx.getMslStore().getServiceTokens(l,n);}catch(aa){if(aa instanceof F)throw new fa("Invalid peer master token and user ID token combination despite proper check.",aa);throw aa;}Object.keys(this._peerServiceTokens).forEach(function(h){var v;v=this._peerServiceTokens[h];v.isUserIdTokenBound()&&!v.isBoundTo(n)?delete this._peerServiceTokens[h]:v.isMasterTokenBound()&&!v.isBoundTo(l)&&delete this._peerServiceTokens[h];},this);v.forEach(function(h){var l;l=h.name;this._peerServiceTokens[l]||(this._peerServiceTokens[l]=h);},this);this._peerUserIdToken=n;this._peerMasterToken=l;return this;},addPeerServiceToken:function(l){if(!this._ctx.isPeerToPeer())throw new fa("Cannot set peer service tokens when not in peer-to-peer mode.");if(l.isMasterTokenBound()&&!l.isBoundTo(this._peerMasterToken))throw new Ga(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._peerUserIdToken))throw new Ga(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[l.name]=l;return this;},addPeerServiceTokenIfAbsent:function(h){this._peerServiceTokens[h.name]||this.addPeerServiceToken(h);return this;},excludePeerServiceToken:function(h){delete this._peerServiceTokens[h];return this;},deletePeerServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._peerServiceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;Cb(this._ctx,h,D,r,w,!1,null,new ac(),{result:function(h){n(l,function(){return this.addPeerServiceToken(h);},v);},error:function(h){h instanceof F&&(h=new fa("Failed to create and add empty peer service token to message.",h));l.error(h);}});},v);},getPeerServiceTokens:function(){var h,l;h=[];for(l in this._peerServiceTokens)h.push(this._peerServiceTokens[l]);return h;}});}());(function(){function h(h,l){return l[h]?l[h]:l[""];}function l(h){var l;l=h.builder.getKeyExchangeData();return l&&!h.ctx.isPeerToPeer()?l.keyResponseData.masterToken:h.builder.getMasterToken();}me=oa.Class.create({init:function(h,l,n){h={ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:l.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:n,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},isPrimaryMasterTokenAvailable:function(){return l(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(h){try{return this.builder.addServiceToken(h),!0;}catch(D){if(D instanceof Ga)return!1;throw D;}},addPeerServiceToken:function(h){try{return this.builder.addPeerServiceToken(h),!0;}catch(D){if(D instanceof Ga)return!1;throw D;}},addUnboundPrimaryServiceToken:function(l,w,r,v,E){var z;z=this;n(E,function(){var D;D=h(l,this.cryptoContexts);if(!D)return!1;Cb(this.ctx,l,w,null,null,r,v,D,{result:function(h){n(E,function(){try{this.builder.addServiceToken(h);}catch(wa){if(wa instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite being unbound.",wa);throw wa;}return!0;},z);},error:function(h){E.error(h);}});},z);},addUnboundPeerServiceToken:function(l,w,r,v,E){var z;z=this;n(E,function(){var D;D=h(l,this.cryptoContexts);if(!D)return!1;Cb(this.ctx,l,w,null,null,r,v,D,{result:function(h){n(E,function(){try{this.builder.addPeerServiceToken(h);}catch(wa){if(wa instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite being unbound.",wa);throw wa;}return!0;},z);},error:function(h){E.error(h);}});},z);},addMasterBoundPrimaryServiceToken:function(w,r,J,v,E){var z;z=this;n(E,function(){var D,I;D=l(this);if(!D)return!1;I=h(w,this.cryptoContexts);if(!I)return!1;Cb(this.ctx,w,r,D,null,J,v,I,{result:function(h){n(E,function(){try{this.builder.addServiceToken(h);}catch(Z){if(Z instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},z);},error:function(h){E.error(h);}});},z);},addMasterBoundPeerServiceToken:function(l,w,r,v,E){var z;z=this;n(E,function(){var D,J;D=this.builder.getPeerMasterToken();if(!D)return!1;J=h(l,this.cryptoContexts);if(!J)return!1;Cb(this.ctx,l,w,D,null,r,v,J,{result:function(h){n(E,function(){try{this.builder.addPeerServiceToken(h);}catch(Z){if(Z instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},z);},error:function(h){E.error(h);}});},z);},addUserBoundPrimaryServiceToken:function(w,r,J,v,E){var z;z=this;n(E,function(){var D,I,F;D=l(this);if(!D)return!1;I=this.builder.getUserIdToken();if(!I)return!1;F=h(w,this.cryptoContexts);if(!F)return!1;Cb(this.ctx,w,r,D,I,J,v,F,{result:function(h){n(E,function(){try{this.builder.addServiceToken(h);}catch(ra){if(ra instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ra);throw ra;}return!0;},z);},error:function(h){E.error(h);}});},z);},addUserBoundPeerServiceToken:function(l,w,r,v,E){var z;z=this;n(E,function(){var D,J,I;D=this.builder.getPeerMasterToken();if(!D)return!1;J=this.builder.getPeerUserIdToken();if(!J)return!1;I=h(l,this.cryptoContexts);if(!I)return!1;Cb(this.ctx,l,w,D,J,r,v,I,{result:function(h){n(E,function(){try{this.builder.addPeerServiceToken(h);}catch(ra){if(ra instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ra);throw ra;}return!0;},z);},error:function(h){E.error(h);}});},z);},excludePrimaryServiceToken:function(h){for(var l=this.builder.getServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludeServiceToken(h),!0;return!1;},excludePeerServiceToken:function(h){for(var l=this.builder.getPeerServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludePeerServiceToken(h),!0;return!1;},deletePrimaryServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deleteServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);},deletePeerServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getPeerServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deletePeerServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);}});}());(function(){function l(l,r,D,J){n(J,function(){var w,z,I,Aa,K,Z;function v(){n(J,function(){var r;if(Z>=D.length){if(K)throw K;throw new Pa(h.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(D));}r=D[Z];I!=r.keyExchangeScheme?(++Z,v()):Aa.getCryptoContext(l,r,z,w,{result:J.result,error:function(h){n(J,function(){if(!(h instanceof F))throw h;K=h;++Z;v();});}});});}w=r.masterToken;z=r.keyResponseData;if(!z)return null;I=z.keyExchangeScheme;Aa=l.getKeyExchangeFactory(I);if(!Aa)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,I);Z=0;v();});}ne=fd.extend({init:function(n,z,D,J,v,E,I){var w;w=this;r(I,function(){var W;function r(){w._ready=!0;w._readyQueue.add(!0);}function I(h,l){var n;try{n=l.masterToken;h.getTokenFactory().isMasterTokenRevoked(h,n,{result:function(v){v?(w._errored=new Pb(v,n).setUser(l.userIdToken).setUser(l.userAuthenticationData).setMessageId(l.messageId),r()):Z(h,l);},error:function(h){h instanceof F&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}});}catch(ua){ua instanceof F&&(ua.setEntity(l.masterToken),ua.setUser(l.userIdToken),ua.setUser(l.userAuthenticationData),ua.setMessageId(l.messageId));w._errored=ua;r();}}function Z(h,l){var n,v;try{n=l.masterToken;v=l.userIdToken;v?h.getTokenFactory().isUserIdTokenRevoked(h,n,v,{result:function(z){z?(w._errored=new MslUserIdTokenException(z,v).setEntity(n).setUser(v).setMessageId(l.messageId),r()):aa(h,l);},error:function(h){h instanceof F&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}}):aa(h,l);}catch(Na){Na instanceof F&&(Na.setEntity(l.masterToken),Na.setUser(l.userIdToken),Na.setUser(l.userAuthenticationData),Na.setMessageId(l.messageId));w._errored=Na;r();}}function aa(l,n){var v;try{v=n.masterToken;v.isExpired()?n.isRenewable()&&0!=n.keyRequestData.length?l.getTokenFactory().isMasterTokenRenewable(l,v,{result:function(h){h?(w._errored=new Ga(h,"Master token is expired and not renewable.").setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):A(l,n);},error:function(h){h instanceof F&&(h.setEntity(n.masterToken),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ga(h.MESSAGE_EXPIRED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):A(l,n);}catch(ua){ua instanceof F&&(ua.setEntity(n.masterToken),ua.setUser(n.userIdToken),ua.setUser(n.userAuthenticationData),ua.setMessageId(n.messageId));w._errored=ua;r();}}function A(l,n){var v,z;try{v=n.masterToken;z=n.nonReplayableId;"number"===typeof z?v?l.getTokenFactory().acceptNonReplayableId(l,v,z,{result:function(l){l||(w._errored=new Ga(h.MESSAGE_REPLAYED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId));r();},error:function(h){h instanceof F&&(h.setEntity(v),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ga(h.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(n)).setEntity(n.entityAuthenticationData).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):r();}catch(Na){Na instanceof F&&(Na.setEntity(n.masterToken),Na.setEntity(n.entityAuthenticationData),Na.setUser(n.userIdToken),Na.setUser(n.userAuthenticationData),Na.setMessageId(n.messageId));w._errored=Na;r();}}W={_source:{value:z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:la,writable:!0,enumerable:!1,configurable:!1},_charset:{value:D,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:E,writable:!1,enumerable:!1,configurable:!1},_header:{value:la,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:la,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:la,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,W);Rd(w._source,E,{result:function(z){w._json=z;w._jsonIndex=0;null===w._json?(w._errored=new ia(h.MESSAGE_DATA_MISSING),r()):Yd(n,w._json[w._jsonIndex++],v,{result:function(h){var v;w._header=h;if(w._header instanceof Lb)w._keyxCryptoContext=null,w._cryptoContext=null,r();else{v=w._header;l(n,v,J,{result:function(h){var l;try{w._keyxCryptoContext=h;n.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{l=v.masterToken;l&&(n.isPeerToPeer()||l.isVerified())?I(n,v):A(n,v);}catch(ta){ta instanceof F&&(ta.setEntity(v.masterToken),ta.setUser(v.userIdToken),ta.setUser(v.userAuthenticationData),ta.setMessageId(v.messageId));w._errored=ta;r();}}catch(ta){ta instanceof F&&(ta.setEntity(v.masterToken),ta.setEntity(v.entityAuthenticationData),ta.setUser(v.userIdToken),ta.setUser(v.userAuthenticationData),ta.setMessageId(v.messageId));w._errored=ta;r();}},error:function(h){h instanceof F&&(h.setEntity(v.masterToken),h.setEntity(v.entityAuthenticationData),h.setUser(v.userIdToken),h.setUser(v.userAuthenticationData),h.setMessageId(v.messageId));w._errored=h;r();}});}},error:function(h){w._errored=h;r();}});},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},nextData:function(l,n){var w;w=this;r(n,function(){var v;function l(h){r(h,function(){var n;if(this._jsonIndex<this._json.length)return n=this._json[this._jsonIndex++];Rd(this._source,this._timeout,{result:function(n){n&&n.length&&0<n.length?(n.forEach(function(h){this._json.push(h);}),l(h)):(this._eom=!0,h.result(null));},timeout:function(){h.timeout();},error:function(l){h.error(l);}});},w);}v=this.getMessageHeader();if(!v)throw new fa("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;l({result:function(l){r(n,function(){if(!l)return null;if("object"!==typeof l)throw new ia(h.MESSAGE_FORMAT_ERROR);je(l,this._cryptoContext,{result:function(l){r(n,function(){var n,w,r,z;n=v.masterToken;w=v.entityAuthenticationData;r=v.userIdToken;z=v.getUserAuthenticationData;if(l.messageId!=v.messageId)throw new Ga(h.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+l.messageId+" header mid "+v.messageId).setEntity(n).setEntity(w).setUser(r).setUser(z);if(l.sequenceNumber!=this._payloadSequenceNumber)throw new Ga(h.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+l.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(n).setEntity(w).setUser(r).setUser(z);++this._payloadSequenceNumber;l.isEndOfMessage()&&(this._eom=!0);n=l.data;this._payloads.push(n);this._payloadIndex=-1;return n;},w);},error:function(l){l instanceof SyntaxError&&(l=new ia(h.JSON_PARSE_ERROR,"payloadchunk",l));n.error(l);}});},w);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},w);},isReady:function(h,l){var w;function n(){r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){r(l,function(){if(h===la)return!1;n();},w);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},getMessageHeader:function(){return this._header instanceof lc?this._header:null;},getErrorHeader:function(){return this._header instanceof Lb?this._header:null;},getIdentity:function(){var h,l;h=this.getMessageHeader();if(h){l=h.masterToken;return l?l.identity:h.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var h;h=this.getMessageHeader();return h?h.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(h){this._closeSource=h;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(h,l,n){var v;function w(){r(n,function(){var z,D,I,J;function w(n){r(n,function(){var z,E,Z;if(D&&J>=D.length)return D.subarray(0,J);z=-1;if(this._currentPayload){E=this._currentPayload.length-this._payloadOffset;if(!D){Z=E;if(-1!=this._payloadIndex)for(var aa=this._payloadIndex;aa<this._payloads.length;++aa)Z+=this._payloads[aa].length;0<Z&&(D=new Uint8Array(Z));}E=Math.min(E,D?D.length-J:0);0<E&&(z=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+E),D.set(z,I),z=E,I+=E,this._payloadOffset+=E);}-1!=z?(J+=z,w(n)):this.nextData(l,{result:function(l){r(n,function(){if(this._aborted)return D?D.subarray(0,J):new Uint8Array(0);this._currentPayload=l;this._payloadOffset=0;if(this._currentPayload)w(n);else return 0==J&&0!=h?null:D?D.subarray(0,J):new Uint8Array(0);},v);},timeout:function(){n.timeout(D?D.subarray(0,J):new Uint8Array(0));},error:function(h){r(n,function(){h instanceof F&&(h=new Wa("Error reading the payload chunk.",h));if(0<J)return v._readException=h,D.subarray(0,J);throw h;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)n.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){z=this._readException;this._readException=null;throw z;}D=-1!=h?new Uint8Array(h):la;I=0;J=0;w(n);}},v);}v=this;r(n,function(){if(-1>h)throw new RangeError("read requested with illegal length "+h);this._ready?w():this._readyQueue.poll(l,{result:function(h){h===la?n.result(!1):w();},timeout:function(){n.timeout(new Uint8Array(0));},error:function(h){n.error(h);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});oe=function(h,l,n,r,v,E,I){new ne(h,l,n,r,v,E,I);};}());(function(){pe=Ec.extend({init:function(h,l,n,D,J,v,E){var w;w=this;r(E,function(){var z,E,I;function r(){w._ready=!0;w._readyQueue.add(!0);}z=md(h.getMessageCapabilities(),D.messageCapabilities);E=null;z&&(E=Fd(z.compressionAlgorithms));z={_destination:{value:l,writable:!1,enumerable:!1,configurable:!1},_charset:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:z,writable:!1,enumerable:!1,configurable:!1},_header:{value:D,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:E,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:J,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,z);I=Sa(JSON.stringify(D),n);l.write(I,0,I.length,v,{result:function(h){try{w._aborted?r():h<I.length?(w._timedout=!0,r()):l.flush(v,{result:function(h){w._aborted||(w._timedout=!h);r();},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});}catch(A){w._errored=A;r();}},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},setCompressionAlgorithm:function(h,l,n){var z;function w(){z.flush(l,{result:function(l){r(n,function(){if(!l)throw new Wa("flush() aborted");this._compressionAlgo=h;return!0;},z);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});}z=this;r(n,function(){if(!this.getMessageHeader())throw new fa("Cannot write payload data for an error message.");if(this._compressionAlgo==h)return!0;if(h){if(!this._capabilities)return!1;for(var l=this._capabilities.compressionAlgorithms,n=0;n<l.length;++n)if(l[n]==h){w();return;}return!1;}w();},z);},getMessageHeader:function(){return this._header instanceof lc?this._header:null;},getErrorMessage:function(){return this._header instanceof Lb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(h,l){var n;n=this;r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(h,{result:function(h){r(l,function(){h&&(this._currentPayload=null);return h;},n);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},n);},flush:function(h,l){var w;function n(){r(l,function(){var n,v,K;if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;n=this.getMessageHeader();if(!n)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(h){v+=h.length;});for(var z=new Uint8Array(v),D=0,I=0;this._currentPayload&&I<this._currentPayload.length;++I){K=this._currentPayload[I];z.set(K,D);D+=K.length;}ie(this._payloadSequenceNumber,n.messageId,this._closed,this._compressionAlgo,z,this._cryptoContext,{result:function(n){r(l,function(){var v;this._payloads.push(n);v=Sa(JSON.stringify(n),this._charset);this._destination.write(v,0,v.length,h,{result:function(v){r(l,function(){if(this._aborted)return!1;v<n.length?l.timeout():this._destination.flush(h,{result:function(h){r(l,function(){if(this._aborted)return!1;if(h)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;l.timeout();},w);},timeout:function(){l.timeout();},error:function(h){h instanceof F&&(h=new Wa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},timeout:function(h){l.timeout();},error:function(h){h instanceof F&&(h=new Wa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},error:function(h){h instanceof F&&(h=new Wa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){h===la?l.result(!1):n();},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},write:function(h,l,n,D,J){r(J,function(){var v;if(this._aborted)return!1;if(this._timedout)J.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Wa("Message output stream already closed.");if(0>l)throw new RangeError("Offset cannot be negative.");if(0>n)throw new RangeError("Length cannot be negative.");if(l+n>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new fa("Cannot write payload data for an error message.");v=h.subarray(l,l+n);this._currentPayload.push(v);return v.length;}},this);}});Kc=function(h,l,n,r,J,v,E){new pe(h,l,n,r,J,v,E);};}());Xe=oa.Class.create({sentHeader:function(h){},receivedHeader:function(h){}});Object.freeze({USERDATA_REAUTH:l.USERDATA_REAUTH,SSOTOKEN_REJECTED:l.SSOTOKEN_REJECTED});qe=oa.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(h,l,n,r){},getCustomer:function(){},getKeyRequestData:function(h){},updateServiceTokens:function(h,l,n){},write:function(h,l,n){},getDebugContext:function(){}});oa.Class.create({getInputStream:function(h){},getOutputStream:function(h){}});(function(){var K,aa,Aa,wa,Z,ra,A,W,xa,ga,da,ua;function I(h){return function(){h.abort();};}function w(h,l){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},ticket:{value:l,writable:!1,configurable:!1}});}function z(h,l){Object.defineProperties(this,{builder:{value:h,writable:!1,configurable:!1},msgCtx:{value:l,writable:!1,configurable:!1}});}function D(h,l,n){Object.defineProperties(this,{requestHeader:{value:h,writable:!1,configurable:!1},payloads:{value:l,writable:!1,configurable:!1},handshake:{value:n,writable:!1,configurable:!1}});}function J(h,l){Object.defineProperties(this,{requestHeader:{value:l.requestHeader,writable:!1,configurable:!1},payloads:{value:l.payloads,writable:!1,configurable:!1},handshake:{value:l.handshake,writable:!1,configurable:!1},response:{value:h,writable:!1,configurable:!1}});}function v(h){for(;h;){if(h instanceof bb)return!0;h=h instanceof F?h.cause:la;}return!1;}function E(h,l,n,v,w,z,E,D,g){le(l,v,w,z,{result:function(c){n&&n.sentHeader(c);Kc(l,E,Ka,c,null,null,D,{result:function(a){h.setAbort(function(){a.abort();});a.close(D,{result:function(a){r(g,function(){if(!a)throw new bb("sendError aborted.");return a;});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){},error:function(a){g.error(a);}});},error:function(c){g.error(c);}});}K=Ec.extend({close:function(h,l){l.result(!0);},write:function(h,l,v,w,r){n(r,function(){return Math.min(h.length-l,v);});},flush:function(h,l){l.result(!0);}});aa=We.extend({getUserMessage:function(h,l){return null;}});Aa=qe.extend({init:function(h){Object.defineProperties(this,{_appCtx:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(h,l,n,v){this._appCtx.getUserAuthData(h,l,n,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(h){this._appCtx.getKeyRequestData(h);},updateServiceTokens:function(h,l,n){this._appCtx.updateServiceTokens(h,l,n);},write:function(h,l,n){this._appCtx.write(h,l,n);},getDebugContext:function(){return this._appCtx.getDebugContext();}});wa=Aa.extend({init:function ta(h,l){ta.base.call(this,l);Object.defineProperties(this,{_payloads:{value:h,writable:!1,enumerable:!1,configurable:!1}});},write:function(h,l,n){var w;function v(z,E){var g;if(z==w._payloads.length)n.result(!0);else{g=w._payloads[z];h.setCompressionAlgorithm(g.compressionAlgo,l,{result:function(c){h.write(g.data,0,g.data.length,l,{result:function(a){r(n,function(){g.isEndOfMessage()?v(z+1,E):h.flush(l,{result:function(a){n.result(a);},timeout:function(){n.timeout();},error:function(a){n.error(a);}});},w);},timeout:function(a){n.timeout(a);},error:function(a){n.error(a);}});},timeout:function(){},error:function(c){n.error(c);}});}}w=this;v(0);}});Z=Aa.extend({init:function ka(h){ka.base.call(this,h);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(h,l,n){n.result(!0);}});ra={};da=oa.Class.create({init:function(h){h||(h=new aa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:h,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(h){this._filterFactory=h;},getNewestMasterToken:function(h,l,n,v){var z;z=this;r(v,function(){var E,g,c,a,b;E=l.getMslStore();g=E.getMasterToken();if(!g)return null;c=g.uniqueKey();a=this._masterTokenLocks[c];a||(a=new Vc(),this._masterTokenLocks[c]=a);b=a.readLock(n,{result:function(f){r(v,function(){var b;if(f===la)throw new bb("getNewestMasterToken aborted.");b=E.getMasterToken();if(g.equals(b))return new w(g,f);a.unlock(f);a.writeLock(n,{result:function(f){r(v,function(){if(f===la)throw new bb("getNewestMasterToken aborted.");delete this._masterTokenLocks[c];a.unlock(f);return this.getNewestMasterToken(h,l,n,v);},z);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},z);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});h.setAbort(function(){b&&(a.cancel(b),b=la);});},z);},deleteMasterToken:function(h,l){var n;if(l){n=this;setTimeout(function(){var v,w;v=l.uniqueKey();w=n._masterTokenLocks[v];w||(w=new Vc(),n._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(r){h.getMslStore().removeCryptoContext(l);delete n._masterTokenLocks[v];w.unlock(r);},timeout:function(){throw new fa("Unexpected timeout received.");},error:function(h){throw h;}});},0);}},releaseMasterToken:function(h){var l;if(h&&h.masterToken){l=h.masterToken.uniqueKey();l=this._masterTokenLocks[l];if(!l)throw new fa("Master token read/write lock does not exist when it should.");l.unlock(h.ticket);}},updateOutgoingCryptoContexts:function(h,l,n){var v;v=h.getMslStore();!h.isPeerToPeer()&&n&&(v.setCryptoContext(n.keyResponseData.masterToken,n.cryptoContext),this.deleteMasterToken(h,l.masterToken));},updateIncomingCryptoContexts:function(h,l,n){var v,w;v=n.getMessageHeader();if(v){w=h.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,n.getKeyExchangeCryptoContext()),this.deleteMasterToken(h,l.masterToken);}},storeServiceTokens:function(h,l,n,v){var g,c;h=h.getMslStore();for(var w=[],r=0;r<v.length;++r){g=v[r];if(!g.isBoundTo(l)||!l.isVerified()){c=g.data;c&&0==c.length?h.removeServiceTokens(g.name,g.isMasterTokenBound()?l:null,g.isUserIdTokenBound()?n:null):w.push(g);}}0<w.length&&h.addServiceTokens(w);},buildRequest:function(h,l,v,w,r){var z;z=this;this.getNewestMasterToken(h,l,w,{result:function(g){n(r,function(){var c,a,b;c=g&&g.masterToken;if(c){a=v.getUserId();b=l.getMslStore();a=(a=a?b.getUserIdToken(a):null)&&a.isBoundTo(c)?a:null;}else a=null;Ub(l,c,a,null,{result:function(a){n(r,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:g};});},error:function(a){n(r,function(){this.releaseMasterToken(g);a instanceof F&&(a=new fa("User ID token not bound to master token despite internal check.",a));throw a;},z);}});},z);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},buildResponse:function(h,l,n,v,w,z){var g;g=this;ke(l,v,{result:function(c){r(z,function(){c.setNonReplayable(n.isNonReplayable());if(!l.isPeerToPeer()&&!v.keyResponseData)return{builder:c,tokenTicket:null};this.getNewestMasterToken(h,l,w,{result:function(a){r(z,function(){var b,f,m;b=a&&a.masterToken;if(b){f=n.getUserId();m=l.getMslStore();f=(f=f?m.getUserIdToken(f):null)&&f.isBoundTo(b)?f:null;}else f=null;c.setAuthTokens(b,f);return{builder:c,tokenTicket:a};},g);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},g);},error:function(c){z.error(c);}});},buildErrorResponse:function(h,n,v,w,E,D,g){var b;function c(a,m){r(g,function(){var f,d;f=Tb(E.messageId);d=new wa(m,v);Ub(n,null,null,f,{result:function(f){r(g,function(){n.isPeerToPeer()&&f.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);f.setNonReplayable(d.isNonReplayable());return{errorResult:new z(f,d),tokenTicket:null};},b);},error:function(a){g.error(a);}});},b);}function a(a,m){b.getNewestMasterToken(h,n,D,{result:function(f){r(g,function(){var d,k,p;d=f&&f.masterToken;k=Tb(E.messageId);p=new wa(m,v);Ub(n,d,null,k,{result:function(d){r(g,function(){n.isPeerToPeer()&&d.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);d.setNonReplayable(p.isNonReplayable());return{errorResult:new z(d,p),tokenTicket:f};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}b=this;r(g,function(){var f,m,q,d;f=w.requestHeader;m=w.payloads;q=E.errorCode;switch(q){case l.ENTITYDATA_REAUTH:case l.ENTITY_REAUTH:n.getEntityAuthenticationData(q,{result:function(a){r(g,function(){if(!a)return null;c(f,m);},b);},error:function(a){g.error(a);}});break;case l.USERDATA_REAUTH:case l.SSOTOKEN_REJECTED:v.getUserAuthData(q,!1,!0,{result:function(d){r(g,function(){if(!d)return null;a(f,m);},b);},error:function(a){g.error(a);}});break;case l.USER_REAUTH:a(f,m);break;case l.KEYX_REQUIRED:q=Tb(E.messageId),d=new wa(m,v);Ub(n,null,null,q,{result:function(a){r(g,function(){n.isPeerToPeer()&&a.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(d.isNonReplayable());return{errorResult:new z(a,d),tokenTicket:null};},b);},error:function(a){g.error(a);}});break;case l.EXPIRED:this.getNewestMasterToken(h,n,D,{result:function(a){r(g,function(){var d,k,c,q;d=a&&a.masterToken;k=f.userIdToken;c=Tb(E.messageId);q=new wa(m,v);Ub(n,d,k,c,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(d)&&k.setRenewable(!0);k.setNonReplayable(q.isNonReplayable());return{errorResult:new z(k,q),tokenTicket:a};},b);},error:function(a){g.error(a);}},b);},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;case l.REPLAYED:this.getNewestMasterToken(h,n,D,{result:function(a){r(g,function(){var d,k,c,q;d=a&&a.masterToken;k=f.userIdToken;c=Tb(E.messageId);q=new wa(m,v);Ub(n,d,k,c,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(d)?(k.setRenewable(!0),k.setNonReplayable(!1)):k.setNonReplayable(q.isNonReplayable());return{errorResult:new z(k,q),tokenTicket:a};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;default:return null;}},b);},cleanupContext:function(h,n,v){switch(v.errorCode){case l.ENTITY_REAUTH:this.deleteMasterToken(h,n.masterToken);break;case l.USER_REAUTH:v=n.userIdToken,n.masterToken&&v&&h.getMslStore().removeUserIdToken(v);}},send:function(h,l,n,v,w,z,g){var q;function c(d,f,b){r(g,function(){var k;k=w.getPeerUserIdToken();!l.isPeerToPeer()&&!f||l.isPeerToPeer()&&!k?(k=n.getCustomer())?w.setCustomer(k,{result:function(k){r(g,function(){f=w.getUserIdToken();a(d,f,b);},q);},error:function(a){g.error(a);}}):a(d,f,b):a(d,f,b);},q);}function a(a,f,p){r(g,function(){var d,k;d=!p&&(!n.isEncrypted()||w.willEncryptPayloads())&&(!n.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!n.isNonReplayable()||w.isNonReplayable()&&a);d||w.setNonReplayable(!1);k=[];w.isRenewable()&&(!a||a.isRenewable()||n.isNonReplayable())?n.getKeyRequestData({result:function(p){r(g,function(){var t;for(var m=0;m<p.length;++m){t=p[m];k.push(t);w.addKeyRequestData(t);}b(a,f,d,k);},q);},error:function(a){g.error(a);}}):b(a,f,d,k);},q);}function b(a,b,p,m){r(g,function(){var d;d=new me(l,n,w);n.updateServiceTokens(d,!p,{result:function(d){w.getHeader({result:function(d){r(g,function(){var k,m;k=n.getDebugContext();k&&k.sentHeader(d);k=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(l,d,k);this.storeServiceTokens(l,a,b,d.serviceTokens);k=!l.isPeerToPeer()&&k?k.cryptoContext:d.cryptoContext;if(h.isAborted())throw new bb("send aborted.");m=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Kc(l,m,Ka,d,k,z,{result:function(a){h.setAbort(function(){a.abort();});f(a,d,p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},error:function(a){g.error(a);}});},q);}function f(a,f,b){var d,k;if(b)n.write(a,z,{result:function(d){r(g,function(){if(h.isAborted())throw new bb("MessageOutputStream write aborted.");m(a,f,b);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});else{d=new K();k=new ac();Kc(l,d,Ka,f,k,z,{result:function(d){n.write(d,z,{result:function(k){r(g,function(){if(h.isAborted())throw new bb("MessageOutputStream proxy write aborted.");d.close(z,{result:function(k){r(g,function(){var p;if(!k)throw new bb("MessageOutputStream proxy close aborted.");p=d.getPayloads();m(a,f,b,p);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}}function m(a,f,b,m){a.close(z,{result:function(d){r(g,function(){if(!d)throw new bb("MessageOutputStream close aborted.");m||(m=a.getPayloads());return new D(f,m,!b);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}q=this;r(g,function(){var a,f,b,m;a=w.getMasterToken();f=w.getUserIdToken();b=!1;if(n.getUserId()){m=!f;n.getUserAuthData(null,w.isRenewable(),m,{result:function(d){r(g,function(){d&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(d):b=!0);c(a,f,b);},q);},error:function(a){g.error(a);}});}else c(a,f,b);},q);},receive:function(n,v,w,z,E,D,g){var c;c=this;r(g,function(){var a,b,f;if(n.isAborted())throw new bb("receive aborted.");a=[];E&&(a=E.keyRequestData.filter(function(){return!0;}));b=w.getCryptoContexts();f=this._filterFactory?this._filterFactory.getInputStream(z):z;oe(v,f,Ka,a,b,D,{result:function(a){n.setAbort(function(){a.abort();});a.isReady(D,{result:function(f){r(g,function(){var d,b,p,m;if(!f)throw new bb("MessageInputStream aborted.");d=a.getMessageHeader();b=a.getErrorHeader();p=w.getDebugContext();p&&p.receivedHeader(d?d:b);if(E&&(p=b?b.errorCode:null,d||p!=l.FAIL&&p!=l.TRANSIENT_FAILURE&&p!=l.ENTITY_REAUTH&&p!=l.ENTITYDATA_REAUTH)){p=d?d.messageId:b.messageId;m=Tb(E.messageId);if(p!=m)throw new Ga(h.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+m+"; received "+p);}v.getEntityAuthenticationData(null,{result:function(f){r(g,function(){var k,p,m,t;k=f.getIdentity();if(d){p=d.entityAuthenticationData;m=d.masterToken;p=m?d.sender:p.getIdentity();if(m&&m.isDecrypted()&&m.identity!=p||k==p)throw new Ga(h.UNEXPECTED_MESSAGE_SENDER,p);E&&this.updateIncomingCryptoContexts(v,E,a);k=d.keyResponseData;v.isPeerToPeer()?(k=k?k.masterToken:d.peerMasterToken,m=d.peerUserIdToken,p=d.peerServiceTokens):(k=k?k.masterToken:d.masterToken,m=d.userIdToken,p=d.serviceTokens);t=w.getUserId();t&&m&&!m.isVerified()&&v.getMslStore().addUserIdToken(t,m);this.storeServiceTokens(v,k,m,p);}else if(p=b.entityAuthenticationData.getIdentity(),k==p)throw new Ga(h.UNEXPECTED_MESSAGE_SENDER,p);return a;},c);},error:g.error});},c);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},c);},sendReceive:function(h,l,n,v,w,z,g,c,a){var f;function b(b,q){r(a,function(){z.setRenewable(q);this.send(h,l,n,w,z,g,{result:function(d){r(a,function(){var k;k=d.requestHeader.keyRequestData;c||d.handshake||!k.isEmpty()?this.receive(h,l,n,v,d.requestHeader,g,{result:function(k){r(a,function(){q&&this.releaseRenewalLock(l,b,k);return new J(k,d);},f);},timeout:function(){r(a,function(){q&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(d){r(a,function(){q&&this.releaseRenewalLock(l,b,null);throw d;},f);}}):r(a,function(){q&&this.releaseRenewalLock(l,b,null);return new J(null,d);},f);},f);},timeout:function(){r(a,function(){q&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(d){r(a,function(){q&&this.releaseRenewalLock(l,b,null);throw d;},f);}});},f);}f=this;r(a,function(){var f;f=new hc();this.acquireRenewalLock(h,l,n,f,z,g,{result:function(a){b(f,a);},timeout:function(){a.timeout();},error:function(f){f instanceof bb?a.result(null):a.error(f);}});},f);},acquireRenewalLock:function(h,l,n,v,w,z,g){var b;function c(f,m,q){r(g,function(){var p,t;if(h.isAborted())throw new bb("acquireRenewalLock aborted.");for(var d=null,k=0;k<this._renewingContexts.length;++k){p=this._renewingContexts[k];if(p.ctx===l){d=p.queue;break;}}if(!d)return this._renewingContexts.push({ctx:l,queue:v}),!0;t=d.poll(z,{result:function(k){r(g,function(){var b;if(k===la)throw new bb("acquireRenewalLock aborted.");d.add(k);if(k===ra||k.isExpired())c(k,m,q);else{if(q&&!m||m&&!m.isBoundTo(k)){b=l.getMslStore().getUserIdToken(q);m=b&&b.isBoundTo(k)?b:null;}w.setAuthTokens(k,m);w.isRenewable()&&k.equals(f)?c(k,m,q):n.isRequestingTokens()&&!m?c(k,m,q):a(k,m);}},b);},timeout:function(){},error:function(a){}});h.setAbort(function(){t&&(d.cancel(t),t=la);});},b);}function a(a,m){r(g,function(){var b;if(h.isAborted())throw new bb("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!m&&n.getUserId()||m&&m.isRenewable()){for(var f=null,d=0;d<this._renewingContexts.length;++d){b=this._renewingContexts[d];if(b.ctx===l){f=b.queue;break;}}if(!f)return this._renewingContexts.push({ctx:l,queue:v}),!0;}return!1;},b);}b=this;r(g,function(){var f,b,q;f=w.getMasterToken();b=w.getUserIdToken();q=n.getUserId();n.isEncrypted()&&!w.willEncryptPayloads()||n.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!f&&n.isNonReplayable()||f&&f.isExpired()||!(b||!q||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||n.isRequestingTokens()&&(!f||q&&!b)?c(f,b,q):a(f,b);},b);},releaseRenewalLock:function(h,l,n){var g;for(var v,w,r=0;r<this._renewingContexts.length;++r){g=this._renewingContexts[r];if(g.ctx===h){v=r;w=g.queue;break;}}if(w!==l)throw new fa("Attempt to release renewal lock that is not owned by this queue.");n?(n=n.messageHeader)?(w=n.keyResponseData)?l.add(w.masterToken):(h=h.isPeerToPeer()?n.peerMasterToken:n.masterToken)?l.add(h):l.add(ra):l.add(ra):l.add(ra);this._renewingContexts.splice(v,1);}});re=oa.Class.create({init:function(){var h;h={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setFilterFactory:function(h){this._impl.setFilterFactory(h);},shutdown:function(){this._shutdown=!0;},receive:function(h,l,n,v,w,r){var g;if(this._shutdown)throw new F("MslControl is shutdown.");g=new A(this._impl,h,l,n,v,w);setTimeout(function(){g.call(r);},0);return I(g);},respond:function(h,l,n,v,w,r,g){var c;if(this._shutdown)throw new F("MslControl is shutdown.");c=new W(this._impl,h,l,n,v,w,r);setTimeout(function(){c.call(g);},0);return I(c);},error:function(h,l,n,v,w,r,g){var c;if(this._shutdown)throw new F("MslControl is shutdown.");c=new xa(this._impl,h,l,n,v,w,r);setTimeout(function(){c.call(g);},0);return I(c);},request:function(h,l){var n,v,w,r,g,c;if(this._shutdown)throw new F("MslControl is shutdown.");if(5==arguments.length){if(n=arguments[2],w=v=null,r=arguments[3],g=arguments[4],h.isPeerToPeer()){g.error(new fa("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(n=null,v=arguments[2],w=arguments[3],r=arguments[4],g=arguments[5],!h.isPeerToPeer())){g.error(new fa("This method cannot be used in trusted network mode."));return;}c=new ga(this._impl,h,l,n,v,w,null,0,r);setTimeout(function(){c.call(g);},0);return I(c);}});A=oa.Class.create({init:function(h,l,n,v,w,r){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var D;function n(n){r(l,function(){var g;g=n.messageHeader;if(!g)return n;this.setAbort(function(){n.abort();});n.mark(Number.MAX_VALUE);n.read(1,D._timeout,{result:function(c){r(l,function(){if(c&&0==c.length)return null;if(c)return n.reset(),n;w(n);},D);},timeout:function(){l.timeout();},error:function(c){r(l,function(){var a,b,f;if(v(c))return null;a=g?g.messageId:null;c instanceof Wa?(b=h.MSL_COMMS_FAILURE,f=c):(b=h.INTERNAL_EXCEPTION,f=new fa("Error peeking into the message payloads."));E(this,this._ctx,this._msgCtx.getDebugContext(),a,b,null,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error peeking into the message payloads.",a,c);},D);}});},D);}});},D);}function w(n){r(l,function(){n.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,n.messageHeader,this._timeout,{result:function(g){r(l,function(){var c,a,b,f,m;c=g.builder;a=g.tokenTicket;b=n.messageHeader;f=new Z(this._msgCtx);if(!this._ctx.isPeerToPeer()||b.isEncrypting()||b.keyResponseData)z(b,c,f,a);else{m=new ga(this._ctrl,this._ctx,f,null,this._input,this._output,g,1,this._timeout);this.setAbort(function(){m.abort();});m.call(l);}},D);},timeout:function(){l.timeout();},error:function(g){r(l,function(){var c,a,b,f;if(v(g))return null;g instanceof F?(c=g.messageId,a=g.error,b=n.messageHeader.messageCapabilities,b=this._ctrl.messageRegistry.getUserMessage(a,b?b.languages:null),f=g):(c=requestHeader?requestHeader.messageId:null,a=h.INTERNAL_EXCEPTION,b=null,f=new fa("Error creating an automatic handshake response.",g));E(this,this._ctx,this._msgCtx.getDebugContext(),c,a,b,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error creating an automatic handshake response.",a,g);},D);}});},D);}});},D);}function z(n,g,c,a){r(l,function(){g.setRenewable(!1);this._ctrl.send(this._ctx,c,this._output,g,this._timeout,{result:function(b){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},D);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);l.timeout();},D);},error:function(b){r(l,function(){var f,m,c,d;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof F?(f=b.messageId,m=b.error,c=n?n.messageCapabilities:null,c=this._ctrl.messageRegistry.getUserMessage(m,c?c.languages:null),d=b):b instanceof Wa?(f=n?n.messageId:null,m=h.MSL_COMMS_FAILURE,c=null,d=b):(f=n?n.messageId:null,m=h.INTERNAL_EXCEPTION,c=null,d=new fa("Error sending an automatic handshake response.",b));E(this,this._ctx,this._msgCtx.getDebugContext(),f,m,c,this._output,this._timeout,{result:function(a){l.error(d);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error sending an automatic handshake response.",a,b);},D);}});},D);}});},D);}D=this;r(l,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(h){n(h);},timeout:function(){l.timeout();},error:function(n){r(l,function(){var g,c,a,b;if(v(n))return null;n instanceof F?(g=n.messageId,c=n.error,a=this._ctrl.messageRegistry.getUserMessage(c,null),b=n):(g=null,c=h.INTERNAL_EXCEPTION,a=null,b=new fa("Error receiving the message header.",n));E(this,this._ctx,this._msgCtx.getDebugContext(),g,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error receiving the message header.",a,n);},D);}});},D);}});},D);}});W=oa.Class.create({init:function(h,l,n,v,w,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},trustedNetworkExecute:function(l,n,w){var z;z=this;r(w,function(){var D,A;if(12<n+1)return!1;if(D=this._msgCtx.isIntegrityProtected()&&!l.willIntegrityProtectHeader()?h.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!l.willEncryptPayloads()?h.RESPONSE_REQUIRES_ENCRYPTION:null){A=bc(l.getMessageId());E(this,this._ctx,this._msgCtx.getDebugContext(),A,D,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new ib("Response requires encryption or integrity protection but cannot be protected: "+D,g,null);},z);}});}else!this._msgCtx.getCustomer()||l.getMasterToken()||l.getKeyExchangeData()?(l.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,l,this._timeout,{result:function(g){w.result(!0);},timeout:function(){w.timeout();},error:function(g){w.error(g);}})):(A=bc(l.getMessageId()),E(this,this._ctx,this._msgCtx.getDebugContext(),A,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new ib("Response wishes to attach a user ID token but there is no master token.",g,null);},z);}}));},z);},peerToPeerExecute:function(l,n,w,z){var A;function D(g){r(z,function(){var c;c=g.response;c.close();c=c.getErrorHeader();this._ctrl.cleanupContext(this._ctx,g.requestHeader,c);this._ctrl.buildErrorResponse(this,this._ctx,l,g,c,{result:function(a){r(z,function(){var b,f;if(!a)return!1;b=a.errorResult;f=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);return a;},A);},timeout:function(){r(z,function(){this._ctrl.releaseMasterToken(f);z.timeout();},A);},error:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);throw a;},A);}});},A);}});},A);}A=this;r(z,function(){var g;if(12<w+2)return!1;if(null!=l.getCustomer()&&null==n.getPeerMasterToken()&&null==n.getKeyExchangeData()){g=bc(n.getMessageId());E(this,this._ctx,l.getDebugContext(),g,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(c){z.result(!1);},timeout:function(){z.timeout();},error:function(c){r(z,function(){if(v(c))return!1;throw new ib("Response wishes to attach a user ID token but there is no master token.",c,null);},A);}});}else this._ctrl.sendReceive(this._ctx,l,this._input,this._output,n,this._timeout,!1,{result:function(c){r(z,function(){var f,m,q;function a(){f.read(32768,A._timeout,{result:function(d){r(z,function(){d?a():b();},A);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});}function b(){r(z,function(){var a;a=new wa(c.payloads,l);this._ctrl.buildResponse(this,this._ctx,a,m,this._timeout,{result:function(d){r(z,function(){var f;f=d.tokenTicket;this.peerToPeerExecute(a,d.builder,w,{result:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);return a;},A);},timeout:function(){r(z,function(){this._ctrl.releaseMasterToken(f);z.timeout();},A);},error:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);throw a;},A);}});},A);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},A);}f=c.response;w+=2;if(!f)return!0;m=f.getMessageHeader();if(m){q=c.payloads;q=0<q.length&&0<q[0].data.length;if(c.handshake&&q)a();else return!0;}else D(c);},A);},timeout:function(){z.timeout();},error:function(c){z.error(c);}});},A);},call:function(l){var n;n=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){r(l,function(){var z,D;z=w.builder;D=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,z,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(D);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(D);l.timeout();},n);},error:function(w){r(l,function(){var g,c,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(D);if(v(w))return!1;g=bc(z.getMessageId());w instanceof F?(c=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(c,a?a.languages:null),b=w):w instanceof Wa?(c=h.MSL_COMMS_FAILURE,a=null,b=w):(c=h.INTERNAL_EXCEPTION,a=null,b=new fa("Error sending the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),g,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new ib("Error sending the response.",a,null);},n);}});},n);}}):this.trustedNetworkExecute(z,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(D);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(D);l.timeout();},n);},error:function(w){r(l,function(){var g,c,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(D);if(v(w))return!1;g=bc(z.getMessageId());w instanceof F?(c=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(c,a?a.languages:null),b=w):w instanceof Wa?(c=h.MSL_COMMS_FAILURE,a=null,b=w):(c=h.INTERNAL_EXCEPTION,a=null,b=new fa("Error sending the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),g,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new ib("Error sending the response.",a,null);},n);}});},n);}});},n);},timeout:function(){l.timeout();},error:function(w){r(l,function(){var z,D,A,g;if(v(w))return!1;w instanceof F?(z=w.messageId,D=w.error,A=this._request.messageCapabilities,A=this._ctrl.messageRegistry.getUserMessage(D,A?A.languages:null),g=w):(z=null,D=h.INTERNAL_EXCEPTION,A=null,g=new fa("Error building the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),z,D,A,this._output,this._timeout,{result:function(c){l.error(g);},timeout:function(){l.timeout();},error:function(c){r(l,function(){if(v(c))return null;throw new ib("Error building the response.",c,w);},n);}});},n);}});}});xa=oa.Class.create({init:function(h,l,n,w,v,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var n;n=this;r(l,function(){var w,z;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?h.MASTERTOKEN_REJECTED_BY_APP:h.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?h.USERIDTOKEN_REJECTED_BY_APP:h.USER_REJECTED_BY_APP;else throw new fa("Unhandled application error "+this._appError+".");z=this._request.messageCapabilities;z=this._ctrl.messageRegistry.getUserMessage(w,z?z.languages:null);E(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,z,this._output,this._timeout,{result:function(h){l.result(h);},timeout:l.timeout,error:function(h){r(l,function(){if(v(h))return!1;if(h instanceof F)throw h;throw new fa("Error building the error response.",h);},n);}});},n);}});ua={result:function(){},timeout:function(){},error:function(){}};ga=oa.Class.create({init:function(h,l,n,w,v,r,g,c,a){var b;g?(b=g.builder,g=g.tokenTicket):g=b=null;Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:r,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:b,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:g,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:c,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},execute:function(h,l,n,w,v){var c;function z(a){function b(f){r(v,function(){var b;b=a.response;return f?f:b;},c);}r(v,function(){var f,m;f=a.response;f.close();m=f.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,m);this._ctrl.buildErrorResponse(this,this._ctx,h,a,m,n,{result:function(a){r(v,function(){var d,k,p,m;if(!a)return f;d=a.errorResult;k=a.tokenTicket;p=d.builder;d=d.msgCtx;if(this._ctx.isPeerToPeer())this.execute(d,p,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);b(a);},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);v.error(a);},c);}});else{this._openedStreams&&(this._input.close(),this._output.close(n,ua));m=new ga(this._ctrl,this._ctx,d,this._remoteEntity,null,null,{builder:p,tokenTicket:k},w,this._timeout);this.setAbort(function(){m.abort();});m.call({result:function(a){b(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);}function g(a){r(v,function(){var m,q,d,k,p;function b(){m.read(32768,c._timeout,{result:function(a){a?b():f();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function f(){r(v,function(){var d;d=new wa(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,q,n,{result:function(a){r(v,function(){var f;f=a.tokenTicket;this.execute(d,a.builder,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(f);return a;},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(f);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(f);throw a;},c);}});},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);}m=a.response;q=m.getMessageHeader();d=a.payloads;d=0<d.length&&0<d[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!d)return m;this._openedStreams&&(this._input.close(),this._output.close(n,ua));k=new wa(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,q,n,{result:function(a){r(v,function(){var d;d=new ga(this._ctrl,this._ctx,k,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){d.abort();});d.call(v);},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&d)b();else if(0<q.keyRequestData.length){p=new Z(h);this._ctrl.buildResponse(this,this._ctx,p,q,n,{result:function(a){r(v,function(){var d,f;d=a.builder;f=a.tokenTicket;m.mark();m.read(1,this._timeout,{result:function(a){r(v,function(){function b(){m.read(32768,c._timeout,{result:function(a){a?b():k();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function k(){c.execute(p,d,c._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(f);return a;},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(f);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(f);throw a;},c);}});}if(a)if(m.reset(),12>=w+1)d.setRenewable(!1),this._ctrl.send(this,this._ctx,p,this._output,d,this._timeout,{result:function(a){r(v,function(){this.releaseMasterToken(f);return m;},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(f),m;else b();},c);},timeout:function(){r(v,function(){this.releaseMasterToken(f);v.timeout();},c);},error:function(a){r(v,function(){this.releaseMasterToken(f);throw a;},c);}});},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},c);}c=this;r(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,h,this._input,this._output,l,n,!0,{result:function(a){r(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?g(a):z(a);},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);},call:function(h){var n;function l(l,w,z){r(h,function(){this.execute(this._msgCtx,l,z,this._msgCount,{result:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(z,ua);g&&g.closeSource(this._openedStreams);return g;},n);},timeout:function(){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(z,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(z,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}n=this;r(h,function(){var w,z,E;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);z=Date.now();E=this._remoteEntity.openConnection();this._output=E.output;this._input=E.input;-1!=w&&(w=this._timeout-(Date.now()-z));this._openedStreams=!0;}catch(g){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,ua);this._input&&this._input.close();if(v(g))return null;throw g;}this._builder?l(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){r(h,function(){l(g.builder,g.tokenTicket,w);},n);},timeout:function(){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}});}());(function(){pd=oa.Class.create({init:function(h){Object.defineProperties(this,{id:{value:h,writable:!1,configurable:!1}});},toJSON:function(){var h;h={};h.id=this.id;return h;},equals:function(h){return this===h?!0:h instanceof pd?this.id==h.id:!1;},uniqueKey:function(){return this.id;}});se=function(l){var n;n=l.id;if(!n)throw new ia(h.JSON_PARSE_ERROR,JSON.stringify(l));return new pd(n);};}());oa.Class.create({isNewestMasterToken:function(h,l,n){},isMasterTokenRevoked:function(h,l){},acceptNonReplayableId:function(h,l,n,r){},createMasterToken:function(h,l,n,r,J){},isMasterTokenRenewable:function(h,l,n){},renewMasterToken:function(h,l,n,r,J){},isUserIdTokenRevoked:function(h,l,n,r){},createUserIdToken:function(h,l,n,r){},renewUserIdToken:function(h,l,n,r){}});(function(){function l(h,l,n,r){this.sessiondata=h;this.tokendata=l;this.signature=n;this.verified=r;}gb=oa.Class.create({init:function(h,l,r,J,v,E,I,F,K,wa,Z){var w;w=this;n(Z,function(){var z,D,aa,ga,da;if(r.getTime()<l.getTime())throw new fa("Cannot construct a master token that expires before its renewal window opens.");if(0>J||J>La)throw new fa("Sequence number "+J+" is outside the valid range.");if(0>v||v>La)throw new fa("Serial number "+v+" is outside the valid range.");z=Math.floor(l.getTime()/1E3);D=Math.floor(r.getTime()/1E3);if(wa)aa=wa.sessiondata;else{ga={};E&&(ga.issuerdata=E);ga.identity=I;ga.encryptionkey=qa(F.toByteArray());ga.hmackey=qa(K.toByteArray());aa=Sa(JSON.stringify(ga),Ka);}if(wa)return Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:D,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},identity:{value:I,writable:!1,configurable:!1},encryptionKey:{value:F,writable:!1,configurable:!1},hmacKey:{value:K,writable:!1,configurable:!1},sessiondata:{value:aa,writable:!1,enumerable:!1,configurable:!1},verified:{value:wa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:wa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;da=h.getMslCryptoContext();da.encrypt(aa,{result:function(l){n(Z,function(){var r,A;r={};r.renewalwindow=z;r.expiration=D;r.sequencenumber=J;r.serialnumber=v;r.sessiondata=qa(l);A=Sa(JSON.stringify(r),Ka);da.sign(A,{result:function(l){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:D,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},identity:{value:I,writable:!1,configurable:!1},encryptionKey:{value:F,writable:!1,configurable:!1},hmacKey:{value:K,writable:!1,configurable:!1},sessiondata:{value:aa,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:A,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){Z.error(h);}});},w);},error:function(h){Z.error(h);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(h){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(h){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(h){var l;if(this.sequenceNumber==h.sequenceNumber)return this.expiration>h.expiration;if(this.sequenceNumber>h.sequenceNumber){l=this.sequenceNumber-La+127;return h.sequenceNumber>=l;}l=h.sequenceNumber-La+127;return this.sequenceNumber<l;},toJSON:function(){var h;h={};h.tokendata=qa(this.tokendata);h.signature=qa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof gb?this.serialNumber==h.serialNumber&&this.sequenceNumber==h.sequenceNumber&&this.expiration.getTime()==h.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Rb=function(w,r,D){n(D,function(){var z,v,E,I,aa;z=w.getMslCryptoContext();v=r.tokendata;E=r.signature;if("string"!==typeof v||"string"!==typeof E)throw new ia(h.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(r));try{I=va(v);}catch(Aa){throw new F(h.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(r),Aa);}if(!I||0==I.length)throw new ia(h.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(r));try{aa=va(E);}catch(Aa){throw new F(h.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(r),Aa);}z.verify(I,aa,{result:function(v){n(D,function(){var r,E,J,A,W,K,ga,da,ua,Ca;K=Va(I,Ka);try{ga=JSON.parse(K);r=parseInt(ga.renewalwindow);E=parseInt(ga.expiration);J=parseInt(ga.sequencenumber);A=parseInt(ga.serialnumber);W=ga.sessiondata;}catch(ta){if(ta instanceof SyntaxError)throw new ia(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+K,ta);throw ta;}if(!r||r!=r||!E||E!=E||"number"!==typeof J||J!=J||"number"!==typeof A||A!=A||"string"!==typeof W)throw new ia(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+K);if(E<r)throw new F(h.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+K);if(0>J||J>La)throw new F(h.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+K);if(0>A||A>La)throw new F(h.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+K);da=new Date(1E3*r);ua=new Date(1E3*E);try{Ca=va(W);}catch(ta){throw new F(h.MASTERTOKEN_SESSIONDATA_INVALID,W,ta);}if(!Ca||0==Ca.length)throw new F(h.MASTERTOKEN_SESSIONDATA_MISSING,W);v?z.decrypt(Ca,{result:function(r){n(D,function(){var z,E,F,Z,W,ga;W=Va(r,Ka);try{ga=JSON.parse(W);z=ga.issuerdata;E=ga.identity;F=ga.encryptionkey;Z=ga.hmackey;}catch(g){if(g instanceof SyntaxError)throw new ia(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+W,g);throw g;}if(z&&"object"!==typeof z||!E||"string"!==typeof F||"string"!==typeof Z)throw new ia(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+W);yb(F,qb,Gb,{result:function(g){yb(Z,rb,Qb,{result:function(c){n(D,function(){var a;a=new l(r,I,aa,v);new gb(w,da,ua,J,A,z,E,g,c,a,D);});},error:function(c){D.error(new Q(h.MASTERTOKEN_KEY_CREATION_ERROR,c));}});},error:function(g){D.error(new Q(h.MASTERTOKEN_KEY_CREATION_ERROR,g));}});});},error:function(h){D.error(h);}}):(r=new l(null,I,aa,v),new gb(w,da,ua,J,A,null,null,null,null,r,D));});},error:function(h){D.error(h);}});});};}());(function(){function l(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Zb=oa.Class.create({init:function(h,l,r,J,v,E,I,aa,K){var w;w=this;n(K,function(){var z,D,A,W,xa,ga,da;if(r.getTime()<l.getTime())throw new fa("Cannot construct a user ID token that expires before its renewal window opens.");if(!J)throw new fa("Cannot construct a user ID token without a master token.");if(0>v||v>La)throw new fa("Serial number "+v+" is outside the valid range.");z=Math.floor(l.getTime()/1E3);D=Math.floor(r.getTime()/1E3);A=J.serialNumber;if(aa){W=aa.tokendata;xa=aa.signature;ga=aa.verified;A=J.serialNumber;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:D,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:A,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},customer:{value:I,writable:!1,configurable:!1},verified:{value:ga,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:W,writable:!1,enumerable:!1,configurable:!1},signature:{value:xa,writable:!1,enumerable:!1,configurable:!1}});return this;}W={};E&&(W.issuerdata=E);W.identity=I;W=Sa(JSON.stringify(W),Ka);da=h.getMslCryptoContext();da.encrypt(W,{result:function(l){n(K,function(){var r,Z;r={};r.renewalwindow=z;r.expiration=D;r.mtserialnumber=A;r.serialnumber=v;r.userdata=qa(l);Z=Sa(JSON.stringify(r),Ka);da.sign(Z,{result:function(l){n(K,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:D,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:J.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},customer:{value:I,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Z,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(K,function(){h instanceof F&&h.setEntity(J);throw h;},w);}});},w);},error:function(h){n(K,function(){h instanceof F&&h.setEntity(J);throw h;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(h){return h&&h.serialNumber==this.mtSerialNumber;},toJSON:function(){var h;h={};h.tokendata=qa(this.tokendata);h.signature=qa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Zb?this.serialNumber==h.serialNumber&&this.mtSerialNumber==h.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Sb=function(w,r,D,J){n(J,function(){var v,z,I,aa,K;v=w.getMslCryptoContext();z=r.tokendata;I=r.signature;if("string"!==typeof z||"string"!==typeof I)throw new ia(h.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(r)).setEntity(D);try{aa=va(z);}catch(wa){throw new F(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),wa).setEntity(D);}if(!aa||0==aa.length)throw new ia(h.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(r)).setEntity(D);try{K=va(I);}catch(wa){throw new F(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),wa).setEntity(D);}v.verify(aa,K,{result:function(r){n(J,function(){var z,E,A,I,xa,ga,da,ua,Ca,Aa;ga=Va(aa,Ka);try{da=JSON.parse(ga);z=parseInt(da.renewalwindow);E=parseInt(da.expiration);A=parseInt(da.mtserialnumber);I=parseInt(da.serialnumber);xa=da.userdata;}catch(ka){if(ka instanceof SyntaxError)throw new ia(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ga,ka).setEntity(D);throw ka;}if(!z||z!=z||!E||E!=E||"number"!==typeof A||A!=A||"number"!==typeof I||I!=I||"string"!==typeof xa)throw new ia(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ga).setEntity(D);if(E<z)throw new F(h.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+ga).setEntity(D);if(0>A||A>La)throw new F(h.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ga).setEntity(D);if(0>I||I>La)throw new F(h.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ga).setEntity(D);ua=new Date(1E3*z);Ca=new Date(1E3*E);if(!D||A!=D.serialNumber)throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+A+"; mt "+JSON.stringify(D)).setEntity(D);try{Aa=va(xa);}catch(ka){throw new F(h.USERIDTOKEN_USERDATA_INVALID,xa,ka).setEntity(D);}if(!Aa||0==Aa.length)throw new F(h.USERIDTOKEN_USERDATA_MISSING,xa).setEntity(D);r?v.decrypt(Aa,{result:function(v){n(J,function(){var n,z,E,A,Z;E=Va(v,Ka);try{A=JSON.parse(E);n=A.issuerdata;z=A.identity;}catch(g){if(g instanceof SyntaxError)throw new ia(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+E).setEntity(D);throw g;}if(n&&"object"!==typeof n||"object"!==typeof z)throw new ia(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+E).setEntity(D);try{Z=se(z);}catch(g){throw new F(h.USERIDTOKEN_IDENTITY_INVALID,"userdata "+E,g).setEntity(D);}z=new l(aa,K,r);new Zb(w,ua,Ca,D,I,n,Z,z,J);});},error:function(h){n(J,function(){h instanceof F&&h.setEntity(D);throw h;});}}):(z=new l(aa,K,r),new Zb(w,ua,Ca,D,I,null,null,z,J));});},error:function(h){n(J,function(){h instanceof F&&h.setEntity(D);throw h;});}});});};}());(function(){function l(l,n){var w,v,r;w=l.tokendata;if("string"!==typeof w)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));try{v=va(w);}catch(Ca){throw new F(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(l),Ca);}if(!v||0==v.length)throw new ia(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(l));try{r=JSON.parse(Va(v,Ka)).name;}catch(Ca){if(Ca instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l),Ca);throw Ca;}if(!r)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));return n[r]?n[r]:n[""];}function w(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Jb=oa.Class.create({init:function(h,l,w,v,r,I,aa,K,Q,Z){var z;z=this;n(Z,function(){var E,D,J,ga,da;if(v&&r&&!r.isBoundTo(v))throw new fa("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");E=v?v.serialNumber:-1;D=r?r.serialNumber:-1;if(Q)return da=Q.tokendata,Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:D,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:Q.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:Q.signature,writable:!1,enumerable:!1,configurable:!1}}),this;aa?(J=od(aa,w),J.length<w.length||(aa=null,J=w)):(aa=null,J=w);ga={};ga.name=l;-1!=E&&(ga.mtserialnumber=E);-1!=D&&(ga.uitserialnumber=D);ga.encrypted=I;aa&&(ga.compressionalgo=aa);if(I&&0<J.length)K.encrypt(J,{result:function(A){n(Z,function(){var J;ga.servicedata=qa(A);J=Sa(JSON.stringify(ga),Ka);K.sign(J,{result:function(v){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:D,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:J,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(h){n(Z,function(){h instanceof F&&(h.setEntity(v),h.setUser(r));throw h;});}});},z);},error:function(h){n(Z,function(){h instanceof F&&(h.setEntity(v),h.setUser(r));throw h;});}});else{ga.servicedata=qa(J);da=Sa(JSON.stringify(ga),Ka);K.sign(da,{result:function(v){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:D,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(h){n(Z,function(){h instanceof F&&(h.setEntity(v),h.setUser(r));throw h;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(h){return h?h instanceof gb?h.serialNumber==this.mtSerialNumber:h instanceof Zb?h.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var h;h={};h.tokendata=qa(this.tokendata);h.signature=qa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Jb?this.name==h.name&&this.mtSerialNumber==h.mtSerialNumber&&this.uitSerialNumber==h.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Cb=function(h,l,n,v,w,r,I,F,K){new Jb(h,l,n,v,w,r,I,F,null,K);};Hc=function(r,D,J,v,E,I){n(I,function(){var z,K,Q,Z,ra,A,W,xa,ga,da,ua,Ca,ta;!E||E instanceof $b||(E=l(D,E));z=D.tokendata;K=D.signature;if("string"!==typeof z||"string"!==typeof K)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(D)).setEntity(J).setEntity(v);try{Q=va(z);}catch(ka){throw new F(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(D),ka).setEntity(J).setEntity(v);}if(!Q||0==Q.length)throw new ia(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(D)).setEntity(J).setEntity(v);try{Z=va(K);}catch(ka){throw new F(h.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(D),ka).setEntity(J).setEntity(v);}ua=Va(Q,Ka);try{Ca=JSON.parse(ua);ra=Ca.name;A=Ca.mtserialnumber?parseInt(Ca.mtserialnumber):-1;W=Ca.uitserialnumber?parseInt(Ca.uitserialnumber):-1;xa=Ca.encrypted;ga=Ca.compressionalgo;da=Ca.servicedata;}catch(ka){if(ka instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"servicetokendata "+ua,ka).setEntity(J).setEntity(v);throw ka;}if(!ra||"number"!==typeof A||A!=A||"number"!==typeof W||W!=W||"boolean"!==typeof xa||ga&&"string"!==typeof ga||"string"!==typeof da)throw new ia(h.JSON_PARSE_ERROR,"servicetokendata "+ua).setEntity(J).setEntity(v);if(Ca.mtserialnumber&&0>A||A>La)throw new F(h.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(J).setEntity(v);if(Ca.uitserialnumber&&0>W||W>La)throw new F(h.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(J).setEntity(v);if(-1!=A&&(!J||A!=J.serialNumber))throw new F(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+A+"; mt "+J).setEntity(J).setEntity(v);if(-1!=W&&(!v||W!=v.serialNumber))throw new F(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+W+"; uit "+v).setEntity(J).setEntity(v);xa=!0===xa;if(ga){if(!Nb[ga])throw new F(h.UNIDENTIFIED_COMPRESSION,ga);ta=ga;}else ta=null;E?E.verify(Q,Z,{result:function(l){n(I,function(){var z,D;if(l){try{z=va(da);}catch(hd){throw new F(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua,hd).setEntity(J).setEntity(v);}if(!z||0!=da.length&&0==z.length)throw new F(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua).setEntity(J).setEntity(v);if(xa&&0<z.length)E.decrypt(z,{result:function(h){n(I,function(){var n,z;n=ta?Ic(ta,h):h;z=new w(Q,Z,l);new Jb(r,ra,n,-1!=A?J:null,-1!=W?v:null,xa,ta,E,z,I);});},error:function(h){n(I,function(){h instanceof F&&(h.setEntity(J),h.setUser(v));throw h;});}});else{z=ta?Ic(ta,z):z;D=new w(Q,Z,l);new Jb(r,ra,z,-1!=A?J:null,-1!=W?v:null,xa,ta,E,D,I);}}else z=""==da?new Uint8Array(0):null,D=new w(Q,Z,l),new Jb(r,ra,z,-1!=A?J:null,-1!=W?v:null,xa,ta,E,D,I);});},error:function(h){n(I,function(){h instanceof F&&(h.setEntity(J),h.setUser(v));throw h;});}}):(z=""==da?new Uint8Array(0):null,K=new w(Q,Z,!1),new Jb(r,ra,z,-1!=A?J:null,-1!=W?v:null,xa,ta,E,K,I));});};}());cb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(cb);(function(){Fb=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Fb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});he=function(l,w,r,D){n(D,function(){var n,v,z;n=r.scheme;v=r.authdata;if(!n||!v)throw new ia(h.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(r));if(!cb[n])throw new Da(h.UNIDENTIFIED_USERAUTH_SCHEME,n);z=l.getUserAuthenticationFactory(n);if(!z)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,n);z.createData(l,w,v,D);});};}());mc=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,l,n,r){},authenticate:function(h,l,n,r){}});(function(){Vb=Fb.extend({init:function w(h,l){w.base.call(this,cb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:h,writable:!1,configurable:!1},secureNetflixId:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.netflixid=this.netflixId;this.secureNetflixId&&(h.securenetflixid=this.secureNetflixId);return h;},equals:function z(h){return this===h?!0:h instanceof Vb?z.base.call(this,h)&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId:!1;}});te=function(l){var n,r;n=l.netflixid;r=l.securenetflixid;if(!n)throw new ia(h.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(l));return new Vb(n,r);};}());Ye=mc.extend({init:function w(){w.base.call(this,cb.NETFLIXID);},createData:function(h,l,r,J){n(J,function(){return te(r);});},authenticate:function(l,n,r,J){if(!(r instanceof Vb))throw new fa("Incorrect authentication data type "+r+".");l=r.secureNetflixId;if(!r.netflixId||!l)throw new Da(h.NETFLIXID_COOKIES_BLANK).setUser(r);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){nc=Fb.extend({init:function z(h,l){z.base.call(this,cb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:h,writable:!1,configurable:!1},password:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.email=this.email;h.password=this.password;return h;},equals:function D(h){return this===h?!0:h instanceof nc?D.base.call(this,this,h)&&this.email==h.email&&this.password==h.password:!1;}});ue=function(l){var n,v;n=l.email;v=l.password;if(!n||!v)throw new ia(h.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(l));return new nc(n,v);};}());Ze=mc.extend({init:function z(){z.base.call(this,cb.EMAIL_PASSWORD);},createData:function(h,l,r,v){n(v,function(){return ue(r);});},authenticate:function(l,n,r,v){if(!(r instanceof nc))throw new fa("Incorrect authentication data type "+r+".");l=r.password;if(!r.email||!l)throw new Da(h.EMAILPASSWORD_BLANK).setUser(r);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){var v,E,K,aa,Aa,wa,Z,ra;function l(h,l){return"<"+h+">"+l+"</"+h+">";}function r(h){return h.replace(/[<>&"']/g,function(h){return Aa[h];});}function J(h){return encodeURIComponent(h).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Lc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};E=oa.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});K=qd=E.extend({init:function(l,v,r,z,E,D,J){var Z;function A(z){n(J,function(){var n,A;try{A={};A.useridtoken=l;A.action=v;A.nonce=r;A.pin=qa(z);n=Sa(JSON.stringify(A),Ka);}catch(Ib){throw new ia(h.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Ib);}E.sign(n,{result:function(h){F(n,h);},error:J.error});},Z);}function F(h,E){n(J,function(){Object.defineProperties(this,{_userIdToken:{value:l,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:E,writable:!1,enumerable:!1,configurable:!1}});return this;},Z);}Z=this;n(J,function(){D?F(D.encoding,D.signature):E.encrypt(Sa(z,Ka),{result:function(h){A(h);},error:J.error});},Z);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof K?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin&&this._userIdToken.equals(h._userIdToken):!1;}});qd.ACTION="userauth";aa=function(l,v,r,z,E){function D(z){n(E,function(){var D,J,Z,aa,K,W;D=Va(r,Ka);try{W=JSON.parse(D);J=W.useridtoken;Z=W.action;aa=W.nonce;K=W.pin;}catch(g){if(g instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+D,g);throw g;}if(!(J&&"object"===typeof J&&Z&&"string"===typeof Z&&aa&&"number"===typeof aa&&K)||"string"!==typeof K)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+D);Sb(l,J,v,{result:function(g){n(E,function(){if(!g.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+D);A(z,g,Z,aa,K);});},error:function(g){n(E,function(){if(g instanceof F)throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+D,g);throw g;});}});});}function A(h,l,v,D,A){n(E,function(){var J;J=va(A);h.decrypt(J,{result:function(h){n(E,function(){var g;g=Va(h,Ka);new K(l,v,D,g,null,{encoding:r,signature:z},E);});},error:E.error});});}n(E,function(){var A,J;try{J=l.getMslStore().getCryptoContext(v);A=J?J:new hb(l,v);}catch(vb){if(vb instanceof Pb)throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+qa(r));throw vb;}A.verify(r,z,{result:function(l){n(E,function(){if(!l)throw new Q(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+qa(r));D(A);});},error:E.error});});};Aa={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};wa=oc=E.extend({init:function(h,n,v,z){var E,D;E=l("action",r(h));D=l("nonce",n.toString());v=l("pin",v);E=l("registerdata",E+D+v);E=Sa(E,"utf-8");Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:n,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:E,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof wa?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});oc.ACTION="regpairrequest";Z=rd=E.extend({init:function(h,v,z,E,D,F){var aa;function A(z){n(F,function(){var n,D,A,aa,g;n=qa(z);D=l("action",r(h));A=l("nonce",v.toString());aa=l("pin",n);D=l("registerdata",D+A+aa);g=Sa(D,"utf-8");n="action="+J(h)+"&nonce="+J(v.toString())+"&pin="+J(n);E.sign(Sa(n,"utf-8"),{result:function(c){Z(g,c);},error:F.error});},aa);}function Z(l,r){n(F,function(){Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}});return this;},aa);}aa=this;n(F,function(){D?Z(D.encoding,D.signature):E.encrypt(Sa(z,"utf-8"),{result:function(h){A(h);},error:F.error});},aa);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof Z?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});rd.ACTION=oc.ACTION;ra=function(l,v,r,z,E){n(E,function(){var D,A,F,aa,K,W,ga;D=l.getMslStore().getCryptoContext(v);A=D?D:new hb(l,v);D=Va(r,"utf-8");F=new DOMParser().parseFromString(D,"application/xml");D=F.getElementsByTagName("action");aa=F.getElementsByTagName("nonce");F=F.getElementsByTagName("pin");K=D&&1==D.length&&D[0].firstChild?D[0].firstChild.nodeValue:null;W=aa&&1==aa.length&&aa[0].firstChild?parseInt(aa[0].firstChild.nodeValue):null;ga=F&&1==F.length&&F[0].firstChild?F[0].firstChild.nodeValue:null;if(!K||!W||!ga)throw new ia(h.XML_PARSE_ERROR,"MDX authdata "+qa(r));D="action="+J(K)+"&nonce="+J(W.toString())+"&pin="+J(ga);A.verify(Sa(D,"utf-8"),z,{result:function(l){n(E,function(){var v;if(!l)throw new Q(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+qa(r));v=va(ga);A.decrypt(v,{result:function(g){n(E,function(){var c;c=Va(g,"utf-8");new Z(K,W,c,null,{encoding:r,signature:z},E);});},error:E.error});});},error:E.error});});};cc=Fb.extend({init:function W(h,l,n,r,z,E){var D,J,F,Z,aa,ga;W.base.call(this,cb.MDX);D=null;J=null;F=null;if("string"===typeof n)h=v.MSL_LEGACY,F=n;else if(n instanceof Uint8Array)h=v.NTBA,J=n;else if(n instanceof gb)h=v.MSL,D=n;else throw new TypeError("Controller token "+n+" is not a master token, encrypted CTicket, or MSL token construct.");Z=n=null;aa=null;if(E){ga=E.controllerAuthData;n=ga.getAction();Z=ga.getPin();E=E.userIdToken;ga instanceof K?aa=ga.getUserIdToken().customer:E&&(aa=E.customer);}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},action:{value:n,writable:!1,configurable:!1},targetPin:{value:l,writable:!1,configurable:!1},controllerPin:{value:Z,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},_masterToken:{value:D,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:J,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var h,l;h={};switch(this.mechanism){case v.MSL:l=JSON.parse(JSON.stringify(this._masterToken));h.mastertoken=l;break;case v.NTBA:l=Va(this._encryptedCTicket,"utf-8");h.cticket=l;break;case v.MSL_LEGACY:h.cticket=this._mslTokens;break;default:throw new fa("Unsupported MDX mechanism.");}h.pin=this.targetPin;h.mdxauthdata=qa(this._controllerEncoding);h.signature=qa(this._signature);return h;},equals:function xa(h){return this===h?!0:h instanceof cc?xa.base.call(this,h)&&(this._masterToken==h._masterToken||this._masterToken&&this._masterToken.equals(h._masterToken))&&(this._encryptedCTicket==h._encryptedCTicket||this._encryptedCTicket&&$a(this._encryptedCTicket,h._encryptedCTicket))&&this._mslTokens==h._mslTokens&&$a(this._controllerEncoding,h._controllerEncoding)&&$a(this._signature,h._signature):!1;}});ve=function(l,v,r){function z(z,E,D,J){Rb(l,E,{result:function(E){n(r,function(){if(!E.isDecrypted())throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());aa(l,E,D,J,{result:function(h){n(r,function(){var g,c;g=h.getEncoding();c=h.getSignature();return new cc(l,z,E,g,c,{controllerAuthData:h,userIdToken:null});});},error:r.error});});},error:function(l){n(r,function(){if(l instanceof F)throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);throw l;});}});}function E(l,v,z,E){n(r,function(){throw new Da(h.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function D(z,E,D,J){function Z(g,c){n(c,function(){var a,b;try{a=va(g);}catch(f){throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),f);}if(!a||0==a.length)throw new Da(h.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{b=JSON.parse(Va(a,"utf-8"));Rb(l,b,{result:function(a){n(c,function(){if(!a.isDecrypted())throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){n(c,function(){if(a instanceof F)throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(f){if(f instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),f);throw f;}});}function aa(g,c,a){n(a,function(){var b,f;try{b=va(g);}catch(m){throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),m);}if(!b||0==b.length)throw new Da(h.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{f=JSON.parse(Va(b,"utf-8"));Sb(l,f,c,{result:function(f){n(a,function(){if(!f.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return f;});},error:function(f){n(a,function(){if(f instanceof F)throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),f);throw f;});}});}catch(m){if(m instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),m);throw m;}});}n(r,function(){var g;g=E.split(",");if(3!=g.length||"1"!=g[0])throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));Z(g[1],{result:function(c){aa(g[2],c,{result:function(a){ra(l,c,D,J,{result:function(b){n(r,function(){return new cc(l,z,E,D,J,{controllerAuthData:b,userIdToken:a});});},error:function(a){n(r,function(){if(a instanceof Pb)throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:r.error});},error:r.error});});}n(r,function(){var l,n,r,J,F;l=v.pin;n=v.mdxauthdata;r=v.signature;if(!l||"string"!==typeof l||!n||"string"!==typeof n||!r||"string"!==typeof r)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{J=va(n);F=va(r);}catch(Ib){throw new Da(h.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Ib);}if(v.mastertoken){n=v.mastertoken;if(!n||"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));z(l,n,J,F);}else if(v.cticket){n=v.cticket;if(!n||"string"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==n.indexOf(",")?E(l,n,J,F):D(l,n,J,F);}else throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var l,n,r;l=qd.ACTION;n=oc.ACTION;r=rd.ACTION;we=mc.extend({init:function E(){E.base.call(this,cb.MDX);},createData:function(h,l,n,r){ve(h,n,r);},authenticate:function(z,D,J,F){if(!(J instanceof cc))throw new fa("Incorrect authentication data type "+J.getClass().getName()+".");z=J.action;switch(J.mechanism){case Lc.MSL:if(l!=z)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Lc.NTBA:if(n!=z)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Lc.MSL_LEGACY:if(r!=z)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);}z=J.controllerPin;D=J.targetPin;if(!z||!D)throw new Da(h.MDX_PIN_BLANK).setUser(J);if(z!=D)throw new Da(h.MDX_PIN_MISMATCH).setUser(J);z=J.customer;if(!z)throw new Da(h.MDX_USER_UNKNOWN).setUser(J);if(F&&(F=F.customer,!z.equals(F)))throw new Da(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+z+"; uit customer "+F).setUser(J);return z;}});}());(function(){var l,n,r;l={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};n=ye=oa.Class.create({init:function(h,l){Object.defineProperties(this,{email:{value:h,writable:!1,enumerable:!0,configurable:!1},password:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});r=ze=oa.Class.create({init:function(h,l){Object.defineProperties(this,{netflixId:{value:h,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});pc=Fb.extend({init:function E(h,l,z,D){var J,F,A,K;E.base.call(this,cb.SSO);J=null;F=null;A=null;K=null;z instanceof n?(J=z.email,F=z.password):z instanceof r&&(A=z.netflixId,K=z.secureNetflixId);Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},token:{value:l,writable:!1,configurable:!1},email:{value:J,writable:!1,configurable:!1},password:{value:F,writable:!1,configurable:!1},netflixId:{value:A,writable:!1,configurable:!1},secureNetflixId:{value:K,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof D?null:D,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.mechanism=this.mechanism;h.token=qa(this.token);this.email&&this.password?(h.email=this.email,h.password=this.password):this.netflixId&&this.secureNetflixId&&(h.netflixid=this.netflixId,h.securenetflixid=this.secureNetflixId);this.profileGuid&&(h.profileguid=this.profileGuid);return h;},equals:function Ca(h){return this===h?!0:h instanceof pc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.token,h.token)&&this.email==h.email&&this.password==h.password&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId&&this.profileGuid==h.profileGuid:!1;}});xe=function(z){var D,J,F,Z,K,A,W,Q,ga;D=z.mechanism;J=z.token;if(!D||!J||"string"!==typeof J)throw new ia(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(z));if(!l[D])throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(z));F=z.email;Z=z.password;K=z.netflixid;A=z.securenetflixid;W=z.profileguid;if(F&&!Z||!F&&Z||K&&!A||!K&&A||F&&K)throw new ia(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(z));try{Q=va(J);}catch(da){throw new Da(h.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(z),da);}F&&Z?ga=new n(F,Z):K&&A&&(ga=new r(K,A));return new pc(D,Q,ga,W);};}());$e=mc.extend({init:function D(){D.base.call(this,cb.SSO);},createData:function(h,l,v,r){n(r,function(){return xe(v);});},authenticate:function(l,n,v,r){var E,D;if(!(v instanceof pc))throw new fa("Incorrect authentication data type "+v+".");l=v.token;n=v.email;r=v.password;E=v.netflixId;D=v.secureNetflixId;if(!l||0==l.length)throw new Da(h.SSOTOKEN_BLANK);if(!(null===n&&null===r||n&&r))throw new Da(h.EMAILPASSWORD_BLANK);if(!(null===E&&null===D||E&&D))throw new Da(h.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){qc=Fb.extend({init:function J(h,l){J.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:h,writable:!1,configurable:!1},profileGuid:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));h.profileguid=this.profileGuid;return h;},equals:function v(h){return this==h?!0:h instanceof qc?v.base.call(this,h)&&this.userIdToken.equals(h.userIdToken)&&this.profileGuid==h.profileGuid:!1;}});Ae=function(l,r,F,K){n(K,function(){var v,E;if(!r)throw new Da(h.USERAUTH_MASTERTOKEN_MISSING);v=F.useridtoken;E=F.profileguid;if("object"!==typeof v||"string"!==typeof E)throw new ia(h.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(F));Sb(l,v,r,{result:function(l){n(K,function(){if(!l.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(F));return new qc(l,E);});},error:function(l){K.error(new Da(h.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(F),l));}});});};}());af=mc.extend({init:function J(h){J.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,l,n,r){Ae(h,l,n,r);},authenticate:function(l,n,r,F){if(!(r instanceof qc))throw new fa("Incorrect authentication data type "+r+".");n=r.userIdToken;l=r.profileGuid;if(!l)throw new Da(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(r);n=n.user;if(!n)throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(r);l=this._store.switchUsers(n,l);if(!l)throw new Da(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(r);if(F&&(F=F.user,!l.equals(F)))throw new Da(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+l+"; uit user "+F).setUserAuthenticationData(r);return l;}});Object.freeze({ENTITY_REAUTH:l.ENTITY_REAUTH,ENTITYDATA_REAUTH:l.ENTITYDATA_REAUTH});bf=oa.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(h,l){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(h){},getUserAuthenticationFactory:function(h){},getTokenFactory:function(){},getKeyExchangeFactory:function(h){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Be=oa.Class.create({setCryptoContext:function(h,l){},getMasterToken:function(){},getNonReplayableId:function(h){},getCryptoContext:function(h){},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(h,l){},removeServiceTokens:function(h,l,n){},clearServiceTokens:function(){}});(function(){var l;l=Nb;od=function(n,r){var v;v={};switch(n){case l.LZW:return Dd(r,v);case l.GZIP:return gzip$compress(r);default:throw new F(h.UNSUPPORTED_COMPRESSION,n);}};Ic=function(n,r,J){switch(n){case l.LZW:return Ed(r);case l.GZIP:return gzip$uncompress(r);default:throw new F(h.UNSUPPORTED_COMPRESSION,n.name());}};}());Be.extend({setCryptoContext:function(h,l){},getMasterToken:function(){return null;},getNonReplayableId:function(h){return 1;},getCryptoContext:function(h){return null;},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){return null;},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(l,n){if(n){if(!l)throw new F(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}return[];},removeServiceTokens:function(l,n,r){if(r&&n&&!r.isBoundTo(n))throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.masterTokenSerialNumber+"; mt "+n.serialNumber);},clearServiceTokens:function(){}});(function(){Ce=Be.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(h,l){var n;if(l){n=h.uniqueKey();this.masterTokens[n]=h;this.cryptoContexts[n]=l;}else this.removeCryptoContext(h);},getMasterToken:function(){var h,l,n;h=null;for(l in this.masterTokens){n=this.masterTokens[l];if(!h||n.isNewerThan(h))h=n;}return h;},getNonReplayableId:function(h){var l;h=h.serialNumber;l=this.nonReplayableIds[h]!==la?this.nonReplayableIds[h]:0;if(0>l||l>La)throw new fa("Non-replayable ID "+l+" is outside the valid range.");l=l==La?0:l+1;return this.nonReplayableIds[h]=l;},getCryptoContext:function(h){return this.cryptoContexts[h.uniqueKey()];},removeCryptoContext:function(h){var l,n;l=h.uniqueKey();if(this.masterTokens[l]){delete this.masterTokens[l];delete this.cryptoContexts[l];l=h.serialNumber;for(n in this.masterTokens)if(this.masterTokens[n].serialNumber==l)return;delete this.nonReplayableIds[l];Object.keys(this.userIdTokens).forEach(function(l){l=this.userIdTokens[l];l.isBoundTo(h)&&this.removeUserIdToken(l);},this);try{this.removeServiceTokens(null,h,null);}catch(aa){if(aa instanceof F)throw new fa("Unexpected exception while removing master token bound service tokens.",aa);throw aa;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);},addUserIdToken:function(l,n){var r,v;r=!1;for(v in this.masterTokens)if(n.isBoundTo(this.masterTokens[v])){r=!0;break;}if(!r)throw new F(h.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+n.mtSerialNumber);this.userIdTokens[l]=n;},getUserIdToken:function(h){return this.userIdTokens[h];},removeUserIdToken:function(h){var l,n,r;l=null;for(n in this.masterTokens){r=this.masterTokens[n];if(h.isBoundTo(r)){l=r;break;}}Object.keys(this.userIdTokens).forEach(function(n){if(this.userIdTokens[n].equals(h)){delete this.userIdTokens[n];try{this.removeServiceTokens(null,l,h);}catch(wa){if(wa instanceof F)throw new fa("Unexpected exception while removing user ID token bound service tokens.",wa);throw wa;}}},this);},clearUserIdTokens:function(){var l;for(var h in this.userIdTokens){l=this.userIdTokens[h];try{this.removeServiceTokens(null,null,l);}catch(Ca){if(Ca instanceof F)throw new fa("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[h];}},addServiceTokens:function(l){l.forEach(function(l){var n,r,v;if(l.isUnbound())this.unboundServiceTokens[l.uniqueKey()]=l;else{if(l.isMasterTokenBound()){n=!1;for(r in this.masterTokens)if(l.isBoundTo(this.masterTokens[r])){n=!0;break;}if(!n)throw new F(h.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+l.mtSerialNumber);}if(l.isUserIdTokenBound()){n=!1;for(v in this.userIdTokens)if(l.isBoundTo(this.userIdTokens[v])){n=!0;break;}if(!n)throw new F(h.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+l.uitSerialNumber);}l.isMasterTokenBound()&&((v=this.mtServiceTokens[l.mtSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.mtServiceTokens[l.mtSerialNumber]=v);l.isUserIdTokenBound()&&((v=this.uitServiceTokens[l.uitSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.uitServiceTokens[l.uitSerialNumber]=v);}},this);},getServiceTokens:function(l,n){var r,v,E,K;if(n){if(!l)throw new F(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}r={};for(v in this.unboundServiceTokens){E=this.unboundServiceTokens[v];r[E.uniqueKey()]=E;}if(l&&(E=this.mtServiceTokens[l.serialNumber]))for(v in E){K=E[v];K.isUserIdTokenBound()||(r[v]=K);}if(n&&(E=this.uitServiceTokens[n.serialNumber]))for(v in E)K=E[v],K.isBoundTo(l)&&(r[v]=K);E=[];for(v in r)E.push(r[v]);return E;},removeServiceTokens:function(l,n,r){var E,K,ra;if(r&&n&&!r.isBoundTo(n))throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);if(l&&!n&&!r){Object.keys(this.unboundServiceTokens).forEach(function(h){this.unboundServiceTokens[h].name==l&&delete this.unboundServiceTokens[h];},this);for(var v in this.mtServiceTokens){E=this.mtServiceTokens[v];K=Object.keys(E);K.forEach(function(h){E[h].name==l&&delete E[h];},this);this.mtServiceTokens[v]=E;}for(var Z in this.uitServiceTokens)E=this.uitServiceTokens[Z],v=Object.keys(E),v.forEach(function(h){E[h].name==l&&delete E[h];},this),this.uitServiceTokens[Z]=E;}if(n&&!r){if(E=this.mtServiceTokens[n.serialNumber])K=Object.keys(E),K.forEach(function(h){var n;n=E[h];l&&n.name!=l||delete E[h];},this),this.mtServiceTokens[n.serialNumber]=E;for(Z in this.uitServiceTokens){ra=this.uitServiceTokens[Z];v=Object.keys(ra);v.forEach(function(h){var r;r=ra[h];l&&r.name!=l||r.isBoundTo(n)&&delete ra[h];},this);this.uitServiceTokens[Z]=ra;}}r&&(E=this.uitServiceTokens[r.serialNumber])&&(v=Object.keys(E),v.forEach(function(h){var r;r=E[h];l&&r.name!=l||n&&!r.isBoundTo(n)||delete E[h];},this),this.uitServiceTokens[r.serialNumber]=E);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);}});}());Le=Ve.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(h,l){var n;if(l&&h&&h.length){n=qa(h);this._contextMap[n]=l;}},getCryptoContext:function(h){return h&&h.length?(h=qa(h),this._contextMap[h]||null):null;},removeCryptoContext:function(h){h&&h.length&&(h=qa(h),delete this._contextMap[h]);}});De=Oe.extend({init:function E(h,l,n,r){E.base.call(this,h);Object.defineProperties(this,{_kde:{value:l,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof mb))throw new fa("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new wb(h.ENTITY_NOT_FOUND,"mgk "+n.identity);return new Bc(l,this.localIdentity,this._kde,this._kdh,this._kdw);}});cf=Od.extend({init:function Ca(h,l,n,r){Ca.base.call(this,h);Object.defineProperties(this,{_kpe:{value:l,writable:!1,enumerable:!1,configurable:!1},_kph:{value:n,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof sb))throw new fa("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new wb(h.ENTITY_NOT_FOUND,"psk "+n.identity);return new Bc(l,this.localIdentity,this._kpe,this._kph,this._kpw);}});ef=Ce.extend({init:function aa(h,l,n,r,A,F){aa.base.call(this);this._log=h;this._esn=l;this._keyRequestData=n;this._createKeyRequestData=r;this._systemKeyName=A;this._systemKeyWrapFormat=F;},setCryptoContext:function Aa(h,l,n){var r;r=this;r._log.trace("Adding MasterToken",{SequenceNumber:h.sequenceNumber,SerialNumber:h.serialNumber,Expiration:h.expiration.getTime()});Aa.base.call(this,h,l);!n&&(h=r._createKeyRequestData)&&(r._log.trace("Generating new keyx request data"),h().then(function(h){r._keyRequestData=h;},function(h){r._log.error("Unable to generate new keyx request data",""+h);}));},addUserIdToken:function wa(h,l){this._log.trace("Adding UserIdToken",{UserId:h,SerialNumber:l.serialNumber,MTSerialNumber:l.mtSerialNumber,Expiration:l.expiration.getTime()});wa.base.call(this,h,l);},addServiceTokens:function Z(h){Z.base.call(this,h.filter(function(h){return!df[h.name];}));},getUserIdTokenKeys:function(){var h,l;h=[];for(l in this.userIdTokens)h.push(l);return h;},rekeyUserIdToken:function(h,l){this.userIdTokens[h]&&(this.userIdTokens[l]=this.userIdTokens[h],delete this.userIdTokens[h]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(h){var l;l=this;n(h,function(){var r;r=l.getMasterToken();r?l.getKeysForStore(r,{result:function(A){n(h,function(){var h,n,F;h=l.userIdTokens;n=Object.keys(h).map(function(n){var A;A=h[n];return{userId:n,userIdTokenJSON:h[n].toJSON(),serviceTokenJSONList:l.getServiceTokens(r,A).map(Ie)};});A.esn=l._esn;A.masterTokenJSON=r.toJSON();A.userList=n;F=l._keyRequestData.storeData;F&&Object.keys(F).forEach(function(h){A[h]=F[h];});return A;});},timeout:h.timeout,error:h.error}):h.result(null);});},getKeysForStore:function(l,r){var A;A=this;n(r,function(){var n;n=A.getCryptoContext(l);n={encryptionKey:n.encryptionKey,hmacKey:n.hmacKey};if(n.encryptionKey&&n.hmacKey)if(A._systemKeyWrapFormat)A.wrapKeysWithSystemKey(n,r);else return n;else throw new F(h.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(l,r){var A;A=this;xd(this._systemKeyName,{result:function(K){n(r,function(){var n,Z,W,Q;n=l.encryptionKey;Z=l.hmacKey;W=n[dc];Q=Z[dc];if(W&&Q)return{wrappedEncryptionKey:W,wrappedHmacKey:Q};Promise.resolve().then(function(){return Promise.all([Ia.wrapKey(A._systemKeyWrapFormat,n,K,K.algorithm),Ia.wrapKey(A._systemKeyWrapFormat,Z,K,K.algorithm)]);}).then(function(h){W=qa(h[0]);n[dc]=W;Q=qa(h[1]);Z[dc]=Q;r.result({wrappedEncryptionKey:W,wrappedHmacKey:Q});})["catch"](function(l){r.error(new F(h.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},unwrapKeysWithSystemKey:function(l,r){var A;A=this;xd(this._systemKeyName,{result:function(K){n(r,function(){var n,Z;n=va(l.wrappedEncryptionKey);Z=va(l.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ia.unwrapKey(A._systemKeyWrapFormat,n,K,K.algorithm,qb,!1,Gb),Ia.unwrapKey(A._systemKeyWrapFormat,Z,K,K.algorithm,rb,!1,Qb)]);}).then(function(h){var n;n=h[0];h=h[1];n[dc]=l.wrappedEncryptionKey;h[dc]=l.wrappedHmacKey;r.result({encryptionKey:n,hmacKey:h});})["catch"](function(l){r.error(new F(h.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},loadStoreState:function(h,l,n,r){var K,Z;function A(h,r){var A;try{A=n.userList.slice();}catch(vb){}A?function Eb(){var n;n=A.shift();n?Sb(l,n.userIdTokenJSON,h,{result:function(l){try{K.addUserIdToken(n.userId,l);F(h,l,n.serviceTokenJSONList,{result:Eb,timeout:Eb,error:Eb});}catch(Ib){Eb();}},timeout:Eb,error:Eb}):r.result();}():r.result();}function F(h,n,r,A){var F,Z;try{F=r.slice();}catch(pa){}if(F){Z=K.getCryptoContext(h);(function Ib(){var g;g=F.shift();g?Hc(l,g,h,n,Z,{result:function(c){K.addServiceTokens([c]);Ib();},timeout:function(){Ib();},error:function(){Ib();}}):A.result();}());}else A.result();}K=this;Z=K._log;n.esn!=K._esn?(Z.error("Esn mismatch, starting fresh"),r.error()):function(r){var W,ga,Q,da;function A(){var n;if(!W&&ga&&Q&&da){W=!0;n=new hb(l,ga,h.esn,{rawKey:Q},{rawKey:da});K.setCryptoContext(ga,n,!0);r.result(ga);}}function F(h,g){Z.error(h,g&&""+g);W||(W=!0,r.error());}n.masterTokenJSON?(Rb(l,n.masterTokenJSON,{result:function(h){ga=h;A();},timeout:function(){F("Timeout parsing MasterToken");},error:function(h){F("Error parsing MasterToken",h);}}),K._systemKeyWrapFormat?K.unwrapKeysWithSystemKey(n,{result:function(h){Q=h.encryptionKey;da=h.hmacKey;A();},timeout:function(){F("Timeout unwrapping keys");},error:function(h){F("Error unwrapping keys",h);}}):Promise.resolve().then(function(){return Ia.encrypt({name:qb.name,iv:new Uint8Array(16)},n.encryptionKey,new Uint8Array(1));}).then(function(h){Q=n.encryptionKey;})["catch"](function(h){F("Error loading encryptionKey");}).then(function(){return Ia.sign(rb,n.hmacKey,new Uint8Array(1));}).then(function(h){da=n.hmacKey;A();})["catch"](function(h){F("Error loading hmacKey");})):F("Persisted store is corrupt");}({result:function(h){A(h,r);},timeout:r.timeout,error:r.error});}});df={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};dc="$netflix$msl$wrapsys";ff=bf.extend({init:function(h,l,n,r,F,K){var A,Z;A=new kc([Nb.LZW]);Z=new Qe();Z.addPublicKey(l,n);r[Oa.RSA]=new Pe(Z);l={};l[cb.EMAIL_PASSWORD]=new Ze();l[cb.NETFLIXID]=new Ye();l[cb.MDX]=new we();l[cb.SSO]=new $e();l[cb.SWITCH_PROFILE]=new af();h={_mslCryptoContext:{value:new Ne(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:A,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:F,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:r,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:l,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:K,writable:!1,enumerable:!1,configurable:!1},_store:{value:h,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},getTime:function(){return Date.now();},getRandom:function(){return new Id();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(h,l){l.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(h){return this._entityAuthFactories[h];},getUserAuthenticationFactory:function(h){return this._userAuthFactories[h];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(h){return this._keyExchangeFactories.filter(function(l){return l.scheme==h;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});zd=qe.extend({init:function(h,l,n,r){this._log=h;this._mslContext=l;this._mslRequest=n;this._keyRequestData=r;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(h,l,r,F){var A,K;A=this._mslRequest;K=this._mslContext;n(F,function(){var l,n;if(h||!A.shouldSendUserAuthData)return null;if(A.token){A.email?l=new ye(A.email,A.password):A.netflixId&&(l=new ze(A.netflixId,A.secureNetflixId));n="undefined"===typeof A.profileGuid?null:A.profileGuid;return new pc(A.mechanism,Sa(A.token),l,n);}return A.email?new nc(A.email,A.password):A.netflixId?new Vb(A.netflixId,A.secureNetflixId):A.mdxControllerToken?(l=new oc("regpairrequest",A.mdxNonce,A.mdxEncryptedPinB64,A.mdxSignature).getEncoding(),new cc(K,A.mdxPin,A.mdxControllerToken,l,A.mdxSignature)):A.useNetflixUserAuthData?new Vb():A.profileGuid?(l=A.userId,l=K.getMslStore().userIdTokens[l],new qc(l,A.profileGuid)):r&&A.sendUserAuthIfRequired?new Vb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(h){h.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(h,l,n){var r,A,F,K,Z,Q;r=this._log;A=(this._mslRequest.serviceTokens||[]).slice();F=this._mslContext;l=F.getMslStore();K=h.builder.getMasterToken();Z=this.getUserId();Q=l.getUserIdToken(Z);(function ka(){var l;l=A.shift();if(l)try{l instanceof Jb?(h.addPrimaryServiceToken(l),ka()):Hc(F,l,K,Q,null,{result:function(l){try{h.addPrimaryServiceToken(l);}catch(hd){r.warn("Exception adding service token",""+hd);}ka();},timeout:function(){r.warn("Timeout parsing service token");ka();},error:function(h){r.warn("Error parsing service token",""+h);ka();}});}catch(Eb){r.warn("Exception processing service token",""+Eb);ka();}else n.result(!0);}());},write:function(h,l,n){var r;r=Sa(this._mslRequest.body);h.write(r,0,r.length,l,{result:function(A){A!=r.length?n.error(new Wa("Not all data was written to output.")):h.flush(l,{result:function(){n.result(!0);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},getDebugContext:function(){this._dc||(this._dc=new gf(this._log,this._mslRequest));return this._dc;}});gf=Xe.extend({init:function(h,l){this._log=h;this._mslRequest=l;},sentHeader:function(h){this._log.trace("Sent MSL header",yd(this._mslRequest,h),h.serviceTokens&&h.serviceTokens.map(Je).join("\n"));},receivedHeader:function(h){var l,n;l=yd(this._mslRequest,h);n=h.errorCode;n?this._log.warn("Received MSL error header",l,{errorCode:n,errorMessage:h.errorMessage,internalCode:h.internalCode}):this._log.trace("Received MSL header",l);}});Ee={PSK:function(h){return Rc(h,Oa.PSK,cf,sb,id,Fc);},MGK:function(h){return Rc(h,Oa.MGK,De,mb,id,Fc);},MGK_WITH_FALLBACK:function(l){var n,r;switch(l.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":n="PSK";break;default:n="MGK";}r=Ee[n];if(!r)throw new F(h.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+n);return r(l);},MGK_JWE:function(h){return Rc(h,Oa.MGK,De,mb,Ud,gd);},JWK_RSA:function(h){return Sc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gc.JWK_RSA);},JWK_RSAES:function(h){return Sc(h,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gc.JWK_RSAES);},JWEJS_RSA:function(h){return Sc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gc.JWEJS_RSA);}};K.netflix=K.netflix||{};K.netflix.msl={createMslClient:function(l,n){var r,K,Z,Q,da;r=l.log;da=l.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Qa&&Qa.generateKey&&Qa.importKey&&Qa.unwrapKey))throw new F(h.INTERNAL_EXCEPTION,"No WebCrypto");db=Qa.generateKey({name:"AES-CBC",length:128},!0,Gb).then?wc.V2014_02:wc.LEGACY;da("mslisik");return Ia.importKey("spki",l.serverIdentityKeyData,Jd,!1,["verify"]);}).then(function(l){return new Promise(function(n,r){Mb(l,{result:n,error:function(){r(new F(h.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(n){K=n;if(n=Ee[l.authenticationType])return da("mslcc"),n(l);throw new F(h.INTERNAL_EXCEPTION,"Invalid authenticationType: "+l.authenticationType);}).then(function(h){var n;Z=new ef(r,l.esn,h.keyRequestData,h.createKeyRequestData,l.authenticationKeyNames.s,l.systemKeyWrapFormat);Q=new ff(Z,l.serverIdentityId,K,h.entityAuthFactories,h.entityAuthData,h.keyExchangeFactories);n=l.storeState;if(n)return da("mslss"),r.info("Loading store state"),new Promise(function(h,r){Z.loadStoreState(l,Q,n,{result:h,timeout:h,error:h});});r.info("No store state, starting fresh");}).then(function(){var h;h=new re();da("msldone");n.result(new Ke(r,h,Q,Z,l.ErrorSubCodes));})["catch"](function(h){n.error(h);});},IHttpLocation:Te,MslIoException:Wa};(function(){var va,pa,Da;function h(){h=function(){};pa.Symbol||(pa.Symbol=l);}function l(g){return"jscomp_symbol_"+(g||"")+Da++;}function n(){var g;h();g=pa.Symbol.iterator;g||(g=pa.Symbol.iterator=pa.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&va(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return r(this);}});n=function(){};}function r(g){var c;c=0;return F(function(){return c<g.length?{done:!1,value:g[c++]}:{done:!0};});}function F(g){n();g={next:g};g[pa.Symbol.iterator]=function(){return this;};return g;}function Q(g){var c;n();h();n();c=g[Symbol.iterator];return c?c.call(g):r(g);}function da(g,c){var f;function a(){}a.prototype=c.prototype;g.prototype=new a();g.prototype.constructor=g;for(var b in c)if(Object.defineProperties){f=Object.getOwnPropertyDescriptor(c,b);f&&Object.defineProperty(g,b,f);}else g[b]=c[b];}function fa(g){if(!(g instanceof Array)){g=Q(g);for(var c,a=[];!(c=g.next()).done;)a.push(c.value);g=a;}return g;}function ia(g,c){var a,f;if(c){a=pa;g=g.split(".");for(var b=0;b<g.length-1;b++){f=g[b];f in a||(a[f]={});a=a[f];}g=g[g.length-1];b=a[g];c=c(b);c!=b&&null!=c&&va(a,g,{configurable:!0,writable:!0,value:c});}}function la(g,c){return Object.prototype.hasOwnProperty.call(g,c);}function ka(g,c){var a,b;n();g instanceof String&&(g+="");a=0;b={next:function(){var f;if(a<g.length){f=a++;return{value:c(f,g[f]),done:!1};}b.next=function(){return{done:!0,value:void 0};};return b.next();}};b[Symbol.iterator]=function(){return b;};return b;}function oa(g,c,a){if(null==g)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return g+"";}function qa(g,c,a){var m;g instanceof String&&(g=String(g));for(var b=g.length,f=0;f<b;f++){m=g[f];if(c.call(a,m,f,g))return{jj:f,NZ:m};}return{jj:-1,NZ:void 0};}va="function"==typeof Object.defineProperties?Object.defineProperty:function(g,c,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[c]=a.value);};pa="undefined"!=typeof K&&K===this?this:"undefined"!=typeof global&&null!=global?global:this;Da=0;ia("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(c,a){c.__proto__=a;if(c.__proto__!==a)throw new TypeError(c+" is not extensible");return c;};});ia("Object.assign",function(g){return g?g:function(c,a){var f;for(var b=1;b<arguments.length;b++){f=arguments[b];if(f)for(var m in f)la(f,m)&&(c[m]=f[m]);}return c;};});ia("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});ia("Promise",function(g){var b,f;function c(a){var f;this.WN=0;this.Dda=void 0;this.GM=[];f=this.l6();try{a(f.resolve,f.reject);}catch(d){f.reject(d);}}function a(){this.Jv=null;}if(g)return g;a.prototype.Nqa=function(a){null==this.Jv&&(this.Jv=[],this.j3a());this.Jv.push(a);};a.prototype.j3a=function(){var a;a=this;this.Oqa(function(){a.dcb();});};b=pa.setTimeout;a.prototype.Oqa=function(a){b(a,0);};a.prototype.dcb=function(){var a,d;for(;this.Jv&&this.Jv.length;){a=this.Jv;this.Jv=[];for(var f=0;f<a.length;++f){d=a[f];delete a[f];try{d();}catch(k){this.m3a(k);}}}this.Jv=null;};a.prototype.m3a=function(a){this.Oqa(function(){throw a;});};c.prototype.l6=function(){var f,d;function a(a){return function(b){d||(d=!0,a.call(f,b));};}f=this;d=!1;return{resolve:a(this.yub),reject:a(this.lda)};};c.prototype.yub=function(a){var f;if(a===this)this.lda(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof c)this.Dwb(a);else{a:switch(typeof a){case"object":f=null!=a;break a;case"function":f=!0;break a;default:f=!1;}f?this.xub(a):this.Dva(a);}};c.prototype.xub=function(a){var f;f=void 0;try{f=a.then;}catch(d){this.lda(d);return;}"function"==typeof f?this.Ewb(f,a):this.Dva(a);};c.prototype.lda=function(a){this.MFa(2,a);};c.prototype.Dva=function(a){this.MFa(1,a);};c.prototype.MFa=function(a,f){if(0!=this.WN)throw Error("Cannot settle("+a+", "+f|"): Promise already settled in state"+this.WN);this.WN=a;this.Dda=f;this.ecb();};c.prototype.ecb=function(){if(null!=this.GM){for(var a=this.GM,f=0;f<a.length;++f)a[f].call(),a[f]=null;this.GM=null;}};f=new a();c.prototype.Dwb=function(a){var f;f=this.l6();a.ZS(f.resolve,f.reject);};c.prototype.Ewb=function(a,f){var d;d=this.l6();try{a.call(f,d.resolve,d.reject);}catch(k){d.reject(k);}};c.prototype.then=function(a,f){var b,p,m;function d(a,d){return"function"==typeof a?function(d){try{b(a(d));}catch(x){p(x);}}:d;}m=new c(function(a,d){b=a;p=d;});this.ZS(d(a,b),d(f,p));return m;};c.prototype["catch"]=function(a){return this.then(void 0,a);};c.prototype.ZS=function(a,b){var k;function d(){switch(k.WN){case 1:a(k.Dda);break;case 2:b(k.Dda);break;default:throw Error("Unexpected state: "+k.WN);}}k=this;null==this.GM?f.Nqa(d):this.GM.push(function(){f.Nqa(d);});};c.resolve=function(a){return a instanceof c?a:new c(function(f){f(a);});};c.reject=function(a){return new c(function(f,d){d(a);});};c.race=function(a){return new c(function(f,d){for(var b=Q(a),p=b.next();!p.done;p=b.next())c.resolve(p.value).ZS(f,d);});};c.all=function(a){var f,d;f=Q(a);d=f.next();return d.done?c.resolve([]):new c(function(a,b){var p,m;function k(d){return function(f){p[d]=f;m--;0==m&&a(p);};}p=[];m=0;do p.push(void 0),m++,c.resolve(d.value).ZS(k(p.length-1),b),d=f.next();while(!d.done);});};c.$jscomp$new$AsyncExecutor=function(){return new a();};return c;});ia("Array.prototype.keys",function(g){return g?g:function(){return ka(this,function(c){return c;});};});ia("Math.tanh",function(g){return g?g:function(c){var a;c=Number(c);if(0===c)return c;a=Math.exp(-2*Math.abs(c));a=(1-a)/(1+a);return 0>c?-a:a;};});ia("WeakMap",function(g){var f,m;function c(a){this.vL=(m+=Math.random()+1).toString();if(a){h();n();a=Q(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1]);}}function a(a){la(a,f)||va(a,f,{value:{}});}function b(f){var d;d=Object[f];d&&(Object[f]=function(f){a(f);return d(f);});}if(function(){var a,d,f;if(!g||!Object.seal)return!1;try{a=Object.seal({});d=Object.seal({});f=new g([[a,2],[d,3]]);if(2!=f.get(a)||3!=f.get(d))return!1;f["delete"](a);f.set(d,4);return!f.has(a)&&4==f.get(d);}catch(p){return!1;}}())return g;f="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");m=0;c.prototype.set=function(b,d){a(b);if(!la(b,f))throw Error("WeakMap key fail: "+b);b[f][this.vL]=d;return this;};c.prototype.get=function(a){return la(a,f)?a[f][this.vL]:void 0;};c.prototype.has=function(a){return la(a,f)&&la(a[f],this.vL);};c.prototype["delete"]=function(a){return la(a,f)&&la(a[f],this.vL)?delete a[f][this.vL]:!1;};return c;});ia("Map",function(g){var m,q;function c(){var a;a={};return a.mu=a.next=a.head=a;}function a(a,f){var d;d=a.Gt;return F(function(){if(d){for(;d.head!=a.Gt;)d=d.mu;for(;d.next!=d.head;)return d=d.next,{done:!1,value:f(d)};d=null;}return{done:!0,value:void 0};});}function b(a,f){var d,b,k;d=f&&typeof f;"object"==d||"function"==d?m.has(f)?d=m.get(f):(d=""+ ++q,m.set(f,d)):d="p_"+f;b=a.ht[d];if(b&&la(a.ht,d))for(a=0;a<b.length;a++){k=b[a];if(f!==f&&k.key!==k.key||f===k.key)return{id:d,list:b,index:a,oe:k};}return{id:d,list:b,index:-1,oe:void 0};}function f(a){this.ht={};this.Gt=c();this.size=0;if(a){a=Q(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1]);}}if(function(){var a,f,b,m;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});f=new g(Q([[a,"s"]]));if("s"!=f.get(a)||1!=f.size||f.get({x:4})||f.set({x:4},"t")!=f||2!=f.size)return!1;b=f.entries();m=b.next();if(m.done||m.value[0]!=a||"s"!=m.value[1])return!1;m=b.next();return m.done||4!=m.value[0].x||"t"!=m.value[1]||!b.next().done?!1:!0;}catch(u){return!1;}}())return g;h();n();m=new WeakMap();f.prototype.set=function(a,f){var d;d=b(this,a);d.list||(d.list=this.ht[d.id]=[]);d.oe?d.oe.value=f:(d.oe={next:this.Gt,mu:this.Gt.mu,head:this.Gt,key:a,value:f},d.list.push(d.oe),this.Gt.mu.next=d.oe,this.Gt.mu=d.oe,this.size++);return this;};f.prototype["delete"]=function(a){a=b(this,a);return a.oe&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.ht[a.id],a.oe.mu.next=a.oe.next,a.oe.next.mu=a.oe.mu,a.oe.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.ht={};this.Gt=this.Gt.mu=c();this.size=0;};f.prototype.has=function(a){return!!b(this,a).oe;};f.prototype.get=function(a){return(a=b(this,a).oe)&&a.value;};f.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};f.prototype.keys=function(){return a(this,function(a){return a.key;});};f.prototype.values=function(){return a(this,function(a){return a.value;});};f.prototype.forEach=function(a,f){for(var d=this.entries(),b;!(b=d.next()).done;)b=b.value,a.call(f,b[1],b[0],this);};f.prototype[Symbol.iterator]=f.prototype.entries;q=0;return f;});ia("Set",function(g){function c(a){this.Kl=new Map();if(a){a=Q(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.Kl.size;}if(function(){var a,b,f,m;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(Q([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;f=b.entries();m=f.next();if(m.done||m.value[0]!=a||m.value[1]!=a)return!1;m=f.next();return m.done||m.value[0]==a||4!=m.value[0].x||m.value[1]!=m.value[0]?!1:f.next().done;}catch(q){return!1;}}())return g;h();n();c.prototype.add=function(a){this.Kl.set(a,a);this.size=this.Kl.size;return this;};c.prototype["delete"]=function(a){a=this.Kl["delete"](a);this.size=this.Kl.size;return a;};c.prototype.clear=function(){this.Kl.clear();this.size=0;};c.prototype.has=function(a){return this.Kl.has(a);};c.prototype.entries=function(){return this.Kl.entries();};c.prototype.values=function(){return this.Kl.values();};c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(a,b){var f;f=this;this.Kl.forEach(function(m){return a.call(b,m,m,f);});};return c;});ia("Number.isNaN",function(g){return g?g:function(c){return"number"===typeof c&&isNaN(c);};});ia("String.prototype.includes",function(g){return g?g:function(c,a){return-1!==oa(this,c,"includes").indexOf(c,a||0);};});ia("Array.prototype.find",function(g){return g?g:function(c,a){return qa(this,c,a).NZ;};});ia("Array.prototype.entries",function(g){return g?g:function(){return ka(this,function(c,a){return[c,a];});};});ia("Array.prototype.values",function(g){return g?g:function(){return ka(this,function(c,a){return a;});};});ia("WeakSet",function(g){function c(a){this.Kl=new WeakMap();if(a){h();n();a=Q(a);for(var b;!(b=a.next()).done;)this.add(b.value);}}if(function(){var a,b,f;if(!g||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});f=new g([a]);if(!f.has(a)||f.has(b))return!1;f["delete"](a);f.add(b);return!f.has(a)&&f.has(b);}catch(m){return!1;}}())return g;c.prototype.add=function(a){this.Kl.set(a,!0);return this;};c.prototype.has=function(a){return this.Kl.has(a);};c.prototype["delete"]=function(a){return this.Kl["delete"](a);};return c;});ia("String.prototype.repeat",function(g){return g?g:function(c){var a;a=oa(this,null,"repeat");if(0>c||1342177279<c)throw new RangeError("Invalid count value");c|=0;for(var b="";c;)if(c&1&&(b+=a),c>>>=1)a+=a;return b;};});ia("String.prototype.endsWith",function(g){return g?g:function(c,a){var b;b=oa(this,c,"endsWith");c+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var f=c.length;0<f&&0<a;)if(b[--a]!=c[--f])return!1;return 0>=f;};});ia("Array.prototype.findIndex",function(g){return g?g:function(c,a){return qa(this,c,a).jj;};});ia("String.prototype.startsWith",function(g){return g?g:function(c,a){var b,f,m;b=oa(this,c,"startsWith");c+="";f=b.length;m=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var q=0;q<m&&a<f;)if(b[a++]!=c[q++])return!1;return q>=m;};});ia("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ia("Array.prototype.fill",function(g){return g?g:function(c,a,b){var f;f=this.length||0;0>a&&(a=Math.max(0,f+a));if(null==b||b>f)b=f;b=Number(b);0>b&&(b=Math.max(0,f+b));for(a=Number(a||0);a<b;a++)this[a]=c;return this;};});(function(g){var a;function c(b){var f;if(a[b])return a[b].P;f=a[b]={jj:b,Hkb:!1,P:{}};g[b].call(f.P,f,f.P,c);f.Hkb=!0;return f.P;}a={};c.gPb=g;c.BLb=a;c.d=function(a,f,m){c.cpb(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:m});};c.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};c.n=function(a){var f;f=a&&a.ana?function(){return a["default"];}:function(){return a;};c.d(f,"a",f);return f;};c.cpb=function(a,f){return Object.prototype.hasOwnProperty.call(a,f);};c.p="";return c(c.UQb=1131);}([function(g,c,a){function b(){b=Object.assign||function(a){for(var d,f=1,b=arguments.length;f<b;f++){d=arguments[f];for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(a[k]=d[k]);}return a;};return b.apply(this,arguments);}function f(a,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d;}||function(a,d){for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);};return f(a,d);}function m(a,d){function b(){this.constructor=a;}f(a,d);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());}function q(a,d){var f,b,k;f={};for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&0>d.indexOf(b)&&(f[b]=a[b]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){k=0;for(b=Object.getOwnPropertySymbols(a);k<b.length;k++)0>d.indexOf(b[k])&&Object.prototype.propertyIsEnumerable.call(a,b[k])&&(f[b[k]]=a[b[k]]);}return f;}function d(a,d,f,b){var k,p,m;k=arguments.length;p=3>k?d:null===b?b=Object.getOwnPropertyDescriptor(d,f):b;if("object"===typeof Reflect&&"function"===typeof Reflect.Zv)p=Reflect.Zv(a,d,f,b);else for(var t=a.length-1;0<=t;t--)if(m=a[t])p=(3>k?m(p):3<k?m(d,f,p):m(d,f))||p;return 3<k&&p&&Object.defineProperty(d,f,p),p;}function k(a,d){return function(f,b){d(f,b,a);};}function p(a,d){if("object"===typeof Reflect&&"function"===typeof Reflect.qd)return Reflect.qd(a,d);}function t(a,d,f,b){return new(f||(f=Promise))(function(k,p){function m(a){try{c(b.next(a));}catch(Ea){p(Ea);}}function t(a){try{c(b["throw"](a));}catch(Ea){p(Ea);}}function c(a){a.done?k(a.value):new f(function(d){d(a.value);}).then(m,t);}c((b=b.apply(a,d||[])).next());});}function u(a,d){var k,p,m,t,c;function f(a){return function(d){return b([a,d]);};}function b(f){if(p)throw new TypeError("Generator is already executing.");for(;k;)try{if(p=1,m&&(t=f[0]&2?m["return"]:f[0]?m["throw"]||((t=m["return"])&&t.call(m),0):m.next)&&!(t=t.call(m,f[1])).done)return t;if(m=0,t)f=[f[0]&2,t.value];switch(f[0]){case 0:case 1:t=f;break;case 4:return k.label++,{value:f[1],done:!1};case 5:k.label++;m=f[1];f=[0];continue;case 7:f=k.lA.pop();k.cB.pop();continue;default:if(!(t=k.cB,t=0<t.length&&t[t.length-1])&&(6===f[0]||2===f[0])){k=0;continue;}if(3===f[0]&&(!t||f[1]>t[0]&&f[1]<t[3]))k.label=f[1];else if(6===f[0]&&k.label<t[1])k.label=t[1],t=f;else if(t&&k.label<t[2])k.label=t[2],k.lA.push(f);else{t[2]&&k.lA.pop();k.cB.pop();continue;}}f=d.call(a,k);}catch(Ea){f=[6,Ea];m=0;}finally{p=t=0;}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0};}k={label:0,IY:function(){if(t[0]&1)throw t[1];return t[1];},cB:[],lA:[]};h();h();n();return c={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this;}),c;}function y(a,d){for(var f in a)d.hasOwnProperty(f)||(d[f]=a[f]);}function B(a){var d,f;h();h();n();d="function"===typeof Symbol&&a[Symbol.iterator];f=0;return d?d.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a};}};}function x(a,d){var f,b,k,p;h();h();n();f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);k=[];try{for(;(void 0===d||0<d--)&&!(b=a.next()).done;)k.push(b.value);}catch(na){p={error:na};}finally{try{b&&!b.done&&(f=a["return"])&&f.call(a);}finally{if(p)throw p.error;}}return k;}function H(){for(var a=[],d=0;d<arguments.length;d++)a=a.concat(x(arguments[d]));return a;}function G(){for(var a=0,d=0,f=arguments.length;d<f;d++)a+=arguments[d].length;for(var a=Array(a),b=0,d=0;d<f;d++)for(var k=arguments[d],p=0,m=k.length;p<m;p++,b++)a[b]=k[p];return a;}function P(a){return this instanceof P?(this.NZ=a,this):new P(a);}function S(a,d,f){var c,q,u;function b(a){c[a]&&(q[a]=function(d){return new Promise(function(f,b){1<u.push([a,d,f,b])||k(a,d);});});}function k(a,d){var f;try{f=c[a](d);f.value instanceof P?Promise.resolve(f.value.NZ).then(p,m):t(u[0][2],f);}catch(ma){t(u[0][3],ma);}}function p(a){k("next",a);}function m(a){k("throw",a);}function t(a,d){(a(d),u.shift(),u.length)&&k(u[0][0],u[0][1]);}h();if(!Symbol.IS)throw new TypeError("Symbol.asyncIterator is not defined.");c=f.apply(a,d||[]);u=[];h();return q={},b("next"),b("throw"),b("return"),q[Symbol.IS]=function(){return this;},q;}function T(a){var f,b;function d(d,k){f[d]=a[d]?function(f){return(b=!b)?{value:P(a[d](f)),done:"return"===d}:k?k(f):f;}:k;}h();n();return f={},d("next"),d("throw",function(a){throw a;}),d("return"),f[Symbol.iterator]=function(){return this;},f;}function l(a){var b,k;function d(d){k[d]=a[d]&&function(b){return new Promise(function(k,p){b=a[d](b);f(k,p,b.done,b.value);});};}function f(a,d,f,b){Promise.resolve(b).then(function(d){a({value:d,done:f});},d);}h();if(!Symbol.IS)throw new TypeError("Symbol.asyncIterator is not defined.");h();b=a[Symbol.IS];h();n();h();return b?b.call(a):(a="function"===typeof B?B(a):a[Symbol.iterator](),k={},d("next"),d("throw"),d("return"),k[Symbol.IS]=function(){return this;},k);}function C(a,d){Object.defineProperty?Object.defineProperty(a,"raw",{value:d}):a.raw=d;return a;}function R(a){var d;if(a&&a.ana)return a;d={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(d[f]=a[f]);d["default"]=a;return d;}function O(a){return a&&a.ana?a:{"default":a};}a.r(c);a.d(c,"__extends",function(){return m;});a.d(c,"__assign",function(){return b;});a.d(c,"__rest",function(){return q;});a.d(c,"__decorate",function(){return d;});a.d(c,"__param",function(){return k;});a.d(c,"__metadata",function(){return p;});a.d(c,"__awaiter",function(){return t;});a.d(c,"__generator",function(){return u;});a.d(c,"__exportStar",function(){return y;});a.d(c,"__values",function(){return B;});a.d(c,"__read",function(){return x;});a.d(c,"__spread",function(){return H;});a.d(c,"__spreadArrays",function(){return G;});a.d(c,"__await",function(){return P;});a.d(c,"__asyncGenerator",function(){return S;});a.d(c,"__asyncDelegator",function(){return T;});a.d(c,"__asyncValues",function(){return l;});a.d(c,"__makeTemplateObject",function(){return C;});a.d(c,"__importStar",function(){return R;});a.d(c,"__importDefault",function(){return O;});},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(35);c.vGb=g;g=a(1116);c.lP=g.lP;g=a(80);c.Go=g.Go;c.mi=g.mi;c.$r=g.$r;g=a(1100);c.zga=g.zga;c.tc=g.tc;g=a(1099);c.N=g.N;g=a(1098);c.FGa=g.FGa;g=a(1097);c.cBa=g.cBa;g=a(493);c.l=g.l;c.J0=g.J0;g=a(1096);c.optional=g.optional;g=a(1095);c.yh=g.yh;g=a(1094);c.eA=g.eA;g=a(1093);c.lO=g.lO;g=a(1092);c.XCa=g.XCa;g=a(495);c.Q0=g.Q0;g=a(104);c.id=g.id;g=a(91);c.Zv=g.Zv;g=a(490);c.qHa=g.qHa;c.GGa=g.GGa;c.dBa=g.dBa;c.xHa=g.xHa;g=a(145);c.wE=g.wE;a=a(1091);c.$Aa=a.$Aa;},function(g,c){var a,b;Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.qk=7001]="UNKNOWN";a[a.uWa=7002]="UNHANDLED_EXCEPTION";a[a.ZOa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Gia=7010]="INIT_ASYNCCOMPONENT";a[a.Yia=7011]="INIT_HTTP";a[a.VOa=7014]="INIT_BADMOVIEID";a[a.kPa=7016]="INIT_NETFLIXID_MISSING";a[a.jPa=7017]="INIT_NETFLIXID_INVALID";a[a.mPa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.Zia=7020]="INIT_PLAYBACK_LOCK";a[a.$ia=7022]="INIT_SESSION_LOCK";a[a.lPa=7029]="INIT_POSTAUTHORIZE";a[a.RFb=7031]="INIT_HEADER_MEDIA";a[a.tFb=7032]="HEADER_MISSING";a[a.sFb=7033]="HEADER_FRAGMENTS_MISSING";a[a.nPa=7034]="INIT_TIMEDTEXT_TRACK";a[a.SFb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.TFb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.JIa=7037]="ASE_SESSION_ERROR";a[a.IIa=7038]="ASE_SEEK_THREW";a[a.KIa=7039]="ASE_SKIPPED_THREW";a[a.gPa=7041]="INIT_CORE_OBJECTS1";a[a.hPa=7042]="INIT_CORE_OBJECTS2";a[a.iPa=7043]="INIT_CORE_OBJECTS3";a[a.OFb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.IFb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Qia=7053]="INIT_COMPONENT_STORAGE";a[a.Ria=7054]="INIT_COMPONENT_STORAGELOCK";a[a.JFb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.KFb=7056]="INIT_COMPONENT_NRDDPI";a[a.MFb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Mia=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.B0=7059]="INIT_COMPONENT_DEVICE";a[a.LFb=7062]="INIT_COMPONENT_NTBA";a[a.Nia=7063]="INIT_COMPONENT_MSL";a[a.XOa=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Lia=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Pu=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.NFb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.WOa=7069]="INIT_COMPONENT_ACCOUNT";a[a.aPa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.cPa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.dPa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.ePa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.fPa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.$Oa=7081]="INIT_COMPONENT_NRDP";a[a.bPa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.Xia=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.Tia=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.QFb=7085]="INIT_CONGESTION_SERVICE";a[a.Kia=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Sia=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Iia=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Hia=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.PFb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.BB=7091]="INIT_COMPONENT_DRM_CACHE";a[a.YOa=7092]="INIT_COMPONENT_DRM";a[a.Oia=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Jia=7094]="INIT_COMPONENT_FTL";a[a.Pia=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.Uia=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.Via=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.Wia=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.UIa=7112]="AUTHORIZE_UNKNOWN";a[a.pQa=7117]="MANIFEST_VERIFY";a[a.aVa=7120]="START";a[a.Sx=7121]="LICENSE";a[a.PUa=7122]="SECURESTOP";a[a.Yla=7123]="STOP";a[a.iFb=7124]="FPSAPPDATA";a[a.I0=7125]="KEEPALIVE";a[a.VDb=7126]="DEACTIVATE";a[a.zJb=7127]="SYNC_DEACTIVATE_LINKS";a[a.qCb=7130]="ACTIVATE";a[a.vSa=7131]="PING";a[a.cHb=7133]="NETFLIXID";a[a.nNa=7134]="ENGAGE";a[a.QPa=7135]="LOGIN";a[a.hVa=7136]="SWITCH_PROFILES";a[a.PPa=7137]="LOGBLOB";a[a.eSa=7138]="PAUSE";a[a.yUa=7139]="RESUME";a[a.Ula=7140]="SPLICE";a[a.gEb=7141]="DOWNLOAD_EVENT";a[a.KJa=7142]="BIND";a[a.dSa=7143]="PAIR";a[a.LJa=7144]="BIND_DEVICE";a[a.ySa=7202]="PLAY_INIT_EXCEPTION";a[a.qGb=7301]="MEDIA_DOWNLOAD";a[a.WHb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.XHb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.Gka=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.ESa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.Hka=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.FSa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.f1=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.YHb=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.Jka=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Ika=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.Fka=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.g1=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.i1=7355]="PLAY_MSE_SOURCEADD";a[a.zSa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.JSa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.cIb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.VHb=7359]="PLAY_MSE_ADDKEY";a[a.fIb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.ISa=7361]="PLAY_MSE_EVENT_ERROR";a[a.h1=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.dQ=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.HSa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.KSa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.LSa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.MSa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.dIb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.QSa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.PSa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.OSa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.eIb=7379]="PLAY_MSE_SOURCE_EOS";a[a.NSa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.bIb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.ASa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.BSa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.CSa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.$Hb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.GSa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.ZHb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.aIb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.DSa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Kka=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.rNa=7400]="EXTERNAL";a[a.bQ=7500]="PAUSE_TIMEOUT";a[a.MP=7502]="INACTIVITY_TIMEOUT";a[a.TIa=7510]="AUTHORIZATION_EXPIRED";a[a.XDb=7520]="DECRYPT_AUDIO";a[a.Sla=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.QUa=7601]="SECURE_STOP_KEY_ERROR";a[a.cJb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.NIb=7603]="SECURE_STOP_NCCP_ERROR";a[a.OIb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.bJb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.SIb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.RUa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.TIb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.UIb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.XIb=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.PIb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.VIb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.ZIb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.WIb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.RIb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.aJb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.YIb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.QIb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.$Ib=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.hNa=7700]="EME_INVALID_KEYSYSTEM";a[a.Qha=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.Pha=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.Rha=7703]="EME_GENERATEREQUEST_FAILED";a[a.vP=7704]="EME_UPDATE_FAILED";a[a.xEb=7705]="EME_KEYSESSION_ERROR";a[a.iNa=7706]="EME_KEYMESSAGE_EMPTY";a[a.Vha=7707]="EME_REMOVE_FAILED";a[a.kNa=7708]="EME_LOAD_FAILED";a[a.eNa=7709]="EME_CREATE_SESSION_FAILED";a[a.uP=7710]="EME_LDL_RENEWAL_ERROR";a[a.Sha=7711]="EME_INVALID_INITDATA_DATA";a[a.Tha=7712]="EME_INVALID_LICENSE_DATA";a[a.jNa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.zEb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.Uha=7715]="EME_INVALID_SECURESTOP_DATA";a[a.dNa=7716]="EME_CLOSE_FAILED";a[a.wSa=7800]="PLAYDATA_STORE_FAILURE";a[a.UHb=7801]="PLAYDATA_SEND_FAILURE";a[a.QG=7900]="BRANCH_PLAY_FAILURE";a[a.pB=7901]="BRANCH_QUEUE_FAILURE";a[a.Cga=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.iHb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.jHb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.kSa=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.cQ=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.xSa=8201]="PLAYGRAPH_SEGMENT_NOT_READY";}(a=c.I||(c.I={})));(function(a){a[a.qk=1001]="UNKNOWN";a[a.Bh=1003]="EXCEPTION";a[a.qPa=1004]="INVALID_DI";a[a.NIa=1011]="ASYNCLOAD_EXCEPTION";a[a.OIa=1013]="ASYNCLOAD_TIMEOUT";a[a.rCb=1015]="ASYNCLOAD_BADCONFIG";a[a.LIa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.MIa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.nH=1101]="HTTP_UNKNOWN";a[a.x0=1102]="HTTP_XHR";a[a.kH=1103]="HTTP_PROTOCOL";a[a.jH=1104]="HTTP_OFFLINE";a[a.mH=1105]="HTTP_TIMEOUT";a[a.Qx=1106]="HTTP_READTIMEOUT";a[a.Ou=1107]="HTTP_ABORT";a[a.t0=1108]="HTTP_PARSE";a[a.wia=1110]="HTTP_BAD_URL";a[a.lH=1111]="HTTP_PROXY";a[a.Hja=1203]="MSE_AUDIO";a[a.Ija=1204]="MSE_VIDEO";a[a.EQa=1250]="MSE_MEDIA_ERR_BASE";a[a.zGb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.CGb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.AGb=1253]="MSE_MEDIA_ERR_DECODE";a[a.DGb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.BGb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.vB=1260]="EME_MEDIA_KEYERR_BASE";a[a.FEb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.AEb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.EEb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.DEb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.CEb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.BEb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.GEb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.gNa=1280]="EME_ERROR_NODRMSESSSION";a[a.fNa=1281]="EME_ERROR_NODRMREQUESTS";a[a.vEb=1282]="EME_ERROR_INDIV_FAILED";a[a.wEb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.mNa=1284]="EME_TIMEOUT_MESSAGE";a[a.lNa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.K_=1286]="EME_UNDEFINED_DATA";a[a.ZG=1287]="EME_INVALID_STATE";a[a.yEb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.J_=1289]="EME_EMPTY_DATA";a[a.$G=1290]="EME_TIMEOUT";a[a.XGb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.$Gb=1305]="NCCP_PARSEXML";a[a.ZSa=1309]="PROCESS_EXCEPTION";a[a.ZGb=1311]="NCCP_NETFLIXID_MISSING";a[a.aHb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.UGb=1313]="NCCP_HMAC_MISSING";a[a.TGb=1315]="NCCP_HMAC_MISMATCH";a[a.SGb=1317]="NCCP_HMAC_FAILED";a[a.RGb=1321]="NCCP_CLIENTTIME_MISSING";a[a.QGb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.ria=1331]="GENERIC";a[a.DRa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.ERa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.bHb=1341]="NCCP_TRANSACTION";a[a.VGb=1343]="NCCP_INVALID_DRMTYPE";a[a.WGb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.YGb=1345]="NCCP_MISSING_PAYLOAD";a[a.oIb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.nIb=1347]="PROTOCOL_MISSING_FIELD";a[a.mIb=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.av=1402]="STORAGE_NODATA";a[a.jJb=1403]="STORAGE_EXCEPTION";a[a.rJb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.sJb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.$la=1411]="STORAGE_LOAD_ERROR";a[a.dVa=1412]="STORAGE_LOAD_TIMEOUT";a[a.ama=1414]="STORAGE_SAVE_ERROR";a[a.gVa=1415]="STORAGE_SAVE_TIMEOUT";a[a.y1=1417]="STORAGE_DELETE_ERROR";a[a.Zla=1418]="STORAGE_DELETE_TIMEOUT";a[a.qJb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.nJb=1423]="STORAGE_FS_GETDIRECTORY";a[a.pJb=1425]="STORAGE_FS_READENTRIES";a[a.kJb=1427]="STORAGE_FS_FILEREAD";a[a.mJb=1429]="STORAGE_FS_FILEWRITE";a[a.lJb=1431]="STORAGE_FS_FILEREMOVE";a[a.oJb=1432]="STORAGE_FS_PARSEJSON";a[a.fVa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.eVa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.pHb=1501]="NTBA_UNKNOWN";a[a.oHb=1502]="NTBA_EXCEPTION";a[a.kHb=1504]="NTBA_CRYPTO_KEY";a[a.mHb=1506]="NTBA_CRYPTO_OPERATION";a[a.lHb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.nHb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.kha=1553]="DEVICE_NO_ESN";a[a.x_=1555]="DEVICE_ERROR_GETTING_ESN";a[a.Nka=1603]="PLUGIN_LOAD_MISSING";a[a.Lka=1605]="PLUGIN_LOAD_ERROR";a[a.Oka=1607]="PLUGIN_LOAD_TIMEOUT";a[a.Mka=1609]="PLUGIN_LOAD_EXCEPTION";a[a.USa=1625]="PLUGIN_EXCEPTION";a[a.RSa=1627]="PLUGIN_CALLBACK_ERROR";a[a.SSa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.NNa=1701]="FORMAT_UNKNOWN";a[a.iia=1713]="FORMAT_XML";a[a.ONa=1715]="FORMAT_XML_CONTENT";a[a.MNa=1721]="FORMAT_BASE64";a[a.xP=1723]="FORMAT_DFXP";a[a.HOa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Eia=1802]="INDEXDB_NOT_SUPPORTED";a[a.GOa=1803]="INDEXDB_OPEN_ERROR";a[a.Fia=1804]="INDEXDB_OPEN_NULL";a[a.FOa=1805]="INDEXDB_OPEN_BLOCKED";a[a.IOa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.EOa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.NP=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.OQa=1901]="MSL_UNKNOWN";a[a.HQa=1911]="MSL_INIT_NO_MSL";a[a.Lja=1913]="MSL_INIT_ERROR";a[a.IQa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.FQa=1931]="MSL_ERROR";a[a.NQa=1933]="MSL_REQUEST_TIMEOUT";a[a.MQa=1934]="MSL_READ_TIMEOUT";a[a.GQa=1935]="MSL_ERROR_HEADER";a[a.EGb=1936]="MSL_ERROR_ENVELOPE";a[a.FGb=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.Kja=1957]="MSL_ERROR_REAUTH";a[a.P1=2103]="WEBCRYPTO_MISSING";a[a.NWa=2105]="WEBCRYPTOKEYS_MISSING";a[a.OWa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.xDb=2200]="CACHEDDATA_PARSEJSON";a[a.Mga=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.yDb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Gu=2203]="CACHEDDATA_INVALID_FORMAT";a[a.oCb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.pCb=3001]="ACCOUNT_INVALID";a[a.fEb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.eEb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.cEb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.dEb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.bEb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.tJb=3300]="STORAGE_VA_LOAD_ERROR";a[a.uJb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.xJb=3302]="STORAGE_VA_SAVE_ERROR";a[a.yJb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.vJb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.wJb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.e1=3077]="PBO_DEVICE_EOL_WARNING";a[a.wka=3078]="PBO_DEVICE_EOL_FINAL";a[a.zka=3100]="PBO_DEVICE_RESET";a[a.yka=3101]="PBO_DEVICE_RELOAD";a[a.xka=3102]="PBO_DEVICE_EXIT";a[a.rSa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.fSa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.jSa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Aka=5007]="PBO_INCORRECT_PIN";a[a.pSa=5008]="PBO_MOBILE_ONLY";a[a.sSa=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.lSa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.hSa=5059]="PBO_BLACKLISTED_IP";a[a.gSa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.iSa=5080]="PBO_CHOICE_MAP_ERROR";a[a.qSa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.nSa=5091]="PBO_MALFORMED_REQUEST";a[a.mSa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.oSa=5093]="PBO_MDX_INVALID_CTICKET";a[a.yLa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.zLa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.vMa=5200]="DOWNLOADER_IO_ERROR";a[a.Bga=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.QJa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.MCb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.g_=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.NJa=5304]="BRANCHING_ASE_FAILURE";a[a.JCb=5305]="BRANCHING_MOMENT_FAILURE";a[a.OJa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.LCb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.RJa=5308]="BRANCHING_SEEK_THREW";a[a.KCb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.PJa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.SJa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.TJa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.CIa=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.ega=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(b=c.G||(c.G={})));(function(a){a[a.XCb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.NCb=5005]="BR_ACCOUNT_ON_HOLD";a[a.RCb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.UCb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.QCb=5059]="BR_BLACKLISTED_IP";a[a.OCb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.VCb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.SCb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.WCb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.TCb=2207]="BR_ENDPOINT_ERROR";a[a.PCb=2208]="BR_AUTHORIZATION_ERROR";}(c.ENa||(c.ENa={})));c.z0={YJa:"400",dKb:"401",Rka:"413"};c.T0={gFb:1,TJb:2,JEb:3,cKb:4,iGb:5,IEb:6,M1:7,qNa:8,EIb:9,gJb:10};(function(a){a[a.PHb=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.QHb=98]="PAIRING_UNKNOWN_ERROR";}(c.bRa||(c.bRa={})));c.QEb=function(a){return 7100<=a&&7200>a;};c.CNa=function(b){return b==a.bQ||b==a.MP;};c.GNa=function(a){return 1100<=a&&1199>=a;};c.SEb=function(a){return 1300<=a&&1399>=a;};c.REb=function(a){return 1900<=a&&1999>=a;};c.cia=function(a,b){return 1<=a&&9>=a?b+a:b;};c.HNa=function(a){return c.cia(a,b.EQa);};c.dia=function(a){return c.cia(a,b.vB);};c.Ho=function(a){var f,c,d;f={};c=a.errorExternalCode||a.Pd;d=a.errorDetails||a.kb;f.ErrorSubCode=a.errorSubCode||a.ba||b.qk;c&&(f.ErrorExternalCode=c);d&&(f.ErrorDetails=d);return f;};},function(g){g.P={yL:function(c){for(var a in c)c.hasOwnProperty(a)&&(this[a]=c[a]);},reset:function(){}};},function(g,c,a){var m;function b(a){return m.wQ.apply(this,arguments)||this;}function f(a){return new m.cq(a,c.ja);}Object.defineProperty(c,"__esModule",{value:!0});m=a(489);da(b,m.wQ);c.YJb=b;c.xPb=function(a){return new m.cq(a,c.HB);};c.Drb=function(a){return new m.cq(a*c.nn.Ye,c.HB);};c.Cb=f;c.ei=function(a){return new m.cq(a,c.nn);};c.bX=function(a){return new m.cq(a,c.cka);};c.kOb=function(a){return new m.cq(a,c.xOa);};c.timestamp=function(a){return f(a);};c.HB=new b(1,"\u03bcs");c.ja=new b(1E3,"ms",c.HB);c.nn=new b(1E3*c.ja.Ye,"s",c.HB);c.cka=new b(60*c.nn.Ye,"min",c.HB);c.xOa=new b(60*c.cka.Ye,"hr",c.HB);c.Ze=f(0);},function(g,c,a){var b,f,m,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(496);g=a(8);f=a(31);m=a(99);q=a(100);d=a(39);k=a(20);p=a(59);c.zh=b.bd.get(m.ky);c.MZ=c.zh.encode.bind(c.zh);c.FO=c.zh.decode.bind(c.zh);c.Oh=b.bd.get(q.Gx);c.kLb=c.Oh.encode.bind(c.Oh);c.jLb=c.Oh.decode.bind(c.Oh);c.cra=c.Oh.WK.bind(c.Oh);c.lLb=c.Oh.fHa.bind(c.Oh);c.Fc=b.bd.get(d.Aj);c.Os=function(a){a=k.ce(a)?c.FO(a):a;return c.Fc.encode(a);};c.rm=c.Fc.decode.bind(c.Fc);c.a4a=function(a){return c.MZ(c.rm(a));};c.MVa=a(540);c.oE=function(){return b.bd.get(f.E_);};c.Sf=b.bd.get(g.Bb);c.log=c.Sf.ub("General");c.qg=function(a,d){return c.Sf.ub(a,void 0,d);};c.Rg=function(a,d){return c.Sf.ub(d,a,void 0);};c.JU=function(a,d,b,k){return c.Sf.ub(a,void 0,k,d,b);};c.UTa=function(a,d){return b.bd.get(p.bl)(a,d,void 0).zfa();};c.$=b.bd;},function(g){var c;c={ka:function(a){return"number"===typeof a;},jf:function(a){return"object"===typeof a;},ce:function(a){return"string"===typeof a;},T:function(a){return"undefined"===typeof a;},Ajb:function(a){return"boolean"===typeof a;},Nb:function(a){return"function"===typeof a;},Ia:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},Wpb:function(a){var b,f;f=[];if(!c.jf(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&f.push([b,a[b]]);return f;}};c.Yd=c.forEach=function(a,b,f){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var m=0,q=a.length;m<q;m++)b.call(f,a[m],m,a);else for(m in a)c.has(a,m)&&b.call(f,a[m],m,a);return a;};g.P=c;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);return f;}(Error);c.assert=function(a,b){if(!a)throw new f(b||"Assertion failed");};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.oi||(c.oi={});g[g.LNa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.O1=2]="WARN";g[g.A0=3]="INFO";g[g.vma=4]="TRACE";g[g.jc=5]="DEBUG";c.xja="LogFieldBuilderFactorySymbol";c.Bb="LoggerFactorySymbol";c.sP={};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g="undefined"===typeof K?{}:K;c.$k=g.navigator||{};c.pk=c.$k.userAgent;c.Z0=g.location;c.Rr=g.screen;c.Qr=g.performance;c.je=g.document||{};c.eHb=c.je.documentElement;c.Hv=Array.prototype;c.sort=c.Hv.sort;c.map=c.Hv.map;c.slice=c.Hv.slice;c.every=c.Hv.every;c.reduce=c.Hv.reduce;c.filter=c.Hv.filter;c.forEach=c.Hv.forEach;c.pop=c.Hv.pop;c.GH=Object.create;c.XRa=Object.keys;c.qP=Date.now;c.JVa=String.fromCharCode;c.Yx=Math.floor;c.$Qa=Math.ceil;c.pi=Math.round;c.gn=Math.max;c.Ko=Math.min;c.wH=Math.random;c.vH=Math.abs;c.Rja=Math.pow;c.aRa=Math.sqrt;c.Y0=g.escape;c.$0=g.unescape;c.URL=g.URL||g.webkitURL;c.CH=g.MediaSource||g.WebKitMediaSource;c.BH=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;c.Xu=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;c.Mn=c.Xu&&(c.Xu.webkitSubtle||c.Xu.subtle);c.X0=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;try{c.indexedDB=g.indexedDB;}catch(a){c.uOb=a||"noex";}try{c.localStorage=g.localStorage;}catch(a){c.xza=a||"noex";}},function(g,c,a){var b,f,m,q;b=a(78);f=a(1073);m=a(256);q=a(1072);g=function(){function a(a){this.ns=!1;a&&(this.ng=a);}a.prototype.sg=function(d){var b;b=new a();b.source=this;b.kA=d;return b;};a.prototype.subscribe=function(a,d,b){var k;k=this.kA;a=f.dzb(a,d,b);k?k.call(a,this.source):a.add(this.source||!a.Wk?this.ng(a):this.T3(a));if(a.Wk&&(a.Wk=!1,a.VA))throw a.WA;return a;};a.prototype.T3=function(a){try{return this.ng(a);}catch(p){a.VA=!0;a.WA=p;a.error(p);}};a.prototype.forEach=function(a,d){var k;k=this;d||(b.root.ey&&b.root.ey.config&&b.root.ey.config.Promise?d=b.root.ey.config.Promise:b.root.Promise&&(d=b.root.Promise));if(!d)throw Error("no Promise impl found");return new d(function(d,b){var p;p=k.subscribe(function(d){if(p)try{a(d);}catch(H){b(H);p.unsubscribe();}else a(d);},b,d);});};a.prototype.ng=function(a){return this.source.subscribe(a);};a.prototype[m.observable]=function(){return this;};a.prototype.Uqb=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return 0===a.length?this:q.Vqb(a)(this);};a.prototype.pO=function(){var a,d;d=this;a||(b.root.ey&&b.root.ey.config&&b.root.ey.config.Promise?a=b.root.ey.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var k;d.subscribe(function(a){return k=a;},function(a){return b(a);},function(){return a(k);});});};a.create=function(d){return new a(d);};return a;}();c.Aa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Le=function(){};c.zUa=function(){return!0;};c.kd={Z:!0};c.nk=1E3;c.LIb=86400;c.MIb=604800;c.rGb=1E4;c.sGb=1E7;c.gKb=1.5;c.gGb=.128;c.MJa=7.8125;c.ZCb=128;c.Vx=145152E5;c.rQa=1E5;c.b1="$netflix$player$order";c.LB=-1;c.c1=1;c.HLa=["en-US"];c.$Cb=8;c.sQa=65535;c.fJb=65536;c.uHb=Number.MAX_VALUE;c.I_="playready";c.Kha="widevine";c.uEb="fps";c.ZMa="clearkey";c.Wx='audio/mp4; codecs="mp4a.40.5"';c.uQa='audio/mp4; codecs="mp4a.a6"';c.en='video/mp4; codecs="avc1.640028"';c.uGb='video/mp4; codecs="hev1.2.6.L153.B0"';c.tGb='video/mp4; codecs="dvhe.01000000"';c.XMa="9A04F079-9840-4286-AB92-E65BE0885F95";c.sEb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";c.tEb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";c.nDb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];c.iKa="A2394F52-5A9B-4F14-A244-6C427C648DF4";c.oDb="4E657466-6C69-7846-7261-6D6552617465";c.pDb="8974DBCE-7BE7-4C51-84F9-7148F9882554";c.jDb="mp4a";c.gKa="enca";c.gDb="ec-3";c.eDb="avc1";c.hKa="encv";c.iDb="hvcC";c.hDb="hev1";c.fDb="dvhe";c.kDb="vp09";c.M0=0;c.uH=1;c.Mla="position:relative;width:100%;height:100%;overflow:hidden";},function(g,c,a){var m,q,d,k,p,t,u,y,B,x,H,G,P,h,T,l,n,R;function b(a){return(a=c.config.Jzb[f(a)])?a:{};}function f(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";if(0<=a.indexOf("mini-modal-horizontal"))return"mini-modal-horizontal";}}Object.defineProperty(c,"__esModule",{value:!0});m=a(11);q=a(38);d=a(5);k=a(40);p=a(18);a(20);t=a(44);u=a(31);y=a(60);B=a(19);a(8);x=a(9);H=a(30);G=a(16);P=a(229);h=a(42);T=a(61);l=a(144);n=a(47);R=a(4);c.q6a=function(a){var lb,A,F,eb,Wb,Ua,Ra,Y,tb;function b(a,d){B.ad(a,function(a,f){G.Nb(f)?d[a]=f.call(void 0,d[a]):G.jf(f)&&(d[a]=d[a]||{},b(f,d[a]));});}function f(a,d,b,f){for(var k=[],m=3;m<arguments.length;++m)k[m-3]=arguments[m];return function(f){G.gc(f)&&(b=f);p.Ma(G.Nb(a));return a.apply(void 0,[].concat([d,b],fa(k)));};}function g(a){a=a.toLowerCase();eb.hasOwnProperty(a)&&(F[a]=eb[a],Wb[a]=eb[a]);return a;}function S(a,b,f){var k;a=a.toLowerCase();if(F.hasOwnProperty(a)){k=F[a];try{k=f?f(k):k;}catch(kf){k=void 0;}if(void 0!==k)return k;p.Ma(!1);d.log.error("Invalid configuration value. Name: "+a);}return b;}function U(a,d,b,f){return S(a,d,function(a){G.ce(a)&&(a=B.de(a));if(G.Ljb(a,b,f))return a;});}function C(a,d,b,f){return S(a,d,function(a){G.ce(a)&&(a=B.de(a));if(G.Dw(a,b,f))return a;});}function O(a,d,b,f){return S(a,d,function(a){G.ce(a)&&(a=parseFloat(a));if(G.ka(a,b,f))return a;});}function r(a,d,b){return S(a,d,function(a){if(b?b.test(a):G.ce(a))return a;});}function N(a,d){return S(a,d,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function ha(a,d){return S(a,d,function(a){if(G.ce(a))return JSON.parse(x.$0(a));if(G.jf(a))return a;});}function Ea(a,d,b,f,k,p){var m;a=a.toLowerCase();F.hasOwnProperty(a)&&(m=F[a]);if(!G.gc(m))return d;if(G.ce(m))if(m[0]!==b)m=f(m);else try{m=JSON.parse(x.$0(m));}catch(kb){m=void 0;}if(void 0===m)return d;for(a=0;a<k.length;a++)if(!k[a](m))return d;return p?p(m):m;}function za(a,d,b,f,k){return Ea(a,d,"[",function(a){a=a.split("|");for(var d=a.length;d--;)a[d]=B.de(a[d]);return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var d=a.length;d--;)if(!G.Dw(a[d],b,f))return!1;return!0;},function(a){return void 0===k||a.length>=k;}]);}function Fa(a,d){return Ea(a,d,"[",function(a){a=G.isArray(a)?a:a.split("|");for(var d=a.length;d--;)try{a[d]=JSON.parse(x.$0(a[d]));}catch(kf){a=void 0;break;}return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var d=a.length;d--;)if(!G.gc(a[d])||!G.jf(a[d]))return!1;return!0;}]);}function ya(a,d,b,f){return Ea(a,d,"[",function(a){return G.isArray(a)?a:a.split("|");},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var d=a.length;d--;)if(b?!b.test(a[d]):!G.Kz(a[d]))return!1;return!0;},function(a){return void 0===f||a.length>=f;}]);}function ma(a,d,b){return Ea(a,d,"{",function(a){var d,f,k;d={};a=a.split(";");for(var b=a.length;b--;){f=a[b];k=f.indexOf(":");if(0>=k)return;d[f.substring(0,k)]=f.substring(k+1);}return d;},[function(a){return G.jf(a)&&0<Object.keys(a).length;},function(a){if(b)for(var d in a)if(!b.test(a[d]))return!1;return!0;}],function(a){var b;b={};B.cb(b,d);B.cb(b,a);return b;});}function Za(a){var d;d=[];B.ad(a,function(a,b){var f;try{f="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(b);}catch(lf){f="cantparse";}d.push(a+"="+f);});return d.join("\n");}lb=/^[0-9]+[%]?$/;A=/^[0-9]*$/;Wb={};Ua=d.$.get(k.Io);Ra=d.$.get(l.LH);(function(){var f;function b(a){a.split(",").forEach(function(a){var d;d=a.indexOf("=");0<d&&(F[a.substring(0,d).toLowerCase()]=a.substring(d+1));});}F={};B.cb(F,t.Dka);a&&a.length&&x.forEach.call(a,function(a){G.ce(a)?b(a):G.jf(a)&&B.cb(F,a,{VE:!0});});eb=B.cb({},q.m9(),{VE:!0});f=q.Psb().cadmiumconfig;f&&(d.log.info("Config cookie loaded",f),b(f));if(t.DIa||F.istestaccount)B.cb(F,eb),Wb=eb;"clearkey"!=r("drmType")||F.keysystemid||(F.keysystemid=(K.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());c.config={};Y={o7:f(N,g("enableDDPlus20"),!0),n7:f(N,g("enableDDPlus"),!0),EK:f(N,g("enableDDPlusAtmos"),!1),Wab:f(N,g("enableLSSDH"),!0),Qab:f(N,g("enableHEVC"),!1),iCa:f(N,g("overrideEnableHEVC"),!1),q7:f(N,g("enableHDR"),!1),hCa:f(N,g("overrideEnableHDR"),!1),ZT:f(N,g("enableAVCHigh"),Ra.ZT),NM:f(N,g("overrideEnableAVCHigh"),Ra.NM),fbb:f(N,g("enableVP9"),!1),jCa:f(N,g("overrideEnableVP9"),!1),Lab:f(N,g("enableAV1"),!1),gCa:f(N,g("overrideEnableAV1"),!1),abb:f(N,g("enablePRK"),!1),Rab:f(N,g("enableHWDRM"),!1),Uab:f(N,g("enableImageSubs"),!0),sJ:f(ya,g("audioProfiles"),Ra.sJ),SMb:f(N,g("disableHD"),!1),QZ:f(C,"videoCapabilityDetectorType",u.sk.Kx),L4:f(C,"audioCapabilityDetectorType",u.Fx.Kx),HG:f(ya,g("videoProfiles"),Ra.HG),S0a:f(ya,g("timedTextProfiles"),Ra.zu),zu:function(){return Y.S0a().filter(function(a){return a===y.el.y_?Y.Wab():a===y.el.IB?Y.Uab():!0;});},endpoint:f(N,g("endpoint"),!1),version:f(r,"version","unknown"),yFa:f(N,g("setMediaKeysEarly"),!1),VPb:f(N,g("nrdpPersistCookiesToIndexDB"),!1),GV:f(N,g("ignoreKeyStatusOutputNotAllowed"),!1),Ota:f(N,g("doNotPerformLdlOnPlaybackCreate"),!1),Pta:f(N,g("doNotPerformLdlOnPlaybackStart"),!1),YHa:f(N,g("useHdcpLevelOnCast"),!1),Sab:f(N,g("enableHdcp"),!1),mo:f(N,g("prepareCadmium"),!1),y1a:f(N,g("acceptManifestOnPrepareItemParams"),!0),$Ca:f(ha,"ppmconfig",{maxNumberTitlesScheduled:1}),prb:f(N,g("playerPredictionModelV2"),!0),$D:f(N,g("enableLdlPrefetch"),!1),$T:f(N,g("enableGetHeadersAndMediaPrefetch"),!1),qK:f(N,g("deleteCachedManifestOnPlayback"),!1),sK:f(N,g("deleteOtherManifestCacheOnCreate"),!1),rK:f(N,g("deleteOtherLdlCacheOnCreate"),!1),Pqb:f(C,g("periodicPrepareLogsIntervalMilliseconds"),36E5),Prb:f(C,g("prepareManifestCacheMaxCount"),50),Nrb:f(C,g("prepareLdlCacheMaxCount"),30),cDa:f(C,g("prepareManifestExpiryMilliseconds"),12E5),Orb:f(C,g("prepareLdlExpiryMilliseconds"),78E4),Mrb:f(r,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),bSb:f(ha,"videoApp"),lx:f(ha,"storageRules"),Cdb:f(N,"ftlEnabled",!0),m$:f(C,g("imageSubsResolution"),0),Qib:f(C,g("imageSubsMaxBuffer"),Ra.Kmb.da(n.Hr),0),OJ:f(N,g("captureBatteryStatus"),!1),beb:f(C,g("getBatteryApiTimeoutMilliseconds"),5E3),Rd:f(r,g("keySystemId"),Ra.Rd),dza:f(ya,g("keySystemList"),void 0,void 0),rnb:f(C,g("hdcpGlobalTimeout1"),1E4),snb:f(C,g("hdcpGlobalTimeout2"),1E4),yPb:f(C,g("hdcpQueryTimeout1"),1E3),zPb:f(C,g("hdcpQueryTimeout2"),1E3),tnb:f(C,g("hdcpQueryTimeout2"),100),unb:f(N,g("microsoftHwdrmRequiresHevc"),!1),onb:f(N,g("microsoftEnableDeviceInfo"),!1),pnb:f(N,g("microsoftEnableHardwareInfo"),!1),qnb:f(N,g("microsoftEnableHardwareReset"),!1),GAb:f(N,g("useHevcCodecForDolbyVision"),!1),Plb:f(N,"logMediaPipelineStatus",!1),nN:f(N,g("renderDomDiagnostics"),!0),Eza:function(){return-1;},UE:f(U,g("logDisplayMaxEntryCount"),Ra.UE,-1),Wlb:f(U,g("logToConsoleLevel"),-1),rLb:f(U,g("bladerunnerCmdHistorySize"),10),Gq:function(){return Ua.Gq;},xAb:f(N,"upgradeNetflixId",!0),qaa:f(N,"logErrorIfEsnNotProvided",!0),z7:f(N,"enforceSinglePlayback",Ra.z7),cU:f(N,"enforceSingleSession",Ra.cU),I5:f(N,"closeOtherPlaybacks",!0),k3a:f(C,"asyncLoadTimeout",15E3,1),fmb:f(C,"mainThreadMonitorPollRate",0),UPb:f(N,"nrdpAlwaysShowUIOverlay",!1),WPb:f(N,"nrdpValidateSSOTokens",!0),oRb:f(N,"showNrdpDebugBadging",!1),SZ:function(){return Ua.SZ;},ww:function(){return Ua.ww;},pD:function(){return Ua.pD;},dB:function(){return Ua.dB;},fIa:f(C,g("verbosePlaybackInfoDenominator"),0),lY:f(N,"renderTimedText",!0),Arb:f(N,"preBufferTimedText",!0),ucb:f(N,"fatalOnTimedTextLoadError",!0),WGa:f(ma,"timedTextStyleDefaults",{}),wfa:f(ma,"timedTextStyleOverrides",{}),vfa:f(ma,"timedTextFontFamilyMapping",Ra.vfa||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),XGa:f(C,g("timedTextTimeOverride"),0),vG:f(C,"timedTextSimpleFallbackThreshold",Ra.vG.da(n.Hr)),u6:f(r,g("customDfxpUrl")),ebb:f(N,g("enableSubtitleTrackerLogging"),!1),Hvb:f(N,g("sendSubtitleQoeLogblobOnMidplay"),!1),p5:f(za,"cdnIdWhiteList",[]),o5:f(za,"cdnIdBlackList",[]),k8:f(r,g("forceAudioTrack")),iob:f(N,"muteVolumeOnPlaybackClose",!0),XPb:f(r,"nrdpVolumeControlType","VOLUME_STREAM"),m8:f(r,g("forceTimedTextTrack")),sAa:f(C,g("maxRetriesTimedTextDownload"),0),VGa:f(C,g("timedTextRetryInterval"),8E3),Pxb:f(r,"storageType","idb",/^(none|fs|idb|ls)$/),Aza:f(C,"lockExpiration",1E4),Mlb:f(C,"lockRefresh",3E3),h5a:f(N,"captureUnhandledExceptions",!0),Pib:f(N,"ignoreUnhandledExceptionDuringPlayback",!0),Nzb:f(N,"unhandledExceptionsArePlaybackErrors",!1),CHa:f(r,"unhandledExceptionSource",""),Xrb:f(N,"preserveLastFrame",!1),Gnb:f(C,"minBufferingTimeInMilliseconds",4E3),psb:f(C,"progressBackwardsGraceTimeMilliseconds",4E3),qsb:f(C,"progressBackwardsMinPercent",10),k4a:f(r,g("bookmarkIgnoreBeginning"),"0",lb),l4a:f(r,g("bookmarkIgnoreEnd"),"5%",lb),m4a:f(r,g("bookmarkIgnoreEndForBranching"),"60000",lb),ZE:f(C,"maxParallelConnections",3),qda:f(N,"reportThroughputInLogblobs",!0),dF:f(C,"minAudioMediaRequestDuration",16E3),Dnb:f(C,"minAudioMediaRequestDurationBranching",0),iF:f(C,"minVideoMediaRequestDuration",4E3),Onb:f(C,"minVideoMediaRequestDurationAL1",0),Pnb:f(C,"minVideoMediaRequestDurationBranching",0),UW:f(C,"minAudioMediaRequestSizeBytes",0),$W:f(C,"minVideoMediaRequestSizeBytes",0),vab:f(N,"droppedFrameRateFilterEnabled",!1),wab:f(C,"droppedFrameRateFilterMaxObservation",60,10,1E3),yab:f(function(a,d,b,f,k,p){return Ea(a,d,"[",function(a){a=a.split(";");for(var d=a.length;d--;){a[d]=a[d].split("|");for(var b=a[d].length;b--;)a[d][b]=B.de(a[d][b]);}return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var d=a.length;d--&&void 0!==a;){if(!G.isArray(a[d]))return!1;for(var k=a[d].length;k--;)if(!G.Dw(a[d][k],b,f))return!1;}return!0;},function(a){if(void 0!==k)for(var d=a.length;d--;)if(k!==a[d].length)return!1;return!0;},function(a){return void 0===p||a.length>=p;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),WMb:f(N,"droppedFrameRateFilterWithoutRebufferEnabled",!0),xab:f(C,"droppedFrameRateFilterMinHeight",384),zab:f(za,"droppedFramesPercentilesList",[]),vnb:f(N,"microsoftScreenSizeFilterEnabled",!1),Izb:f(N,"uiLabelFilterEnabled",!0),Hzb:f(ha,"uiLabelFilter",{}),g$a:f(C,g("defaultVolume"),100,0,100),Jta:f(N,"disableVideoRightClickMenu",!1),Lnb:f(C,"minDecoderBufferMilliseconds",1E3,0,m.Vx),xX:f(C,"optimalDecoderBufferMilliseconds",5E3,0,m.Vx),$Ba:f(C,"optimalDecoderBufferMillisecondsBranching",3E3,0,m.Vx),aX:f(C,"minimumTimeBeforeBranchDecision",3E3,0,m.Vx),GW:f(C,"maxDecoderBufferMilliseconds",Ra.GW.da(R.ja),0,m.Vx),ita:f(C,"decoderTimeoutMilliseconds",1E4,1),S$a:f(N,"disgardMediaOnAppend",!1),I2a:f(N,"appendMediaBeforeInit",!1),xqb:f(C,"pauseTimeoutLimitMilliseconds",18E5),p$:f(C,"inactivityMonitorInterval",3E4,0),w1a:f(za,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),aE:f(N,"enableTrickPlay",!1),p2a:f(za,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),yzb:f(C,"trickPlayHighResolutionBitrateThreshold",1E3),zzb:f(C,"trickPlayHighResolutionThresholdMilliseconds",1E4),Czb:f(O,"trickplayBufferFactor",.5),xzb:f(C,"trickPlayDownloadRetryCount",1),Oaa:f(r,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),zba:f(r,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Aia:f(ha,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),kAa:f(U,"maxIQRSamples",Infinity),LAa:f(U,"minIQRSamples",5),bIa:f(N,"useResourceTimingAPI",!1),Nib:f(N,"ignoreFirstByte",!0),fnb:f(N,"mediaRequestAsyncLoadStart",!0),MAb:f(N,"useXHROnLoadStart",!1),N7:f(za,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),iT:f(C,"connectTimeoutMilliseconds",8E3,500),Fba:f(C,"noProgressTimeoutMilliseconds",8E3,500),JAb:f(N,"useOnLineApi",!1),UGa:f(C,"timedTextDownloadRetryCountBeforeCdnSwitch",3),OPb:f(C,"netflixRequestExpiryTimeout",0),vBb:f(N,"webkitDecodedFrameCountIncorrectlyReported",!1),kvb:f(C,"seekBackOnAudioTrackChangeMilliseconds",8E3),vqb:f(N,"pausePlaybackOnAudioSwitch",!0),ffa:f(ya,g("supportedAudioTrackTypes"),[],void 0,1),lya:f(C,"initialLogFlushTimeout",5E3),RCa:f(r,"playdataPersistKey",Ua.Gq?"unsentplaydatatest":"unsentplaydata"),fea:f(N,"sendPersistedPlaydata",!0),mrb:f(C,"playdataPersistIntervalMilliseconds",4E3),uQb:f(C,"playdataSendDelayMilliseconds",1E4),HY:f(N,"sendPlaydataBackupOnInit",!0),Slb:f(ya,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),xnb:f(N,"midplayEnabled",!0),HAa:f(C,"midplayIntervalMilliseconds",3E5),ynb:f(za,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),wK:f(C,"downloadReportDenominator",0),dab:f(C,"downloadReportInterval",3E5),Dza:f(C,"logConfigApplyDenominator",0),jra:f(ma,g("bookmarkByMovieId"),{}),TK:f(N,g("forceLimitedDurationLicense"),!1),Jw:f(C,g("licenseRenewalRequestDelay"),0),mca:f(C,g("persistedReleaseDelay"),1E4),YOb:f(N,g("limitedDurationFlagOverride"),void 0),gi:f(N,g("secureStopEnabled"),!1),hRb:f(N,g("secureStopFromPersistedKeySession"),!1),ZEa:f(C,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Tda:f(C,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),hvb:f(C,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),ivb:f(C,g("secureStopPersistedKeySessionRetries"),17,1),gvb:f(C,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),DG:f(N,g("useCdmId"),!1),KEa:f(C,"safariPlayPauseWorkaroundDelay",100),CBb:f(C,"workaroundValueForSeekIssue",1200),BBb:f(N,"workaroundSaio",!0),m5:f(N,g("callEndOfStream"),Ra.m5),Nqb:f(N,"performRewindCheck",!0),wcb:f(N,"fatalOnUnexpectedSeeking",!0),vcb:f(N,"fatalOnUnexpectedSeeked",!0),zwb:f(N,g("setVideoElementSize")),R5a:f(N,g("clearVideoSrc"),!0),wta:f(C,g("delayPlayPause"),0),Q3a:f(N,g("avoidSBRemove"),!1),Wp:f(N,g("useTypescriptEme"),!1),zK:f(r,g("drmPersistKey"),"unsentDrmData"),Sca:f(N,g("promiseBasedEme"),!1),g5a:f(N,"captureKeyStatusData",!1),FE:f(N,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),Wob:f(N,g("nudgeSourceBuffer"),!1),Uda:f(U,g("seekDelta"),1),YM:f(N,g("preciseSeeking"),!1),Erb:f(N,g("preciseSeekingOnTwoCoreDevice"),!1),vta:f(ma,g("delayErrorHandling")),iHa:f(N,"trackingLogEnabled",!1),jHa:f(function(a,d){var b;b=ma(a,d,void 0);b&&Object.keys(b).forEach(function(a){var d;d=b[a];"true"===d?b[a]=!0:"false"===d&&(b[a]=!1);});return b;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Dfa:f(r,"trackingLogPath","/customerevents/track/debug"),lzb:f(za,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Pg:f(r,"esn",""),Sua:f(r,"fesn",""),p7:f(N,g("enableEmeVerboseLogging"),!1),Xab:f(N,"enableLastChunkLogging",!1),lJ:f(r,"appId","",A),sessionId:f(r,"sessionId","",A),r5:f(r,"cdnProxyUrl"),LAb:f(N,"usePlayReadyHeaderObject",!1),sva:f(C,"forceXhrErrorResponseCode",void 0),ot:{IPb:f(r,"mslApiPath","/msl/"),YMb:f(r,g("edgePath"),"/cbp/cadmium-29"),FQb:f(r,"proxyPath",""),yO:f(r,"uiVersion"),zZ:f(r,"uiPlatform"),JLb:function(){return"0";},Gca:f(ya,"preferredLanguages",m.HLa,/^[a-zA-Z-]{2,5}$/,1),mdb:f(r,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),pyb:f(N,"supportPreviewContentPin",!0),qyb:f(N,"supportWatermarking",!0),Zwb:f(N,"showAllSubDubTracks",!1),pNb:f(N,g("failOnGuidMismatch"),!1)},ZX:{enabled:f(N,"qcEnabled",!1),io:f(r,"qcPackageId","")},vJ:f(r,"authenticationType",Ua.Gq?Ra.E3a:Ra.vJ),Xqa:f(ma,"authenticationKeyNames",B.cb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),xyb:f(r,"systemKeyWrapFormat"),Wib:f(N,"includeNetflixIdUserAuthData",!0),Uwb:f(N,"shouldSendUserAuthData",!0),iea:f(N,"sendUserAuthIfRequired",Ra.iea),Pwb:f(N,"shouldClearUserData",!1),cob:f(N,"mslDeleteStore",!1),eob:f(N,"mslPersistStore",!0),Q6a:f(N,"correctNetworkForShortTitles",!0),yrb:f(N,"postplayHighInitBitrate",!1),edb:f(N,"flushHeaderCacheOnAudioTrackChange",!0),tcb:f(N,"fatalOnAseStreamingFailure",!0),vyb:f(N,"supportsUnequalizedDownloadables",!0),cta:f(C,g("debugAseDenominator"),100),ES:f(C,"aseAudioBufferSizeBytes",Ra.ES.da(n.Hr)),GS:f(C,"aseVideoBufferSizeBytes",Ra.GS.da(n.Hr)),ar:f(C,"minInitVideoBitrate",560),mba:f(C,"minHCInitVideoBitrate",560),Wt:f(C,"maxInitVideoBitrate",Infinity),qM:f(C,"minInitAudioBitrate",0),pM:f(C,"minHCInitAudioBitrate",0),cM:f(C,"maxInitAudioBitrate",65535),TW:f(C,"minAcceptableVideoBitrate",235),rM:f(C,"minRequiredBuffer",3E4),mj:f(C,"minPrebufSize",7800),fda:f(O,"rebufferingFactor",1),fo:f(C,"maxBufferingTime",2600),Ufa:f(N,"useMaxPrebufSize",!0),Ow:f(C,"maxPrebufSize",45E3),Xaa:f(C,"maxRebufSize",Infinity),LV:f(Fa,"initialBitrateSelectionCurve",null),hya:f(C,"initSelectionLowerBound",560),iya:f(C,"initSelectionUpperBound",1050),pZ:f(C,"throughputPercentForAudio",15),S4:f(C,"bandwidthMargin",10),T4:f(N,"bandwidthMarginContinuous",!1),U4:f(Fa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),T5:f(C,"conservBandwidthMargin",20),jfa:f(N,"switchConfigBasedOnInSessionTput",!1),XJ:f(C,"conservBandwidthMarginTputThreshold",0),U5:f(Fa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),CGa:f(N,"switchAlgoBasedOnHistIQR",!1),sx:f(r,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Waa:f(U,"maxPlayerStateToSwitchConfig",-1),yaa:f(r,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),C0:f(O,"IQRThreshold",.5),d$:f(r,"histIQRCalcToUse","simple"),Yt:f(C,"maxTotalBufferLevelPerSession",0),Rxa:f(C,"highWatermarkLevel",3E4),eHa:f(C,"toStableThreshold",3E4),uZ:f(C,"toUnstableThreshold",Ra.uZ.da(R.ja)),Oea:f(N,"skipBitrateInUpswitch",!0),aga:f(C,"watermarkLevelForSkipStart",8E3),W9:f(C,"highStreamRetentionWindow",9E4),zaa:f(C,"lowStreamTransitionWindow",51E4),Y9:f(C,"highStreamRetentionWindowUp",3E5),Baa:f(C,"lowStreamTransitionWindowUp",3E5),X9:f(C,"highStreamRetentionWindowDown",6E5),Aaa:f(C,"lowStreamTransitionWindowDown",0),V9:f(O,"highStreamInfeasibleBitrateFactor",.5),St:f(C,"lowestBufForUpswitch",15E3),xW:f(C,"lockPeriodAfterDownswitch",15E3),Daa:f(C,"lowWatermarkLevel",25E3),Tt:f(C,"lowestWaterMarkLevel",2E4),Eaa:f(N,"lowestWaterMarkLevelBufferRelaxed",!1),hba:f(O,"mediaRate",1),MW:f(C,"maxTrailingBufferLen",1E4),rJ:f(C,"audioBufferTargetAvailableSize",262144),LO:f(C,"videoBufferTargetAvailableSize",1048576),uAa:f(C,"maxVideoTrailingBufferSize",8388608),fAa:f(C,"maxAudioTrailingBufferSize",393216),kU:f(O,"fastUpswitchFactor",3),P7:f(O,"fastDownswitchFactor",1),dM:f(C,"maxMediaBufferAllowed",24E4),Zq:f(C,"maxVideoBufferAllowedInBytes",0),Lea:f(N,"simulatePartialBlocks",!0),UFa:f(N,"simulateBufferFull",!0),V5:f(N,"considerConnectTime",!1),S5:f(O,"connectTimeMultiplier",1),Nza:f(C,"lowGradeModeEnterThreshold",12E4),Oza:f(C,"lowGradeModeExitThreshold",9E4),hAa:f(C,"maxDomainFailureWaitDuration",3E4),eAa:f(C,"maxAttemptsOnFailure",18),Hua:f(N,"exhaustAllLocationsForFailure",!0),nAa:f(C,"maxNetworkErrorsDuringBuffering",20),Raa:f(C,"maxBufferingTimeAllowedWithNetworkError",6E4),Qua:f(C,"fastDomainSelectionBwThreshold",2E3),OGa:f(C,"throughputProbingEnterThreshold",4E4),PGa:f(C,"throughputProbingExitThreshold",34E3),zza:f(C,"locationProbingTimeout",1E4),Uua:f(C,"finalLocationSelectionBwThreshold",1E4),MGa:f(O,"throughputHighConfidenceLevel",.75),NGa:f(O,"throughputLowConfidenceLevel",.4),oua:f(N,"enablePerfBasedLocationSwitch",!1),Hp:f(N,"probeServerWhenError",!0),Nca:f(C,"probeRequestTimeoutMilliseconds",8E3),Js:f(N,"allowSwitchback",!0),xA:f(C,"probeDetailDenominator",100),HW:f(C,"maxDelayToReportFailure",300),naa:f(C,"locationStatisticsUpdateInterval",6E4),Csa:f(N,"countGapInBuffer",!1),pqa:f(N,"allowCallToStreamSelector",!0),pra:f(C,"bufferThresholdForAbort",1E4),oca:f(C,"pipelineScheduleTimeoutMs",2),Xt:f(C,"maxPartialBuffersAtBufferingStart",2),nba:f(C,"minPendingBufferLen",6E3),Nw:f(C,"maxPendingBufferLen",12E3),Omb:f(C,"maxPendingBufferLenAL1",3E4),Yaa:f(C,"maxStreamingSkew",4E3),Vaa:f(C,"maxPendingBufferPercentage",10),Yz:f(C,"maxRequestsInBuffer",60),pAa:f(C,"maxRequestsInBufferAL1",240),qAa:f(C,"maxRequestsInBufferBranching",120),wV:f(C,"headerRequestSize",4096),VW:f(C,"minBufferLenForHeaderDownloading",1E4),rY:f(C,"reserveForSkipbackBufferMs",1E4),Qba:f(C,"numExtraFragmentsAllowed",2),jo:f(N,"pipelineEnabled",!1),ZFa:f(C,"socketReceiveBufferSize",0),KS:f(C,"audioSocketReceiveBufferSize",32768),JG:f(C,"videoSocketReceiveBufferSize",65536),T9:f(C,"headersSocketReceiveBufferSize",32768),FZ:f(C,"updatePtsIntervalMs",1E3),b5:f(C,"bufferTraceDenominator",100),kD:f(C,"bufferLevelNotifyIntervalMs",2E3),oJ:f(C,"aseReportDenominator",0),G4:f(C,"aseReportIntervalMs",3E5),jua:f(N,"enableAbortTesting",!1),Spa:f(C,"abortRequestFrequency",8),afa:f(C,"streamingStatusIntervalMs",2E3),BF:f(C,"prebufferTimeLimit",24E4),WW:f(C,"minBufferLevelForTrackSwitch",2E3),jca:f(C,"penaltyFactorForLongConnectTime",2),waa:f(C,"longConnectTimeThreshold",200),p4:f(C,"additionalBufferingLongConnectTime",2E3),q4:f(C,"additionalBufferingPerFailure",8E3),lN:f(C,"rebufferCheckDuration",6E4),nua:f(N,"enableLookaheadHints",!1),Jza:f(C,"lookaheadFragments",2),iz:f(N,"enableOCSideChannel",!0),$P:f(ha,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),KHa:f(N,"updateDrmRequestOnNetworkFailure",!1),uta:f(N,"deferAseScheduling",!1),gAa:f(C,"maxDiffAudioVideoEndPtsMs",16E3),EG:f(N,"useHeaderCache",!0),CT:f(C,"defaultHeaderCacheSize",4),I6:f(C,"defaultHeaderCacheDataPrefetchMs",8E3),P9:f(C,"headerCacheMaxPendingData",6),Aba:f(N,"neverWipeHeaderCache",!0),Q9:f(C,"headerCachePriorityLimit",5),GK:f(N,"enableUsingHeaderCount",!1),Mxa:f(N,"headerCacheTruncateHeaderAfterParsing",!0),ddb:f(N,g("flushHeaderCacheBeforePlayback"),!1),yba:f(C,"networkFailureResetWaitMs",2E3),xba:f(C,"networkFailureAbandonMs",6E4),LW:f(C,"maxThrottledNetworkFailures",3),oZ:f(C,"throttledNetworkFailureThresholdMs",200),Caa:f(U,"lowThroughputThreshold",400),H7:f(N,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),VAa:f(N,"mp4ParsingInNative",!1),$Fa:f(N,"sourceBufferInOrderAppend",!0),mr:f(N,"requireAudioStreamToEncompassVideo",!0),oqa:f(N,"allowAudioToStreamPastVideo",!0),Nf:f(N,"enableManagerDebugTraces",!1),Yza:f(C,"managerDebugMessageInterval",1E3),Xza:f(C,"managerDebugMessageCount",20),yBa:f(N,"notifyManifestCacheEom",!1),a5:f(C,"bufferThresholdToSwitchToSingleConnMs",18E4),Z4:f(C,"bufferThresholdToSwitchToParallelConnMs",12E4),GX:f(C,"periodicHistoryPersistMs",3E5),yY:f(C,"saveVideoBitrateMs",18E4),Bqa:f(N,"appendMediaRequestOnComplete",!0),QO:f(N,"waitForDrmToAppendMedia",!1),j8:f(N,g("forceAppendHeadersAfterDrm"),!1),kN:f(N,g("reappendRequestsOnSkip"),!0),mob:f(C,"netIntrStoreWindow",36E3),Mnb:f(C,"minNetIntrDuration",8E3),qcb:f(C,"fastHistoricBandwidthExpirationTime",10368E3),T3a:f(C,"bandwidthExpirationTime",5184E3),ocb:f(C,"failureExpirationTime",86400),vib:f(C,"historyTimeOfDayGranularity",4),gcb:f(N,"expandDownloadTime",!1),Vnb:f(C,"minimumMeasurementTime",500),Unb:f(C,"minimumMeasurementBytes",131072),Jyb:f(C,"throughputMeasurementTimeout",2E3),jjb:f(C,"initThroughputMeasureDataSize",262144),Kyb:f(r,"throughputPredictor","ewma"),Iyb:f(C,"throughputMeasureWindow",5E3),Myb:f(C,"throughputWarmupTime",5E3),Hyb:f(C,"throughputIQRMeasureWindow",5E3),wPa:f(C,"IQRBucketizerWindow",15E3),t6a:f(C,"connectTimeHalflife",10),Aub:f(C,"responseTimeHalflife",10),uib:f(C,"historicBandwidthUpdateInterval",2E3),Tnb:f(C,"minimumBufferToStopProbing",1E4),Rda:f(r,"secondThroughputEstimator","none"),WEa:f(U,"secondThroughputMeasureWindowInMs",Infinity),Pab:f(ya,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),Fcb:f(ha,"filterDefinitionOverrides",{}),b$a:f(r,"defaultFilter","throughput-ewma"),cvb:f(r,"secondaryFilter","none"),c$a:f(ha,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),wM:f(N,"needMinimumNetworkConfidence",!0),X4:f(N,"biasTowardHistoricalThroughput",!0),wS:f(N,"addHeaderDataToNetworkMonitor",!1),Vea:f(N,"startMonitorOnLoadStart",!1),pda:f(N,"reportFailedRequestsToNetworkMonitor",!1),Taa:f(U,"maxFastPlayBufferInMs",Infinity),Saa:f(U,"maxFastPlayBitThreshold",Infinity),A4:f(N,"appendFirstHeaderOnComplete",!0),V2a:f(r,"ase_stream_selector","optimized"),x$:f(r,"initBitrateSelectorAlgorithm","default"),d5:f(r,"bufferingSelectorAlgorithm","default"),y6:f(r,"ase_ls_failure_simulation",""),w6:f(N,"ase_dump_fragments",!1),x6:f(C,"ase_location_history",0),z6:f(C,"ase_throughput",0),eta:f(N,"ase_simulate_verbose",!1),urb:f(C,"pollingPeriod",150),Elb:f(C,"loadTimeMs",18E4),qmb:f(C,"marginTimeMs",1E4),zx:f(N,"useMediaCache",!1),aw:f(C,"diskCacheSizeLimit",52428800),PW:f(C,"mediaCachePrefetchMs",8E3),cba:f(ma,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),K8:f(N,"getDeviceIdFromBindDevice",!1),k4:f(N,"addFailedLogBlobsToQueue",!0),Jzb:{"content-sampling":{fo:f(C,"contentSamplingMaxBufferingTime",3E3),VF:f(r,"contentSamplingSelectStartingVMAFMethod","fallback"),fJ:f(N,"contentSamplingActivateSelectStartingVMAF",!0),hF:f(C,"contentSamplingMinStartingVideoVMAF",80)},billboard:{ar:f(C,"billboardMinInitVideoBitrate",1050),Wt:f(C,"billboardMaxInitVideoBitrate",null),mj:f(C,"billboardMinPrebufSize",null),Ow:f(C,"billboardMaxPrebufSize",null),fo:f(C,"billboardMaxBufferingTime",null),Xt:f(C,"billboardMaxPartialBuffersAtBufferingStart",null),Tt:f(C,"billboardLowestWaterMarkLevel",6E3),St:f(C,"billboardLowestBufForUpswitch",25E3),sx:f(r,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{ar:f(C,"preplayMinInitVideoBitrate",1050),Wt:f(C,"preplayMaxInitVideoBitrate",null),mj:f(C,"preplayMinPrebufSize",null),Ow:f(C,"preplayMaxPrebufSize",null),fo:f(C,"preplayMaxBufferingTime",null),Xt:f(C,"preplayMaxPartialBuffersAtBufferingStart",null),Tt:f(C,"preplayLowestWaterMarkLevel",6E3),St:f(C,"preplayLowestBufForUpswitch",25E3)},embedded:{ar:f(C,"embeddedMinInitVideoBitrate",1050),Wt:f(C,"embeddedMaxInitVideoBitrate",null),mj:f(C,"embeddedMinPrebufSize",null),Ow:f(C,"embeddedMaxPrebufSize",null),fo:f(C,"embeddedMaxBufferingTime",null),Xt:f(C,"embeddedMaxPartialBuffersAtBufferingStart",null),Tt:f(C,"embeddedLowestWaterMarkLevel",6E3),St:f(C,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{ar:f(C,"videoMerchBobHorizontalMinInitVideoBitrate",null),Wt:f(C,"videoMerchBobHorizontalMaxInitVideoBitrate",null),mj:f(C,"videoMerchBobHorizontalMinPrebufSize",null),Ow:f(C,"videoMerchBobHorizontalMaxPrebufSize",null),fo:f(C,"videoMerchBobHorizontalMaxBufferingTime",null),Xt:f(C,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Tt:f(C,"videoMerchBobHorizontalLowestWaterMarkLevel",null),St:f(C,"videoMerchBobHorizontalLowestBufForUpswitch",null),JZ:f(N,"videoMerchBobHorizontalUseNewApi",null)},"mini-modal-horizontal":{ar:f(C,"miniModalHorizontalMinInitVideoBitrate",null),Wt:f(C,"miniModalHorizontalMaxInitVideoBitrate",null),mj:f(C,"miniModalHorizontalMinPrebufSize",null),Ow:f(C,"miniModalHorizontalMaxPrebufSize",null),fo:f(C,"miniModalHorizontalMaxBufferingTime",500),Xt:f(C,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Tt:f(C,"miniModalHorizontalLowestWaterMarkLevel",null),St:f(C,"miniModalHorizontalLowestBufForUpswitch",null)}},gbb:f(N,"enableVerbosePlaydelayLogging",!1),dbb:f(N,"enableSeamless",!1),c$:f(C,"hindsightDenominator",0),b$:f(C,"hindsightDebugDenominator",0),zV:f(ha,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),FK:f(N,"enableSessionHistoryReport",!1),m7:f(C,"earlyStageEstimatePeriod",1E4),jza:f(C,"lateStageEstimatePeriod",3E4),IW:f(C,"maxNumSessionHistoryStored",30),ZW:f(C,"minSessionHistoryDuration",3E4),Xq:f(C,"maxActiveRequestsPerSession",3),FW:f(C,"maxActiveRequestsSABCell100",2),JW:f(C,"maxPendingBufferLenSABCell100",500),kaa:f(N,"limitAudioDiscountByMaxAudioBitrate",!0),Bq:f(ha,"browserInfo",{}),F4a:f(C,g("busyGracePeriod"),199),Ivb:f(N,g("sendTransitionLogblob"),!0),WT:f(N,g("editAudioFragments"),!1),pt:f(N,g("editVideoFragments"),!1),Fab:f(N,g("editAudioFragmentsBranching"),!0),dua:f(N,g("editVideoFragmentsBranching"),!0),VT:f(N,g("earlyAppendSingleChildBranch"),!0),Xib:f(N,g("includeSegmentInfoOnLogblobs"),!0),kcb:f(N,"exposeTestData",!1),B6:f(N,"declareBufferingCompleteAtSegmentEnd",!0),Ny:f(N,"applyProfileTimestampOffset",!1),Xo:f(N,"applyProfileStreamingOffset",!1),z2a:f(N,g("allowSmallSeekDelta"),!1),ixb:f(C,g("smallSeekDeltaThresholdMilliseconds"),P.x1),Mab:f(N,"enableCDMAttestedDescriptors",!1),wda:f(N,"requireDownloadDataAtBuffering",!1),xda:f(N,"requireSetupConnectionDuringBuffering",!1),gda:f(N,"recordFirstFragmentOnSubBranchCreate",!1),r4a:f(N,"branchingAudioTrackFrameDropSmallSeekFix",!0),qva:f(N,"forceL3WidevineCdm",!1),IAb:f(N,"useMobileVMAF",!1),z$a:f(r,"desiredVMAFTypeMobile","phone_plus_exp"),A$a:f(r,"desiredVMAFTypeNonMobile","plus_lts"),fJ:f(N,"activateSelectStartingVMAF",!1),hF:f(C,"minStartingVideoVMAF",1),w4:f(N,"alwaysNotifyEOSForPlaygraph",!0),s7:f(N,"enableNewAse",!1),JZ:f(N,"useNewApi",!1)};tb=!0;c.ssa=function(a){var f,k;if(0<c.config.Dza&&0===H.hja%c.config.Dza)try{f=d.$.get(h.mk);k=d.$.get(T.Jo).wm("config","info",{params:a});f.xc(k);}catch(jf){d.log.error("Failed to log config$apply",jf);}K._cad_global.config=c.config;K._cad_global.platformExtraInfo=t.Lo;p.Ma(a);a&&(F=B.cb({},a,{VE:!0}),B.cb(F,Wb,{VE:!0}),b(Y,c.config),F.istestaccount&&d.log.trace("Config applied for",Za(tb?F:a)),tb=!1);};c.ssa(F);};c.bMb=function(a,d){return G.ce(a)&&"%"==a[a.length-1]?x.pi(parseFloat(a)*d/100):a|0;};c.p6a=function(a){return a?(a=B.cb({},c.config),B.cb(a,{xX:c.config.$Ba},{du:!0})):c.config;};c.cMb=function(a){var d;d=B.cb({},c.config);return B.cb(d,b(a),{du:!0});};c.usa=function(d){d=b(d);return B.cb({},a(160)(d),{du:!0});};c.tsa=function(d,b,f){f=!!f&&(0<=f.indexOf("h264hpl")||0<=f.indexOf("vp9"));d={dF:d?c.config.Dnb:c.config.dF,iF:d?c.config.Pnb:f?c.config.Onb:c.config.iF,Yz:d&&f?Math.max(c.config.qAa,c.config.pAa):d?c.config.qAa:f?c.config.pAa:c.config.Yz,Nw:f?c.config.Omb:c.config.Nw,WT:c.config.WT||d&&c.config.Fab,pt:c.config.pt||d&&c.config.dua,VT:!b};return B.cb({},a(160)(d),{du:!0});};c.eMb=b;c.dMb=f;c.aMb="";},function(g){g.P={YCb:{Yr:0,iJb:1,name:["STARTUP","STEADY"]},GP:{Dg:0,hJb:1,vWa:2,name:["STARTING","STABLE","UNSTABLE"]},Fa:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Dj:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},$f:{URL:0,fy:1,nja:2,Pr:3,name:["URL","SERVER","LOCATION","NETWORK"]},ie:{HAVE_NOTHING:0,Px:1,Ox:2,zB:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},jg:{FCb:0,hFb:1,kIb:2,NEXT:3,JHb:4,RJb:5,jFb:6,pGb:7,Yr:8,ERROR:9,j1:10,YSa:11,f_:12,OPa:13,NPa:14,TUa:15,SUa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},HEb:{Pr:0,WDb:1,name:["NETWORK","DECODE"]},dJb:{YDb:"delayedSeamless",CFb:"hideLongTransition"}};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(0);g.__exportStar(a(834),c);g.__exportStar(a(113),c);g.__exportStar(a(28),c);g.__exportStar(a(833),c);g=a(832);c.TWa=g;g=a(831);c.YNa=g;a=a(395);c.p1=a;},function(g,c){function a(){}function b(){}function f(){}Object.defineProperty(c,"__esModule",{value:!0});(function(a){a.Ilb="loadedtracks";a.Hlb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.Nn="currenttimechanged";a.rra="bufferedtimechanged";a.Aab="durationchanged";a.jBb="videosizechanged";a.yqb="pausedchanged";a.trb="playingchanged";a.Qbb="endedchanged";a.h5="busychanged";a.Tqa="audiotracklistchanged";a.tJ="audiotrackchanged";a.aB="timedtexttracklistchanged";a.wG="timedtexttrackchanged";a.tO="trickplayframeschanged";a.job="mutedchanged";a.oBb="volumechanged";a.$wb="showsubtitle";a.Ttb="removesubtitle";a.tBb="watermark";a.I$="isReadyToTransition";a.EE="inactivated";a.svb="segmentmaploaded";a.tvb="segmentpresenting";a.H3a="autoplaywasallowed";a.I3a="autoplaywasblocked";}(c.qb||(c.qb={})));(c.PB||(c.PB={})).CN="playgraphsegmenttransition";c.fja=f;f.mFa="serverTimeChanged";(function(a){a.cD="aseException";a.dD="aseReport";a.F3a="authorized";a.P4="autoplayWasAllowed";a.Nj="autoplayWasBlocked";a.Y3a="bandwidthMeterAggregateUpdate";a.Ss="bufferUnderrun";a.closed="closed";a.df="closing";a.Nn="currentTimeChanged";a.dw="downloadComplete";a.EE="inactivated";a.lza="licenseAdded";a.VL="licensed";a.Uq="locationSelected";a.WE="manifestClosing";a.bo="manifestPresenting";a.mPb="manifestSelected";a.OW="mediaBufferChanged";a.vba="needLicense";a.jX="nextSegmentChosen";a.Ok="playbackStart";a.no="repositioned";a.CA="repositioning";a.LEa="safePlayRequested";a.mvb="segmentAborted";a.DY="segmentPresenting";a.iRb="segmentComplete";a.ovb="segmentLastPts";a.rvb="segmentStarting";a.ZF="serverSwitch";a.RFa="shouldUpdateVideoDiagInfo";a.Mi="skipped";a.nG="subtitleError";a.qfa="throttledMediaTimeChanged";a.uG="timedTextRebuffer";a.aB="timedTextTrackListChanged";a.tO="trickPlayFramesChanged";a.vO="tryRecoverFromStall";a.Co="updateNextSegmentWeights";a.SAb="userInitiatedPause";a.dIa="userInitiatedResume";}(c.S||(c.S={})));c.mb=b;b.JB=0;b.LOADING=1;b.jd=2;b.CLOSING=3;b.CLOSED=4;c.Gf=a;a.jd=1;a.Zf=2;a.Vla=3;(function(a){a[a.cg=1]="WAITING";a[a.Cc=2]="PLAYING";a[a.ah=3]="PAUSED";a[a.$p=4]="ENDED";}(c.jb||(c.jb={})));(function(a){a[a.oH=0]="INITIAL";a[a.Zu=1]="SEEK";a[a.pQ=2]="TRACK_CHANGED";a[a.RB=3]="SEGMENT_CHANGED";}(c.bg||(c.bg={})));},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(146);c.is=g.Ru;c.gc=function(a){return c.is.Nd(a);};c.jf=function(a){return c.is.My(a);};c.rkb=function(a){return c.is.c4(a);};c.isArray=function(a){return c.is.Ks(a);};c.Sya=function(a){return c.is.uqa(a);};c.ka=function(a,f,m){return c.is.Jg(a,f,m);};c.Ljb=function(a,f,m){return c.is.x4(a,f,m);};c.Dw=function(a,f,m){return c.is.wq(a,f,m);};c.Hya=function(a){return c.is.cJ(a);};c.zOb=function(a){return c.is.u1a(a);};c.EOb=function(a){return c.is.v1a(a);};c.Tya=function(a){return c.is.vqa(a);};c.ce=function(a){return c.is.mm(a);};c.Kz=function(a){return c.is.ml(a);};c.wya=function(a){return c.is.bJ(a);};c.Nb=function(a){return c.is.tS(a);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.sd="ConfigSymbol";},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(5);a=a(88);c.HJa=function(){c.Ma();};c.yMb=!0;c.cf=g.$.get(a.Kr);c.Ma=c.cf.assert.bind(c.cf);c.tMb=c.cf.$2a.bind(c.cf);c.uMb=c.cf.a3a.bind(c.cf);c.s9a=c.cf.f3a.bind(c.cf);c.oK=c.cf.i3a.bind(c.cf);c.xMb=c.cf.g3a.bind(c.cf);c.vMb=c.cf.d3a.bind(c.cf);c.xT=c.cf.c3a.bind(c.cf);c.nK=c.cf.h3a.bind(c.cf);c.wMb=c.cf.e3a.bind(c.cf);c.sMb=c.cf.Y2a.bind(c.cf);c.bta=c.cf.b3a.bind(c.cf);c.zMb=c.cf.vjb.bind(c.cf);},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);f=a(20);m=a(9);q=a(16);c.ad=function(a,b){for(var d in a)a.hasOwnProperty(d)&&b(d,a[d]);};c.cb=c.cb||function(a,b,p){var d,k,m;if(b)if(p){d=p.VE;k=p.prefix;m=p.du;c.ad(b,function(b,p){if(!m||f.gc(p))a[(k||"")+(d?b.toLowerCase():b)]=p;});}else c.ad(b,function(d,b){a[d]=b;});return a;};c.a5a=function(a,b,f,t){var d;if(a){d=a[b];q.Nb(d)&&(f=d.apply(a,m.slice.call(arguments,3)));}};c.S2a=function(){for(var a=["info","warn","trace","error"],b={},f=a.length;f--;)b[a[f]]=!0;return b;};c.de=c.de||function(a){return parseInt(a,10);};c.iQb=function(a){return/^true$/i.test(a);};c.zDa=function(a,b){return m.pi(a+m.wH()*(b-a));};c.ayb=function(a){return JSON.stringify(a,null,"  ");};c.f$=function(){var f,p;function a(a){b.Ma(void 0!==f[a]);return f[a];}f={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};p=/[&'"<>]/g;return function(d){return d.replace(p,a);};}();c.trim=function(){var a;a=/^\s+|\s+$/gm;return function(d){return d.replace(a,"");};}();c.Faa=function(a){return Array.isArray(a)?a:[a];};c.Re=c.Re||function(a){var d,b,f;if(a){d=a.stack;b=a.number;f=a.message;f||(f=""+a);d?(a=""+d,0!=a.indexOf(f)&&(a=f+"\n"+a)):a=f;b&&(a+="\nnumber:"+b);return a;}};c.Cm=function(a){return q.ka(a)?a.toFixed(0):"";};c.oz=function(a){return q.ka(a)?(a/1E3).toFixed(0):"";};c.qdb=function(a){return q.ka(a)?a.toFixed():"";};c.N6a=function(a){for(var d=[],b=0;b<a.length;b++)d[b]=a[b];return d;};},function(g,c,a){var q,d;function b(a){return null!==a&&void 0!==a;}function f(a){return typeof a==c.RVa;}function m(a,f,c){var k,p,t;if(f)if(c){k=c.VE;p=c.prefix;t=c.du;d.ad(f,function(d,f){if(!t||b(f))a[(p||"")+(k?d.toLowerCase():d)]=f;});}else d.ad(f,function(d,b){a[d]=b;});return a;}Object.defineProperty(c,"__esModule",{value:!0});q=a(9);d=a(19);c.Le=function(){};c.nk=1E3;c.GH=Object.create;c.XRa=Object.keys;c.qP=Date.now;c.Yx=Math.floor;c.$Qa=Math.ceil;c.pi=Math.round;c.gn=Math.max;c.Ko=Math.min;c.wH=Math.random;c.vH=Math.abs;c.Rja=Math.pow;c.yj="$attributes";c.XZ="$children";c.YZ="$name";c.Dr="$text";c.yIa="$parent";c.MG="$sibling";c.RVa="string";c.VJb="number";c.UJb="function";c.QVa="object";c.gc=b;c.jf=function(a){return typeof a==c.QVa;};c.ce=f;c.Kz=function(a){return f(a)&&a;};c.de=function(a){return parseInt(a,10);};c.Sr=function(a,d,b){return a>=d?a<=b?a:b:d;};c.cb=m;c.PN=function(a){return m({},a);};c.J5=function(a){var k;for(var d=0;d<arguments.length;++d);for(var d=0,f=arguments.length;d<f;){k=arguments[d++];if(b(k))return k;}};c.R2a=function(a){for(var d,b=!0,f;b;)for(b=!1,d=a.length;--d;)f=a[d],f.startTime<a[d-1].startTime&&(a[d]=a[d-1],a[d-1]=f,b=!0);};c.Vv=function(a,d){if(a.length==d.length){for(var b=a.length;b--;)if(a[b]!=d[b])return!1;return!0;}return!1;};c.createElement=function(a,b,f,c){var k;k=q.je.createElement(a);b&&(k.style.cssText=b);f&&(k.innerHTML=f);c&&d.ad(c,function(a,d){k.setAttribute(a,d);});return k;};c.eK=function(a){var b;b="";d.ad(a,function(a,d){b+=(b?";":"")+a+":"+d;});return b;};c.tU=function(a,d,b){var f;a/d>b?(f=c.pi(d*b),a=d):(f=a,a=c.pi(a/b));return{width:f,height:a};};c.f$=function(){var d,b;function a(a){return d[a];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};b=/[&'"<>]/g;return function(d){return d.replace(b,a);};}();c.Re=function(a){var d,b;if(a){d=a.stack;b=a.number;a=""+a;d?(d=""+d,0!=d.indexOf(a)&&(d=a+"\n"+d)):d=a;b&&(d+="\nnumber:"+b);return d;}};c.G={qk:1001,Bh:1003,NNa:1701,iia:1713,ONa:1715,MNa:1721,xP:1723};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.$e="UtilitiesSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ke="IsTypeSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.rf="AsyncComponentLoaderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.qf="ApplicationSymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(7);c.jc=!1;g=function(){function a(a,b,d,f,p){this.Ua=a;this.type=b;this.byteOffset=d;this.byteLength=f;this.parent=p;this.Lc={};this.mA=f;}a.mz=function(a,b){var f,c;function d(a){a&&a.mz&&(a=a.mz(b),a.length&&(f=f.concat(a)));}f=[];a.type===b&&f.push(a);if(a.Lc)for(var p in a.Lc){c=a.Lc[p];Array.isArray(c)&&c.forEach(d);}return f;};a.hJ=function(a,b){void 0===a.Lc[b.type]&&(a.Lc[b.type]=[]);a.Lc[b.type].push(b);};a.nz=function(b,f){return a.mz(b,f)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{J:{get:function(){return this.Ua;},enumerable:!0,configurable:!0}});a.prototype.Df=function(){var a;a=this.Ua.wb();this.version=a>>24;this.Se=a&16777215;};a.prototype.hJ=function(b){a.hJ(this,b);};a.prototype.mz=function(b){return a.mz(this,b);};a.prototype.nz=function(b){return a.nz(this,b);};a.prototype.parse=function(){return!0;};a.prototype.hE=function(){return!0;};a.prototype.Tp=function(a){if((a=this.Lc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.fk=function(a,f){f=void 0===f?this.Ua.offset:f;b.assert(f>=this.startOffset+8&&f+a<=this.startOffset+this.mA,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.mA).toString(16)+")");this.Ua.fk(a,f,this);};a.prototype.mY=function(a,f,d){d=void 0===d?this.Ua.offset:d;b.assert(d>=this.startOffset+8&&d+a<=this.startOffset+this.mA,"Removal range [0x"+d.toString(16)+"-0x"+(d+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.mA).toString(16)+")");this.Ua.mY(a,f,d,this);};a.prototype.LDa=function(a,b,d){if(1<d){for(var f=[];0<d--;)f.push(this.kpa(a,b));return f;}return this.kpa(a,b);};a.prototype.jr=function(a){var b,d;d=this;void 0===b&&(b={});a.forEach(function(a){var f,k;if("offset"===a.type){f=a.offset;if(0<f%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");d.Ua.offset+=f/8;}else for(f in a){k=a[f];b[f]="string"===typeof k?d.LDa(k):d.LDa(k.type,k.length,k.Q2a);}});return b;};a.prototype.kpa=function(a,b){var d;d=this.byteLength-this.Ua.offset+this.startOffset;"undefined"===typeof b&&(b=d);switch(a){case"int8":a=this.Ua.ed();break;case"int64":a=this.Ua.Ki();break;case"int32":a=this.Ua.wb();break;case"int16":a=this.Ua.vg();break;case"string":a=this.Ua.Osb(Math.min(b,d));break;default:throw Error("Invalid type: "+a);}return a;};a.Yb=!1;return a;}();c.Ff=g;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(398),c);},function(g,c,a){c=a(129);c.d$a=0;g.P={EventEmitter:c,Mx:a(840)};},function(g,c){function a(a,c){return"number"!==typeof a||"number"!==typeof c?!1:a&&c?Math.abs(a*c/b(a,c)):0;}function b(a,b){var f;a=Math.abs(a);for(b=Math.abs(b);b;){f=b;b=a%b;a=f;}return a;}Object.defineProperty(c,"__esModule",{value:!0});g=function(){function f(a,b){"object"===typeof a?(this.iS=a.Ud,this.Cs=a.ea):(this.iS=a,this.Cs=b);}f.cQb=function(a){return new f(1,a);};f.jp=function(a){return new f(a,1E3);};f.cHa=function(a,b){return Math.floor(1E3*a/b);};f.XAa=function(a,b){return Math.floor(a*b/1E3);};f.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};f.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};f.Edb=function(c,q){var d;if(c.ea===q.ea)return new f(b(c.Ud,q.Ud),c.ea);d=a(c.ea,q.ea);return f.Edb(c.Zl(d),q.Zl(d));};Object.defineProperties(f.prototype,{Ud:{get:function(){return this.iS;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ea:{get:function(){return this.Cs;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Va:{get:function(){return 1E3*this.iS/this.Cs;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ei:{get:function(){return this.iS/this.Cs;},enumerable:!0,configurable:!0}});f.prototype.Zl=function(a){a/=this.ea;return new f(Math.floor(this.Ud*a),Math.floor(this.ea*a));};f.prototype.add=function(b){var c;if(this.ea===b.ea)return new f(this.Ud+b.Ud,this.ea);c=a(this.ea,b.ea);return this.Zl(c).add(b.Zl(c));};f.prototype.Fd=function(a){return this.add(new f(-a.Ud,a.ea));};f.prototype.uba=function(a){return new f(this.Ud*a,this.ea);};f.prototype.SD=function(b){var f;if(this.ea===b.ea)return this.Ud/b.Ud;f=a(this.ea,b.ea);return this.Zl(f).SD(b.Zl(f));};f.prototype.ghb=function(b){return a(this.ea,b);};f.prototype.ftb=function(){return new f(this.ea,this.Ud);};f.prototype.compare=function(b,f){var d;if(this.ea===f.ea)return b(this.Ud,f.Ud);d=a(this.ea,f.ea);return b(this.Zl(d).Ud,f.Zl(d).Ud);};f.prototype.equal=function(a){return this.compare(function(a,d){return a===d;},a);};f.prototype.BM=function(a){return this.compare(function(a,d){return a!==d;},a);};f.prototype.lessThan=function(a){return this.compare(function(a,d){return a<d;},a);};f.prototype.greaterThan=function(a){return this.compare(function(a,d){return a>d;},a);};f.prototype.$kb=function(a){return this.compare(function(a,d){return a<=d;},a);};f.prototype.J9=function(a){return this.compare(function(a,d){return a>=d;},a);};f.prototype.toJSON=function(){return{ticks:this.Ud,timescale:this.ea};};f.prototype.toString=function(){return this.Ud+"/"+this.ea;};f.Ze=new f(0,1);f.HM=new f(1,1E3);f.ajb=new f(Infinity,1);return f;}();c.Xa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.u_="ConfigurableInputsSymbol";c.Ui="ValidatingConfigurableInputsSymbol";c.sB="ConfigNameSymbol";c.PP="InitParamsSymbol";},function(g,c,a){var f,m,q,d;function b(){return c.DQ.Qz.da(d.ja);}Object.defineProperty(c,"__esModule",{value:!0});g=a(496);f=a(45);m=a(24);q=a(118);d=a(4);c.tna=g.bd.get(f.kk);c.DQ=g.bd.get(m.qf);c.YYa=g.bd.get(q.EB);c.hja=c.DQ.id;c.Lg=function(){return c.DQ.kc().da(d.ja);};c.dT=function(){return c.tna.ef.da(d.nn);};c.ULb=function(){return c.DQ.Qz.da(d.nn);};c.T5a=function(){return c.YYa.az();};c.U5a=b;c.H5=function(){return c.tna.ef.da(d.ja);};c.VLb=function(){return b();};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.Sma=1]="Video";}(c.zH||(c.zH={})));(function(a){a[a.Kx=0]="Default";a[a.Zx=1]="Microsoft";}(c.Fx||(c.Fx={})));(function(a){a[a.Kx=0]="Default";a[a.p_=1]="Cast";a[a.r_=2]="Chrome";a[a.Zx=3]="Microsoft";a[a.cma=4]="Safari";}(c.sk||(c.sk={})));(function(a){a[a.PH=0]="SD";a[a.CP=1]="HD";a[a.vQ=2]="UHD";a[a.Jr=3]="DV";a[a.Mr=4]="HDR10";a[a.kB=5]="AVCHigh";a[a.bv=6]="VP9";a[a.ji=7]="AV1";}(c.vd||(c.vd={})));(function(a){a[a.aq=0]="Level_1_4";a[a.Ux=1]="Level_2_2";}(c.ni||(c.ni={})));c.kKb=function(){};(function(a){a[a.uIb=0]="Platform";a[a.TDb=1]="CurrentTitle";}(c.HWa||(c.HWa={})));c.E_="DeviceCapabilitiesSymbol";c.oEb=function(){};},function(g,c,a){var q,d;function b(a,d){return a&&a.hf&&a.inRange&&!a.Sg&&(d||!1!==a.kw);}function f(a,d,b){return!q.ka(a)||a<d?d:a>b?b:a;}function m(a){if(!(this instanceof m))return new m(a);this.rd=q.ka(a)?a:void 0;}q=a(6);d=new(a(3)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.P={console:d,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",d.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},Jz:b,W7:function(a,d,b){var p,c,t,m;function k(d){var f;f=a[d];if(!f.hf||!f.inRange||f.Sg||b&&!b(f,d))return!1;m=d;return!0;}p=a.length;c=0;t=p;q.isArray(d)&&(c=f(d[0],0,p),t=f(d[1],0,p),d=d[2]);d=f(d,c-1,t);for(p=d-1;p>=c;--p)if(k(p))return m;for(p=d+1;p<t;++p)if(k(p))return m;return-1;},$nb:function(a,d){return Math.floor(a/(125*d)*1E3);},G4a:function(a,d){return Math.ceil(a/1E3*d*125);},FOb:function(a,d){return!a.slice(d+1).some(b);},pn:m,Gv:function(a,d){var b;return a.some(function(a,f,k){b=a;return d(a,f,k);})?b:void 0;},bD:function(a,d){var b;return a.some(function(a,f,k){b=f;return d(a,f,k);})?b:-1;},cT:f};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Eg="SchedulerSymbol";},function(g,c,a){var q,d,k;function b(a){return function(d,b){return d.dda(b,a);};}function f(a,d){return a.$X.Gsb[d]||m(a,d);}function m(a,d){a=a.Jt.data[d];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(c,"__esModule",{value:!0});q=a(47);d=a(4);k=a(140);c.config=function(a,d){return function(b,p,c){var t,u;t=void 0!==d?d:p;u=c.get;void 0!==u&&(c.get=function(){var d;if(!this.ckb(p))return this.Cgb(p);a:{d=(this.y2a?f:m)(this,t.toString());if(void 0!==d)if(d=a(this.DM,d),d instanceof k.hn)this.vva(t,d);else break a;d=u.bind(this)();}this.zub(p,d);return d;});return c;};};c.C$=function(a,d){return a.HDa(d);};c.Ld=function(a,d){return a.ada(d);};c.yx=function(a,d){return a.Ka(d);};c.string=function(a,d){return a.dda(d);};c.cfa=function(a,d){return a.Dd(d,c.string);};c.xOb=function(a,d){return a.Dd(d,c.C$);};c.yHa=function(a,d){return a.Dd(d,c.yx);};c.Ug=function(a,b){a=a.Ka(b);return a instanceof k.hn?a:d.Cb(a);};c.aa=function(a,d){a=a.Ka(d);return a instanceof k.hn?a:q.aa(a);};c.url=b(/^\S+$/);c.gNb=function(a){return function(d,b){return d.GDa(b,a);};};c.object=function(){return function(a,d){return a.IDa(d);};};c.ZDa=b;c.Lj=function(a,d){return function(b,f){return b.Dd(f,a,d);};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wu="named";c.UP="name";c.UH="unmanaged";c.qka="optional";c.pH="inject";c.Xx="multi_inject";c.pma="inversify:tagged";c.qma="inversify:tagged_props";c.d1="inversify:paramtypes";c.PLa="design:paramtypes";c.IH="post_construct";},function(g,c,a){var m,q,d,k;function b(a,d){var b;b=k.call(this,a,d)||this;b.wsa=d;b.debug=a.debug;b.la=a.Sf.ub(b.wsa);return b;}function f(a,d){this.wsa=d;this.Tca={};this.Jt=a.Jt;this.DM=a.DM;this.$X=a.$X;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(1082);q=a(1);d=a(140);c.PVa="isTestAccount";f.prototype.vva=function(){};f.prototype.zub=function(a,d){this.Tca[a]=[d,this.Jt.DEa];};f.prototype.ckb=function(a){return m.uka.of(this.Tca[a]).map(function(a){return a[1];}).cCa(-1)<this.Jt.DEa;};f.prototype.Cgb=function(a){return m.uka.of(this.Tca[a]).map(function(a){return a[0];}).cCa(function(){throw Error("Invalid State Error");});};pa.Object.defineProperties(f.prototype,{y2a:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.Jt&&this.Jt.data){a=this.Jt.data[c.PVa];"undefined"!==typeof a&&(b=a.toString());a=this.DM.ada(b);a=a instanceof d.hn?!1:a;}else a=!1;return a;}}});k=f;k=g.__decorate([q.N(),g.__param(0,q.yh()),g.__param(1,q.yh())],k);c.dP=k;da(b,k);b.prototype.vva=function(a,d){this.la.error("Invalid configuration value.",{name:a},d);this.debug.assert(!1);};a=b;a=g.__decorate([g.__param(0,q.yh()),g.__param(1,q.yh())],a);c.ke=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wma="WindowTimersSymbol";c.Rx="JSONSymbol";c.Yu="NavigatorSymbol";c.oRa="MediaSourceSymbol";c.tja="LocationSymbol";c.tha="DateSymbol";c.q1="PerformanceSymbol";},function(g,c,a){var p,t,u,y,B,x,H;function b(){var a,d;if(a=c.m9.ipa)return a;a=x.Z0.search.substr(1);d=a.indexOf("#");0<=d&&(a=a.substr(0,d));a=f(a);return c.m9.ipa=a;}function f(a){for(var d=/[+]/g,b=(a||"").split("&"),f={},k,p=0;p<b.length;p++)a=y.trim(b[p]),k=a.indexOf("="),0<=k?f[decodeURIComponent(a.substr(0,k).replace(d,"%20")).toLowerCase()]=decodeURIComponent(a.substr(k+1).replace(d,"%20")):f[a.toLowerCase()]=null;return f;}function m(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function q(a){return m(a.constructor);}function d(a){return x.sort.call(a,function(a,d){return a-d;});}function k(a){for(var d=0,b=a.length;b--;)d+=a[b];return d;}Object.defineProperty(c,"__esModule",{value:!0});p=a(11);t=a(18);u=a(5);y=a(19);B=a(20);x=a(9);H=a(16);c.ksa=function(a,d){if(a===d)return!0;if(!a||!d)return!1;for(var b in a)if(a.hasOwnProperty(b)&&(!d.hasOwnProperty(b)||a[b]!==d[b]))return!1;return!0;};c.Vv=c.Vv||function(a,d){if(a.length==d.length){for(var b=a.length;b--;)if(a[b]!=d[b])return!1;return!0;}return!1;};c.GQb=function(a){var d;if(a){d=a.length;if(d)return d=y.zDa(0,d-1),a[d];}};c.C6a=function(a,d){if(a.length!=d.length)return!1;a.sort();d.sort();for(var b=a.length;b--;)if(a[b]!==d[b])return!1;return!0;};c.h2a=function(a,d){function b(){a.removeEventListener("loadedmetadata",b);d.apply(this,arguments);}a.addEventListener("loadedmetadata",b);};c.Psb=function(){var a,d,b,f,k,p;a=x.je.cookie.split("; ");d=a.length;p={};for(b=0;b<d;b++)if(f=y.trim(a[b]))k=f.indexOf("="),0<k&&(p[f.substr(0,k)]=f.substr(k+1));return p;};c.VNb=b;c.m9=Object.assign(b,{ipa:void 0});c.CX=f;c.EM=function(a){var d;d="";y.ad(a,function(a,b){d&&(d+="&");t.Ma(B.ce(b)||H.ka(b)||H.wya(b));d+=encodeURIComponent(a)+"="+encodeURIComponent(b);});return d;};c.getFunctionName=m;c.$va=q;c.JBa=function(a){var d;d="";H.isArray(a)||H.Sya(a)?d=x.reduce.call(a,function(a,d){return a+(32<=d&&128>d?x.JVa(d):".");},""):B.ce(a)?d=a:y.ad(a,function(a,b){d+=(d?", ":"")+"{"+a+": "+(H.Nb(b)?m(b)||"function":b)+"}";});return"["+q(a)+" "+d+"]";};c.AQb=function(a,d){a.firstChild?a.insertBefore(d,a.firstChild):a.appendChild(d);};c.eK=c.eK||function(a){var d;d="";y.ad(a,function(a,b){d+=(d?";":"")+a+":"+b;});return d;};c.wOb=function(a,d){var b;b=a[0];if(d<=b[0])return b.slice(1);for(var f=1,k;k=a[f++];){if(d<=k[0]){a=(d-b[0])/(k[0]-b[0]);d=[];for(f=1;f<b.length;f++)d.push((b[f]||0)+a*((k[f]||0)-(b[f]||0)));return d;}b=k;}return b.slice(1);};c.yCb=function(a,d){var k;for(var b={},f=0;f<d.length;f++){k=d[f];if("string"!=typeof k&&"number"!=typeof k)return!1;b[d[f]]=1;}for(f=0;f<a.length;f++)if(k=a[f],!b[k])return!1;return!0;};c.mJa=function(a,d){0>a.indexOf(d)&&a.push(d);};c.ZZ=d;c.ACb=k;c.uga=function(a,d){var b,f,k,p;b=-1;f=a.length;if(1===arguments.length){for(;++b<f&&!(null!=(k=a[b])&&k<=k);)k=void 0;for(;++b<f;)null!=(p=a[b])&&p>k&&(k=p);}else{for(;++b<f&&!(null!=(k=d.call(a,a[b],b))&&k<=k);)k=void 0;for(;++b<f;)null!=(p=d.call(a,a[b],b))&&p>k&&(k=p);}return k;};c.zCb=function(a,d){var b,f,k,p;b=-1;f=a.length;if(1===arguments.length){for(;++b<f&&!(null!=(k=a[b])&&k<=k);)k=void 0;for(;++b<f;)null!=(p=a[b])&&k>p&&(k=p);}else{for(;++b<f&&!(null!=(k=d.call(a,a[b],b))&&k<=k);)k=void 0;for(;++b<f;)null!=(p=d.call(a,a[b],b))&&k>p&&(k=p);}return k;};c.qF=function(a){return H.Nb(a.then)?a:new Promise(function(d,b){a.oncomplete=function(){d(a.result);};a.onerror=function(){b(a.error);};});};c.rNb=function(a,b){var k,p,c,t,m,u;function f(a){0>k.indexOf(a)&&H.ka(a)&&k.push(a);}a=a.slice();d(a);k=[];if(!b||!b.length)return a;if(!a.length)return[];p=b.length;try{for(;p--;){m=""+b[p];u=B.de(m);switch(m[m.length-1]){case"-":for(c=a.length;c--;)if(t=a[c],t<u){f(t);break;}break;case"+":for(c=0;c<a.length;c++)if(t=a[c],t>u){f(t);break;}break;default:0<=a.indexOf(u)&&f(u);}}}catch(ba){}k.length||k.push(a[0]);d(k);return k;};c.tU=c.tU||function(a,d,b){var f;a/d>b?(f=x.pi(d*b),a=d):(f=a,a=x.pi(a/b));return{width:f,height:a};};c.$Lb=function(a,d,b){for(var f=[],p=0;p<d;p++)f.push(x.Rja(a[p]-b,2));return x.aRa(k(f)/f.length);};c.Dq=function(a,d){var b;b=a.length;d=(b-1)*d+1;if(1===d)return a[0];if(d==b)return a[b-1];b=x.Yx(d);return a[b-1]+(d-b)*(a[b]-a[b-1]);};c.vNb=function(a,d){if(!H.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");d=H.isArray(d)?d:[d];for(var b=a.length,f=0;f<b;f++)for(var k=0;k<d.length;k++)if(a[f].type==d[k])return a[f];throw Error("Box not found "+d);};c.mDb=function(a){return a.pw("trak/mdia/minf/stbl/stsd/"+p.gKa+"|"+p.hKa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.a8.schm.Wub;})[0].pw("schi/tenc").Hw;};c.lDb=function(a){var b;function d(a,d){var f;f=b[a];b[a]=b[d];b[d]=f;}b=new Uint8Array(a);d(0,3);d(1,2);d(4,5);d(6,7);return b;};c.akb=function(){return H.Nb(x.$k.requestMediaKeySystemAccess);};c.vQb=function(a){return function(d){return d&&d[a];};};H.Nb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,d){var b,f;void 0===a&&(a=0);void 0===d&&(d=this.byteLength);a=Math.floor(a);d=Math.floor(d);0>a&&(a+=this.byteLength);0>d&&(d+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);d=Math.min(Math.max(0,d),this.byteLength);if(0>=d-a)return new ArrayBuffer(0);b=new ArrayBuffer(d-a);f=new Uint8Array(b);a=new Uint8Array(this,a,d-a);f.set(a);return b;});c.N$=function(a){return a&&0==a.toLowerCase().indexOf("https");};c.Web=function(){var a,d;a=new ArrayBuffer(4);d=new Uint8Array(a);a=new Uint32Array(a);d[0]=161;d[1]=178;d[2]=195;d[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};c.ZU=function(){var a,d,b;try{a=/playercore.*js/;d=x.Qr.getEntries("resource").filter(function(d){return null!==a.exec(d.name);});if(d&&0<d.length){b=x.pi(d[0].duration);return JSON.stringify(b);}}catch(T){}};c.wQb=function(a,d,b){if(a&&a.length)if(b&&b.H5a)try{a.forEach(function(a,f){var k;k=(f=b.H5a[f])&&f.media;k&&B.ce(k)?(k=u.rm(k).buffer,a.media={arrayBuffer:k,length:k.byteLength,stream:d,Xb:f.cdn}):u.log.warn("chunk not in cache",a.tg);});}catch(T){u.log.error("error reading cached chunks",T);}else u.log.warn("chunks not available in cached stream",b.type);else u.log.warn("chunks not available in mediabuffer",b.type);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aj="Base64EncoderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.xma=0]="Test";a[a.eja=1]="Int";a[a.BVa=2]="Staging";a[a.oUa=3]="Prod";}(c.Mu||(c.Mu={})));(function(a){a[a.jQ=0]="PreferMsl";a[a.yla=1]="PreferNoMsl";a[a.SRa=2]="NoMsl";}(c.Vu||(c.Vu={})));c.Io="GeneralConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.si={Iza:"logblob",sa:"manifest",kj:"license",events:"events",bind:"bind",mCa:"pair",ping:"ping",config:"config"};g=c.Cg||(c.Cg={});g[g.Nr=20]="High";g[g.P0=10]="Medium";g[g.GB=0]="Low";c.w1={Cg:"reqPriority",HUa:"reqAttempt",JUa:"reqName"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.L0="LogBatcherConfigSymbol";c.mk="LogBatcherSymbol";c.uja="LogBatcherProviderSymbol";},function(g,c,a){var q,d;function b(a){var d,b;d=[];for(b in a)d.push(b);return d;}function f(a,d,b,f,c){var k;Object.getOwnPropertyNames(a).filter(function(a){return c(a)&&(b||!Object.prototype.hasOwnProperty.call(d,a))&&(f||!(a in d));}).forEach(function(b){k=Object.getOwnPropertyDescriptor(a,b);void 0!==k&&Object.defineProperty(d,b,k);});}function m(a,d,c,u){var k,p;k=[];c||(k=Object.keys(d));u||(k=b(d));p=Object.getPrototypeOf(a);null!==p&&p!==Object.prototype&&m(p,d,c,u);f(a,d,!0,!0,function(a){return"constructor"!==a&&-1===k.indexOf(a);});}Object.defineProperty(c,"__esModule",{value:!0});q=a(7);c.iMb=m;d=Object.getOwnPropertyNames(Function);c.Pi=function(a,b,c,u){void 0===c&&(c=!0);void 0===u&&(u=!0);u||q.assert(!c);a.prototype?(m(a.prototype,b.prototype,c,u),f(a,b,c,u,function(a){return-1===d.indexOf(a);})):f(a,b.prototype,c,u,function(a){return-1===d.indexOf(a);});};},function(g,c,a){var d,k,p,t,u,y,B;function b(a,d){var b,f,p;try{b=k.$k.plugins;f=b.length;for(p=0;p<f;p++)if(d.test(b[p][a]))return b[p];return!1;}catch(T){}}function f(){var a,d;a=b("filename",/widevinecdm/i);if(a){try{d=a.description.match(/version: ([0-9.]+)/);if(d&&d[1])return d[1];}catch(G){}return"true";}return"false";}function m(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:d.en,robustness:"HW_SECURE_DECODE"},{contentType:d.en,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:d.Wx,robustness:"SW_SECURE_CRYPTO"}]}];try{k.$k.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var d;d=a.getConfiguration();a=d.videoCapabilities;(d=d.audioCapabilities)&&d.length&&(d=q(d),0<=d.indexOf("SW_SECURE_CRYPTO")&&(c.Lo.cptheaacwv_sw_cryp=!0));a&&a.length?(c.Lo.cpth264wv=!0,d=q(a),0<=d.indexOf("SW_SECURE_DECODE")&&(c.Lo.cpth264wv_sw_dec=!0),0<=d.indexOf("HW_SECURE_DECODE")&&(c.Lo.cpth264wv_hw_dec=!0)):c.Lo.cpth264wv=!1;})["catch"](function(){c.Lo.cpth264wv=!1;});}catch(H){}}function q(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(844),c);d=a(11);g=a(20);k=a(9);p=a(31);t=a(5);a=a(444);c.BOb=/CrOS/.test(k.pk);c.Jla=/CrOS/.test(k.pk);c.Dka={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:p.sk.r_,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};t.$.get(a.Jma).L2a(c.Dka);c.RHb=function(){return{};};c.SHb=b;c.THb=f;c.Eka=f();a=c.Eka;if(!(p=c.Eka))a:{try{k.$k.plugins.refresh();p=f();break a;}catch(x){}p=void 0;}t=!!b("name",/Chrome Remote Desktop Viewer/i);u=!!b("name",/Chromoting Viewer/i);a:{try{y=MediaSource.isTypeSupported(d.en);break a;}catch(x){}y=void 0;}a:{try{B=g.createElement("VIDEO").canPlayType(d.en);break a;}catch(x){}B=void 0;}try{m();}catch(x){}c.Lo={wvp:a,wvp2:p,crdvp:t,cvp:u,itsh264:y,cpth264:B,cpth264wv:void 0};c.PLb=m;c.WNb=q;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.kk="ClockSymbol";},function(g,c,a){var f;function b(a,b,d,k,p,c,u,g,B,x,H,G){this.code=void 0===a?f.I.qk:a;this.Pc=b;this.Qg=d;this.XD=k;this.br=p;this.message=c;this.ND=u;this.data=g;this.A7=B;this.krb=x;this.alert=H;this.u4=G;this.Z=!1;}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);b.Re=function(a){var b,d,f;if(a){b=a.stack;d=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;d&&(a+="\nnumber:"+d);return a;}return"";};b.prototype.uK=function(a){this.ND=b.Re(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.Pc,extCode:this.Qg,edgeCode:this.XD,mslCode:this.br,message:this.message,details:this.ND,data:this.data,errorDisplayMessage:this.A7,playbackServiceError:this.krb};};b.DU=function(a,c){return new b(a,f.G.Bh,void 0,void 0,void 0,void 0,c.message,c.stack);};c.qc=b;},function(g,c,a){var m;function b(a){return m.wQ.apply(this,arguments)||this;}function f(a){return new m.cq(a,c.qB);}Object.defineProperty(c,"__esModule",{value:!0});m=a(489);da(b,m.wQ);c.vDb=b;c.MS=f;c.aa=function(a){return new m.cq(a,c.Hr);};c.TOb=function(a){return new m.cq(a,c.lja);};c.wPb=function(a){return new m.cq(a,c.qRa);};c.qB=new b(1,"b");c.Hr=new b(8*c.qB.Ye,"B",c.qB);c.lja=new b(1024*c.Hr.Ye,"KB",c.qB);c.qRa=new b(1024*c.lja.Ye,"MB",c.qB);c.Ze=f(0);},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.al="PboCommandContextSymbol";},function(g,c,a){var b,f,m,q,d,k;b=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};f=a(482);g=a(68);m=a(258);q=a(257);d=function(a){function f(b,f,p){var c;a.call(this);this.WA=null;this.Bf=this.Wk=this.VA=!1;switch(arguments.length){case 0:this.destination=m.empty;break;case 1:if(!b){this.destination=m.empty;break;}if("object"===typeof b){if(b instanceof d||"syncErrorThrowable"in b&&b[q.JA]){c=b[q.JA]();this.Wk=c.Wk;this.destination=c;c.add(this);}else this.Wk=!0,this.destination=new k(this,b);break;}default:this.Wk=!0,this.destination=new k(this,b,f,p);}}b(f,a);f.prototype[q.JA]=function(){return this;};f.create=function(a,d,b){a=new f(a,d,b);a.Wk=!1;return a;};f.prototype.next=function(a){this.Bf||this.Ih(a);};f.prototype.error=function(a){this.Bf||(this.Bf=!0,this.Vd(a));};f.prototype.complete=function(){this.Bf||(this.Bf=!0,this.uc());};f.prototype.unsubscribe=function(){this.closed||(this.Bf=!0,a.prototype.unsubscribe.call(this));};f.prototype.Ih=function(a){this.destination.next(a);};f.prototype.Vd=function(a){this.destination.error(a);this.unsubscribe();};f.prototype.uc=function(){this.destination.complete();this.unsubscribe();};f.prototype.d1a=function(){var a,d;a=this.yn;d=this.xy;this.xy=this.yn=null;this.unsubscribe();this.Bf=this.closed=!1;this.yn=a;this.xy=d;};return f;}(g.cl);c.Si=d;k=function(a){function d(d,b,k,p){var c;a.call(this);this.KI=d;d=this;f.Nb(b)?c=b:b&&(c=b.next,k=b.error,p=b.complete,b!==m.empty&&(d=Object.create(b),f.Nb(d.unsubscribe)&&this.add(d.unsubscribe.bind(d)),d.unsubscribe=this.unsubscribe.bind(this)));this.Vi=d;this.Ih=c;this.Vd=k;this.uc=p;}b(d,a);d.prototype.next=function(a){var d;if(!this.Bf&&this.Ih){d=this.KI;d.Wk?this.S1(d,this.Ih,a)&&this.unsubscribe():this.T1(this.Ih,a);}};d.prototype.error=function(a){var d;if(!this.Bf){d=this.KI;if(this.Vd)d.Wk?this.S1(d,this.Vd,a):this.T1(this.Vd,a),this.unsubscribe();else if(d.Wk)d.WA=a,d.VA=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};d.prototype.complete=function(){var a,d,b;a=this;if(!this.Bf){d=this.KI;if(this.uc){b=function(){return a.uc.call(a.Vi);};d.Wk?this.S1(d,b):this.T1(b);}this.unsubscribe();}};d.prototype.T1=function(a,d){try{a.call(this.Vi,d);}catch(B){throw this.unsubscribe(),B;}};d.prototype.S1=function(a,d,b){try{d.call(this.Vi,b);}catch(x){return a.WA=x,a.VA=!0;}return!1;};d.prototype.Es=function(){var a;a=this.KI;this.KI=this.Vi=null;a.unsubscribe();};return d;}(d);},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jb=function(a){return setTimeout(a,0);};},function(g,c,a){var b,f;b=a(114);f=a(172);g.P=function(a){return function d(k,p){switch(arguments.length){case 0:return d;case 1:return f(k)?d:b(function(d){return a(k,d);});default:return f(k)&&f(p)?d:f(k)?b(function(d){return a(d,p);}):f(p)?b(function(d){return a(k,d);}):a(k,p);}};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.bm="EmeConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.apb=function(a,b){return a-b;};c.vRb=function(a,b){return a.localeCompare(b);};c.Lm=function(a,b){var f;f=Object.getOwnPropertyDescriptor(a,b);f&&Object.defineProperty(a,b,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.wMa="Cannot apply @injectable decorator multiple times.";c.xMa="Metadata key was used more than once in a parameter:";c.DH="NULL argument";c.jja="Key Not Found";c.FIa="Ambiguous match found for serviceIdentifier:";c.tKa="Could not unbind serviceIdentifier:";c.HRa="No matching bindings found for serviceIdentifier:";c.BQa="Missing required @injectable annotation in:";c.CQa="Missing required @inject or @multiInject annotation in:";c.tWa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};c.xKa="Circular dependency found:";c.gHb="Sorry, this feature is not fully implemented yet.";c.oPa="Invalid binding type:";c.IRa="No snapshot available to restore.";c.rPa="Invalid return type in middleware. Middleware must return!";c.UFb="Value provided to function binding must be a function!";c.tPa="The toSelf function can only be applied when a constructor is used as service identifier";c.pPa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";c.GIa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};c.MKa="Invalid Container constructor argument. Container options must be an object.";c.KKa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";c.JKa="Invalid Container option. Auto bind injectable must be a boolean";c.LKa="Invalid Container option. Skip base check must be a boolean";c.QQa="Cannot apply @postConstruct decorator multiple times in the same class";c.VSa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};c.yKa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};c.$Ua="Maximum call stack size exceeded";},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(72);b=a(50);f=a(9);c.Ge=new g.lk();c.Fl=1;c.yz=2;c.I9=3;c.nL=4;c.H9=5;b.Jb(function(){var b,d,k;function a(a,b){if(d)d.on(a,b);else K.addEventListener(a,b);}b=K.jQuery;d=b&&b(K);b=(b=K.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;k=f.je.hidden;b?b(function(a){c.Ge.Mb(c.Fl,a);}):a("beforeunload",function(a){c.Ge.Mb(c.Fl,a);});a("keydown",function(a){c.Ge.Mb(c.yz,a);});a("resize",function(){c.Ge.Mb(c.I9);});f.je.addEventListener("visibilitychange",function(){k!==f.je.hidden&&(k=f.je.hidden,c.Ge.Mb(c.nL));});});(function(){K.addEventListener("error",function(a){c.Ge.Mb(c.H9,a);return!0;});}());},function(g,c,a){var f,m;function b(a,d){var k;k=c.kn[0];k==d&&(k=c.kn[1]);k?k.close(function(){b(a,d);}):a&&a(f.kd);}Object.defineProperty(c,"__esModule",{value:!0});f=a(11);m=a(18);c.pla=b;c.sla=function(a,d){switch(a){case c.nla:c.qla.push(d);return;case c.ola:c.rla.push(d);return;}m.Ma(!1);};c.kn=[];c.qla=[];c.rla=[];c.nla=1;c.ola=3;c.NH={index:0,Znb:void 0,d8:void 0};c.mla="network";c.lla="media";c.HTa="timedtext";c.ITa="playback";},function(g){g.P=function(c,a){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a;};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(398),c);c.gmb=function(b){c.platform.yL(b);return a(841).RQa;};c.MNb=function(){return a(213);};c.HPb=function(){return a(224);};g=a(13);c.Mc=g;g=a(687);c.Pn=g.Pn;g=a(3);c.platform=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.bl="PlayerErrorFactorySymbol";},function(g,c){function a(){}function b(){}function f(){}Object.defineProperty(c,"__esModule",{value:!0});c.W=f;f.cH="playready-h264mpl30-dash";f.yB="playready-h264mpl31-dash";f.BP="playready-h264mpl40-dash";f.cOa="playready-h264hpl22-dash";f.yP="playready-h264hpl30-dash";f.zP="playready-h264hpl31-dash";f.AP="playready-h264hpl40-dash";f.m0="hevc-main-L30-dash-cenc";f.n0="hevc-main-L31-dash-cenc";f.o0="hevc-main-L40-dash-cenc";f.p0="hevc-main-L41-dash-cenc";f.q0="hevc-main-L50-dash-cenc";f.r0="hevc-main-L51-dash-cenc";f.b0="hevc-main10-L30-dash-cenc";f.d0="hevc-main10-L31-dash-cenc";f.f0="hevc-main10-L40-dash-cenc";f.h0="hevc-main10-L41-dash-cenc";f.hH="hevc-main10-L50-dash-cenc";f.iH="hevc-main10-L51-dash-cenc";f.HP="hevc-main10-L30-dash-cenc-prk";f.IP="hevc-main10-L31-dash-cenc-prk";f.JP="hevc-main10-L40-dash-cenc-prk";f.i0="hevc-main10-L41-dash-cenc-prk";f.c0="hevc-main10-L30-dash-cenc-prk-do";f.e0="hevc-main10-L31-dash-cenc-prk-do";f.g0="hevc-main10-L40-dash-cenc-prk-do";f.j0="hevc-main10-L41-dash-cenc-prk-do";f.k0="hevc-main10-L50-dash-cenc-prk-do";f.l0="hevc-main10-L51-dash-cenc-prk-do";f.yFb="hevc-main-L30-L31-dash-cenc-tl";f.zFb="hevc-main-L31-L40-dash-cenc-tl";f.AFb="hevc-main-L40-L41-dash-cenc-tl";f.BFb="hevc-main-L50-L51-dash-cenc-tl";f.uFb="hevc-main10-L30-L31-dash-cenc-tl";f.vFb="hevc-main10-L31-L40-dash-cenc-tl";f.wFb="hevc-main10-L40-L41-dash-cenc-tl";f.xFb="hevc-main10-L50-L51-dash-cenc-tl";f.UG="hevc-dv5-main10-L30-dash-cenc-prk";f.VG="hevc-dv5-main10-L31-dash-cenc-prk";f.tB="hevc-dv5-main10-L40-dash-cenc-prk";f.oP="hevc-dv5-main10-L41-dash-cenc-prk";f.pP="hevc-dv5-main10-L50-dash-cenc-prk";f.A_="hevc-dv5-main10-L51-dash-cenc-prk";f.T_="hevc-hdr-main10-L30-dash-cenc";f.U_="hevc-hdr-main10-L31-dash-cenc";f.V_="hevc-hdr-main10-L40-dash-cenc";f.W_="hevc-hdr-main10-L41-dash-cenc";f.X_="hevc-hdr-main10-L50-dash-cenc";f.Z_="hevc-hdr-main10-L51-dash-cenc";f.eH="hevc-hdr-main10-L30-dash-cenc-prk";f.fH="hevc-hdr-main10-L31-dash-cenc-prk";f.AB="hevc-hdr-main10-L40-dash-cenc-prk";f.DP="hevc-hdr-main10-L41-dash-cenc-prk";f.Y_="hevc-hdr-main10-L50-dash-cenc-prk";f.$_="hevc-hdr-main10-L51-dash-cenc-prk";f.Rma="vp9-profile0-L21-dash-cenc";f.XH="vp9-profile0-L30-dash-cenc";f.YH="vp9-profile0-L31-dash-cenc";f.ZH="vp9-profile0-L40-dash-cenc";f.Mma="vp9-profile2-L30-dash-cenc-prk";f.Nma="vp9-profile2-L31-dash-cenc-prk";f.Oma="vp9-profile2-L40-dash-cenc-prk";f.Pma="vp9-profile2-L50-dash-cenc-prk";f.Qma="vp9-profile2-L51-dash-cenc-prk";f.jga="av1-main-L20-dash-cbcs-prk";f.kga="av1-main-L21-dash-cbcs-prk";f.lga="av1-main-L30-dash-cbcs-prk";f.mga="av1-main-L31-dash-cbcs-prk";f.nga="av1-main-L40-dash-cbcs-prk";f.oga="av1-main-L41-dash-cbcs-prk";f.pga="av1-main-L50-dash-cbcs-prk";f.qga="av1-main-L51-dash-cbcs-prk";f.OUa=[f.cH];f.hOa=[f.yB,f.BP];f.qWa=[f.m0,f.n0,f.o0,f.p0,f.q0,f.r0];f.sWa=[f.b0,f.d0,f.f0,f.h0,f.hH,f.iH];f.rWa=[f.HP,f.IP,f.JP,f.i0,f.hH,f.iH];f.aKb=[f.c0,f.e0,f.g0,f.j0,f.k0,f.l0];f.gOa=[f.T_,f.U_,f.V_,f.W_,f.X_,f.Z_];f.fOa=[f.eH,f.fH,f.AB,f.DP,f.Y_,f.$_];f.yMa=[f.UG,f.tB,f.pP,f.VG,f.oP,f.A_];f.hEb=[f.UG,f.VG,f.tB,f.oP,f.pP];f.uCb=[f.yP,f.zP,f.AP];f.jKb=[f.XH,f.YH,f.ZH];f.bv=[f.Rma,f.XH,f.YH,f.ZH,f.Mma,f.Nma,f.Oma,f.Pma,f.Qma];f.WIa=[f.jga,f.kga,f.lga];f.VIa=[f.mga,f.nga,f.oga];f.XIa=[f.pga,f.qga];f.ji=[].concat(f.WIa,f.VIa,f.XIa);f.bOa=f.OUa.concat(f.hOa);f.eOa=f.qWa;f.dOa=f.sWa;f.gJa=[].concat(f.bOa,f.eOa,f.dOa,f.rWa,f.gOa,f.fOa,f.yMa,f.bv,f.ji);c.Qi=b;b.EP="heaac-2-dash";b.iOa="heaac-5.1-dash";b.FP="heaac-2hq-dash";b.mP="ddplus-2.0-dash";b.v_="ddplus-5.1-dash";b.nP="ddplus-atmos-dash";b.a0="playready-heaac-2-dash";b.kOa="heaac-2-dash-enc";b.tLa="ddplus-2.0-dash-enc";b.uLa="ddplus-5.1-dash-enc";b.jOa="playready-heaac-2-dash-enc";b.gJa=[b.EP,b.FP,b.mP,b.v_,b.nP,b.a0,b.kOa,b.tLa,b.uLa,b.jOa];c.el=a;a.XUa="simplesdh";a.y_="dfxp-ls-sdh";a.IB="nflx-cmisc";a.eJb="simplesdh-enc";a.aEb="dfxp-ls-sdh-enc";a.XP="nflx-cmisc-enc";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jo="LogMessageFactorySymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(7);c.jI=function(a){b.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};c.wna=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};c.DKb=function(a,b){return Math.floor(1E3*a/b);};},function(g,c,a){var d;function b(){}function f(){}function m(){}function q(){}Object.defineProperty(c,"__esModule",{value:!0});a=a(115);(function(a){a[a.ln=0]="STANDARD";a[a.Su=1]="LIMITED";a[a.jIb=2]="PREVIEW";}(d||(d={})));c.Be=q;q.Sga="created";q.Wla="started";q.bma="succeeded";q.Nu="failed";q.Ix="cancelled";q.iP="cancelled_on_create";q.RG="cancelled_on_start";q.hP="cancelled_not_encrypted";m.bKb="uirequest";m.iIb="prefetch_start";m.gIb="prefetch_complete";m.hIb="prefetch_delete";m.uSa="periodic_update";(function(a){a[a.Qka=0]="PRE_FETCH";a[a.Hla=1]="QC";a[a.ln=2]="STANDARD";a[a.A1=3]="SUPPLEMENTAL";a[a.uMa=4]="DOWNLOAD";}(g=c.jn||(c.jn={})));a={manifest:a.Ce.zj.iga,ldl:a.Ce.zj.Sx,getHeaders:a.Ce.zj.gH,getMedia:a.Ce.zj.MEDIA};c.Ti=f;f.RIa="asl_start";f.PIa="asl_comp";f.sCb="asl_exc";f.QIa="asl_fail";f.cVa="stf_creat";f.MOa="idb_open";f.JOa="idb_block";f.TOa="idb_upgr";f.SOa="idb_succ";f.KOa="idb_error";f.LOa="idb_invalid_state";f.OOa="idb_open_timeout";f.QOa="idb_open_wrkarnd";f.ROa="idb_storelen_exc";f.NOa="idb_open_exc";f.POa="idb_timeout_invalid_storelen";f.JQa="msl_load_data";f.LQa="msl_load_no_data";f.KQa="msl_load_failed";c.gd=b;b.jGb=d;b.Asa=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.Be=q;b.WSa=m;b.jn=g;b.L6a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.JH=a;b.Ti=f;},function(g,c){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(c,"__esModule",{value:!0});da(a,Error);c.qn=a;c.cy="PromiseTimerSymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);g=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.Wu?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();c.Metadata=g;},function(g){g.P=function a(b,f){var m;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,f);Object.getOwnPropertyNames(b).forEach(function(a){m=Object.getOwnPropertyDescriptor(b,a);void 0!==m&&Object.defineProperty(f,a,m);});};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.P_="EventSourceSymbol";c.S_="GlobalEventSourceSymbol";c.XG="DebugEventSourceSymbol";c.Cha="DiagnosticsEventSourceSymbol";},function(g,c,a){var f,m,q,d,k,p;function b(a){return a.reduce(function(a,d){return a.concat(d instanceof p.xQ?d.LK:d);},[]);}f=a(102);m=a(483);q=a(482);d=a(1075);k=a(481);p=a(1074);g=function(){function a(a){this.closed=!1;this.SC=this.xy=this.yn=null;a&&(this.Es=a);}a.prototype.unsubscribe=function(){var a,c,t,g,H,G;a=!1;if(!this.closed){t=this.yn;g=this.xy;H=this.Es;G=this.SC;this.closed=!0;this.SC=this.xy=this.yn=null;for(var h=-1,S=g?g.length:0;t;)t.remove(this),t=++h<S&&g[h]||null;q.Nb(H)&&(t=d.sHa(H).call(this),t===k.hw&&(a=!0,c=c||(k.hw.e instanceof p.xQ?b(k.hw.e.LK):[k.hw.e])));if(f.isArray(G))for(h=-1,S=G.length;++h<S;)t=G[h],m.jf(t)&&(t=d.sHa(t.unsubscribe).call(t),t===k.hw&&(a=!0,c=c||[],t=k.hw.e,t instanceof p.xQ?c=c.concat(b(t.LK)):c.push(t)));if(a)throw new p.xQ(c);}};a.prototype.add=function(d){var b;if(!d||d===a.EMPTY)return a.EMPTY;if(d===this)return this;b=d;switch(typeof d){case"function":b=new a(d);case"object":if(b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;"function"!==typeof b.fna&&(d=b,b=new a(),b.SC=[d]);break;default:throw Error("unrecognized teardown "+d+" added to Subscription.");}(this.SC||(this.SC=[])).push(b);b.fna(this);return b;};a.prototype.remove=function(a){var d;d=this.SC;d&&(a=d.indexOf(a),-1!==a&&d.splice(a,1));};a.prototype.fna=function(a){var d,b;d=this.yn;b=this.xy;d&&d!==a?b?-1===b.indexOf(a)&&b.push(a):this.xy=[a]:this.yn=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();c.cl=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.kma="StorageValidatorSymbol";c.Fr="AppStorageFactorySymbol";},function(g,c,a){var f,m,q,d,k;function b(a,d,b,f,k,c){this.context=a;this.errorCode=d;this.Dub=b;this.tda=k;this.sda=c;this.name=f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(305);q=a(4);d=a(46);k=a(40);b.prototype.send=function(a,d,b,f,c,m,q){var p;q=void 0===q?k.Vu.jQ:q;p=this;return this.Meb(a,d,b,q,f,c,m).then(function(a){return p.context.U$a.send(a.context,a.request);});};b.prototype.Meb=function(a,d,b,f,k,c,m){var p,t;try{p=this.context.hub.create(this.context.CE.az(),d,b,k,f);t=this.A4a(a,f,c,m);return Promise.resolve({context:t,request:p});}catch(S){return Promise.reject(S);}};b.prototype.A4a=function(a,d,b,f){return{Af:this.context.Af,log:a,tl:this.name,url:this.context.CAb(m.D4a(this.context.Mf,this.context.pj,this.name,d)),Fda:this.Dub,timeout:q.ei(59),headers:m.C4a(this.context.pj,this.context.$v),sda:this.sda,tda:void 0!==b?b:this.tda,g4a:f};};b.prototype.Un=function(a){return a instanceof d.qc?a:m.Un(this.errorCode,a);};b.prototype.Rra=function(a){var d;d=this;a.forEach(function(a){if(d.XV(a))throw a.error;});};b.prototype.XV=function(a){return void 0!==a.error;};a=b;a=g.__decorate([f.N(),g.__param(0,f.yh()),g.__param(1,f.yh()),g.__param(2,f.yh()),g.__param(3,f.yh()),g.__param(4,f.yh()),g.__param(5,f.yh())],a);c.li=a;},function(g,c,a){var b,f,m,q,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);f=a(13);m=a(66);q=a(392);d=a(28);g=a(43);k=a(170);p=a(225);a=a(169);t=function(a){function c(d,b){var f;f=a.call(this,d,b)||this;f.Xi=b.index;f.iC=b.fb;f.fs=b.xb;f.o1a=b.Bc?b.Bc:d.Bc;f.fpa=b.Kp||0;f.moa=!!b.Mt;f.pg=void 0===b.o8||void 0===b.n8||b.o8===b.fb&&b.n8===b.xb?f:new p.PG(f,{fb:b.o8,xb:b.n8});f.HZa=b.rba;f.aXa=b.Nh;f.hs=b.Na?f.rBa(b.Na):void 0;f.Cpa=b.tx;f.xi=!1;return f;}b.__extends(c,a);c.b9a=function(a){for(var d=new Uint32Array(a.length),b=new Uint32Array(a.length),f=0,k,p,c=0;c<a.length;++c)k=a[c],p=k.Ub,d[c]=k.fs-k.iC,b[c]=p,f+=p;return new q.fma(d,b,a.length?a[0].ea:1E3,f);};Object.defineProperties(c.prototype,{Hz:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{index:{get:function(){return this.Xi;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bc:{get:function(){return this.o1a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{fb:{get:function(){return this.iC;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{xb:{get:function(){return this.fs;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Kp:{get:function(){return this.fpa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Mt:{get:function(){return this.moa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rba:{get:function(){return this.HZa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Nh:{get:function(){return this.aXa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Na:{get:function(){return this.hs;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{tx:{get:function(){return this.Cpa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{o8:{get:function(){return this.pg.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{n8:{get:function(){return this.pg.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sdb:{get:function(){return this.pg.Qn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{yva:{get:function(){return this.pg.VM;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nw:{get:function(){return this.pg.mc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{AU:{get:function(){return this.pg.re;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{xva:{get:function(){return this.pg.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wva:{get:function(){return this.pg.Ad;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{VK:{get:function(){return this.sdb/this.stream.Ra.Ud;},enumerable:!0,configurable:!0}});c.prototype.BFa=function(a){this.fpa=a.Zl(this.ea).Ud;};c.prototype.bAa=function(){this.moa=!0;};c.prototype.MN=function(a){this.Cpa=a;};c.prototype.gk=function(a){var d,b;void 0===a&&(a={});d=this.stream.Ra.Ud;b=this.hs||{start:0,end:this.VK};a=this.rBa(a);this.pg&&this.pg!==this||(this.pg=new p.PG(this,this));a.start>b.start&&(this.iC=this.pg.fb+a.start*d);a.end<b.end&&(this.fs=this.pg.fb+a.end*d);this.hs=a;};c.prototype.Zta=function(){this.hs?this.gk({start:this.hs.start+1,end:this.hs.end}):this.gk({start:1});};c.prototype.sab=function(){this.hs?this.gk({start:this.hs.start,end:(this.hs.end||0)-1}):this.gk({start:0,end:-1});};c.prototype.Vcb=function(a){var f;if(!(a<this.U||a>=this.ga)&&this.Nh&&this.Nh.length){a=new d.Xa(a+1-this.U,1E3).SD(this.stream.Ra);for(var b=this.Nh.length-1;0<=b;--b){f=this.Nh[b];if(f.Um<=a)return f;}return{Um:0,Oc:this.nw};}};c.prototype.Ucb=function(a){var f;if(!(a<this.U||a>=this.ga)&&this.Nh&&this.Nh.length){a=new d.Xa(a+1-this.U,1E3).SD(this.stream.Ra);for(var b=this.Nh.length-1;0<=b;--b){f=this.Nh[b];if(f.Um<=a)return f;}return{Um:0,Oc:this.nw};}};c.prototype.Yua=function(a,b){var f,k,p;if(!(a<this.U||a>=this.ga)){f=this.Ra.Ud;k=this.Ra.ea;p=Math.floor(this.Qn/f);a=Math.min((b?Math.ceil:Math.floor)((d.Xa.XAa(a,k)-this.fb+(b?-1:1)*(k/1E3-1))/f),p);f=d.Xa.cHa(this.fb+a*f,k);return a===p?void 0:{Um:a,Oc:f};}};c.prototype.oU=function(a){return this.M===f.Fa.VIDEO?this.Vcb(a):this.Yua(a,!1);};c.prototype.Scb=function(a){return this.M===f.Fa.VIDEO?this.Ucb(a):this.Yua(a,!0);};c.prototype.t4=function(a){this.Ub+=a.aa;this.fs=a.xb;};c.prototype.toString=function(){return"["+this.oa+", "+this.R+"kbit/s, "+("c:"+this.Ad+"-"+this.uf+",")+("p:"+this.mc+"-"+this.re+",d:"+this.duration+"]");};c.prototype.toJSON=function(){var a;a=k.Ex.prototype.toJSON.call(this);m({index:this.index,startPts:this.U,endPts:this.ga,contentStartPts:this.Ad,contentEndPts:this.uf,fragmentStartPts:this.nw!==this.U?this.nw:void 0,fragmentEndPts:this.AU!==this.ga?this.AU:void 0,edit:this.Na},a);return a;};c.prototype.dva=function(a){var d;if(this.Nh)for(var b=0;b<this.Nh.length;++b)this.Nh[b].Um===a&&(d=this.Nh[b].offset);return d;};c.prototype.rBa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.VK)+(a.end||0)};};return c;}(k.Ex);c.ki=t;g.Pi(a.bP,t);},function(g,c,a){var f,m;function b(){var a,d;a=this;this.Qo={};this.on=function(d,b,f){a.addListener(d,b,f);};this.addListener=function(d,b,f){a.Qo&&(a.Qo[d]=a.Qo[d]||new m.Dla(!0)).add(b,f);};this.removeListener=function(d,b){a.Qo&&a.Qo[d]&&a.Qo[d].removeAll(b);};this.P8=function(d){return a.Qo&&a.Qo[d]?a.Qo[d].lw():[];};d=this;this.Mb=function(a,b,c){var k;if(d.Qo){k=d.P8(a);for(a={jj:0};a.jj<k.length;a={jj:a.jj},a.jj++)c?function(a){return function(){var d;d=k[a.jj];f.Jb(function(){d(b);});};}(a)():k[a.jj].call(this,b);}};}Object.defineProperty(c,"__esModule",{value:!0});f=a(50);m=a(448);b.prototype.Ng=function(){this.Qo=void 0;};c.lk=b;},function(g,c,a){var t,u,y,B,x,h,G,P,S,T,l,C,n,O,r,ba;function b(a){var d,b,f,k;d=a.url.split("?");b=d[0];f="sc="+a.Xub;k=a.vra?"random="+(1E17*l.wH()).toFixed(0):"";b=d[1]?b+("?"+d[1]+"&"+f):b+("?"+f);b=b+(k?"&"+k:"");a.Xb&&!B.N$(b)&&(a=u.config&&u.config.r5)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function f(a){var d,b,f,k;d=a.url.split("?");b=d[0];f="bb_reason="+a.reason;k=a.vra?"random="+(1E17*l.wH()).toFixed(0):"";b=d[1]?b+("?"+d[1]+"&"+f):b+("?"+f);b=b+(k?"&"+k:"");a.Xb&&!B.N$(b)&&(a=u.config&&u.config.r5)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function m(a,d){var b,f,k,p;b=a.url.split("?");f=b[0];k=q(a);k&&(d.hr=k,(void 0===a.Ar?0:a.Ar)?(a.headers=a.headers||{},a.headers.Range="bytes="+k):(d.hr=k,f="/"==f[f.length-1]?f+"range/":f+"/range/",f+=k));k=a.vra?"random="+(1E17*l.wH()).toFixed(0):"";u.config.iz&&a.TY&&(p="sc="+a.TY,k=p+(k?"&"+k:""));f=b[1]?f+("?"+b[1]+(k?"&"+k:"")):f+(k?"?"+k:"");a.Xb&&!B.N$(f)&&(a=u.config&&u.config.r5)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));d.url=f;}function q(a){var d;d=a.offset;if(void 0!==d)return S.xT(d),void 0!==a.length?(a=a.offset+a.length-1,S.xT(a),S.Ma(d<=a),d+"-"+a):d+"-";}function d(){return!1!==l.$k.onLine;}function k(a,d,b,f){var k,p;k=f.Bca;p=f.headers;a.open(k?"POST":"GET",d,!b);switch(f.responseType){case c.BV:a.responseType="arraybuffer";break;case c.Uxa:T.a5a(a,"overrideMimeType",void 0,"text/xml");}k&&(d={"Content-Type":h.ce(k)?"text/plain":"application/x-octet-stream"},p=p?h.cb(d,p):d);p&&T.ad(p,function(d,b){a.setRequestHeader(d,b);});f.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");k?a.send(k):a.send();}function p(a,d){switch(d.type){case c.BV:return a.response||new ArrayBuffer(0);case c.Uxa:return a.responseXML;default:return a.responseText;}}Object.defineProperty(c,"__esModule",{value:!0});t=a(72);u=a(12);y=a(11);B=a(38);x=a(30);h=a(20);G=a(2);P=a(5);S=a(18);T=a(19);l=a(9);C=a(50);n=a(16);O=a(23);r={I1:1,oKb:2,JJa:3};c.Af=function(){var B,H,T,l;function a(a){var d;try{d=a.url;n.Tya(d)?0===d.indexOf("https")?l.ssl++:0===d.indexOf("http")?l["non-ssl"]++:l.invalid++:l.invalid++;}catch(za){}}function q(){H.Mb(c.Dib);H.Mb(c.Vxa);}function g(){H.Mb(c.h$);H.Mb(c.Vxa);}B=P.qg("Http");H=new t.lk();T=0;l={ssl:0,"non-ssl":0,invalid:0};P.$.get(O.rf).register(G.I.Yia,function(a){u.config.JAb&&(K.addEventListener("online",q),K.addEventListener("offline",g),c.g$=d);a(y.kd);});return{addEventListener:H.addListener,removeEventListener:H.removeListener,download:function(d,b){var O,M,ja,V,r,ea,ca,N,na,sa,ha;function f(){var a;f=h.Le;ha&&(clearTimeout(ha),ha=null);H.removeListener(c.h$,y);na&&(na.onloadstart=null,na.onreadystatechange=null,na.onprogress=null,na.onerror=null,na.onload=null,na=na.onabort=null);N.Z||(N.ba!=G.G.Ou?O.warn("Download failed",M,G.Ho(N)):O.trace("Download aborted",M));a=ja;ja=void 0;for(var d=a.length;d--;)(function(){var b;b=a[d];C.Jb(function(){b(N);});}());H.Mb(c.Bib,N,!0);}function t(){ha&&(clearTimeout(ha),ha=null);ha=setTimeout(l,sa?ca:ea);}function q(a,d,b,k){var p,c;N.Z=!1;N.ba=a;p=x.Lg();c=N.Xj;c.xg=c.xg||p;c.Vl=c.Vl||p;0<d&&(N.Ci=N.Pd=d);b&&(N.kb=b);k&&(N.gx=k);a!==G.G.jH&&a!==G.G.Qx&&a!==G.G.mH||!na||(na.onabort=null,U());f();}function g(a){var d,b;try{b=a.getResponseHeader("X-Netflix.Retry.Server.Policy");b&&(d=JSON.parse(b));}catch(td){}return d;}function y(){c.g$()||q(G.G.jH);}function l(){q(sa?G.G.Qx:G.G.mH);}function U(){try{na&&na.abort();}catch(lf){}}function R(){q(G.G.Ou);}S.Ma(b);O=d.j&&d.j.log&&P.Rg(d.j,"Http")||B;M={Num:T++};ja=[b];V={};ea=d.iT||u.config.iT;ca=d.Fba||u.config.Fba;a(d);N=function(){var a,b,k;a=h.Le;b=h.Le;k=h.Le;return{request:d,type:d.responseType,Xj:V,abort:U,timeout:l,Tpa:function(a){f!==h.Le&&(S.Ma(ja,"Callback should be added before download starts."),ja&&ja.unshift(a));},tX:function(a){k(a);},vX:function(d){a(d);},pF:function(a){b(a);},kwb:function(a){k=a;},rwb:function(d){a=d;},fwb:function(a){b=a;}};}();C.Jb(function(){var a,b;if(n.Tya(d.url))try{if(m(d,N),r=N.url,S.oK(r),M.Url=r,c.g$()){na=new XMLHttpRequest();a=u.config.MAb&&"undefined"!=typeof na.onloadstart;a&&(na.onloadstart=function(){var a;a=x.Lg();V.requestTime=a;N.tX({mediaRequest:d,timestamp:a});});na.onreadystatechange=function(){if(2==na.readyState){sa=!0;V.xg=x.Lg();na.onreadystatechange=null;t();for(var a=N,b=na.getAllResponseHeaders().split("\n"),f=b.length,k,p,c={};f--;)if(k=b[f])p=k.indexOf(": "),1<=p&&p<k.length-1&&(c[k.substr(0,p)]=k.substr(p+2));a.headers=c;N.vX({timestamp:V.xg,connect:!0,mediaRequest:d,start:V.requestTime,rt:[V.xg-V.requestTime]});}};na.onprogress=function(a){sa=!0;V.Xv=a.loaded;t();a={mediaRequest:d,bytes:a.loaded,tempstamp:x.Lg(),bytesLoaded:a.loaded};N.vX(a);};na.onload=function(){var a;if(f!==h.Le){S.Ma(void 0===V.Vl);V.Vl=x.Lg();V.xg=V.xg||V.Vl;if(200<=na.status&&299>=na.status)if(a=p(na,N),d.Tf)try{N.content=d.Tf(a,N);N.Z=!0;N.parsed=!0;N.raw=a;}catch(td){O.warn("Exception parsing response",td,M);q(G.G.t0,void 0,h.Re(td));}else N.parsed=!1,N.content=a,N.Z=!0;else na.status==ba?q(G.G.lH,na.status):q(G.G.kH,na.status,na.response,g(na));f();}};na.onabort=R;na.onerror=function(){var a,d;a=na.status;"undefined"!==typeof u.config.sva&&(a=u.config.sva);if(0<a)if(a==ba)q(G.G.lH,a);else{try{d=na.responseText;}catch(Fe){}q(G.G.kH,a,d,g(na));}else q(G.G.nH);};b=x.Lg();k(na,r,!1,d);H.Mb(c.Cib,N,!0);a||(V.requestTime=b,N.tX({mediaRequest:d,timestamp:b}));t();H.addListener(c.h$,y);}else C.Jb(q.bind(void 0,G.G.jH));}catch(kb){O.error("Exception starting download",kb,M);q(G.G.x0,void 0,h.Re(kb));}else q(G.G.wia);});return N;},Pb:l,TPb:function(a){var d;d=new XMLHttpRequest();a=f(a);d.open("HEAD",a);d.onreadystatechange=function(){};d.send();},bxb:function(a){var d;d=new XMLHttpRequest();a=b(a);d.open("HEAD",a);d.onreadystatechange=function(){};d.send();},esb:function(a){var d,b,f;d=new XMLHttpRequest();b=a.url;f=a.bsb;d.open("HEAD",b);d.timeout=Math.max(2*f.Klb,u.config.Nca);d.onreadystatechange=function(){2==d.readyState&&f&&f.Nl({url:b});};d.ontimeout=d.onerror=function(){f&&f.Nba({url:b});};d.send();},xUa:r};}();c.oOb=b;c.lOb=f;c.nOb=m;c.mOb=q;c.g$=y.zUa;c.pOb=d;c.qKb=k;c.pKb=p;c.Cib=1;c.Bib=2;c.Dib=3;c.h$=4;c.Vxa=5;c.Txa=1;c.Uxa=2;c.BV=3;ba=420;K._cad_global.http=c.Af;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bg={audio:"audio",video:"video",sZ:"timedtext",Ifa:"trickplay"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.cm={start:"start",stop:"stop",ML:"keepAlive",IK:"engage",splice:"splice"};c.O_="EventPboCommandFactorySymbol";c.ima="StartEventPboCommandSymbol";c.jma="StopEventPboCommandSymbol";c.kja="KeepAliveEventPboCommandSymbol";c.gma="SpliceEventPboCommandSymbol";c.bia="EngageEventPboCommandSymbol";},function(g,c,a){var b,f,m,q,d,k,p,t;b=a(78);f=a(472);m=a(471);q=a(483);d=a(10);k=a(178);p=a(1057);t=a(256);c.yu=function(a,c,g,x){var u;u=new p.dja(a,g,x);if(u.closed)return null;if(c instanceof d.Aa)if(c.ns)u.next(c.value),u.complete();else return u.Wk=!0,c.subscribe(u);else if(f.tya(c)){a=0;for(g=c.length;a<g&&!u.closed;a++)u.next(c[a]);u.closed||u.complete();}else{if(m.Jya(c))return c.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(c&&"function"===typeof c[k.iterator]){c=c[k.iterator]();do{a=c.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(c&&"function"===typeof c[t.observable])if(c=c[t.observable](),"function"!==typeof c.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return c.subscribe(new p.dja(a,g,x));else c="You provided "+(q.jf(c)?"an invalid object":"'"+c+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(c));}return null;};},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);}b(f,a);f.prototype.hA=function(a,d){this.destination.next(d);};f.prototype.Kba=function(a){this.destination.error(a);};f.prototype.Nl=function(){this.destination.complete();};return f;}(a(49).Si);c.Ur=g;},function(g,c,a){g=a(147);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof K&&K||"undefined"!==typeof g&&g||a;c.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Vr="PlatformSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Go={Request:"Request",D1:"Singleton",tQ:"Transient"};c.mi={aha:"ConstantValue",bha:"Constructor",Oha:"DynamicValue",R_:"Factory",Function:"Function",E0:"Instance",HPa:"Invalid",Gla:"Provider"};c.$r={Yga:"ClassProperty",cha:"ConstructorArgument",N1:"Variable"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Iu="DeviceFactorySymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(b){a.prototype.parse.call(this,b);this.od=this.jr([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{iOb:"int32"},{$Rb:"int32"},{offset:32,type:"offset"},{tdb:"int16"},{l6a:{type:"int8",Q2a:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};f.Yb=!0;return f;}(a(223)["default"]);c["default"]=g;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Ee="avc1";return f;}(g);c.YIa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Ee="avc2";return f;}(g);c.ZIa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Ee="avc3";return f;}(g);c.$Ia=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Ee="avc4";return f;}(g);c.aJa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Ee="hvc1";return f;}(g);c.sOa=a;g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Ee="hev1";return f;}(g);c.nOa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.V0="6674654e-696c-5078-6966-665374726d21";c.W0="6674654e-696c-4878-6165-6465722e7632";c.fka="6674654e-696c-5078-6966-66496e646578";c.WP="6674654e-696c-4d78-6f6f-6653697a6573";c.VP="6674654e-696c-5378-6565-6b506f696e74";c.Cka="cedb7489-e77b-514c-84f9-7148f9882554";c.Bka="524f39a2-9b5a-144f-a244-6c427c648df4";c.U0="6674654e-696c-4678-7261-6d6552617465";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.ue=a;}a.prototype.CFa=function(a){this.ue=a;};a.prototype.Xra=function(){this.ue=void 0;};a.prototype.UK=function(a){return this.ue&&this.ue.wX&&this.ue.wX(a);};a.prototype.qz=function(a){this.ue&&this.ue.eu&&this.ue.eu(a);};a.prototype.pz=function(a){this.ue&&this.ue.KM&&this.ue.KM(a);};a.prototype.lE=function(a){this.ue&&this.ue.LM&&this.ue.LM(a);};a.prototype.tva=function(a){this.ue&&this.ue.$ba&&this.ue.$ba(a);};a.prototype.Kq=function(a){this.ue&&this.ue.oj&&this.ue.oj(a);};a.prototype.zU=function(a){this.ue&&this.ue.JM&&this.ue.JM(a);};a.prototype.yU=function(a,f,c){this.ue&&this.ue.IM&&this.ue.IM(a,f,c);};return a;}();c.Gr=g;g.prototype.wX=g.prototype.UK;g.prototype.eu=g.prototype.qz;g.prototype.KM=g.prototype.pz;g.prototype.LM=g.prototype.lE;g.prototype.oj=g.prototype.Kq;g.prototype.JM=g.prototype.zU;g.prototype.IM=g.prototype.yU;g.prototype.$ba=g.prototype.tva;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Gv=function(a,b){var f;return a.some(function(a,c,d){f=a;return b(a,c,d);})?f:void 0;};c.bD=function(a,b){var f;f=-1;return a.some(function(a,c){f=c;return b(a);})?f:-1;};c.b6a=function(a){return function(b,f){b=a(b);f=a(f);return b<f?-1:b>f?1:0;};};c.BPb=function(a){return function(b,f){return a(b)<a(f)?b:f;};};c.lw=function(a){var b;return(b=[]).concat.apply(b,a);};c.R6a=function(a){var b;void 0===b&&(b=function(a){return a;});return a.reduce(function(a,c){c=b(c);return void 0===a[c]?a[c]=1:++a[c],a;},{});};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Xta=0]="downloading";a[a.jab=1]="downloaded";a[a.xi=2]="appended";a[a.buffered=3]="buffered";a[a.Vtb=4]="removed";a[a.QRb=5]="unused";}(c.xga||(c.xga={})));(function(a){a[a.waiting=1]="waiting";a[a.aQb=2]="ondeck";a[a.Xta=4]="downloading";a[a.jab=8]="downloaded";a[a.BL=6]="inprogress";}(c.wga||(c.wga={})));c.CCb="AseBufferViewSymbol";c.$O="AseBufferAccountingSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.ln=0]="STANDARD";a[a.Su=1]="LIMITED";}(c.Cj||(c.Cj={})));c.pza=function(a){return["STANDARD","LIMITED"][a];};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.vha="DebugConfigSymbol";c.Kr="DebugSymbol";},function(g,c,a){var f,m;function b(a,d,b,p,c){a=void 0===a?f.I.qk:a;return m.qc.call(this,a,d,b,void 0,void 0,p,m.qc.Re(c),c)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);m=a(46);da(b,m.qc);c.Hf=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.cja="Injector";c.Vx=145152E5;c.OH="ProfileSymbol";},function(g,c,a){var m,q;function b(a,b,f,c,q){var d,k,t;d={};k="number"===typeof q;q=void 0!==q&&k?q.toString():f;if(k&&void 0!==f)throw Error(m.pPa);Reflect.O9(a,b)&&(d=Reflect.getMetadata(a,b));f=d[q];if(Array.isArray(f))for(var k=0,p=f;k<p.length;k++){t=p[k];if(t.key===c.key)throw Error(m.xMa+" "+t.key.toString());}else f=[];f.push(c);d[q]=f;Reflect.L6(a,d,b);}function f(a,b){return function(d,f){b(d,f,a);};}Object.defineProperty(c,"__esModule",{value:!0});m=a(54);q=a(35);c.XA=function(a,f,p,c){b(q.pma,a,f,c,p);};c.iO=function(a,f,p){b(q.qma,a.constructor,f,p);};c.Zv=function(a,b,p){"number"===typeof p?Reflect.Zv([f(p,a)],b):"string"===typeof p?Reflect.Zv([a],b,p):Reflect.Zv([a],b);};},function(g,c){var b;function a(a,c){var f;f=this;this.H2=[];b.forEach(function(d){(d=d(a,c))&&f.H2.push(d);});}Object.defineProperty(c,"__esModule",{value:!0});b=[];a.prototype.uu=function(a){var d;for(var b=[],f=this.H2.length;f--;){d=this.H2[f];d.uu(a)&&b.push(d.PK);}if(b.length)return b;};c.pRa=a;c.yH=function(a){b.push(a);};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);c.Sr=c.Sr||function(a,b,c){return a>=b?a<=c?a:c:b;};c.vHb=function(a,b,c,d,k){return(a-b)*(k-d)/(c-b)+d;};c.Dh=function(a){if(b.ka(a))return(a/1E3).toFixed(3);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.ResponseType||(c.ResponseType={});g[g.Text=0]="Text";g[g.rKb=1]="Xml";g[g.dDb=2]="Binary";c.GFb="HttpClientSymbol";c.Tx="LegacyHttpSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.by="PboConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.FB="LoggerSinksSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.TB="ThrottleFactorySymbol";},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.format=function(a,b){var f;for(var d=1;d<arguments.length;++d);f=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,d){return"undefined"!=typeof f[d]?f[d]:a;});};b.prototype.Wxb=function(a){for(var b=a.length,d=new Uint16Array(b),f=0;f<b;f++)d[f]=a.charCodeAt(f);return d.buffer;};b.prototype.ayb=function(a){return JSON.stringify(a,null,"  ");};f=b;f=g.__decorate([a.N()],f);c.hy=f;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ky="Utf8EncoderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Gx="Base16EncoderSymbol";},function(g,c,a){var b,f,m,q;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(10);f=a(252);m=a(137);q=a(119);a=function(a){function d(d,b){a.call(this);this.Lj=d;(this.ha=b)||1!==d.length||(this.ns=!0,this.value=d[0]);}b(d,a);d.create=function(a,b){return new d(a,b);};d.of=function(){var k;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];q.Iz(b)?a.pop():b=null;k=a.length;return 1<k?new d(a,b):1===k?new f.B1(a[0],b):new m.bH(b);};d.Jb=function(a){var d,b,f;d=a.Lj;b=a.index;f=a.Wf;b>=a.count?f.complete():(f.next(d[b]),f.closed||(a.index=b+1,this.zb(a)));};d.prototype.ng=function(a){var b,f,k;b=this.Lj;f=b.length;k=this.ha;if(k)return k.zb(d.Jb,0,{Lj:b,index:0,count:f,Wf:a});for(k=0;k<f&&!a.closed;k++)a.next(b[k]);a.complete();};return d;}(g.Aa);c.Cx=a;},function(g,c){c.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Uu="MediaKeySystemAccessServicesSymbol";},function(g,c){var a;Object.defineProperty(c,"__esModule",{value:!0});a=0;c.id=function(){return a++;};},function(g,c,a){var b,f,m,q,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(12);g=a(2);m=a(18);q=a(5);d=a(346);k=a(44);p=a(9);a=a(23);t=q.$.get(a.rf);t.register(g.I.B0,function(a){var u,g;m.Ma(f.config);m.Ma(p.Xu&&p.Xu.getDeviceId||p.X0||k.qia);u=q.$.get(d.Bha);g=q.qg("Device");t.Xc("devs");u.create({deviceId:f.config.deviceId,w8:k.qia,Hta:"deviceid",Pg:f.config.Pg,tt:k.bh.L_,Ita:k.ULa,userAgent:p.pk,qaa:f.config.qaa,K8:f.config.K8,H$a:k.bh.jha,D3a:f.config.Xqa.e,G$a:k.bh.QLa,JPb:f.config.Gq?"mslstoretest":"mslstore"}).then(function(d){c.Sh=d;K._cad_global.device=c.Sh;g.info("Esn source: "+c.Sh.D7);t.Xc("devdone");a(b.kd);})["catch"](function(d){d.Z=void 0;a(d);});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Or||(c.Or={});g[g.bDb=8]="Backspace";g[g.Tab=9]="Tab";g[g.NEb=13]="Enter";g[g.FJb=16]="Shift";g[g.SDb=17]="Ctrl";g[g.wCb=18]="Alt";g[g.rIb=19]="PauseBreak";g[g.HDb=20]="CapsLock";g[g.TEb=27]="Escape";g[g.HJb=32]="Space";g[g.qIb=33]="PageUp";g[g.pIb=34]="PageDown";g[g.MEb=35]="End";g[g.EFb=36]="Home";g[g.lGb=37]="LeftArrow";g[g.eKb=38]="UpArrow";g[g.IIb=39]="RightArrow";g[g.rEb=40]="DownArrow";g[g.cGb=45]="Insert";g[g.kEb=46]="Delete";g[g.uKb=48]="Zero";g[g.MHb=49]="One";g[g.ZJb=50]="Two";g[g.WJb=51]="Three";g[g.nFb=52]="Four";g[g.lFb=53]="Five";g[g.GJb=54]="Six";g[g.EJb=55]="Seven";g[g.LEb=56]="Eight";g[g.rHb=57]="Nine";g[g.mCb=65]="A";g[g.ECb=66]="B";g[g.wDb=67]="C";g[g.sLa=68]="D";g[g.E=69]="E";g[g.UEb=70]="F";g[g.oFb=71]="G";g[g.rFb=72]="H";g[g.BOa=73]="I";g[g.dGb=74]="J";g[g.H0=75]="K";g[g.LPa=76]="L";g[g.oGb=77]="M";g[g.CRa=78]="N";g[g.GHb=79]="O";g[g.OHb=80]="P";g[g.Q=81]="Q";g[g.CIb=82]="R";g[g.MUa=83]="S";g[g.OVa=84]="T";g[g.$Jb=85]="U";g[g.fKb=86]="V";g[g.lKb=87]="W";g[g.Q1=88]="X";g[g.sKb=89]="Y";g[g.tKb=90]="Z";g[g.mGb=91]="LeftWindowKey";g[g.JIb=92]="RightWindowKey";g[g.CJb=93]="SelectKey";g[g.wHb=96]="Numpad0";g[g.xHb=97]="Numpad1";g[g.yHb=98]="Numpad2";g[g.zHb=99]="Numpad3";g[g.AHb=100]="Numpad4";g[g.BHb=101]="Numpad5";g[g.CHb=102]="Numpad6";g[g.DHb=103]="Numpad7";g[g.EHb=104]="Numpad8";g[g.FHb=105]="Numpad9";g[g.PGb=106]="Multiply";g[g.vCb=107]="Add";g[g.PJb=109]="Subtract";g[g.jEb=110]="DecimalPoint";g[g.qEb=111]="Divide";g[g.VEb=112]="F1";g[g.ZEb=113]="F2";g[g.$Eb=114]="F3";g[g.aFb=115]="F4";g[g.bFb=116]="F5";g[g.cFb=117]="F6";g[g.dFb=118]="F7";g[g.eFb=119]="F8";g[g.fFb=120]="F9";g[g.WEb=121]="F10";g[g.XEb=122]="F11";g[g.YEb=123]="F12";g[g.tHb=144]="NumLock";g[g.AJb=145]="ScrollLock";g[g.DJb=186]="SemiColon";g[g.PEb=187]="Equals";g[g.NDb=188]="Comma";g[g.iEb=189]="Dash";g[g.tIb=190]="Period";g[g.mFb=191]="ForwardSlash";g[g.XJb=192]="Tilde";g[g.NHb=219]="OpenBracket";g[g.aDb=220]="BackSlash";g[g.LDb=221]="CloseBracket";g[g.BIb=222]="Quote";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.VB="VideoPreparerSymbol";},function(g,c,a){(function(b,f){var q;function c(a,b){var d;d=Date.now();this.sxb=d;this.dU=d+a;this.Oqb=a;this.q9a=d+b;this.debug=!1;this.cK=this.yp=0;}q=new(a(3)).Console("ASEJS_QOE_EVAL","media|asejs");c.prototype.constructor=c;c.prototype.nb=function(a,f){var d;a=((a-this.sxb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;d=b.jnb();q.debug(a+(Math.floor(d.fOb/1024/1024)+" MB/"+Math.floor(d.Oxa/1024/1024)+" MB ")+this.A6+f);};c.prototype.t0a=function(a){var d;d=Date.now();this.A6=a;this.yp=0;this.origin=d;this.nb(d,"starting");};c.prototype.e1a=function(a){var d,f;this.cK++;if(!(1E3>this.cK)){this.cK=0;d=new Date().getTime();if(d>=this.q9a)throw Error("Execution deadline exceeded: "+this.A6);f=b.jnb();this.yp=Math.max(this.yp,f.Oxa);if(7516192768<f.Oxa)throw Error("Heap total limit exceeded: "+this.A6);if(this.debug&&!(d<=this.dU)){for(;d>this.dU;)this.dU+=this.Oqb;this.nb(d,a);}}};c.Sb=function(){f.FF=new c(5E3,33E5);};c.MY=function(a){f.FF&&f.FF.t0a(a);};c.update=function(a){f.FF&&f.FF.e1a(a);};c.e9=function(){if(f.FF)return f.FF.yp;};g.P=c;}.call(this,a(247),a(147)));},function(g,c,a){g.P={EventEmitter:a(730),Mx:a(729)};},function(g,c,a){var d,k;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function f(a){return d.ce(a);}function m(a){return d.ka(a);}function q(a){return!b(a)&&!f(a)&&!m(a)&&!Array.isArray(a)&&d.jf(a);}d=a(6);k={Jx:0,oQ:1,KRa:2,OBJECT:3,qk:4};g.P={E9:function(a){return b(a)?k.Jx:f(a)?k.oQ:m(a)?k.KRa:q(a)?k.OBJECT:k.qk;},VV:b,ce:f,ka:m,jf:q,dn:k};},function(g){var c;c={yL:function(a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);}};g.P=c;},function(g,c,a){var m,q,d,k,p,t,u,y;function b(a){var d;if(!a.U3){d=a.jxa();a.xk.Ly(d["default"].Ca,a.Fh);a.xk.gB(d.up?d.up.FX:void 0,d.up?d.up.KA:void 0);m.Ia(a.Hb)||(a.U3=!0);}}function f(a,b,f){var p;this.K=f;this.So={};this.nC=f.nC;this.Pna=new k(this.nC);this.nI=new t(!0);this.bI=new t(!1);this.reset();this.j3=a;this.xk=b;this.ioa=q.Ll.name();this.xk.LY(this.ioa);this.OI=this.ly=0;this.cI=[];q.events.on("networkchange",function(a){this.ioa=a;this.xk.LY(a);}.bind(this));p=f.z6;p&&(p={ld:d.ie.zB,Da:{Ca:parseInt(p,10),$g:0},Wg:{N3a:0,$g:0},sp:{N3a:0,$g:0}},this.get=function(){return p;});y=this;}m=a(6);q=a(3);d=a(13);a(14);c=a(27).EventEmitter;k=a(383).lia;p=new q.Console("ASEJS_NETWORK_MONITOR","media|asejs");t=a(796).ANa;u=a(794);y=void 0;f.prototype.constructor=f;f.prototype=Object.create(c.prototype);f.xe=function(){u(void 0!==y);return y;};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.Wd;}},ld:{get:function(){return this.Fh;}},Dn:{get:function(){return this.ly;}},D1a:{get:function(){return this.cI;}}});f.prototype.ZXa=function(){var a,d,b,f;a=this.K;d=a.nYa.concat(a.uYa);b=a.G2;f=this.Pna;return d.reduce(function(a,d){a[d]=f.create(d,b);return a;},{});};f.prototype.reset=function(){var a,f,k;a=this.K.G2;f=this.Pna;k=this.K;this.location=null;this.So=this.ZXa();this.nI.reset();this.bI.reset();this.xs=f.create("respconn-ewma",a);this.ms=f.create("respconn-ewma",a);this.Fh=d.ie.HAVE_NOTHING;this.g1a=function(){b(this);}.bind(this);this.qS=void 0;this.qv=this.Ub=this.Hb=this.Wd=null;this.uXa=this.jS=this.ZI=0;this.v3=!1;k.tEa&&(this.OI=this.ly=0,this.cI=[]);};f.prototype.OY=function(a){var b;b=this.So;if(a!==this.location){m.T(this.qS)||(clearInterval(this.qS),this.qS=void 0);m.Ia(this.location)&&(this.jS=this.ZI=0,this.Wd=null);if(!m.Ia(a)){this.Fh=d.ie.HAVE_NOTHING;for(var f in b)b[f]&&b[f].reset&&b[f].reset();this.xs.reset();this.ms.reset();}m.Ia(this.Wd)||(this.ZI+=(m.Ia(this.Hb)?q.time.fa():this.Hb)-this.Wd,this.jS+=this.Ub);this.Hb=this.Wd=null;this.Ub=0;this.location=a;this.xk.OY(a);}};f.prototype.LY=function(a){this.xk.LY(a);};f.prototype.N1a=function(a){this.So.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.So.QoEEvaluator=a;};f.prototype.Mtb=function(){delete this.So.QoEEvaluator;};f.prototype.Fv=function(a,f,k,c){var t,q;t=this.K;q=this.So;if(!0===c.jB)(c=q["throughput-wssl"])&&c.add(a,f,k,!0);else if(m.T(f))p.warn("addDataReceived called with undefined start time");else{t.tYa&&10>k-f?f=k-10:0===k-f&&(f=k-1);this.nI.Fv(a,f,k,c);this.bI.Fv(a,f,k,c);for(var u in q)q[u]&&q[u].add&&q[u].add(a,f,k);this.Fh=Math.max(this.Fh,d.ie.Px);m.Ia(this.Wd)&&(this.Wd=f,this.Hb=null,this.U3=!1,this.Ub=0);m.Ia(this.Hb)||(f>this.Hb&&(this.Wd+=f-this.Hb),this.Hb=null,this.U3=!1);this.Ub+=a;this.Fh<d.ie.Ox&&(k-this.Wd>t.FZa||this.Ub>t.EZa)&&(this.Fh=d.ie.Ox);this.Fh<d.ie.zB&&(k-this.Wd>t.O_a||this.Ub>t.N_a)&&(!this.v3||this.uXa>t.DZa)&&(this.Fh=d.ie.zB,b(this),this.qS=setInterval(this.g1a,t.qZa));m.Ia(this.qv)||(f-this.qv>t.Foa?this.j3.qya(this.qv,f):k-f>t.Foa&&this.j3.qya(f,k));this.qv=Math.max(k,this.qv);}};f.prototype.Is=function(a){this.xs.add(a);this.xk.Is(a);};f.prototype.Hs=function(a){this.ms.add(a);this.xk.Hs(a);};f.prototype.start=function(a){var d;m.Ia(this.qv)&&!m.Ia(this.Hb)&&(this.qv=a);d=this.So;if(this.K.Vea)for(var b in d)d[b]&&d[b].start&&d[b].start(a);};f.prototype.stop=function(a){var d,b;d=this.So;for(b in d)d[b]&&d[b].stop&&d[b].stop(a);this.Hb=m.Ia(this.Hb)?a:Math.min(this.Hb,a);this.qv=null;};f.prototype.flush=function(){var a,d;a=this.So;for(d in a)a[d]&&a[d].flush&&a[d].flush();};f.prototype.fail=function(){this.Wd=null;};f.prototype.Xeb=function(){var a,d;a=this.So.entropy;a&&(d=a.O4a(),a.reset());return d;};f.prototype.jxa=function(){var a,d,b,f,k,p,c;a=q.time.fa();d={};b=this.So;f=this.K;k=f.cYa;p=f.q0a;for(c in b)b[c]&&b[c].get&&(d[c]=b[c].get(a),"iqr"===b[c].type&&(d.up=d[c]),"tdigest"===b[c].type&&(d.hi=d[c]),"wssl"===b[c].type&&(d.jB=d[c]));d.cdnavtp=this.nI.El();d.activecdnavtp=this.bI.El();d["default"]=k&&d[k]?d[k]:d["throughput-ewma"];"none"!==f.Rda&&"none"!==p&&(d.XEa=p&&d[p]?d[p]:d["throughput-sw"]);return d;};f.prototype.get=function(){var a,d,b,f,k,p;a=this.jxa();d=a["default"];b=this.xs.get();f=this.ms.get();k=this.K;if(a.XEa)p=a.XEa,d=m.ka(d.Ca)&&m.ka(p.Ca)&&d.Ca>p.Ca&&0<p.Ca?p:d;a.ld=this.Fh;a.Da=d;!k.qua||!d||m.Ia(d.Ca)||isNaN(d.Ca)||!a.jB||m.Ia(a.jB.Ca)||isNaN(a.jB.Ca)||("max"===k.xIa?a.Da.Ca=Math.max(a.jB.Ca,d.Ca):"sum"===k.xIa&&(a.Da.Ca+=a.jB.Ca));a.Wg=b;a.sp=f;d=this.ZI+!m.Ia(this.Wd)?(m.Ia(this.Hb)?q.time.fa():this.Hb)-this.Wd:0;a.time=d;return a;};f.prototype.Ndb=function(){var a;a=this.ZI+!m.Ia(this.Wd)?(m.Ia(this.Hb)?q.time.fa():this.Hb)-this.Wd:0;return{hD:Math.floor(8*(this.jS+this.Ub)/a),gOb:this.j3.Wc()};};f.prototype.ehb=function(){var a,d,b;a={};d=this.get(!0);if(d.ld&&d.Da){a.aseavtp=Number(d.Da.Ca).toFixed(2);a.asevartp=Number(d.Da.$g).toFixed(2);if(d.up){b=d.up.FX;!b||isNaN(b.$j)||isNaN(b.Zj)||isNaN(b.Ii)||(a.aseniqr=0<b.Ii?Number((b.$j-b.Zj)/b.Ii).toFixed(2):-1,a.aseiqr=Number(b.$j-b.Zj).toFixed(2),a.asemedtp=Number(b.Ii).toFixed(2));a.iqrsamples=d.up.KA;}d.hi&&d.hi.zt&&(a.tdigest=d.hi.zt());}return a;};f.prototype.DA=function(a,d){var b;b=d.requestId;1===++this.ly&&(this.emit("active",a),this.start(a));b&&this.cI.push(b);this.nI.DA(a,d);this.bI.DA(a,d);};f.prototype.uda=function(){++this.OI;};f.prototype.FA=function(a,d,b){var f;f=b.requestId;d&&--this.OI;--this.ly;this.K.tEa&&(this.ly=Math.max(this.ly,0),this.OI=Math.max(this.OI,0));0===this.ly&&(this.stop(a),this.emit("inactive",a));f&&(d=this.cI.indexOf(f),0<=d&&this.cI.splice(d,1));this.nI.FA(a,b);this.bI.FA(a,b);};g.P=f;},function(g,c,a){var u;function b(a,b){if(a.length==b.length&&1<a.length){for(var f=a.length,k=0,p=d(a),c=d(b),t=0;t<f;t++)k+=a[t]*b[t];return(k-p*c/f)/f;}return!1;}function f(a){if(!Array.isArray(a)||2>a.length)return!1;a=m(a);return Math.sqrt(a);}function m(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=q(a);return d(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function q(a){return Array.isArray(a)&&a.length?d(a)/a.length:!1;}function d(a){return Array.isArray(a)?a.reduce(function(a,d){return a+d;},0):!1;}function k(a,d,b){return Math.max(Math.min(a,b),d);}function p(a,d){return"number"===typeof a?a:d;}function t(a){return 1/(1+Math.exp(-a));}u=a(6);g.P={Ha:function(a,d,b){try{a.emit(d,b);}catch(H){a.Vd("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",H,"Event:",b);}},wl:function(){var a,d,b;a=Array.prototype.concat.apply([],arguments);d=a.reduce(function(a,d){return a+d.byteLength;},0);b=new Uint8Array(d);a.reduce(function(a,d){b.set(new Uint8Array(d),a);return a+d.byteLength;},0);return b.buffer;},cT:k,K5a:function(a,d,b,f){return{min:k(p(a.min,d),b,f),max:k(p(a.max,d),b,f),Ys:k(a.Ys||6E4,0,6E5),Kra:k(a.Kra||0,-3E5,3E5),scale:k(a.scale||6E4,0,3E5),REa:k(a.REa||0,-3E5,3E5),gamma:k(a.gamma||1,.1,10)};},ad:function(a,d){void 0!==a&&u.Wpb(a).forEach(function(a){d(a[0],a[1]);});},Fua:function(a,d,b){return a.min+(a.max-a.min)*(1-Math.pow(t(6*(d-(a.Ys+(a.Kra||0)*(1-b)))/(a.scale+(a.REa||0)*(1-b))),a.gamma));},$bb:function(a,d){return a.min+(a.max-a.min)*Math.pow(t(6*(d-a.Ys)/a.scale),a.gamma);},$Nb:d,Vdb:q,vhb:m,YNb:f,FNb:b,ENb:function(a,d){var k;if(a.length==d.length){k=b(a,d);a=f(a);d=f(d);if(0<a&&0<d)return k/(a*d);}return!1;},Tz:function(a,d,b){return d.Nsa?d.Nsa(b):new a.Console("ASEJS","media|asejs",b);},Zda:function(a){return a.length?"{"+a+"} ":"";},Tub:function(a,d,b){return{min:a.min*b+(1-b)*d.min,max:a.max*b+(1-b)*d.max,Ys:a.Ys*b+(1-b)*d.Ys,scale:a.scale*b+(1-b)*d.scale,gamma:a.gamma*b+(1-b)*d.gamma};},tanh:Math.tanh||function(a){var d;d=Math.exp(+a);a=Math.exp(-a);return Infinity==d?1:Infinity==a?-1:(d-a)/(d+a);},Iea:t,Jl:function(a){var d;d=a.eb.Xd.na.id;return{U:a.U,duration:a.duration,offset:a.offset,aa:a.aa,R:a.R,profile:a.profile,Vb:a.Vb,ib:d,oa:a.oa,Db:a.Db,location:a.location,hj:a.hj,Ai:a.Ai,Wqb:{Xd:{na:{id:d}}}};}};},function(g,c,a){var b;b=a(172);g.P=function(a){return function q(d){return 0===arguments.length||b(d)?q:a.apply(this,arguments);};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){function b(){}function f(){}function c(){}c.rKa="cache_start";c.sKa="cache_success";c.oKa="cache_abort";c.qKa="cache_fail";c.pKa="cache_evict";c.tSa="pb_request";c.bVa="start_playback";a.Lx=c;f.iga="auth";f.Sx="ldl";f.gH="hdr";f.MEDIA="media";a.zj=f;b.gP="cached";b.LOADING="loading";b.qNa="expired";a.ZO=b;}(c.Ce||(c.Ce={})));c.Ala="PrefetchEventsFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.SB="SourceBufferTypeProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.jy="TimingApiSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.EB="IdProviderSymbol";},function(g,c){c.Iz=function(a){return a&&"function"===typeof a.zb;};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.lB="ApiInfoSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jha="DrmServicesSymbol";c.tP="DrmServicesProviderSymbol";},function(g,c,a){var f,m,q,d,k,p,t,u,y,B,x,h,G,P,S,T,l,C,n;function b(a){var c;c=this;this.createPlayer=function(a,b){var f,k;b=void 0===b?{}:b;b="number"===typeof b?{xh:b}:b;f=b.manifest;if(c.Njb(f))f.clientGenesis=f.clientGenesis||x.H5(),f=d.$.get(B.O0).decode(f);else if(f){k=d.$.get(P.KH)();k.yS(f.links);f.Rf=k;}a=d.$.get(G.iQ).Y8a(a);return c.Osa(a,b,f);};this.createPlaygraphPlayer=function(a,d,b){return c.Osa(n.YTa.encode(a),d,b);};this.closeAllPlayers=function(a){q.pla(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;c.eD.WL(function(k){k.Z?(m.config.HY?c.Dvb().then(function(){f.ETa();})["catch"](function(a){d.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(c,b.pJ);a(Object.assign({success:!0},b.pJ));}):a({success:!1,error:d.UTa(k.errorCode||p.I.Gia,k)});});};this.applyConfig=function(a){c.MHa(a);m.ssa(a);};this.prepare=function(a,b){var f;a=c.Ica.Ata(a)||[];f=new Set();a=a.filter(function(a){var d;d=f.has(a.u);f.add(a.u);return!d;});if(m.config.mo&&c.Ac())try{c.Ac().lu(a,b);}catch(ja){d.log.warn("Prepare call failed",ja);}};this.predownload=function(a,b){if((a=c.Ica.Ata(a))&&m.config.zx&&c.Ac())try{c.Ac().Hrb(a,b);}catch(V){d.log.warn("Predownload call failed",V);}};this.lookupPredownloaded=function(){return m.config.zx&&c.Ac()?c.Ac().Rt():Promise.resolve([]);};this.ppmUpdate=function(a){K._cad_global.playerPredictionModel?((a=c.Ica.y$a(a))&&K._cad_global.playerPredictionModel.update(a),K._cad_global.prefetchEvents&&K._cad_global.prefetchEvents.update(a)):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){d.oE().pG().then(a)["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){d.oE().cO().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){d.oE().aO().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){d.oE().oG().then(a)["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=d.$.get(u.ZP).f6();return a?Promise.resolve(a.El()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=d.$.get(u.ZP).f6();return a?Promise.resolve(a.agb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return m.config.dbb;};this.Ica=d.$.get(k.r1);this.eD=d.$.get(T.rf);this.Ac=d.$.get(S.VB);this.MHa(a);m.q6a([a]);d.oE().cO();}Object.defineProperty(c,"__esModule",{value:!0});f=a(190);m=a(12);q=a(56);d=a(5);k=a(194);p=a(2);t=a(29);u=a(200);y=a(154);B=a(231);x=a(30);h=a(276);G=a(183);P=a(130);S=a(107);T=a(23);l=a(273);C=a(24);n=a(148);b.prototype.Njb=function(a){return!!a&&!!a.runtime;};b.prototype.MHa=function(a){d.$.get(t.PP).knb(a);};b.prototype.Dvb=function(){return d.$.get(y.eQ)()["catch"](function(a){d.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){d.log.error("Unable to send deferred playdata",a);});};b.prototype.Osa=function(a,b,f){var k,p,c,t;b=void 0===b?{}:b;k=d.$.get(C.qf);p=d.$.get(h.wla);c=d.$.get(l.xla);t=d.$.get(G.iQ);p=p.create(a);a=p.J8();k=k.kc();b=Object.assign(Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||a.Vf,uiPlayStartTime:Date.now()},b),{endPts:a.Og,isPlaygraph:!0});c=c.create(k,p,t);c.addEpisode({movieId:a.wa,playbackParams:b,manifestData:f});return c;};c.yQ=b;b.pJ={};},function(g,c,a){var f,m,q;function b(a,b,f,c,u){b=q.li.call(this,a,b,c,m.si.events,u,m.si.events+"/"+f)||this;b.context=a;b.acb=f;return b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(41);q=a(70);a(159);da(b,q.li);b.prototype.yf=function(a,b){var d,f;d=this;f=this.RS(b);return this.send(a,b.href,f).then(function(){return b;})["catch"](function(a){throw d.Un(a);});};b.prototype.Bm=function(a,b,f){var d,k;d=this;k=this.RS(f);return this.send(a,b.b9("events").href,k).then(function(a){b.yS(a.result.links);return f;})["catch"](function(a){throw d.Un(a);});};b.prototype.RS=function(a){return{event:this.acb,xid:a.ia,position:a.position||0,clientTime:a.TJ,sessionStartTime:a.KN,mediaId:a.Zz,trackId:a.ab,sessionId:a.sessionId,appId:a.lJ,playTimes:this.E4a(a.RM),sessionParams:a.Vm,mdxControllerEsn:a.bba};};b.prototype.f5=function(a){return{downloadableId:a.Zc,duration:a.duration};};b.prototype.E4a=function(a){return{total:a.total,audio:a.audio.map(this.f5),video:a.video.map(this.f5),text:a.text.map(this.f5)};};a=b;a=g.__decorate([f.N(),g.__param(0,f.yh()),g.__param(1,f.yh()),g.__param(2,f.yh()),g.__param(3,f.yh()),g.__param(4,f.yh())],a);c.Fo=a;},function(g,c,a){var b,f,m,q,d,k,p,t,u,y,B,x,h,G,P;Object.defineProperty(c,"__esModule",{value:!0});b=a(58);f=a(308);m=a(600);q=a(149);d=a(12);k=a(11);p=a(153);t=a(294);u=a(30);g=a(2);y=a(5);B=a(200);x=a(9);h=a(150);G=a(23);P=a(56);y.$.get(G.rf).register(g.I.Hia,function(g){var G,H,S,l,n,r,ba;G=y.$.get(B.ZP).f6();H=y.$.get(p.Gha).uB;S=y.$.get(f.Xja).Ej;l={rA:y.JU("ASE"),T2a:y.JU("JS-ASE",void 0,"Platform"),qg:y.JU,storage:h.storage,gp:h.gp,bgb:x.qP,getTime:u.Lg,SE:{},Ej:S,Wr:m.Wr,uB:H,MediaSource:t.mRa,SourceBuffer:q.Vja,Sj:function(){return[d.config.ES,d.config.GS];},$y:function(a){P.kn.forEach(function(d){d.JFa(a);});}};H=new Promise(function(a){h.storage.load("nh",function(d){l.SE.nh=d.Z?d.data:void 0;a();});});S=new Promise(function(a){h.storage.load("lh",function(d){l.SE.lh=d.Z?d.data:void 0;a();});});n=new Promise(function(a){h.storage.load("gh",function(d){l.SE.gh=d.Z?d.data:void 0;a();});});r=new Promise(function(a){h.storage.load("sth",function(d){l.SE.sth=d.Z?d.data:void 0;a();});});ba=new Promise(function(a){h.storage.load("vb",function(d){l.SE.vb=d.Z?d.data:void 0;a();});});Promise.all([H,S,ba,r,n]).then(function(){var f;f=a(598)(l);c.Tc=a(293);c.Tc.declare(b.Pn);c.Tc.declare({zx:["useMediaCache",!1],aw:["diskCacheSizeLimit",0],oMb:["dailyDiskCacheWriteLimit",0],PW:["mediaCachePrefetchMs",8E3],cba:["mediaCachePartitionConfig",{}]});c.Tc.set(a(160)(d.config),!0,y.JU("ASE"));f=b.gmb(f);c.pl=new f(c.Tc,G);c.pl.Sb(d.config.ES,d.config.GS,{rA:l.rA},d.config.rY);g(k.kd);})["catch"](function(a){l.rA.error("Exception loading location history from local storage",a);});});},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(19);f=a(18);c.yj="$attributes";c.XZ="$children";c.YZ="$name";c.Dr="$text";c.yIa="$parent";c.MG="$sibling";c.mQb=/^\s*\<\?xml.*\?\>/i;c.Geb=function(a,b,d){for(var f=2;f<arguments.length;++f);for(f=1;(b=arguments[f++])&&(a=a[b]););return a;};c.jQb=function(a,q){var d;a?d=b.de(a[c.Dr]):void 0!==q&&(d=q);f.xT(d);return d;};c.rqb=function(a){var b;a&&(b=a[c.Dr]);f.s9a(b);return b;};c.kPb=function(a,b){var d;d={};d[c.yj]=a;d[c.Dr]=b;return d;};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.jc=!1;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(222);g=function(){function a(a,d,b){this.tag=a;this.view=d;this.J=b;this.startOffset=b.offset;}a.EDa=function(b,d){var k,p;k=b.ed();p=b.Ssb();b=new(f.LD[k]||a)(k,b.Deb(p),b);b.parse(d);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.J.offset=this.startOffset+this.length;this.J.fA=0;return!0;};a.prototype.Zua=function(a){var d;d=[];this.tag===a&&d.push(this);if(this.LD)for(var f=0;f<this.LD.length;f++)d=b.__spreadArrays(d,this.LD[f].Zua(a));return d;};a.prototype.nz=function(a){for(a=this.Zua(a);0<a.length;)return a[0];};a.prototype.jpa=function(){for(this.LD=[];this.J.offset<this.startOffset+this.length;)this.LD.push(a.EDa(this.J,this));};return a;}();c.D_=g;g.prototype.skip=g.prototype.parse;},function(g){var b,f;function c(){var c,q;if(DataView.prototype&&DataView.prototype.yE&&!f){try{c=new ArrayBuffer(4);q=new DataView(c);q.zE(0,4,1);}catch(d){return;}try{c=new ArrayBuffer(4);q=new DataView(c);q.zE(1,2,2);}catch(d){DataView.prototype.zE=a(DataView.prototype.zE,DataView.prototype.getUint8,Uint8Array);DataView.prototype.iV=a(DataView.prototype.iV,DataView.prototype.getUint16,Uint16Array);DataView.prototype.yE=a(DataView.prototype.yE,DataView.prototype.getUint32,Uint32Array);DataView.prototype.X8=a(DataView.prototype.X8,DataView.prototype.getInt8,Int8Array);DataView.prototype.V8=a(DataView.prototype.V8,DataView.prototype.getInt16,Int16Array);DataView.prototype.W8=a(DataView.prototype.W8,DataView.prototype.getInt32,Int32Array);}b.rhb=function(a,b,f,c,m){return a.zE(b,f,c||1,m);};b.phb=function(a,b,f,c,m){return a.iV(b,f,c||2,m);};b.qhb=function(a,b,f,c,m){return a.yE(b,f,c||4,m);};b.KNb=function(a,b,f,c,m){return a.X8(b,f,c||1,m);};b.INb=function(a,b,f,c,m){return a.V8(b,f,c||2,m);};b.JNb=function(a,b,f,c,m){return a.W8(b,f,c||4,m);};f=!0;}}function a(a,b,d){return function(f,p,c,m){var k;c=c||d.BYTES_PER_ELEMENT;if(f+p*c>this.byteLength){k=new d(p);k.set(a.call(this,f,p-1,c,m));k[p-1]=b.call(this,f+(p-1*c),m);return k;}return a.call(this,f,p,c,m);};}b={zE:function(a,b,d,f,c){var k;k=new Uint8Array(d);f=f||1;for(var p=0;p<d;++p,b+=f)k[p]=a.getUint8(b,c);return k;},iV:function(a,b,d,f,c){var k;k=new Uint16Array(d);f=f||2;for(var p=0;p<d;++p,b+=f)k[p]=a.getUint16(b,c);return k;},yE:function(a,b,d,f,c){var k;k=new Uint32Array(d);f=f||4;for(var p=0;p<d;++p,b+=f)k[p]=a.getUint32(b,c);return k;},X8:function(a,b,d,f,c){var k;k=new Int8Array(d);f=f||1;for(var p=0;p<d;++p,b+=f)k[p]=a.getInt8(b,c);return k;},V8:function(a,b,d,f,c){var k;k=new Int16Array(d);f=f||2;for(var p=0;p<d;++p,b+=f)k[p]=a.getInt16(b,c);return k;},W8:function(a,b,d,f,c){var k;k=new Int32Array(d);f=f||4;for(var p=0;p<d;++p,b+=f)k[p]=a.getInt32(b,c);return k;},nNb:c};f=!1;b.Jeb=function(){return f;};c();g.P=b;},function(g){var q,d,k,p;function c(){c.Sb.call(this);}function a(a,d,b,f){var k,p;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);k=a.Gg;void 0===k?(k=a.Gg=Object.create(null),a.sy=0):(void 0!==k.QPb&&(a.emit("newListener",d,b.listener?b.listener:b),k=a.Gg),p=k[d]);void 0===p?(k[d]=b,++a.sy):("function"===typeof p?p=k[d]=f?[b,p]:[p,b]:f?p.unshift(b):p.push(b),b=void 0===a.EI?c.d$a:a.EI,0<b&&p.length>b&&!p.rBb&&(p.rBb=!0,b=Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.fw=a,b.type=d,b.count=p.length,console&&console.warn&&console.warn(b)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.gva||(this.target.removeListener(this.type,this.uIa),this.gva=!0,d(this.listener,this.target,a));}function f(a,d,f){a={gva:!1,uIa:void 0,target:a,type:d,listener:f};d=b.bind(a);d.listener=f;return a.uIa=d;}function m(a){var d;d=this.Gg;if(void 0!==d){a=d[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}q="object"===typeof Reflect?Reflect:null;d=q&&"function"===typeof q.apply?q.apply:function(a,d,b){return Function.prototype.apply.call(a,d,b);};k=Number.isNaN||function(a){return a!==a;};g.P=c;c.EventEmitter=c;c.prototype.Gg=void 0;c.prototype.sy=0;c.prototype.EI=void 0;p=10;Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");p=a;}});c.Sb=function(){if(void 0===this.Gg||this.Gg===Object.getPrototypeOf(this).Gg)this.Gg=Object.create(null),this.sy=0;this.EI=this.EI||void 0;};c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.EI=a;return this;};c.prototype.emit=function(a){var k,f,p;for(var b=[],f=1;f<arguments.length;f++)b.push(arguments[f]);k="error"===a;f=this.Gg;if(void 0!==f)k=k&&void 0===f.error;else if(!k)return!1;if(k){0<b.length&&(p=b[0]);if(p instanceof Error)throw p;b=Error("Unhandled error."+(p?" ("+p.message+")":""));b.context=p;throw b;}f=f[a];if(void 0===f)return!1;if("function"===typeof f)d(f,this,b);else{p=f.length;for(var k=Array(p),c=0;c<p;++c)k[c]=f[c];for(f=0;f<p;++f)d(k[f],this,b);}return!0;};c.prototype.addListener=function(d,b){return a(this,d,b,!1);};c.prototype.on=c.prototype.addListener;c.prototype.fDa=function(d,b){return a(this,d,b,!0);};c.prototype.once=function(a,d){if("function"!==typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);this.on(a,f(this,a,d));return this;};c.prototype.Srb=function(a,d){if("function"!==typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);this.fDa(a,f(this,a,d));return this;};c.prototype.removeListener=function(a,d){var b,f,k,p,c;if("function"!==typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);f=this.Gg;if(void 0===f)return this;b=f[a];if(void 0===b)return this;if(b===d||b.listener===d)0===--this.sy?this.Gg=Object.create(null):(delete f[a],f.removeListener&&this.emit("removeListener",a,b.listener||d));else if("function"!==typeof b){k=-1;for(p=b.length-1;0<=p;p--)if(b[p]===d||b[p].listener===d){c=b[p].listener;k=p;break;}if(0>k)return this;if(0===k)b.shift();else{for(;k+1<b.length;k++)b[k]=b[k+1];b.pop();}1===b.length&&(f[a]=b[0]);void 0!==f.removeListener&&this.emit("removeListener",a,c||d);}return this;};c.prototype.LBa=c.prototype.removeListener;c.prototype.removeAllListeners=function(a){var d,b,f;b=this.Gg;if(void 0===b)return this;if(void 0===b.removeListener)return 0===arguments.length?(this.Gg=Object.create(null),this.sy=0):void 0!==b[a]&&(0===--this.sy?this.Gg=Object.create(null):delete b[a]),this;if(0===arguments.length){d=Object.keys(b);for(b=0;b<d.length;++b)f=d[b],"removeListener"!==f&&this.removeAllListeners(f);this.removeAllListeners("removeListener");this.Gg=Object.create(null);this.sy=0;return this;}d=b[a];if("function"===typeof d)this.removeListener(a,d);else if(void 0!==d)for(b=d.length-1;0<=b;b--)this.removeListener(a,d[b]);return this;};c.prototype.listeners=function(a){var d;d=this.Gg;if(void 0===d)a=[];else if(a=d[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var d=Array(a.length),b=0;b<d.length;++b)d[b]=a[b].listener||a[b];a=d;}return a;};c.listenerCount=function(a,d){return"function"===typeof a.listenerCount?a.listenerCount(d):m.call(a,d);};c.prototype.listenerCount=m;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.$ka="PboLinksManagerSymbol";c.KH="PboLinksManagerFactorySymbol";},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(878);a=a(875);c.lnb=g;c.gu=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.AH="MslProviderSymbol";},function(g,c,a){var f,m,q,d;function b(a,b,c){var k;k=q.kP.call(this,a,b,f.zH.Sma)||this;k.config=a;k.iba=b;k.is=c;k.type=f.sk.Kx;k.OO=d.Gd.Psa();return k;}Object.defineProperty(c,"__esModule",{value:!0});f=a(31);m=a(60);q=a(429);g=a(98);d=a(134);new g.hy();da(b,q.kP);b.prototype.vr=function(){return Promise.resolve(!1);};b.prototype.qE=function(){return Promise.resolve("");};b.prototype.pG=function(){return Promise.resolve(!1);};b.prototype.oG=function(){return Promise.resolve(!1);};b.prototype.cO=function(){return Promise.resolve(!1);};b.prototype.aO=function(){return Promise.resolve(!1);};b.prototype.mE=function(a){return this.OO[a];};b.prototype.j4=function(a){return a;};b.prototype.$za=function(a){switch(a){case f.ni.aq:return"1.4";case f.ni.Ux:return"2.2";}};b.prototype.bz=function(){var a;a={};a[m.W.cH]="avc1.4D401E";a[m.W.yB]="avc1.4D401F";a[m.W.BP]="avc1.4D4028";a[m.W.m0]="hev1.1.6.L90.B0";a[m.W.n0]="hev1.1.6.L93.B0";a[m.W.o0]="hev1.1.6.L120.B0";a[m.W.p0]="hev1.1.6.L123.B0";a[m.W.q0]="hev1.1.6.L150.B0";a[m.W.r0]="hev1.1.6.L153.B0";a[m.W.b0]="hev1.2.6.L90.B0";a[m.W.d0]="hev1.2.6.L93.B0";a[m.W.f0]="hev1.2.6.L120.B0";a[m.W.h0]="hev1.2.6.L123.B0";a[m.W.hH]="hev1.2.6.L150.B0";a[m.W.iH]="hev1.2.6.L153.B0";a[m.W.HP]="hev1.2.6.L90.B0";a[m.W.IP]="hev1.2.6.L93.B0";a[m.W.JP]="hev1.2.6.L120.B0";a[m.W.i0]="hev1.2.6.L123.B0";a[m.W.T_]="hev1.2.6.L90.B0";a[m.W.U_]="hev1.2.6.L93.B0";a[m.W.V_]="hev1.2.6.L120.B0";a[m.W.W_]="hev1.2.6.L123.B0";a[m.W.X_]="hev1.2.6.L150.B0";a[m.W.Z_]="hev1.2.6.L153.B0";a[m.W.eH]="hev1.2.6.L90.B0";a[m.W.fH]="hev1.2.6.L93.B0";a[m.W.AB]="hev1.2.6.L120.B0";a[m.W.DP]="hev1.2.6.L123.B0";a[m.W.UG]=d.Gd.z_;a[m.W.VG]=d.Gd.oha;a[m.W.tB]=d.Gd.pha;a[m.W.oP]=d.Gd.qha;a[m.W.pP]=d.Gd.rha;a[m.W.A_]=d.Gd.sha;a[m.W.cOa]="avc1.640016";a[m.W.yP]="avc1.64001E";a[m.W.zP]="avc1.64001F";a[m.W.AP]="avc1.640028";a[m.W.Rma]=d.Gd.WH;a[m.W.XH]=d.Gd.WH;a[m.W.YH]=d.Gd.WH;a[m.W.ZH]=d.Gd.WH;a[m.W.Mma]=d.Gd.VH;a[m.W.Nma]=d.Gd.VH;a[m.W.Oma]=d.Gd.VH;a[m.W.Pma]=d.Gd.VH;a[m.W.Qma]=d.Gd.VH;a[m.W.jga]=d.Gd.ji;a[m.W.kga]=d.Gd.ji;a[m.W.lga]=d.Gd.ji;a[m.W.mga]=d.Gd.ji;a[m.W.nga]=d.Gd.ji;a[m.W.oga]=d.Gd.ji;a[m.W.pga]=d.Gd.ji;a[m.W.qga]=d.Gd.ji;return a;};b.prototype.Uwa=function(){return this.config().HG;};b.prototype.uE=function(){return Promise.resolve(void 0);};b.prototype.kL=function(){return Promise.resolve(void 0);};b.prototype.hK=function(a){var d;d=[];this.is.Nd(a)&&d.push(this.$za(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:d,isHdcpEngaged:!!d.length}];};c.am=b;b.BG="video/mp4;codecs={0};";},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(31);b.Psa=function(a){var c;c={};c[f.vd.PH]=b.xB;c[f.vd.CP]=b.xB;c[f.vd.vQ]=b.dH;c[f.vd.Mr]=b.Mr;c[f.vd.Jr]=a||b.Jr;c[f.vd.kB]=b.xB;c[f.vd.bv]=b.WH;c[f.vd.ji]=b.ji;return c;};c.Gd=b;b.xB="avc1.640028";b.dH="hev1.1.6.L93.B0";b.z_="dvhe.05.01";b.oha="dvhe.05.04";b.pha="dvhe.05.05";b.qha="dvhe.05.06";b.rha="dvhe.05.07";b.sha="dvhe.05.09";b.Jr=b.z_;b.Mr=b.dH;b.XO="mp4a.40.2";b.UDb="ec-3";b.iKb="vp9";b.WH="vp09.00.11.08.02";b.VH="vp09.02.31.10.01";b.ji="av01.0.04M.08";b.UKa=[b.sha,b.rha,b.qha,b.pha,b.oha,b.z_];},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.UB="TimeoutMonitorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.oma="SystemRandomSymbol";c.kQ="RandomGeneratorSymbol";},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b){a.call(this);this.ha=b;}b(f,a);f.create=function(a){return new f(a);};f.Jb=function(a){a.Wf.complete();};f.prototype.ng=function(a){var d;d=this.ha;if(d)return d.zb(f.Jb,0,{Wf:a});a.complete();};return f;}(a(10).Aa);c.bH=g;},function(g,c,a){var b,f,m,q;b=a(119);f=a(470);m=a(469);q=a(466);c.concat=function(){for(var a=[],k=0;k<arguments.length;k++)a[k-0]=arguments[k];return 1===a.length||2===a.length&&b.Iz(a[1])?m.from(a[0]):q.WJ()(f.of.apply(void 0,a));};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(68);c.xPa=g.xPa;g=a(10);c.Aa=g.Aa;g=a(179);c.Hj=g.Hj;g=a(478);c.lQ=g.lQ;g=a(476);c.$ga=g.$ga;g=a(1064);c.yma=g.yma;a(1060);a(1056);a(1050);a(1048);a(1045);a(1041);a(1038);a(1034);a(1031);a(1029);a(1027);a(1025);a(1022);a(1018);a(1015);a(1014);a(1011);a(1007);a(1004);a(1003);a(1001);a(999);a(996);a(994);a(993);a(991);a(988);a(985);a(982);a(979);a(978);g=a(258);c.$Ra=g.$Ra;a=a(68);c.cl=a.cl;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.hn=function(){};c.G1="StringObjectReaderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.xH="MediaKeysStorageFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.bn||(c.bn={});g[g.uA=0]="playready";g[g.UZ=1]="widevine";g[g.lz=2]="fairplay";g[g.TLb=3]="clearkey";c.$Ma="DrmTypeSymbol";},function(g,c,a){var f,m,q;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(142);m=a(46);q=a(2);b.L8=function(a){if(a){if(a.includes(c.YG.uA))return f.bn.uA;if(a.includes("fps"))return f.bn.lz;if(a.includes(c.YG.UZ))return f.bn.UZ;}throw new m.qc(q.I.hNa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.iwa=function(a){switch(a){case f.bn.uA:return c.YG.uA;case f.bn.lz:return c.YG.lz;default:return c.YG.UZ;}};c.lb=b;b.fq="com.microsoft.playready";b.ud="com.microsoft.playready.hardware";b.MH="com.microsoft.playready.software";b.vIb="com.chromecast.playready";b.wIb="org.chromium.external.playready";b.kFb="com.apple.fps.2_0";b.RWa="com.widevine.alpha";b.xIb="com.microsoft.playready.recommendation";b.yIb="com.microsoft.playready.recommendation.3000";b.zIb="com.microsoft.playready.recommendation.2000";c.YG={lz:"fairplay",UZ:"widevine",uA:"playready"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.LH="PlatformConfigDefaultsSymbol";},function(g,c,a){var k;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function f(a,d){return null===a.fu?!1:a.fu.Xe===d?!0:f(a.fu,d);}function m(a){function d(a,f){void 0===f&&(f=[]);f.push(b(a.Xe));return null!==a.fu?d(a.fu,f):f;}return d(a).reverse().join(" --\x3e ");}function q(a){a.x5.forEach(function(a){if(f(a,a.Xe))throw a=m(a),Error(k.xKa+" "+a);q(a);});}function d(a){var d;if(a.name)return a.name;a=a.toString();d=a.match(/^function\s*([^\s(]+)/);return d?d[1]:"Anonymous function: "+a;}Object.defineProperty(c,"__esModule",{value:!0});k=a(54);c.wE=b;c.tza=function(a,b,f){var k;k="";a=f(a,b);0!==a.length&&(k="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.Uj&&(b=d(a.Uj));k=k+"\n "+b;a.Zy.GAa&&(k=k+" - "+a.Zy.GAa);}));return k;};c.J5a=q;c.blb=function(a,d){var b,f;if(d.K$()||d.G$()){b="";f=d.Xfb();d=d.Ceb();null!==f&&(b+=f.toString()+"\n");null!==d&&d.forEach(function(a){b+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+b;}return" "+a;};c.getFunctionName=d;},function(g,c){var b;function a(){}Object.defineProperty(c,"__esModule",{value:!0});b=/^\S+$/;a.prototype.ez=function(a){return void 0!==a;};a.prototype.Nd=function(a){return null!==a&&void 0!==a;};a.prototype.My=function(b){return a.tqa(b);};a.prototype.c4=function(b){return!(!b||!a.tqa(b));};a.prototype.Ks=function(a){return Array.isArray(a);};a.prototype.uqa=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Jg=function(b,c,q){return a.Qpa(b,c,q);};a.prototype.b4=function(b){return a.b4(b);};a.prototype.x4=function(b,c,q){return a.BS(b,c,q)&&0===b%1;};a.prototype.wq=function(b,c,q){return a.BS(b,c||0,q);};a.prototype.cJ=function(b){return a.BS(b,1);};a.prototype.u1a=function(b){return a.BS(b,0,255);};a.prototype.v1a=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.vqa=function(a){return!(!a||!b.test(a));};a.prototype.mm=function(b){return a.Rpa(b);};a.prototype.ml=function(b){return!(!a.Rpa(b)||!b);};a.prototype.bJ=function(a){return!0===a||!1===a;};a.prototype.tS=function(a){return"function"==typeof a;};a.Rpa=function(a){return"string"==typeof a;};a.Qpa=function(a,b,c){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===c||a<=c);};a.b4=function(a){return"number"==typeof a&&isNaN(a);};a.BS=function(b,c,q){return a.Qpa(b,c,q)&&0===b%1;};a.tqa=function(a){return"object"==typeof a;};c.Ru=new a();},function(g){var c;c=function(){return this;}();try{c=c||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof K&&(c=K);}g.P=c;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(0);g.__exportStar(a(552),c);g.__exportStar(a(551),c);},function(g,c,a){var m,q,d,k,p,t,u,y,B,x,h,G,P,S,l,U;function b(a){b=x.Le;l=a.appendBuffer?"appendBuffer":"append";c.RP=!k.config.Q3a&&!!a.remove;U=!!a.addEventListener;}function f(a,f,c,g,B){var x,h;x=this;this.j=a;this.type=f;this.ina=g;this.log=B;this.pR=new p.Rc(!1);this.ry={data:[],state:"",operation:""};this.cF=this.Lua((this.type===m.Mc.Fa.VIDEO?this.j.Yf.value:this.j.Uc.value).bc);this.Ij=new t.lk();this.Z2={Type:this.type};k.config.Jw&&(h=!0,this.b8=new p.Rc(!1));this.log.trace("Adding source buffer",this.Z2,{TypeId:this.cF});this.Ec=c.addSourceBuffer(this.cF);b(this.Ec);U&&(this.Ec.addEventListener("updatestart",function(){x.ry.state="updatestart";}),this.Ec.addEventListener("update",function(){x.ry.state="update";}),this.Ec.addEventListener("updateend",function(){x.pR.set(!1);x.nna&&x.nna();x.ry.state="updateend";h&&x.Ec.buffered.length&&(h=!1,x.b8.set(!0));}),this.Ec.addEventListener("error",function(b){var f;try{f=b.target.error&&b.target.error.message;(b.message||f)&&B.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(na){}b=u.$.get(d.bl);a.Md(b(y.I.NSa,q.O8(x.type)));}),this.Ec.addEventListener("abort",function(){}));a.addEventListener(G.S.closed,function(){x.Ec=void 0;});}Object.defineProperty(c,"__esModule",{value:!0});m=a(58);q=a(229);d=a(59);k=a(12);p=a(187);t=a(72);u=a(5);a(86);y=a(2);a(4);B=a(18);x=a(20);h=a(16);G=a(15);P=a(116);S=a(152);f.prototype.Rj=function(){return this.pR.value;};f.prototype.updating=function(){return this.Ec?this.Ec.updating:!1;};f.prototype.sFa=function(a){this.nna=a;};f.prototype.J8=function(){return this.ry;};f.prototype.buffered=function(){return this.Ec.buffered;};f.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};f.prototype.toJSON=function(){return{type:this.type};};f.prototype.MU=function(){var a,d,b,f,k,c,p;try{a=this.Ec.buffered;k=0;if(a)for(d=[],b=0,f=a.length,b=0;b<f;b++){c=a.start(b);p=a.end(b);k=k+(p-c);B.Ma(p>c);d.push(c+"-"+p);}if(d)return{Buffered:k.toFixed(3),Ranges:d.join("|")};}catch(ja){}};f.prototype.Aqa=function(a,d){B.Ma(this.Ec.buffered&&1>=this.Ec.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.MU()));B.Ma(!this.Rj());this.NFa("append",a);d=d&&d.Rm/1E3;h.ka(d)&&this.Ec.timestampOffset!==d&&(this.Ec.timestampOffset=d);this.Ec[l](a);U&&this.pR.set(!0);};f.prototype.remove=function(a,d){B.Ma(!this.Rj());try{c.RP&&(this.NFa("remove"),this.Ec.remove(a,d),U&&this.pR.set(!0));}catch(O){this.log.error("SourceBuffer remove exception",O,this.Z2);}};f.prototype.NFa=function(a,d){this.ry.data=d||[];this.ry.state="init";this.ry.operation=a;};f.prototype.wwb=function(a,d){this.Ukb=Math.floor(1E3*a/d);};f.prototype.t5a=function(a){var d;if(this.Ec){if(a=this.Lua([{type:this.D6a,wf:a}]),a!==this.cF){d=this.cF;this.log.info("Changing SourceBuffer mime-type from: "+this.cF+" to: "+a);try{if(this.Ec.changeType)this.Ec.changeType(a),this.cF=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(O){throw this.log.error("Error changing SourceBuffer type",O,this.Z2,{From:d,To:a}),O;}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(a,d){!d||d.Vb?this.B4(a,d):this.CS(a,d);return!0;};f.prototype.B4=function(a,d){this.j.Gi.B4(this,a,d||{});};f.prototype.CS=function(a,d){this.j.Gi.CS(this.w6a(a,d));};f.prototype.w6a=function(a,d){var b;b=this.Ukb||0;return{Ura:function(){this.response=void 0;},hj:function(){return this.requestId;},constructor:{name:"MediaRequest"},M:this.M,readyState:S.Kb.cc.DONE,ou:d.U,GF:d.U+d.duration,mt:d.duration,Rm:b,Ai:d.Ai,ib:d.ib,oa:d.oa,Db:+d.Db,location:d.location,JJ:d.offset,IJ:d.offset+d.aa-1,R:d.R,response:a,Bxa:a&&0<a.byteLength,Hz:!0,get Vb(){return!this.Hz;},aFa:this.Wi-b||Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.ib,isHeader:this.Vb,ptsStart:this.ou,ptsOffset:this.Rm,responseType:this.QKb,duration:this.mt,readystate:this.Lf};this.stream&&(a.bitrate=this.stream.R);return JSON.stringify(a);}};};f.prototype.endOfStream=function(){};f.prototype.addEventListener=function(a,d,b){this.Ij.addListener(a,d,b);};f.prototype.removeEventListener=function(a,d){this.Ij.removeListener(a,d);};f.prototype.Lua=function(a){var d;d=u.$.get(P.SB);return this.type===m.Mc.Fa.VIDEO?d.jK(a):d.dK(a);};pa.Object.defineProperties(f.prototype,{M:{configurable:!0,enumerable:!0,get:function(){return this.type;}},QS:{configurable:!0,enumerable:!0,get:function(){return this.ina.QS;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.ina.sourceId;}},D6a:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});c.Vja=f;},function(g,c,a){var b,f,m,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(11);m=a(298);g=a(2);q=a(297);d=a(295);k=a(5);a=a(23);c.storage=c.storage||void 0;c.gp=c.gp||void 0;k.$.get(a.rf).register(g.I.Qia,function(a){var k;switch(b.config.Pxb){case"idb":k=q.Lxb;break;case"none":k=m.Nxb;break;case"ls":k=d.Mxb;}k(function(d){d.Z?(c.storage=d.storage,c.gp=d.gp,a(f.kd)):a(d);});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.fQ="PboPublisherSymbol";},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.Kb=a;a.Hd={oka:"mr1",nka:"mr2",pka:"mr3",FH:"mr4",WRa:"mr5",ay:"mr6"};a.cc={UNSENT:0,OPENED:1,$u:2,dy:3,DONE:5,Nu:6,NG:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.GIb={gga:0,gy:1,gka:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.Ku={NO_ERROR:-1,eMa:0,mha:1,qMa:2,iMa:3,EKa:4,Qga:5,n_:6,FKa:7,GKa:8,HKa:9,BKa:10,DKa:11,Pga:12,CKa:13,AKa:14,pOa:15,yia:16,xia:17,u0:18,KP:19,v0:20,w0:21,rOa:22,LP:23,zia:24,qOa:25,lMa:26,fMa:27,ZUa:28,WLa:29,XLa:30,YLa:31,ZLa:32,$La:33,aMa:34,bMa:35,cMa:36,dMa:37,gMa:38,hMa:39,jMa:40,kMa:41,mMa:42,nMa:43,oMa:44,pMa:45,rMa:46,sMa:47,YUa:48,TIMEOUT:49,s0:50,uia:51,oOa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.wc={QF:{gga:!0,gy:!1,gka:!0}};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.RMa=function(){this.AUDIO=0;this.VIDEO=1;this.lOa=2;this.yf=function(){};};c.Gha="DownloadTrackConstructorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.dla="PboPlaydataServicesSymbol";c.eQ="PboPlaydataServicesProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.Tj=function(){return this.buffer.length-this.position;};a.prototype.se=function(){return this.buffer[this.position++];};a.prototype.Dd=function(a){var b;b=this.position;this.position+=a;return this.mkb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.mkb=function(a){return void 0!==a.subarray;};a.prototype.oc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.ir=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.bda=function(){for(var a="",f;f=this.se();)a+=String.fromCharCode(f);return a;};a.prototype.Gb=function(){return this.oc(2);};a.prototype.Ka=function(){return this.oc(4);};a.prototype.hg=function(){return this.oc(8);};a.prototype.dY=function(){return this.oc(2)/256;};a.prototype.iN=function(){return this.oc(4)/65536;};a.prototype.nf=function(a){for(var b,c="";a--;)b=this.se(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;};a.prototype.ex=function(){return this.nf(4)+"-"+this.nf(2)+"-"+this.nf(2)+"-"+this.nf(2)+"-"+this.nf(6);};a.prototype.jN=function(a){for(var b=0,c=0;c<a;c++)b+=this.se()<<(c<<3);return b;};a.prototype.AA=function(){return this.jN(4);};a.prototype.VO=function(a){this.buffer[this.position++]=a;};a.prototype.WZ=function(a,f){this.position+=f;for(var b=1;b<=f;b++)this.buffer[this.position-b]=a&255,a=Math.floor(a/256);};a.prototype.UO=function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];};a.prototype.iB=function(a,f){this.UO(a.Dd(f));};a.prototype.wIa=function(b){b=new a(b);for(var f,c;;)if(f=b.Tj(),c=f>>>14)c=Math.min(4,c),this.VO(192|c),this.iB(b,16384*c);else{128>f?this.VO(f):this.WZ(f|32768,2);this.iB(b,f);break;}};a.prototype.CDa=function(){var c;for(var b=[],f=new a(b);;){c=this.se();if(c&128)if(128==(c&192))c&=63,c=(c<<8)+this.se(),f.iB(this,c);else if(c&=63,0<c&&4>=c){f.iB(this,16384*c);continue;}else throw Error("bad asn1");else f.iB(this,c);break;}return new Uint8Array(b);};return a;}();c.WG=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.sH="LicenseProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.hQ="PlaygraphConfigSymbol";},function(g,c,a){var f,m;function b(a){switch(a){case f.G.kH:return"http";case f.G.mH:return"connectiontimeout";case f.G.Qx:return"readtimeout";case f.G.t0:return"corruptcontent";case f.G.Ou:return"abort";case f.G.nH:case f.G.x0:return"unknown";}}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);m=a(9);c.Mwa=b;c.Rwa=function(a,d){a={errorcode:a+(d.errorCode||f.I.qk)};d.ba&&(a.errorsubcode=d.ba);d.Pd&&(a.errorextcode=d.Pd);d.B7&&(a.erroredgecode=d.B7);d.kb&&(a.errordetails=d.kb);d.Ci&&(a.httperr=d.Ci);d.fX&&(a.aseneterr=d.fX);d.eU&&(a.errordata=d.eU);d.iM&&(a.mediaerrormessage=d.iM);(d=b(Number(d.ba)))&&(a.nwerr=d);return a;};c.Ywa=function(){return{screensize:m.Rr.width+"x"+m.Rr.height,screenavailsize:m.Rr.availWidth+"x"+m.Rr.availHeight,clientsize:K.innerWidth+"x"+K.innerHeight};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(c.wha||(c.wha={})).gTa="PboDebugEvent";c.B_={SQa:"Manifest",Event:"Event",nGb:"Logblob"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g.P=function(a){return{minInitVideoBitrate:a.ar,minHCInitVideoBitrate:a.mba,maxInitVideoBitrate:a.Wt,minInitAudioBitrate:a.qM,maxInitAudioBitrate:a.cM,minHCInitAudioBitrate:a.pM,minAcceptableVideoBitrate:a.TW,minRequiredBuffer:a.rM,minPrebufSize:a.mj,rebufferingFactor:a.fda,useMaxPrebufSize:a.Ufa,maxPrebufSize:a.Ow,maxRebufSize:a.Xaa,maxBufferingTime:a.fo,minAudioMediaRequestSizeBytes:a.UW,minVideoMediaRequestSizeBytes:a.$W,initialBitrateSelectionCurve:a.LV,initSelectionLowerBound:a.hya,initSelectionUpperBound:a.iya,throughputPercentForAudio:a.pZ,bandwidthMargin:a.S4,bandwidthMarginContinuous:a.T4,bandwidthMarginCurve:a.U4,conservBandwidthMargin:a.T5,switchConfigBasedOnInSessionTput:a.jfa,conservBandwidthMarginTputThreshold:a.XJ,conservBandwidthMarginCurve:a.U5,switchAlgoBasedOnHistIQR:a.CGa,switchConfigBasedOnThroughputHistory:a.sx,maxPlayerStateToSwitchConfig:a.Waa,lowEndMarkingCriteria:a.yaa,IQRThreshold:a.C0,histIQRCalcToUse:a.d$,maxTotalBufferLevelPerSession:a.Yt,highWatermarkLevel:a.Rxa,toStableThreshold:a.eHa,toUnstableThreshold:a.uZ,skipBitrateInUpswitch:a.Oea,watermarkLevelForSkipStart:a.aga,highStreamRetentionWindow:a.W9,lowStreamTransitionWindow:a.zaa,highStreamRetentionWindowUp:a.Y9,lowStreamTransitionWindowUp:a.Baa,highStreamRetentionWindowDown:a.X9,lowStreamTransitionWindowDown:a.Aaa,highStreamInfeasibleBitrateFactor:a.V9,lowestBufForUpswitch:a.St,lockPeriodAfterDownswitch:a.xW,lowWatermarkLevel:a.Daa,lowestWaterMarkLevel:a.Tt,lowestWaterMarkLevelBufferRelaxed:a.Eaa,mediaRate:a.hba,maxTrailingBufferLen:a.MW,audioBufferTargetAvailableSize:a.rJ,videoBufferTargetAvailableSize:a.LO,maxVideoTrailingBufferSize:a.uAa,maxAudioTrailingBufferSize:a.fAa,fastUpswitchFactor:a.kU,fastDownswitchFactor:a.P7,maxMediaBufferAllowed:a.dM,maxMediaBufferAllowedInBytes:a.Zq,simulatePartialBlocks:a.Lea,simulateBufferFull:a.UFa,considerConnectTime:a.V5,connectTimeMultiplier:a.S5,lowGradeModeEnterThreshold:a.Nza,lowGradeModeExitThreshold:a.Oza,maxDomainFailureWaitDuration:a.hAa,maxAttemptsOnFailure:a.eAa,exhaustAllLocationsForFailure:a.Hua,maxNetworkErrorsDuringBuffering:a.nAa,maxBufferingTimeAllowedWithNetworkError:a.Raa,fastDomainSelectionBwThreshold:a.Qua,throughputProbingEnterThreshold:a.OGa,throughputProbingExitThreshold:a.PGa,locationProbingTimeout:a.zza,finalLocationSelectionBwThreshold:a.Uua,throughputHighConfidenceLevel:a.MGa,throughputLowConfidenceLevel:a.NGa,locationStatisticsUpdateInterval:a.naa,enablePerfBasedLocationSwitch:a.oua,probeServerWhenError:a.Hp,probeRequestTimeoutMilliseconds:a.Nca,allowSwitchback:a.Js,probeDetailDenominator:a.xA,maxDelayToReportFailure:a.HW,countGapInBuffer:a.Csa,bufferThresholdForAbort:a.pra,allowCallToStreamSelector:a.pqa,pipelineScheduleTimeoutMs:a.oca,maxPartialBuffersAtBufferingStart:a.Xt,minPendingBufferLen:a.nba,maxPendingBufferLen:a.Nw,maxPendingBufferLenSABCell100:a.JW,maxActiveRequestsSABCell100:a.FW,maxStreamingSkew:a.Yaa,maxPendingBufferPercentage:a.Vaa,maxRequestsInBuffer:a.Yz,headerRequestSize:a.wV,minBufferLenForHeaderDownloading:a.VW,reserveForSkipbackBufferMs:a.rY,numExtraFragmentsAllowed:a.Qba,pipelineEnabled:a.jo,maxParallelConnections:a.ZE,socketReceiveBufferSize:a.ZFa,audioSocketReceiveBufferSize:a.KS,videoSocketReceiveBufferSize:a.JG,headersSocketReceiveBufferSize:a.T9,updatePtsIntervalMs:a.FZ,bufferTraceDenominator:a.b5,bufferLevelNotifyIntervalMs:a.kD,aseReportDenominator:a.oJ,aseReportIntervalMs:a.G4,enableAbortTesting:a.jua,abortRequestFrequency:a.Spa,streamingStatusIntervalMs:a.afa,prebufferTimeLimit:a.BF,minBufferLevelForTrackSwitch:a.WW,penaltyFactorForLongConnectTime:a.jca,longConnectTimeThreshold:a.waa,additionalBufferingLongConnectTime:a.p4,additionalBufferingPerFailure:a.q4,rebufferCheckDuration:a.lN,enableLookaheadHints:a.nua,lookaheadFragments:a.Jza,enableOCSideChannel:a.iz,OCSCBufferQuantizationConfig:a.$P,updateDrmRequestOnNetworkFailure:a.KHa,deferAseScheduling:a.uta,maxDiffAudioVideoEndPtsMs:a.gAa,useHeaderCache:a.EG,useHeaderCacheData:a.$T,defaultHeaderCacheSize:a.CT,defaultHeaderCacheDataPrefetchMs:a.I6,headerCacheMaxPendingData:a.P9,neverWipeHeaderCache:a.Aba,headerCachePriorityLimit:a.Q9,enableUsingHeaderCount:a.GK,networkFailureResetWaitMs:a.yba,networkFailureAbandonMs:a.xba,maxThrottledNetworkFailures:a.LW,throttledNetworkFailureThresholdMs:a.oZ,lowThroughputThreshold:a.Caa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.H7,mp4ParsingInNative:a.VAa,sourceBufferInOrderAppend:a.$Fa,requireAudioStreamToEncompassVideo:a.mr,allowAudioToStreamPastVideo:a.oqa,enableManagerDebugTraces:a.Nf,managerDebugMessageInterval:a.Yza,managerDebugMessageCount:a.Xza,bufferThresholdToSwitchToSingleConnMs:a.a5,bufferThresholdToSwitchToParallelConnMs:a.Z4,netIntrStoreWindow:a.mob,minNetIntrDuration:a.Mnb,fastHistoricBandwidthExpirationTime:a.qcb,bandwidthExpirationTime:a.T3a,failureExpirationTime:a.ocb,historyTimeOfDayGranularity:a.vib,expandDownloadTime:a.gcb,minimumMeasurementTime:a.Vnb,minimumMeasurementBytes:a.Unb,throughputMeasurementTimeout:a.Jyb,initThroughputMeasureDataSize:a.jjb,throughputMeasureWindow:a.Iyb,throughputIQRMeasureWindow:a.Hyb,IQRBucketizerWindow:a.wPa,connectTimeHalflife:a.t6a,responseTimeHalflife:a.Aub,historicBandwidthUpdateInterval:a.uib,throughputWarmupTime:a.Myb,minimumBufferToStopProbing:a.Tnb,throughputPredictor:a.Kyb,ase_stream_selector:a.V2a,enableFilters:a.Pab,filterDefinitionOverrides:a.Fcb,defaultFilter:a.b$a,secondaryFilter:a.cvb,defaultFilterDefinitions:a.c$a,initBitrateSelectorAlgorithm:a.x$,bufferingSelectorAlgorithm:a.d5,ase_ls_failure_simulation:a.y6,ase_dump_fragments:a.w6,ase_location_history:a.x6,ase_throughput:a.z6,ase_simulate_verbose:a.eta,secondThroughputEstimator:a.Rda,secondThroughputMeasureWindowInMs:a.WEa,marginPredictor:a.Oaa,networkMeasurementGranularity:a.zba,HistoricalTDigestConfig:a.Aia,maxIQRSamples:a.kAa,minIQRSamples:a.LAa,periodicHistoryPersistMs:a.GX,saveVideoBitrateMs:a.yY,needMinimumNetworkConfidence:a.wM,biasTowardHistoricalThroughput:a.X4,maxFastPlayBufferInMs:a.Taa,maxFastPlayBitThreshold:a.Saa,headerCacheTruncateHeaderAfterParsing:a.Mxa,minAudioMediaRequestDuration:a.dF,minVideoMediaRequestDuration:a.iF,minAudioMediaRequestDurationCache:a.dF,minVideoMediaRequestDurationCache:a.iF,addHeaderDataToNetworkMonitor:a.wS,useMediaCache:a.zx,mediaCachePartitionConfig:a.cba,diskCacheSizeLimit:a.aw,mediaCachePrefetchMs:a.PW,hindsightDenominator:a.c$,hindsightDebugDenominator:a.b$,hindsightParam:a.zV,minimumTimeBeforeBranchDecision:a.aX,enableSessionHistoryReport:a.FK,earlyStageEstimatePeriod:a.m7,lateStageEstimatePeriod:a.jza,maxNumSessionHistoryStored:a.IW,minSessionHistoryDuration:a.ZW,appendMediaRequestOnComplete:a.Bqa,waitForDrmToAppendMedia:a.QO,forceAppendHeadersAfterDrm:a.j8,startMonitorOnLoadStart:a.Vea,reportFailedRequestsToNetworkMonitor:a.pda,reappendRequestsOnSkip:a.kN,maxActiveRequestsPerSession:a.Xq,limitAudioDiscountByMaxAudioBitrate:a.kaa,appendFirstHeaderOnComplete:a.A4,maxAudioFragmentOverlapMs:0,editAudioFragments:a.WT,editVideoFragments:a.pt,declareBufferingCompleteAtSegmentEnd:a.B6,applyProfileTimestampOffset:a.Ny,applyProfileStreamingOffset:a.Xo,requireDownloadDataAtBuffering:a.wda,requireSetupConnectionDuringBuffering:a.xda,recordFirstFragmentOnSubBranchCreate:a.gda,earlyAppendSingleChildBranch:a.VT,selectStartingVMAFMethod:a.VF,activateSelectStartingVMAF:a.fJ,minStartingVideoVMAF:a.hF,alwaysNotifyEOSForPlaygraph:a.w4,enableNewAse:a.s7,useNewApi:a.JZ};};},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(13);f=a(3);m=a(755);q=f.uB;g=function(){function a(){this.Sp=[];this.console=new f.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(a,{xe:{get:function(){void 0===a.sC&&(a.sC=new a());return a.sC;},enumerable:!0,configurable:!0}});a.prototype.AD=function(a,d,b,f,c,q){var k,p,t;p=q.Jwb?this.Ocb(b,d,a):-1;if(-1===p){k={track:this.G8a(b,f,a,c,q),Fp:b,u:d,yDa:a,KF:[],ep:!1,Cta:!1};this.Sp.push(k);t=function(){k.ep=!0;k.track.removeListener("created",t);};k.track.on("created",t);k.track.Sb&&k.track.Sb();}else k=this.Sp[p];a=new m.LUa(k.track,k.ep);k.KF.push(a);return a;};a.prototype.Q6=function(a){var d,b;a.yl();d=this.pU(function(d){return d.track===a.track;});if(-1!==d)if(d=this.Sp[d],1===d.KF.length)d.track.yl(),d.Cta=!0;else{b=d.KF.indexOf(a);0<=b&&d.KF.splice(b,1);}else a.track.yl();};a.prototype.yf=function(){a.$ma.yf();};a.prototype.G8a=function(d,f,c,m,g){var k,p;k=this;d?1===c?(d=!1,f=1,g.jo?(d=!0,f=g.ZE):g.Xq&&2<g.Xq&&(d=!0,f=g.Xq),g={type:q.VIDEO,openRange:!d,pipeline:d,connections:f,socketBufferSize:g.JG,minRequestSize:g.gF}):0===c?(d=g.jo&&f&&g.KAb,g={type:q.AUDIO,openRange:!d,pipeline:d,connections:1,socketBufferSize:g.KS,minRequestSize:g.gF}):g={type:q.lOa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:g.T9,minRequestSize:g.gF}:g={type:0===c?b.Fa.AUDIO:b.Fa.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===c?g.KS:g.JG,minRequestSize:g.gF};p=new a.$ma(g,m);p.on("transportreport",function(a){var d;d=k.pU(function(a){return a.track===p;});-1!==d&&(d=k.Sp[d],d.KF.length&&d.KF[0].emit("transportreport",a));});p.on("destroyed",function(){var a;a=k.pU(function(a){return a.track===p;});-1!==a&&k.Sp.splice(a,1);p.removeAllListeners();});return p;};a.prototype.Ocb=function(a,d,b){return this.pU(function(f){return!f.Cta&&(a?f.Fp&&f.u===d&&f.yDa===b:!f.Fp&&f.yDa===b);});};a.prototype.pU=function(a){for(var d=0;d<this.Sp.length;++d)if(a(this.Sp[d]))return d;return-1;};a.$ma=q;return a;}();c.Yp=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.rqa=function(a,b){var f,c,q;f=b.profile;b=b.u;c=a.Zub;q=a.$ub;return a.Yub||Array.isArray(c)&&-1!==c.indexOf(f)||"object"===typeof q&&Array.isArray(q[f])&&-1!==q[f].indexOf(""+b);};c.Iwa=function(a,b){return void 0!==a.eF?a.eF:b&&void 0!==b.eF?b.eF:100;};},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(7);m=a(13);q=a(3);g=function(a){function d(d,b,k,c,m){k=a.call(this,k)||this;k.s4=!1;k.oEa=d;k.Tc=c;k.poa=d.location||b.location;k.VI=d.ac||b.Db;k.mea=d.mea||b.mea;k.FRb=q.time.fa();f.assert(m);k.L=m;return k;}b.__extends(d,a);Object.defineProperties(d.prototype,{console:{get:function(){return this.L;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.poa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Db:{get:function(){return this.VI;},enumerable:!0,configurable:!0}});d.prototype.Sb=function(a){this.eb=a;};d.prototype.PY=function(a,d){this.poa=a;this.VI=d;};d.prototype.KR=function(a){var d,b,f;d={type:"logdata",target:"endplay",fields:{}};b=this.M===m.Fa.AUDIO?"audioedit":"videoedit";f=[this.nw===this.U?this.uf:this.Ad,this.nw===this.U?-this.duration:this.duration];a&&a.pr&&f.push(a.pr);d.fields[b]={type:"array",value:f};return d;};d.prototype.yR=function(a){this.Tc.kN&&(this.zva=!0,this.eua=a);};d.prototype.HZ=function(){var a,d;if(this.complete)return 0;a=this.oEa;d=a.O;return a.url?this.url===a.url||(d.PY(this,a.location,a.ac),this.eO(a.url))?0:(this.L.warn("swapUrl failed: ",this.gE),2):(this.L.warn("updateurl, missing url for streamId:",a.oa,"mediaRequest:",this,"stream:",a),1);};return d;}(a(84).Gr);c.oB=g;},function(g,c,a){function b(a,b){this.WC=a;this.Mh=Math.floor((a+b-1)/b);this.Dc=b;this.reset();}a(7);b.prototype.shift=function(){this.Jc.shift();this.tq.shift();};b.prototype.tF=function(a){return this.zra(this.Jc[a],a);};b.prototype.update=function(a,b){this.Jc[a]=(this.Jc[a]||0)+b;};b.prototype.push=function(){this.Jc.push(0);this.tq.push(0);this.La+=this.Dc;};b.prototype.add=function(a,b,c){var d,f,p;if(null===this.La)for(d=Math.max(Math.floor((c-b+this.Dc-1)/this.Dc),1),this.La=b;this.Jc.length<d;)this.push();for(;this.La<=c;)this.push(),this.Jc.length>this.Mh&&this.shift();if(null===this.gl||b<this.gl)this.gl=b;if(b>this.La-this.Dc)this.update(this.Jc.length-1,a);else if(b==c)d=this.Jc.length-Math.max(Math.ceil((this.La-c)/this.Dc),1),0<=d&&this.update(d,a);else for(d=1;d<=this.Jc.length;++d){f=this.La-d*this.Dc;p=f+this.Dc;if(!(f>c)){if(p<b)break;this.update(this.Jc.length-d,Math.round(a*(Math.min(p,c)-Math.max(f,b))/(c-b)));}}for(;this.Jc.length>this.Mh;)this.shift();};b.prototype.start=function(a){null===this.gl&&(this.gl=a);null===this.La&&(this.La=a);};b.prototype.stop=function(a){var b,f;if(null!==this.La)if(a-this.La>10*this.WC)this.reset();else{for(;this.La<=a;)this.push(),this.Jc.length>this.Mh&&this.shift();b=this.Jc.length-Math.ceil((this.La-this.gl)/this.Dc);0>b&&(this.gl=this.La-this.Dc*this.Jc.length,b=0);f=this.Jc.length-Math.ceil((this.La-a)/this.Dc);if(b===f)this.tq[b]+=a-this.gl;else if(f>b)for(this.tq[b]+=(this.La-this.gl)%this.Dc,this.tq[f]+=this.Dc-(this.La-a)%this.Dc,a=b+1;a<f;++a)this.tq[a]=this.Dc;this.gl=null;}};b.prototype.zra=function(a,b){b=this.y8(b);return 0===b?null:8*a/b;};b.prototype.y8=function(a){var b;b=this.tq[a];null!==this.gl&&(a=this.La-(this.Jc.length-a-1)*this.Dc,a>this.gl&&(b=a-this.gl<=this.Dc?b+(a-this.gl):this.Dc));return b;};b.prototype.get=function(a,b){var f,d;f=this.Jc.map(this.zra,this);if("last"===a)for(a=0;a<f.length;++a)null===f[a]&&(f[a]=0<a?f[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Dc));for(a=0;a<f.length;++a)null===f[a]?f[a]=Math.floor(d||0):d=void 0!==d?b*f[a]+(1-b)*d:f[a];}return f;};b.prototype.reset=function(){this.goa||(this.Jc=[],this.tq=[],this.gl=this.La=null);};b.prototype.setInterval=function(a){this.Mh=Math.floor((a+this.Dc-1)/this.Dc);};g.P=b;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(217);f=a(7);g=function(){function a(a){this.config=a;this.reset();}a.xe=function(){f.assert(void 0!==a.sC);return a.sC;};a.s6a=function(b){a.sC=new a(b);};a.SLb=function(){a.sC=void 0;};a.prototype.push=function(a){this.hi&&this.hi.push(a);};a.prototype.gb=function(){if(this.hi)return this.hi.dt(),this.hi.mh([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;});};a.prototype.reset=function(){this.config.pua&&this.config.G0&&(this.hi=new b.QJb(this.config.G0.c,this.config.G0.maxc));};return a;}();c.Fu=g;},function(g,c,a){var b,f,m,q,d,k,p,t,u,y;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(27);f=a(6);m=g.Mx;q=a(3);d=q.Ej;k=a(165);p=a(112);t=a(14);g=a(43);u=a(163);y=a(170);a=function(a){function c(b,f,k,c,p,t,q){f=a.call(this,f,k)||this;u.oB.call(f,b,c,p,t,q);y.Ex.call(f,b,c);f.aI=b.url||c.url;f.$H=c.responseType;f.Zma=c.TY;void 0===f.$H&&(f.$H=d.wc&&!d.wc.QF.gy?0:1);f.Hg=new m();f.Hg.on(f,d.Hd.oka,f.HI);f.Hg.on(f,d.Hd.nka,f.n3);f.Hg.on(f,d.Hd.pka,f.o3);f.Hg.on(f,d.Hd.FH,f.GI);f.Hg.on(f,d.Hd.ay,f.FC);f.WB=!1;f.Sc=!1;f.eg=!1;f.pq=!1;f.pI=!1;f.Qk=0;return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{active:{get:function(){return this.Sc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{TDa:{get:function(){return this.eg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return!this.WB&&5===this.readyState;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uq:{get:function(){return this.WB;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{H$:{get:function(){return this.pq&&!this.pI;},enumerable:!0,configurable:!0}});c.prototype.Sb=function(a){u.oB.prototype.Sb.call(this,a);this.Rb||!this.Tc.wS&&this.Vb||(this.Rb=p.xe(),this.active&&(this.Rb.DA(q.time.fa(),{requestId:this.hm(),Zd:this.Db,type:this.M}),this.eg&&(this.Rb.uda(q.time.fa()),this.connect&&0<this.oo.length&&this.Rb.Is(this.oo[0]))));};c.prototype.Fz=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};c.prototype.aD=function(a){this.xi=a.appendBuffer(this.response,t.Jl(this));return{Z:this.xi};};c.prototype.rya=function(){return this.uq;};c.prototype.dr=function(){(this.pq=d.prototype.open.call(this,this.aI,{start:this.offset,end:this.offset+this.aa-1},this.$H,{},void 0,void 0,this.Zma))&&this.UK(this);return this.pq;};c.prototype.abort=function(){var a;if(this.uq)return!0;a=this.Sc;this.Rb&&a&&this.Rb.FA(q.time.fa(),this.eg,{requestId:this.hm(),Zd:this.Db,type:this.M});this.WB=!0;this.eg=this.Sc=!1;d.prototype.abort.call(this);this.yU(this,a,this.H$);return!0;};c.prototype.ec=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.L.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Hg&&this.Hg.clear();d.prototype.ec.call(this);};c.prototype.HI=function(){var a;a=this.Nc||this.Ue;k.Fu.xe().push(q.time.fa()-a);this.Sc||(this.Sc=!0,this.Hm=this.track.Hm(),this.stream.K.cAa||this.Rb&&this.Rb.DA(a,{requestId:this.hm(),Zd:this.Db,type:this.M}),this.qz(this),this.Rk=this.Nc);};c.prototype.n3=function(){var a,d,b;a=this.Nc||this.X7;d=this.connect;b=this.oo;k.Fu.xe().push(q.time.fa()-a);this.Sc||(this.Sc=!0);this.eg||(this.eg=!0,this.stream.K.cAa&&this.Rb&&this.Rb.DA(a,{requestId:this.hm(),Zd:this.Db,type:this.M}),this.Rb&&this.Rb.uda(),d&&0<b.length&&this.Rb&&this.Rb.Is(b[0]),this.pz(this),this.Rk=a);};c.prototype.o3=function(){var a,d,b;a=this;d=this.Nc;b=this.ve-this.Qk;k.Fu.xe().push(q.time.fa()-d);this.eg||(this.eg=!0);this.Rb&&(void 0===this.Rk||this.Rb.Fv(b,this.Rk,d,{requestId:this.hm(),Zd:this.Db,type:this.M}),this.oo&&this.oo.length&&this.oo.forEach(function(d){a.Rb.Hs(d);}));this.lE(this);this.Rk=d;this.Qk=this.ve;};c.prototype.GI=function(){var a,d,b;a=this;d=this.Nc;b=this.ve-this.Qk;k.Fu.xe().push(q.time.fa()-d);this.Rb&&(0<b&&this.Rb.Fv(b,this.Rk,d,{requestId:this.hm(),Zd:this.Db,type:this.M}),this.oo&&this.oo.length&&this.oo.forEach(function(d){a.Rb.Hs(d);}),this.Rb.FA(d,this.eg,{requestId:this.hm(),Zd:this.Db,type:this.M}));this.eg=this.Sc=!1;this.pI=!0;this.Kq(this);this.Rk=d;this.Qk=this.ve;this.ec();};c.prototype.hm=function(){var a,d;a=(a=this.stream)?a.toString():this.url;d=this.SS;d&&(a+=",range "+d.start+"-"+d.end);return a;};c.prototype.FC=function(){var a,d,b,c;this.L.warn("AseMediaRequest._onError:",this.toString());a=this.Nc;d=this.status;b=this.Uh;c=this.Yj;k.Fu.xe().push(q.time.fa()-a);this.complete?this.L.warn("Error on a done request "+this.toString()+", failurecode: "+b):this.uq?this.L.warn("Error on an aborted request "+this.toString()+", failurecode: "+b):f.ka(b)?(this.Rb&&this.Tc&&this.Tc.pda&&this.Ue&&void 0===d&&this.Rb.Fv(this.Qk?this.ve-this.Qk:this.ve,this.Rk?this.Rk:this.Ue,a,{requestId:this.hm(),Zd:this.Db,type:this.M}),this.zU(this)):this.L.warn("ignoring undefined request error (nativecode: "+c+")");};return c;}(d);c.nB=a;g.Pi(u.oB,a,!1);g.Pi(y.Ex,a,!1);},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(25);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(d){d=a.prototype.parse.call(this,d);this.J.offset+=8;this.u5a=this.J.vg();this.Oub=this.J.vg();this.J.offset+=4;this.OEa=this.J.vg();this.J.offset+=2;f.jc&&this.J.console.trace("MP4AudioSampleEntry: channelcount: "+this.u5a+", samplesize: "+this.Oub+", samplerate: "+this.OEa);return d;};c.Yb=!1;return c;}(a(223)["default"]);c["default"]=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);f=a(14);g=function(){function a(a){this.L=new b.Console("ASEJS","media|asejs","("+a+")");this.f3=[];}a.prototype.Dl=function(a){this.f3[a]||(this.f3[a]=f.Tz(b,this.L,"["+a+"]"));return this.f3[a];};return a;}();c.Yk=new g(0);},function(g,c,a){var m;function b(a,d){return void 0===a||void 0===d?void 0:a+d;}function f(a,d){return void 0===a||void 0===d?void 0:a-d;}Object.defineProperty(c,"__esModule",{value:!0});m=a(28);g=function(){function a(){}Object.defineProperties(a.prototype,{Qn:{get:function(){return f(this.xb,this.fb)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{VM:{get:function(){return b(this.fb,this.Kp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NX:{get:function(){return b(this.xb,this.Kp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{j7:{get:function(){return this.TC(this.Qn);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ZJ:{get:function(){return this.TC(this.fb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{YJ:{get:function(){return this.TC(this.xb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yF:{get:function(){return this.TC(this.VM);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tca:{get:function(){return this.TC(this.NX);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zsb:{get:function(){return this.TC(this.Kp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return f(this.ga,this.U)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Cv(this.VM);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Cv(this.NX);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rm:{get:function(){return this.Cv(this.Kp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ai:{get:function(){return this.Cv(this.fb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ad:{get:function(){return this.Cv(this.fb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uf:{get:function(){return this.Cv(this.xb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mc:{get:function(){return this.Cv(this.VM);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{re:{get:function(){return this.Cv(this.NX);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mt:{get:function(){return this.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ou:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{GF:{get:function(){return this.ga;},enumerable:!0,configurable:!0}});a.prototype.TC=function(a){return void 0===a?void 0:0===a?m.Xa.Ze:new m.Xa(a,this.ea);};a.prototype.Cv=function(a){return a&&Math.floor(m.Xa.cHa(a,this.ea));};return a;}();c.bP=g;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(7);g=function(){function a(a,b){this.xd=a;this.Ub=b.aa;this.Jd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.xd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Ub;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Jd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.xd.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.xd.u;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.xd.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{oa:{get:function(){return this.xd.oa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.xd.R;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.xd.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ea:{get:function(){return this.xd.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kF:{get:function(){return this.xd.kF;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.xd.Ra;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.u,streamId:this.oa,offset:this.offset,bytes:this.aa};};return a;}();c.Ex=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gq={OB:"PRIMARY",hga:"ASSISTIVE",Oga:"COMMENTARY"};c.L1={assistive:c.gq.hga,closedcaptions:c.gq.hga,directorscommentary:c.gq.Oga,commentary:c.gq.Oga,subtitles:c.gq.OB,primary:c.gq.OB};},function(g){g.P=function(c){return null!=c&&"object"===typeof c&&!0===c["@@functional/placeholder"];};},function(g,c,a){var b,f,m;b=a(114);f=a(51);m=a(172);g.P=function(a){return function k(c,t,q){switch(arguments.length){case 0:return k;case 1:return m(c)?k:f(function(b,f){return a(c,b,f);});case 2:return m(c)&&m(t)?k:m(c)?f(function(b,f){return a(b,t,f);}):m(t)?f(function(b,f){return a(c,b,f);}):b(function(b){return a(c,t,b);});default:return m(c)&&m(t)&&m(q)?k:m(c)&&m(t)?f(function(b,f){return a(b,f,q);}):m(c)&&m(q)?f(function(b,f){return a(b,t,f);}):m(t)&&m(q)?f(function(b,f){return a(c,b,f);}):m(c)?b(function(b){return a(b,t,q);}):m(t)?b(function(b){return a(c,b,q);}):m(q)?b(function(b){return a(c,t,b);}):a(c,t,q);}};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cia="IDBDatabaseFactorySymbol";c.bja="IndexedDBFactorySymbol";c.D0="IndexedDBStorageFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.LRa="NativeLocalStorageSymbol";c.hka="NativeLocalStorageFactorySymbol";c.Dia="IDBFactorySymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);c.lEb=function(){this.sJ=[];this.HG=[];this.L4=b.Fx.Kx;this.QZ=b.sk.Kx;};c.rP="DeviceCapabilitiesConfigSymbol";},function(g,c,a){g=a(255);a=a(254);c.async=new a.e_(g.d_);},function(g,c,a){function b(a){var b,d;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),f=0;f<b.length;++f){d=b[f];if("entries"!==d&&"size"!==d&&a.prototype[d]===a.prototype.entries)return d;}return"@@iterator";}g=a(78);c.yRb=b;c.iterator=b(g.root);c.NBb=c.iterator;},function(g,c,a){var b,f,m,q,d,k,p,t;b=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};f=a(10);g=a(49);m=a(68);q=a(480);d=a(479);k=a(257);p=function(a){function d(d){a.call(this,d);this.destination=d;}b(d,a);return d;}(g.Si);c.LVa=p;a=function(a){function c(){a.call(this);this.bu=[];this.qL=this.Bf=this.closed=!1;this.sfa=null;}b(c,a);c.prototype[k.JA]=function(){return new p(this);};c.prototype.sg=function(a){var d;d=new t(this,this);d.kA=a;return d;};c.prototype.next=function(a){if(this.closed)throw new q.MB();if(!this.Bf)for(var d=this.bu,b=d.length,d=d.slice(),f=0;f<b;f++)d[f].next(a);};c.prototype.error=function(a){if(this.closed)throw new q.MB();this.qL=!0;this.sfa=a;this.Bf=!0;for(var d=this.bu,b=d.length,d=d.slice(),f=0;f<b;f++)d[f].error(a);this.bu.length=0;};c.prototype.complete=function(){if(this.closed)throw new q.MB();this.Bf=!0;for(var a=this.bu,d=a.length,a=a.slice(),b=0;b<d;b++)a[b].complete();this.bu.length=0;};c.prototype.unsubscribe=function(){this.closed=this.Bf=!0;this.bu=null;};c.prototype.T3=function(d){if(this.closed)throw new q.MB();return a.prototype.T3.call(this,d);};c.prototype.ng=function(a){if(this.closed)throw new q.MB();if(this.qL)return a.error(this.sfa),m.cl.EMPTY;if(this.Bf)return a.complete(),m.cl.EMPTY;this.bu.push(a);return new d.mma(this,a);};c.prototype.F4=function(){var a;a=new f.Aa();a.source=this;return a;};c.create=function(a,d){return new t(a,d);};return c;}(f.Aa);c.Hj=a;t=function(a){function d(d,b){a.call(this);this.destination=d;this.source=b;}b(d,a);d.prototype.next=function(a){var d;d=this.destination;d&&d.next&&d.next(a);};d.prototype.error=function(a){var d;d=this.destination;d&&d.error&&this.destination.error(a);};d.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};d.prototype.ng=function(a){return this.source?this.source.subscribe(a):m.cl.EMPTY;};return d;}(a);c.xCb=t;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qla="ReportSyncSymbol";c.Pla="ReportApiErrorSyncSymbol";c.oia="FtlProbeConfigSymbol";c.pia="FtlProbeSymbol";},function(g){g.P={Ir:{J1:0,Tla:1,Ri:2,name:["transient","semiTransient","permanent"]},Er:{hia:0,Rla:1,nQ:2,HH:3,Tr:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},hKb:{SJb:0,yGb:1,FDb:2,Tr:100,name:["trailer","montage","content"]},bq:{mja:0,Lla:1,wWa:2,tMa:3,Tr:100,name:["left","right","up","down"]},qH:{NKa:0,nQ:1,qFb:2,KEb:3,ICb:4,pFb:5,IJa:6,Tr:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},DB:{HH:0,iha:1,Tr:100,name:["playFocused","detailsOpened"]}};},function(g,c,a){c=a(247);g.P="undefined"!==typeof c&&"undefined"!==typeof nrdp?nrdp.fa:Date.now;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.iQ="PlaygraphHelperSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ola=function(a,b){var f;this.Bea=function(){f||(f=setInterval(b,a));};this.E5=function(){f&&(clearInterval(f),f=void 0);};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.ri||(c.ri={});g[g.bGa=1]="sourceopen";g[g.Nn=2]="currentTimeChanged";g[g.AN=3]="seeked";g[g.KPb=4]="needlicense";g[g.qza=5]="licenseadded";g[g.aGa=6]="sourceBuffersAdded";g[g.Uba=7]="onNeedKey";},function(g,c,a){var b,f,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);f=a(19);m=a(16);(function(){var d,k,p;function a(a){b.Ma(void 0!==d[a]);return d[a];}d={'"':'""',"\r":"","\n":" "};k=/["\r\n]/g;p=/[", ]/;c.k9a=function(d){return m.gc(d)?m.ka(d)?d:m.ce(d)?d.replace(k,a):m.wya(d)?d:isNaN(d)?"NaN":"":"";};c.Tza=function(a){var d,b;d=c.k9a;b="";f.ad(a,function(a,f){a=d(a)+"="+d(f);p.test(a)&&(a='"'+a+'"');b=b?b+(","+a):a;});return b;};}());},function(g,c,a){var f,m,q;function b(a,b){this.kq=b?[b]:[];this.M2="$op$"+q++;this.o=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(11);m=a(18);q=0;b.prototype.addListener=function(a,b){var d;d=this;m.bta(a);m.Ma(0>this.kq.indexOf(a));a[f.b1+this.M2]=b;this.kq=this.kq.slice();this.kq.push(a);this.kq.sort(function(a,b){return d.lxb(a,b);});};b.prototype.removeListener=function(a){var d;m.bta(a);this.kq=this.kq.slice();0<=(d=this.kq.indexOf(a))&&this.kq.splice(d,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Yv:b};this.o=a;a=this.kq;for(var d=a.length,f=0;f<d;f++)a[f](b);}};b.prototype.when=function(a){var d;d=this;return new Promise(function(b){function f(c){if(a(c.newValue))return d.removeListener(f),b(c.newValue);}if(a(d.o))return b(d.o);d.addListener(f);});};b.prototype.lxb=function(a,b){return(a[f.b1+this.M2]||0)-(b[f.b1+this.M2]||0);};pa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});c.Rc=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.k1="PboBindCommandSymbol";},function(g,c,a){var m,q,d,k,p,t,u,y,B,x,h,G,P,S,l,U,C;function b(a){var d;d=this;this.j=a;this.Yqa=this.rza=!1;this.log=k.Rg(this.j,"Playback");this.uW=k.$.get(G.sH);this.pj=k.$.get(l.by);this.Ac=k.$.get(U.VB);this.Aqb=k.$.get(C.k1);this.j.addEventListener(S.S.VL,function(){return d.yAb();});p.Ma(q.config);q.config.Wp||(this.nab=k.$.get(t.Hha));}function f(a,d){var f;function b(a){return a&&0<a.length&&a[0].Iw;}f=k.$.get(G.sH);return a.ia&&b(a.ic)?f.release(Object.assign(Object.assign({},d),{ia:a.ia,ic:a.ic})):d.ia&&b(d.ic)?f.release(d):Promise.resolve(m.kd);}Object.defineProperty(c,"__esModule",{value:!0});m=a(11);q=a(12);d=a(30);k=a(5);p=a(18);t=a(487);u=a(2);y=a(63);B=a(44);x=a(50);h=a(16);G=a(156);P=a(154);S=a(15);l=a(95);U=a(107);C=a(188);b.prototype.wJ=function(a){var c,k,t;function b(){c.j.fFa().then(f)["catch"](a);}function f(d){try{c.j.lDa(d);a(m.kd);c.Xcb();}catch(M){c.log.error("Exception processing authorization response",M);a({Z:!1,ba:u.G.ZSa});}}c=this;p.nK(this.j.u);p.nK(this.j.xh);k=this.j.sa;if(k){t=k.expiration;t?(t-=d.H5(),18E5<t?x.Jb(function(){f(k);c.j.Rv="ui";}):(this.log.error("manifest is expired",{gap:t}),b())):x.Jb(function(){f(k);c.j.Rv="ui";});}else q.config.mo&&this.Ac()?(t=this.Ac().lp(this.j.u,"manifest"))&&t.then(function(a){f(a);c.j.Rv="videopreparer";})["catch"](function(a){c.log.warn("manifest not in cache",a);b();}):b();};b.prototype.fL=function(a){var d;d=this;return new Promise(function(b,f){var c,p,t;c=y.gd.Asa(a.$h);p=a.Ph.map(function(a){return{sessionId:a.sessionId,dataBase64:k.Os(a.data)};});t=d.j.ogb(a.Ph[0].sessionId);c={fg:t.fg,$h:h.is.ml(a.$h)?a.$h:c,TT:[t.Ek],Ph:p,ia:t.ia,hp:a.hp,Rf:t.sa.Rf};d.j.aK&&d.j.aK.kT&&(c.hM=d.j.aK.kT);d.uW.Jy(c).then(function(a){d.j.ic=a.ic;b(a);d.Ycb(t);})["catch"](f);});};b.prototype.release=function(a){return f(this.j,a);};b.prototype.Esa=function(){var a;a=this.nab.create();this.j.xf&&(a.Rd=this.j.xf.qE());a.ic=this.j.ic;a.ia=this.j.ia;a.u=this.j.u;return a;};b.prototype.Ycb=function(a){this.rza||(this.rza=!0,this.j.fireEvent(S.S.VL,{u:a.u}));};b.prototype.Xcb=function(){var a;a=this;this.Yqa||(this.Yqa=!0,this.j.fireEvent(S.S.F3a),k.$.get(P.eQ)().then(function(d){d.txb(a.j);}));};b.prototype.yAb=function(){var a;a=this;this.pj.KE||b.VHa||(b.VHa=!0,B.JRa&&q.config.xAb&&this.Aqb.yf(this.log,{}).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(d){return a.log.error("NetflixId upgrade failed",u.Ho(d));}));};c.nLa=b;b.VHa=!1;c.Htb=f;},function(g,c,a){var q,d,k,p,t,u,y,B,x,h,G,P,S,l,U,C,n;function b(a,b){var G;function c(d){return q.Htb(a,d);}function p(){var a,d,b;d=u.qg("Eme");a=new t.bh.Ju(d,void 0,c,{jh:!1,IL:!1});b=u.$.get(B.SB);return t.bh.Lu(d,"cenc",void 0,{jh:!1,IL:!1,Mya:k.config.gi,$Ea:{FAa:k.config.hvb,Nra:k.config.Tda,PRb:k.config.gvb},fx:a,pDa:k.config.Sca,DG:k.config.DG,hB:k.config.p7,qQb:k.config.ivb,Sqa:b.dK([]),hIa:b.jK([]),FE:k.config.FE});}function g(a,d){var b,f;f=u.$.get(n.t1)(0,d.movieId,void 0,{},d.xid,U.Cb(C.Lg()),!1,void 0,function(){return null;});k.config.gi&&(G.info("secure stop is enabled"),b=a.Z?{success:a.Z,persisted:!0,ss_km:a.EAa,ss_sr:a.JN,ss_ka:a.nsa}:{success:a.Z,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Pc,ErrorExternalCode:a.Qg,ErrorEdgeCode:a.XD,ErrorDetails:a.cause&&a.cause.kb},b.browserua=h.pk,d=u.$.get(S.mk),a=u.$.get(l.Jo).wm("securestop",a.Z?"info":"error",b,f),d.xc(a));}function x(){function a(a,d){var b;if(!d.ic||0===d.ic.length||!d.ic[0].Iw)return G.error("releaseDrmSession exception: missing valid keySessionData"),f(a,d);if(0<d.ic.length){G.info("Sending the deferred playdata and secure stop data");b=p();return b.create(k.config.Rd).then(function(){return b.JMb(d);}).then(function(b){G.info("Sent the deferred playdata and secure stop data");g(b,d);return f(a,d);})["catch"](function(b){b&&b.code===y.I.RUa&&f(a,d);b&&b.code===y.I.QUa&&f(a,d);G.error("Unable to send last stop",b);g(b,d);throw b;});}G.info("No key session so just send the playdata");return c(d).then(function(){G.trace("Successfully sent stop command for previous session");return f(a,d);})["catch"](function(a){G.error("Unable to send stop command for previous session",a);throw a;});}m(G).then(function(f){var c;c=f.UT.filter(function(a){return!1===a.active;}).map(function(d){return a(f,d);});Promise.all(c).then(function(){G.info("release drm session completed for "+c.length+" entries");b(d.kd);})["catch"](function(a){a=a||{};a.DrmCacheSize=c.length;G.error("Unable to release one or more DRM session data",a);b(d.kd);});})["catch"](function(a){G.error("Unable to load DRM session data",a);b(d.kd);});}G=u.qg("PlayDataManager");b=b||d.Le;k.config.Wp?b(d.kd):x();}function f(a,d){return a?a.nda(d):Promise.resolve();}function m(a){var d;if(!c.Yta){d=u.$.get(x.o_);c.Yta=new Promise(function(b,f){d.FDa().then(function(){b(d);})["catch"](function(d){a.error("Unable to load DRM data for persistent secure stop",d);f(d);});});}return c.Yta;}Object.defineProperty(c,"__esModule",{value:!0});q=a(189);d=a(11);k=a(12);p=a(55);t=a(44);u=a(5);y=a(2);B=a(116);x=a(259);h=a(9);G=a(154);P=a(15);S=a(42);l=a(61);U=a(4);C=a(30);n=a(193);g=a(23);c.DTa=function(a){var g,B,x,y,h;function c(){B||(a.Xc("pdsb"),B=u.$.get(G.eQ)().then(function(d){y=d;a.Xc("pdsc");return d;})["catch"](function(d){g.error("Unable to initialize the playdata services",d);a.Xc("pdse");throw d;}));return B;}function q(){x=!0;y&&y.close();p.Ge.removeListener(p.Fl,q);}g=u.Rg(a,"PlayDataManager");x=!1;if(!t.bh.Lu||!t.bh.Ju){h={};t.bh.Lu=h.Eb;t.bh.Ju=h.request;}a.Xc("pdctor");a.addEventListener(P.S.df,function(){p.Ge.removeListener(p.Fl,q);});a.addEventListener(P.S.VL,function(){var d;if(!k.config.Wp&&a.xf){d=a.$J.Esa();m(g).then(function(a){return a.Xpa(d);})["catch"](function(){g.error("Unable to load/add cached DRM data");});}});a.addEventListener(P.S.df,function(){var d;if(!x){a.qBb();d=[function(){return k.config.Wp||!a.xf?Promise.resolve():new Promise(function(d){var b;g.info("Sending the expedited playdata and secure stop data");b=a.$J.Esa();a.xf.lNb(b).then(function(d){g.info("Sent the expedited playdata and secure stop data");k.config.gi&&a.Qt.CY({success:d.Z,persisted:!1,ss_km:d.EAa,ss_sr:d.JN,ss_ka:d.nsa});return m(g);}).then(function(a){return f(a,b);}).then(function(){d();})["catch"](function(b){g.error("Unable to send the expedited playdata and secure stop data",b);k.config.gi&&a.Qt.CY({success:b.Z,state:b.state,ErrorCode:b.code,ErrorSubCode:b.Pc,ErrorExternalCode:b.Qg,ErrorEdgeCode:b.XD,ErrorDetails:b.cause&&b.cause.kb});d();});});}(),function(){return c().then(function(d){return d.mGa(a.ca);}).then(function(){g.info("Sent the playdata");})["catch"](function(a){g.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){u.$.get(S.mk).flush(!1)["catch"](function(){g.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(d).then(function(){a.nX();})["catch"](function(){a.nX();});}});p.Ge.addListener(p.Fl,q);return{Cvb:function(f){a.Xc("pdpb");k.config.HY||c().then(function(d){return d.send(a.u);}).then(function(){k.config.Wp?(a.Xc("pdpc"),f(d.kd)):b(a,function(){a.Xc("pdpc");f(d.kd);});})["catch"](function(){a.Xc("pdpe");f(d.kd);});}};};c.ETa=function(){new Promise(function(a){b({},function(d){a(d);});});};u.$.get(g.rf).register(y.I.Pu,function(a){a(d.kd);});},function(g,c,a){var b,f,m,q,d,k,p,t,u,y,B;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(12);m=a(55);q=a(30);d=a(2);k=a(18);p=a(5);t=a(19);u=a(9);y=a(150);B=a(16);g=a(23);p.$.get(g.rf).register(d.I.Ria,function(a){var h,S,l;function g(){var a;g=b.Le;a=setInterval(x,f.config.Mlb);m.Ge.addListener(m.Fl,function(d){d&&d.isPopStateEvent?h.trace("popstate event, Lock timers can stay"):(t.ad(S,function(a,d){localStorage.removeItem(d.ao);}),clearInterval(a));},b.LB);}function x(){var a;a=q.dT();t.ad(S,function(d,b){d=localStorage.getItem(b.ao);(d=JSON.parse(d))?d.updated=a:d={updated:a,sessionId:l,count:1};localStorage.setItem(b.ao,JSON.stringify(d));});}k.Ma(y.storage);h=p.qg("StorageLock");S={};l=Date.now()+"-"+Math.floor(1E6*Math.random());c.lG={Jy:function(a,c,k){var m,x,y,G,P,H,T,U,C,n;function p(a){localStorage.setItem(y,JSON.stringify(a));a={ao:y};S[y]=a;h.trace("Lock acquired",{Name:a.ao});g();c({Z:!0,yW:a});}k=void 0===k?!1:k;m=this;if(localStorage){x=q.dT();y="lock-"+a;G={updated:x,sessionId:l,count:1};try{if(y in localStorage){P=localStorage.getItem(y);H=0;T=JSON.parse(P);B.Dw(T.updated)&&(H=T.updated);U=u.vH(x-H)*b.nk;C=l===T.sessionId;if(U<f.config.Aza)if(C)T.count+=1,h.debug("Incremented lock count for existing playbackSession",{id:l,count:T.count}),T.updated=x,p(T);else if(k){n=f.config.Aza-U+b.nk;h.error("Waiting until current expiration to confirm whether lock is still active",{id:l,count:T.count,Epoch:x,LockEpoch:H,waitTimeoutMs:n});K.setTimeout(function(){return m.Jy(a,c,!1);},n);}else c({Z:!1});else h.error("Lock was expired or invalid, ignoring",{Epoch:x,LockEpoch:H}),p(G);}else p(G);}catch(Ea){h.error("Error acquiring Lock",{errorSubCode:d.G.Bh,errorDetails:t.Re(Ea)});c({Z:!0});}}else u.xza?h.error("Local storage access exception",{errorSubCode:d.G.eVa,errorDetails:t.Re(u.xza)}):h.error("No localstorage",{errorSubCode:d.G.fVa}),c({Z:!0});},release:function(a,d){var f,c;k.Ma(S[a.ao]==a);if(localStorage){try{f=localStorage.getItem(a.ao);c=JSON.parse(f);1<c.count?(--c.count,localStorage.setItem(a.ao,JSON.stringify(c)),h.trace("Lock count decremented",{Name:a.ao,count:c.count})):(localStorage.removeItem(a.ao),delete S[a.ao],h.trace("Lock released",{Name:a.ao}));}catch(ea){h.error("Unable to release Lock",{Name:a.ao},ea);}d&&d(b.kd);}}};f.config.cU?c.lG.Jy("session",function(d){c.lG.qFa=d;a(b.kd);}):a(b.kd);});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ki=function(){};c.m1="PboManifestCommandSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.t1="PlaybackSegmentDataFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.r1="PlayPredictionDeserializerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.sW=function(a,b,f){var c;if(f.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");c=f.get;f.get=function(){var m,d;m=c.apply(this,arguments);d={enumerable:f.enumerable,value:m};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,d):Object.defineProperty(this,b,d);return m;};};},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.Cja=a;a.VLa="display";a.IKa="console";a.DIb="remote";a.mKb="writer";},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(9);b.a6=function(a){var b;if(f.je.queryCommandSupported&&f.je.queryCommandSupported("copy")){b=f.je.createElement("textarea");b.textContent=a;b.style.position="fixed";f.je.body.appendChild(b);b.select();try{f.je.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.je.body.removeChild(b);}}};c.s_=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ela="PboPlaydataValidatorSymbol";c.bla="PboPlaydataArrayValidatorSymbol";c.cla="PboPlaydataCollectionValidatorSymbol";},function(g,c,a){var d,k,p,t,u,y;function b(a,d,b,f){this.Ja=a;this.mV=d;this.qa=b;this.profile=f;}function f(){}function m(){}function q(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);d=a(1);k=a(45);p=a(4);t=a(17);u=a(24);a=a(90);q.prototype.encode=function(a){return{downloadableId:a.Zc,duration:a.duration};};q.prototype.decode=function(a){return{Zc:a.downloadableId,duration:a.duration};};m.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new q().encode),video:a.video.map(new q().encode),text:a.text.map(new q().encode)};};m.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new q().decode),video:a.video.map(new q().decode),text:a.text.map(new q().decode)};};f.prototype.encode=function(a){return{type:a.type,href:a.href,xid:a.ia,movieId:a.u,position:a.position,clientTime:a.TJ,sessionStartTime:a.KN,mediaId:a.Zz,playTimes:new m().encode(a.RM),trackId:a.ab,sessionId:a.sessionId,appId:a.lJ,sessionParams:a.Vm,mdxControllerEsn:a.bba,profileId:a.profileId};};f.prototype.decode=function(a){return{type:a.type,href:a.href,ia:a.xid,u:a.movieId,position:a.position,TJ:a.clientTime,KN:a.sessionStartTime,Zz:a.mediaId,RM:new m().decode(a.playTimes),ab:a.trackId,sessionId:a.sessionId,lJ:a.appId,Vm:a.sessionParams,bba:a.mdxControllerEsn,profileId:a.profileId};};c.n1=f;b.prototype.create=function(a){return{href:a.sa&&a.sa.Rf?a.sa.Rf.b9("events").href:"",type:"online",ia:a.ia.toString(),u:a.u,position:a.t6||0,TJ:this.Ja.lea.da(p.ja),KN:a.GE?a.GE.da(p.ja):-1,Zz:this.zeb(a),RM:this.mgb(a),ab:void 0!==a.xh?a.xh.toString():"",sessionId:this.mV().sessionId||this.qa.id,lJ:this.mV().lJ||this.qa.id,Vm:a.Sa.Vm||{},profileId:this.profile};};b.prototype.J8a=function(a,d){return Object.assign({},this.create(a),{bba:d&&d.kT});};b.prototype.load=function(a){return new f().decode(a);};b.prototype.zeb=function(a){var d,b,f;d=a.Uc.value;b=a.Yf.value;f=a.zc.value;return d&&b&&f?(a=a.sa.media.find(function(a){return a.tracks.AUDIO===d.ab&&a.tracks.VIDEO===b.ab&&a.tracks.TEXT===f.ab;}))?a.id:"":"";};b.prototype.j9=function(a){return a.map(function(a){return{Zc:a.downloadableId,duration:a.duration};});};b.prototype.mgb=function(a){return(a=a.Pl)?(a=a.lgb(),{total:a.total,audio:this.j9(a.audio),video:this.j9(a.video),text:this.j9(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};y=b;y=g.__decorate([d.N(),g.__param(0,d.l(k.kk)),g.__param(1,d.l(t.sd)),g.__param(2,d.l(u.qf)),g.__param(3,d.l(a.OH))],y);c.uTa=y;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ZP="NetworkMonitorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.yja="LogMessageRulerConfigSymbol";c.zja="LogMessageRulerSymbol";},function(g,c,a){var b,f,m,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);f=a(2);m=a(352);q=a(351);d=a(50);c.zIa=function(a,c){var k,p;try{k=m.GBb(a);}catch(y){b.log.error("xml2xmlDoc exception",y);}d.Jb(function(){if(k&&k.documentElement)try{p=q.HBb(k);}catch(y){b.log.error("xmlDoc2js exception",y);}d.Jb(function(){p?c({Z:!0,object:p}):c({Z:!1,ba:f.G.iia});});});};},function(g,c,a){var b,f,m,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);f=a(20);m=a(11);q=a(125);d=a(9);k=a(16);p=a(19);c.Zpb=function(){var ca,V,ja,M,na,sa,N,ha,Ea,za,Fa,ya;function a(a){if(f.Kz(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return c.eqb[a];}}function g(a,b,f){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return d.Ko(b,f);}function y(a,d){var b,f;b=a.length;f=a[b-1];if("t"===f)return parseFloat(a)*d|0;if("s"===f)return"m"===a[b-2]?parseFloat(a)|0:parseFloat(a)*m.nk|0;if((a=a.match(Ea))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*m.nk|0;throw Error("dfxp-badtime");}function B(a,d,b,f,c){var k,p,t,m,g,q,u,B;if(a){p=a.style;b=p?b[p]:void 0;f=(p=a.region)?f[p]:void 0;p=c.length;for(t=0;t<p;t++)if(m=c[t],g=a[m],void 0===g&&b&&(g=b[m]),void 0===g&&f&&(g=f[m]),void 0!==g&&g!==d[m]){if(!k)for(k={},q=0;q<p;q++)u=c[q],B=d[u],void 0!==B&&(k[u]=B);k[m]=g;}}return k||d;}function x(a,d,b,c,k,p,t,m,g){var x,y;function u(a,h,G){var P,H,l,T,U,C;P=a[q.yj];H=P.style||h.style||"";l=P.region||h.region||"";H||l?(T=H+"/"+l,U=b[T]):U=d;if(!U){U=d;C=f.PN(c);f.cb(C,k[H]);U=S(U,C,t,m,g);b[H+"/"]=U;l&&(f.cb(C,p[l]),f.cb(C,k[H]),U=S(U,C,t,m,g),b[T]=U);}if(!G)a:{for(G=sa.length;G--;)if(void 0!==P[sa[G]]){G=!0;break a;}G=void 0;}G&&(P=B(P,h,k,p,N),U=S(U,P,t,m,g));h=(a=a[q.XZ])&&a.length;for(H=0;H<h;H++)l=a[H],f.jf(l)?za.test(l[q.YZ])?y++:u(l,P,G):(x.push({text:l,lineBreaks:y,style:U}),y=0);}x=[];y=0;u(a,c,!1);0<y&&x.push({text:"",lineBreaks:y,style:d});return x;}function h(a,d,b,f,c,k,p,t){var m,g;b&&(b=V[b]||"top",a.verticalAlignment!==b&&(a.verticalAlignment=b));f&&(b=ja[f]||"left",a.horizontalAlignment!==b&&(a.horizontalAlignment=b));c?((g=t[c])?(f=g.marginLeft,b=g.marginTop):(m=c.split(" "),f=C(m[0],p.x)||0,b=C(m[1],p.y)||0,g={ym:0,marginLeft:f,marginTop:b,r2a:f*d.L9+d.pL,t2a:b*d.Xfa+d.OZ},30>t.ym&&(t.ym++,t[c]=g)),a.marginLeft=g.r2a,a.marginTop=g.t2a):(b=f=0,(g=t["default"])||(t["default"]=g={ym:0}));k&&(c=g[k],c||(m=k.split(" "),c={s2a:(1-(f+(C(m[0],p.x)||0)))*d.L9+d.pL,q2a:(1-(b+(C(m[1],p.y)||0)))*d.Xfa+d.OZ},30>g.ym&&(g.ym++,g[k]=c)),a.marginRight=c.s2a,a.marginBottom=c.q2a);}function G(a,d,b,c,k){var p,t,m;p=a.displayAlign;t=a.textAlign;m=a.origin;a=a.extent;b=f.PN(b);h(b,d,p,t,m,a,c,k);b.id=ca++;return b;}function P(d,b,k,p){var t,m,q,u,B,x;t=g(k.characterSize||b.characterSize,c.fqb,2)||1;m=(m=d.fontSize)&&Fa.test(m)?f.Sr(f.de(m),25,200):void 0;t*=m/100||1;m=d.textOutline;if(m&&"none"!=m){u=m.split(" ");ya.test(u)?(x=0,B=d.color):(x=1,B=a(u[0]));q=U(u[x]);u=U(u[x+1]);}return{characterStyle:k.characterStyle||c.gqb[d.fontFamily]||b.characterStyle,characterSize:t*p,characterColor:a(k.characterColor||d.color||b.characterColor),characterOpacity:g(f.J5(k.characterOpacity,d.opacity,b.characterOpacity),c.dca,1),characterEdgeAttributes:k.characterEdgeAttributes||m&&("none"===m?c.cqb:u?c.cca:c.qCa)||b.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor||B||b.characterEdgeColor),characterEdgeWidth:q,characterEdgeBlur:u,characterItalic:"italic"===d.fontStyle,characterUnderline:"underline"===d.textDecoration,backgroundColor:a(k.backgroundColor||d.backgroundColor||b.backgroundColor),backgroundOpacity:g(f.J5(k.backgroundOpacity,d.opacity,b.backgroundOpacity),c.dca,1)};}function S(a,b,f,c,k){var t;b=P(b,f,c,k);p.ad(b,function(b,f){f!==a[b]&&(t||(t=d.GH(a)),t[b]=f);});return t||a;}function l(a,b,f,c,k,p,t,m){var g;g=a[q.yj];f=B(a[q.yj],b,f,k,ha);b=f.region;a=g.displayAlign;f=f.textAlign;k=g.origin;g=g.extent;b||a||f||k||g?((c=c[b])?c=d.GH(c):a||k||g?(c=d.GH(na),c.id=ca++):c=d.GH(M),h(c,p,a,f,k,g,t,m)):c=M;return c;}function U(a){a=f.de(a);return k.Dw(a,0,100)?a:0;}function C(a,d){var b;b=a[a.length-1];if("%"===b)return f.Sr(.01*parseFloat(a),0,1);if("c"===b)return f.Sr(f.de(a)/d,0,1);}function n(a){for(var b=a.length,f=a[--b].endTime;b--;)f=d.Ko(a[b].endTime,f);return f;}function O(d){p.ad(d,function(b,f){0<=b.toLowerCase().indexOf("color")&&(d[b]=a(f));});}function r(a,f){var c,k,p,t;c=a.pixelAspectRatio;t={pL:0,L9:1,OZ:0,Xfa:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(c=(c||"").split(" "),k=parseFloat(a[0])*(parseFloat(c[0])||1),p=parseFloat(a[1])*(parseFloat(c[1])||1));k=0<k&&0<p?k/p:1280/720;f=f||1280/720;c=k/f;.01<d.vH(f-k)&&(f>=k?(t.pL=(1-c)/2,t.L9=c):b.Ma(!1,"not implemented"));return t;}function ba(a){var d,b,k,p,t;if(d=a.cellResolution)if(d=d.split(" "),2<=d.length){b=f.de(d[0]);d=f.de(d[1]);if(0<b&&0<d)return{x:b,y:d};}d=a.extent;if(d&&(d=d.split(" "),2<=d.length)){b=f.de(d[0]);t=f.de(d[1]);if(a=a.pixelAspectRatio)d=a.split(" "),k=f.de(d[0]),p=f.de(d[1]);if(b&&t&&1.5<b*(k||1)/(t*(p||1)))return c.aqb;}return c.$pb;}ca=1;V={before:"top",center:"center",after:"bottom"};ja={left:"left",start:"left",center:"center",right:"right",end:"right"};M={id:ca++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};na={id:ca++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};sa="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");N=sa.concat(["style","region"]);ha=["region","textAlign","displayAlign","extent","origin"];Ea=/^([0-9]+):([0-9]+):([0-9.]+)$/;za=/^br$/i;Fa=/^[0-9]{1,3}%$/;ya=/^[0-9]/;return function(b,k,p,t,u){var T,U,C,R,M,ja,V,ea,ya,sa,za,Fa,Ea,ma,Za,A,F,lb,K,Xa,Q,W,Z,da,fc,fa,ga,ia,He,rc;function h(){try{for(var a;Z;)if(ya=Z[q.yj],da.push({id:ca++,startTime:y(ya.begin,C),endTime:y(ya.end,C),region:l(Z,fa,ja,ea,V,R,ma,lb),textNodes:x(Z,ga,ia,fc,ja,V,A,F,Za)}),Z=Z[q.MG],a=d.qP(),100<a-He){He=Date.now();rc=setTimeout(h,1);return;}}catch(of){S({ba:f.G.xP,kb:f.Re(of)});return;}rc=setTimeout(H,1);}function H(){var d,b,c,k,p,t,m;function a(a,c){for(var k,p=[],t={},m,g=b.length;g--;)k=b[g],m=k.region.id,t[m]||(t[m]=1,p.unshift(k));(k=d[d.length-1])&&k.endTime==a&&f.Vv(k.blocks,p)?k.endTime=c:d.push({id:ca++,startTime:a,endTime:c,blocks:p});}try{if(!da.length){S({Z:!0,entries:[]});return;}f.R2a(da);d=[];b=[];c=da[0];p=da[0].startTime;for(t=1;b.length||c;){for(;!b.length||c&&c.startTime==p;)b.push(c),p=c.startTime,c=da[t++];k=n(b);if(!c||k<=c.startTime)for(a(p,k),p=k,m=b.length;m--;)b[m].endTime<=p&&b.splice(m,1);else a(p,c.startTime),p=c.startTime,b.push(c),c=da[t++];}for(t=d.length;t--;)d[t].index=t,d[t].previous=d[t-1],d[t].next=d[t+1];}catch(pf){S({ba:f.G.xP,kb:f.Re(pf)});return;}S({Z:!0,entries:d});}function S(a){setTimeout(function(){T.abort=f.Le;u(a);},1);}T={abort:function(){rc&&clearTimeout(rc);}};try{U=b[q.yj];C=m.nk/(f.de(U.tickRate)||1);R=r(U,k);M=f.cb(na,{marginLeft:R.pL,marginTop:R.OZ,marginRight:R.pL,marginBottom:R.OZ});ja={};V={};ea={};Fa=b.head;Ea=b.body;ma=ba(U);Za=1/ma.y*R.Xfa;A=f.cb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:c.cca,characterEdgeColor:"#000000",characterSize:1},p,{du:!0});F=t||{};lb={ym:0};if(Fa){K=Fa.styling;if(K)for(za=K.style;za;)ya=za[q.yj],O(ya),ja[ya.id]=ya,za=za[q.MG];Xa=Fa.layout;if(Xa)for(var ob=Xa.region;ob;){ya=ob[q.yj];Q=ya.id;sa=f.PN(ja[ya.style]);sa=f.cb(sa,ya);for(za=ob.style;za;)f.cb(sa,za[q.yj]),za=za[q.MG];O(sa);V[Q]=sa;ea[Q]=G(sa,R,M,ma,lb);ob=ob[q.MG];}}W=Ea.div;Z=W.p;da=[];fc={};fc=B(Ea[q.yj],fc,ja,V,N);fc=B(W[q.yj],fc,ja,V,N);fa={};fa=B(Ea[q.yj],fa,ja,V,ha);fa=B(W[q.yj],fa,ja,V,ha);ga=P(fc,A,F,Za);f.cb(ga,{windowColor:a(F.windowColor||A.windowColor),windowOpacity:g(f.J5(F.windowOpacity,A.windowOpacity),c.dca,1),cellResolution:ma},{du:!0});ia={};W.p=void 0;W[q.XZ]=[];}catch(nf){S({ba:f.G.xP,kb:f.Re(nf)});return;}He=d.qP();rc=setTimeout(h,1);return T;};}();c.gqb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};c.fqb={SMALL:.5,MEDIUM:1,LARGE:2};c.dca={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};c.eqb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};c.cqb="NONE";c.dqb="RAISED";c.bqb="DEPRESED";c.qCa="UNIFORM";c.cca="DROP_SHADOW";c.$pb={x:40,y:19};c.aqb={x:52,y:19};},function(g,c,a){var q;function b(){}function f(a,b){this.Kn=a;void 0!==b?(q(b<=a.ro,"require remain_sec <= chunk.sec but has "+b+" and "+a.ro),this.Li=b):this.Li=a.ro;}function m(a){void 0===a&&(a=[]);this.ph=[];this.Xf=this.wj=0;for(var d in a)this.add(a[d],void 0);}q=a(7).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.Ln=function(){return new f(this.Kn,this.Li);};m.prototype.constructor=m;m.prototype.add=function(a,b){a=new f(a,b);this.ph.push(a);this.Xf+=a.Li;this.wj+=a.Kn.Ct()*a.Li;};m.prototype.Ln=function(){var a,b;a=new m(void 0);for(b in this.ph)a.add(this.ph[b].Kn,this.ph[b].Li);return a;};m.prototype.op=function(){try{return this.ph[0];}catch(d){}};m.prototype.LCa=function(a){var d;for(q(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.op())throw new b();if(a<this.op().Li){d=this.op().Kn.Ct()*a;this.op().Li-=a;this.Xf-=a;this.wj-=d;a=0;}else d=this.ph.shift(),this.Xf-=d.Li,this.wj-=d.Kn.Ct()*d.Li,a-=d.Li;}};m.prototype.frb=function(a){var f;q(0<=a,"unexpected play_y_kb: y="+a);for(var d=0;0<a;){if(void 0===this.op())throw new b();if(a<this.op().Li*this.op().Kn.Ct()){f=a/this.op().Kn.Ct();this.op().Li-=f;this.Xf-=f;this.wj-=a;d+=f;a=0;}else f=this.ph.shift(),this.Xf-=f.Li,this.wj-=f.Kn.Ct()*f.Li,d+=f.Li,a-=f.Kn.Ct()*f.Li;}return d;};g.P={Lga:m,mKa:b};},function(g){g.P={pxa:function(c){var a;if(c&&0!==c.length){a=[];c.forEach(function(b){var f;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(f=a);});f?f.tN.push(b.Tm):a.push({error:b.error,tN:[b.Tm]});});return a;}},Yva:function(c){var a;a={freeSize:c.ej,dailyBytesRemaining:c.GD,bytesWritten:c.yi,time:c.time,duration:c.duration};c.items&&(a.items=c.items.map(function(a){return{key:a.key,operation:a.kf,itemBytes:a.iW,error:a.error};}));return a;},fr:function(c){return c["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.P={Fja:{code:-1,description:"MediaCache is not supported."},FIb:{code:100,description:"Resource was not found"},wQa:{code:101,description:"Resource Metadata was not found"},QB:{code:102,description:"Read failed",$m:function(c,a){return{code:this.code,description:c,cause:a};}},AQ:{code:200,description:"Daily write limit exceeded"},rB:{code:201,description:"Capacity has been exceeded"},zQ:{code:202,description:"Write failed, cause unknown",$m:function(c,a){return{code:this.code,description:c,cause:a};}},nKb:{code:203,description:"Write failed, cause unknown"},OLa:{code:300,description:"Failed to delete resource",$m:function(c,a){return{code:this.code,description:c,cause:a};}},Qu:{code:900,description:"Invalid partition name"},sPa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},lha:{code:701,description:"Failed to initialize underlying disk cache."},vQa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(113).Fua;c.Zbb=function(a,b,c){var d,f,p;d=0;if(c){a.some(function(a){var c;c=a.b;a=a.m;if(b<=c)return d=p&&c!==f?p+(a-p)/(c-f)*(b-f):a,!0;f=c;d=p=a;return!1;});}else a.some(function(a){d=a.m;return b<=a.b;});return d;};c.vA=function(a,c,g){var d;c=(null===(d=c.Da)||void 0===d?void 0:d.Ca)||0;return a.W3a?(a=b(a.V3a,g.vl-g.Yc,1),c*(1-a)):c*a.pZ/100;};c.Cqa=function(a,b){return a<2*b?a/2:a-b;};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(752);f=a(751);c["default"]=function(a,c){switch(a.Oaa){case"manifold":return new b.ZQa(a,c);default:return new f.xVa(a,c);}};},function(g,c,a){var b;c=a(769);b=a(368);a=a(767);g.P={STARTING:a.bFa,BUFFERING:c.bea,REBUFFERING:c.bea,PLAYING:b.EY,PAUSED:b.EY};},function(g,c,a){var m,q,d,k;function b(a,d,b){q.call(this,a,d,b);}function f(a,d){q.call(this,a,d,void 0);}a(7);a(14);m=a(83);q=a(783).wRa;d=a(782);a(62);k=a(62).wna;a(62);b.prototype=Object.create(q.prototype);f.prototype=Object.create(b.prototype);f.prototype.JYa=function(a,b){return"string"===typeof b?d[b]:b?d.reset[a]||d.oxb[a]:d.oxb[a];};f.prototype.cEa=function(a,d,b,f){return this.Na(a,d,!1,b,f);};f.prototype.gEa=function(a,d,b,f){return this.Na(a,d,!0,b,f);};f.prototype.Na=function(a,d,b,f,c){var p,t,g,q,u,B,y,h,l,n,r,ca,V,ja;function k(a){t=p[a];g=t.Tp("traf");if(void 0===g||void 0===g.Qs)return!1;q=g.Tp("tfdt");if(void 0===q)return!1;u=g.Tp("trun");return void 0===u?!1:!0;}if(!this.parse())return!1;p=this.Lc.moof;if(!p||0===p.length)return!1;if(void 0!==a)for(B=a,a=0;a<p.length;++a){if(!k(a))return!1;if(u.ge>B||b&&u.ge===B)break;B-=u.ge;}else if(a=b?p.length-1:0,!k(a))return!1;if(b&&a<p.length-1){y=p[a+1];this.Tf.fk(this.qMb-y.startOffset,y.startOffset);}else!b&&0<a&&this.Tf.fk(t.startOffset,0);y=g.Tp("tfhd");if(void 0===y)return!1;q=g.Tp("tfdt");h=u.ge;l=g.Tp("saiz");n=g.Tp("saio");r=g.Tp(m.Bka);ca=g.Tp("sbgp");if(!(!l&&!n||l&&n))return!1;V=g.Tp("sdtp");if(this.Lc.mdat&&a<this.Lc.mdat.length)ja=this.Lc.mdat[a];else if(a!==p.length-1)return!1;void 0===B&&(B=b?u.ge:0);if(u.Na(g,y,ja||this.Tf,d,B,g.Qs,b))u.XT&&(!b&&q&&q.Na(u.gxb),l&&n&&(l.Na(u.cG,b),n.Na(r?0:l.Ida,g.Qs,b)),r&&r.Na(u.cG,b),V&&V.Na(u.cG,h,b),ca&&ca.Na(u.cG,b));else if(!b){if(a===p.length-1)return!1;this.Tf.fk(p[a+1].startOffset-t.startOffset,t.startOffset);}else if(0===u.cG)return!1;f&&(d=this.JYa(this.stream.profile,c))&&u.aub(g,y,ja,b,f,d);b=this.Tf.Na();f=b.reduce(function(a,d){return a+d.byteLength;},0);b={pg:b,length:f,mA:this.Tf.view.byteLength};u.XT&&!ja&&(b.LF=g.Qs+u.LF,b.pu=u.pu);return b;};g.P={TP:f,kmb:function(a){var d,b;d=new ArrayBuffer(8);b=new DataView(d);b.setUint32(0,a+8);b.setUint32(4,k("mdat"));return d;}};},function(g,c,a){var b,f,m,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(66);m=a(7);g=a(43);q=a(376);d=a(71);a=function(a){function c(b,f,c,k,p){c=a.call(this,b,f,c,k,p)||this;d.ki.call(c,b,f);c.Ub=0;c.Na||c.gk();c.xi=!1;return c;}b.__extends(c,a);Object.defineProperties(c.prototype,{Vb:{get:function(){return!1;},enumerable:!0,configurable:!0}});c.prototype.push=function(d){this.Ub+=d.aa;a.prototype.push.call(this,d);};c.prototype.Fz=function(){return!this.xi&&!!this.xa.length&&this.xa.every(function(a){return a.Fz();});};c.prototype.aD=function(a,d){m.assert(!this.xi);this.xi=this.xa.every(function(b){return b.Fz()?b.aD(a,d,void 0,void 0):!1;});return{Z:this.xi};};c.prototype.Itb=function(){this.xa.forEach(function(a){a.mN();});};c.prototype.hj=function(){return this.xa?this.xa[0].hj()+"-"+this.xa[this.xa.length-1].hj():"empty";};c.prototype.toString=function(){return d.ki.prototype.toString.call(this)+"(aggregate)";};c.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);f(d.ki.prototype.toJSON.call(this),b);return b;};return c;}(q.vga);c.mB=a;g.Pi(d.ki,a);},function(g,c,a){var b,f,m,q,d,k,p,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);g=a(43);f=a(211);m=a(71);q=a(166);d=a(13);k=a(66);p=a(3).Ej;t=a(784);a=a(781);u=function(a){var h4K;function c(d,b,f,c,k,t,g){var z4K,q,I4K,s4K,U4K;z4K=2;while(z4K!==6){I4K="e";I4K+="d";I4K+="i";I4K+="t";s4K="c";s4K+="a";s4K+="c";s4K+="he";U4K="1";U4K+="S";U4K+="IYbZrNJC";U4K+="p9";switch(z4K){case 3:void 0===f.responseType&&(f.responseType=f.Na||p.wc&&!p.wc.QF.gy?0:1);q=a.call(this,d,b,q,f,c,t,g)||this;m.ki.call(q,d,f);z4K=7;break;case 2:q=this;U4K;q=[s4K,I4K].filter(function(a,d){var b4K;b4K=2;while(b4K!==1){switch(b4K){case 4:return[k,f.Na][d];break;b4K=1;break;case 2:return[k,f.Na][d];break;}}});q=q.length?"("+q.join(",")+")":"";z4K=3;break;case 7:return q;break;}}}h4K=2;while(h4K!==3){switch(h4K){case 2:b.__extends(c,a);c.create=function(a,b,k,m,g,u,B){var M4K,x,y,h,H4K;M4K=2;while(M4K!==19){H4K="su";H4K+="br";H4K+="eque";H4K+="s";H4K+="t";switch(M4K){case 2:M4K=!b.Td&&m.Na&&a.M===d.Fa.VIDEO&&p.wc&&p.wc.QF.gy?1:5;break;case 5:M4K=m.Xz&&m.aa>m.Xz?4:20;break;case 6:M4K=0<y?14:10;break;case 1:return new t.pJa(a,k,m,g,u,b,B);break;case 11:g.push(new q.nB(a,k,H4K,h,g,b,B));M4K=6;break;case 20:return new c(a,k,m,g,u,b,B);break;case 10:return g;break;case 7:x=Math.ceil(m.aa/x);M4K=6;break;case 4:x=Math.ceil(m.aa/m.Xz);u=m.offset;y=m.aa;g=new f.mB(a,m,g,b,B);M4K=7;break;case 14:h={offset:u,aa:Math.min(y,x),responseType:m.responseType};u+=h.aa;y-=h.aa;M4K=11;break;}}};c.prototype.toString=function(){var B4K;B4K=2;while(B4K!==1){switch(B4K){case 2:return q.nB.prototype.toString.call(this)+":"+m.ki.prototype.toString.call(this);break;}}};h4K=4;break;case 4:return c;break;}}}(q.nB);c.a_=u;k(a["default"],u.prototype);g.Pi(m.ki,u,!1);},function(g,c,a){var d,k,p,t,u,y;function b(a){var d;d=a.G2;this.K=a;this.Fh=k.ie.HAVE_NOTHING;this.nC=a.nC;a=new u(this.nC);this.XI=a.create("throughput-location-history",d);this.xs=a.create("respconn-location-history",d);this.ms=a.create("respconn-location-history",d);this.gS=a.create("throughput-tdigest-history",d);this.oR=a.create("throughput-iqr-history",d);this.La=null;}function f(a,d,f,c,k){this.ls=new b(k);this.Bn=[];this.BZa=p.time.fa()-Date.now()%864E5;this.js=null;this.K=k;for(a=0;a<c;++a)this.Bn.push(new b(k));}function m(a,b,f){return d.has(a,b)?a[b]:a[b]=f;}function q(a,d){var f;this.K=a;this.YI=d;this.Bua();this.rI=new b(this.K);this.AI();f=a.x6;f&&(f={ld:k.ie.zB,Da:{Ca:parseInt(f,10),$g:0},Wg:{Ca:0,$g:0},sp:{Ca:0,$g:0}},this.get=function(){return f;});}d=a(6);k=a(13);c=a(14);p=a(3);t=c.YNa;u=a(383).lia;new p.Console("ASEJS_LOCATION_HISTORY","media|asejs");y={ld:k.ie.HAVE_NOTHING};b.prototype.Ly=function(a,d){this.Fh=d;this.XI.add(a);this.gS.add(a);this.La=p.time.fa();};b.prototype.gB=function(a,d){this.oR.set(a,d);};b.prototype.Is=function(a){this.xs.add(a);};b.prototype.Hs=function(a){this.ms.add(a);};b.prototype.Wc=function(){var a,b,f,c,k,t;a=this.XI.Wc();b=this.xs.Wc();f=this.ms.Wc();c=this.oR.Wc();k=this.gS.Wc();if(d.Ia(a)&&d.Ia(b)&&d.Ia(f))return null;t={c:this.Fh,t:p.time.qba(this.La)};d.Ia(a)||(t.tp=a);d.Ia(b)||(t.rt=b);d.Ia(f)||(t.hrt=f);d.Ia(c)||(t.iqr=c);d.Ia(k)||(t.td=k);return t;};b.prototype.Sd=function(a){var b;b=p.time.now();if(!(a&&d.has(a,"c")&&d.has(a,"t")&&d.has(a,"tp")&&d.isFinite(a.c)&&d.isFinite(a.t))||0>a.c||a.c>k.ie.zB||a.t>b||!this.XI.Sd(a.tp))return this.Fh=k.ie.HAVE_NOTHING,this.js=this.La=null,this.XI.Sd(null),this.xs.Sd(null),this.ms.Sd(null),!1;this.Fh=a.c;this.La=p.time.Oba(a.t);this.xs.Sd(d.has(a,"rt")?a.rt:null);this.ms.Sd(d.has(a,"hrt")?a.hrt:null);d.has(a,"iqr")&&this.oR.Sd(a.iqr);d.has(a,"td")&&this.gS.Sd(a.td);return!0;};b.prototype.get=function(){var a,b,f,c,m,g;a=this.K;if(d.Ia(this.La))return y;b=(p.time.fa()-this.La)/1E3;b>a.XYa?this.Fh=k.ie.HAVE_NOTHING:b>a.yYa&&(this.Fh=Math.min(this.Fh,k.ie.Px));a=this.XI.get();f=this.xs.get();c=this.ms.get();m=this.oR.get();g=this.gS.get();b={ol:b,ld:this.Fh,Da:a,Wg:f,sp:c,up:m,hi:g};a&&(b.DRb=t.prototype.Cca.bind(a));f&&(b.SQb=t.prototype.Cca.bind(f));c&&(b.qOb=t.prototype.Cca.bind(c));return b;};b.prototype.time=function(){return this.La;};b.prototype.mC=function(){this.get();p.time.fa();};f.prototype.Xi=function(){return((p.time.fa()-this.BZa)/1E3/3600/(24/this.Bn.length)|0)%this.Bn.length;};f.prototype.Wc=function(){var a;a={g:this.ls.Wc(),h:this.Bn.map(function(a){return a.Wc();})};d.Ia(this.js)||(a.f=p.time.qba(this.js));return a;};f.prototype.Sd=function(a){var b,f;if(!this.ls.Sd(a.g))return!1;b=this.Bn.length;f=!1;this.Bn.forEach(function(d,c){f=!d.Sd(a.h[c*a.h.length/b|0])||f;});this.js=d.has(a,"f")?p.time.Oba(a.f):null;return f;};f.prototype.Ly=function(a,d){this.ls.Ly(a,d);this.Bn[this.Xi()].Ly(a,d);this.js=null;};f.prototype.gB=function(a,d){this.ls.gB(a,d);this.Bn[this.Xi()].gB(a,d);};f.prototype.Is=function(a){this.ls.Is(a);this.Bn[this.Xi()].Is(a);};f.prototype.Hs=function(a){this.ls.Hs(a);this.Bn[this.Xi()].Hs(a);};f.prototype.fail=function(a){this.js=a;};f.prototype.get=function(){var a,b;if(!d.Ia(this.js)){if((p.time.fa()-this.js)/1E3<this.K.xYa)return{ld:k.ie.HAVE_NOTHING,ut:!0};this.js=null;}a=this.Bn[this.Xi()].get();b=this.ls.get();a=a.ld>=b.ld?a:b;a.ut=!1;return a;};f.prototype.time=function(){return this.ls.time();};f.prototype.mC=function(a){this.ls.mC(a+": global");this.Bn.forEach(function(b,f,c){d.Ia(b.time())||(f=24*f/c.length,b.mC(a+":  "+((10>f?"0":"")+f+"00")+"h"));});};q.prototype.Zna=function(a,d){var b;b=this.K;a=m(this.nv,a,{});return m(a,d,new f(0,0,0,b.Woa||4,b));};q.prototype.AI=function(){var a,d;a=p.storage.get("lh");d=p.storage.get("gh");a&&this.I3(a);d&&this.u0a(d);};q.prototype.K2=function(){var a;a={};d.Yd(this.nv,function(b,f){d.Yd(b,function(d,b){m(a,f,{})[b]=d.Wc();},this);},this);return a;};q.prototype.u0a=function(a){this.rI.Sd(a);};q.prototype.I3=function(a){var b,c;b=null;c=this.K;d.Yd(a,function(a,k){d.Yd(a,function(a,p){var t;t=new f(0,0,0,c.Woa||4,c);t.Sd(a)?(m(this.nv,k,{})[p]=t,b=!0):d.Ia(b)&&(b=!1);},this);},this);return d.Ia(b)?!0:b;};q.prototype.save=function(){var a;a=this.K2();p.storage.set("lh",a);p.storage.set("gh",this.rI.Wc());this.YI&&this.YI.sea(this.rI.Wc());};q.prototype.Bua=function(a){a?(d.has(this.nv,a)&&delete this.nv[a],this.XQ==a&&(this.qy=this.XQ="",this.xk=null)):(this.nv={},this.qy=this.XQ="",this.xk=null);};q.prototype.OY=function(a){this.XQ=a;this.xk=null;};q.prototype.LY=function(a){this.qy=a;this.xk=null;};q.prototype.hR=function(){d.Ia(this.xk)&&(this.xk=this.Zna(this.XQ,this.qy));return this.xk;};q.prototype.Ly=function(a,d){this.hR().Ly(a,d);this.rI.Ly(a,d);};q.prototype.gB=function(a,d){a&&a.Zj&&a.Ii&&a.$j&&(this.hR().gB(a,d),this.rI.gB(a,d));};q.prototype.Is=function(a){this.hR().Is(a);};q.prototype.Hs=function(a){this.hR().Hs(a);};q.prototype.fail=function(a,d){this.Zna(a,this.qy).fail(d);};q.prototype.get=function(a,b){var f,c,p,t;a=(a=this.nv[a])?a[this.qy]:null;f=null;if(a&&(f=a.get(),f.ld>k.ie.HAVE_NOTHING))return f;if(!1===b)return y;c=f=null;p=!1;t=null;d.Yd(this.nv,function(a){d.Yd(a,function(a,d){var b;if(!p||d==this.qy){b=a.get();b&&(!c||c<=b.ld)&&(!t||c<b.ld||t<a.time())&&(c=b.ld,p=d==this.qy,t=a.time(),f=b);}},this);},this);return f?f:y;};q.prototype.mC=function(){d.Yd(this.nv,function(a,b){d.Yd(a,function(a,d){a.mC(b+":"+d);});});};g.P=q;},function(g,c){function a(a){var b;b={profile:a.spoofedProfile||a.profile,r8:a.max_framerate_value,q8:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,GCa:a.pixelAspectX,HCa:a.pixelAspectY,sl:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile&&(b.eQb=a.profile);return b;}Object.defineProperty(c,"__esModule",{value:!0});c.Ofb=function(b,f,c){var m;m=[{},{}];(0===c?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,c){b[d].some(function(d,b){return b===f[c]?(m[c]=a(d),!0):!1;});});return m;};c.Pfb=a;},function(g,c,a){c=a(792);g.P=c;},function(g,c,a){var q;function b(a){this.VC=a;this.reset();}function f(a){this.Mh=new b(a);this.Jd=0;this.Hb=null;}function m(a,b){this.VC=a;this.voa=b;this.reset();}q=a(6);b.prototype.gpa=function(a,b){this.La+=a;this.Wi+=a;this.Ub+=b;this.wi.push({d:a,Q4:b});};b.prototype.MI=function(){var a;for(;this.Wi>this.VC;){a=this.wi.shift();this.Ub-=a.Q4;this.Wi-=a.d;}};b.prototype.reset=function(){this.wi=[];this.La=null;this.Wi=this.Ub=0;};b.prototype.setInterval=function(a){this.VC=a;this.MI();};b.prototype.start=function(a){q.Ia(this.La)&&(this.La=a);};b.prototype.add=function(a,b,f){q.Ia(this.La)&&(this.La=b);b>this.La&&this.gpa(b-this.La,0);this.gpa(f>this.La?f-this.La:0,a);this.MI();};b.prototype.get=function(){return{Ca:Math.floor(8*this.Ub/this.Wi),$g:0};};f.prototype.reset=function(){this.Mh.reset();this.Jd=0;this.Hb=null;};f.prototype.add=function(a,b,f){!q.Ia(this.Hb)&&f>this.Hb&&(b>this.Hb&&(this.Jd+=b-this.Hb),this.Hb=null);this.Mh.add(a,b-this.Jd,f-this.Jd);};f.prototype.start=function(a){!q.Ia(this.Hb)&&a>this.Hb&&(this.Jd+=a-this.Hb,this.Hb=null);this.Mh.start(a-this.Jd);};f.prototype.stop=function(a){this.Hb=q.Ia(this.Hb)?a:Math.min(a,this.Hb);};f.prototype.get=function(){return this.Mh.get();};f.prototype.setInterval=function(a){this.Mh.setInterval(a);};m.prototype.reset=function(){this.wi=[];this.Ub=this.Wi=0;};m.prototype.add=function(a,b,f,c){void 0!==c&&!0===c&&(b=f-b,this.Wi+=b,this.Ub+=a,this.wi.push({d:b,Q4:a}),this.MI());};m.prototype.MI=function(){var a;for(;this.Wi>this.VC||this.wi.length>this.voa;){a=this.wi.shift();this.Ub-=a.Q4;this.Wi-=a.d;}};m.prototype.start=function(){};m.prototype.stop=function(){};m.prototype.get=function(){return{Ca:Math.floor(8*this.Ub/this.Wi),$g:0};};m.prototype.setInterval=function(a,b){this.VC=a;this.voa=b;this.MI();};g.P={QDb:b,MMa:f,QWa:m};},function(g,c,a){var d;function b(a,b,c){this.QD=!1===a;this.KD=a||.01;this.H0=void 0===b?25:b;this.Tga=void 0===c?1.1:c;this.Kg=new d(f);this.reset();}function f(a,d){return a.Ve>d.Ve?1:a.Ve<d.Ve?-1:0;}function m(a,d){return a.$q-d.$q;}function q(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.KD:!1);this.L$a=this.config.ratio||.9;this.M$a=this.config.CRb||1E3;this.eX=0;}d=a(805).vUa;b.prototype.reset=function(){this.Kg.clear();this.haa=this.n=0;};b.prototype.size=function(){return this.Kg.size;};b.prototype.xx=function(a){var d;d=[];a?(this.WQ(!0),this.Kg.Yd(function(a){d.push(a);})):this.Kg.Yd(function(a){d.push({Ve:a.Ve,n:a.n});});return d;};b.prototype.summary=function(){return[(this.QD?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.mh(0),"Q1  = "+this.mh(.25),"Q2  = "+this.mh(.5),"Q3  = "+this.mh(.75),"max = "+this.mh(1)].join("\n");};b.prototype.push=function(a,d){d=d||1;a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.Fna(a[b],d);};b.prototype.Vca=function(a){a=Array.isArray(a)?a:[a];for(var d=0;d<a.length;d++)this.Fna(a[d].Ve,a[d].n);};b.prototype.WQ=function(a){var d;if(!(this.n===this.haa||!a&&this.Tga&&this.Tga>this.n/this.haa)){d=0;this.Kg.Yd(function(a){a.$q=d+a.n/2;d=a.BD=d+a.n;});this.n=this.haa=d;}};b.prototype.Wcb=function(a){var d,b;if(0===this.size())return null;d=this.Kg.lowerBound({Ve:a});b=null===d.data()?d.wA():d.data();return b.Ve===a||this.QD?b:(d=d.wA())&&Math.abs(d.Ve-a)<Math.abs(b.Ve-a)?d:b;};b.prototype.DC=function(a,d,b){a={Ve:a,n:d,BD:b};this.Kg.Gm(a);this.n+=d;return a;};b.prototype.BQ=function(a,d,b){d!==a.Ve&&(a.Ve+=b*(d-a.Ve)/(a.n+b));a.BD+=b;a.$q+=b/2;a.n+=b;this.n+=b;};b.prototype.Fna=function(a,d){var b,f,c;b=this.Kg.min();f=this.Kg.max();c=this.Wcb(a);c&&c.Ve===a?this.BQ(c,a,d):c===b?this.DC(a,d,0):c===f?this.DC(a,d,this.n):this.QD?this.DC(a,d,c.BD):(b=c.$q/this.n,Math.floor(4*this.n*this.KD*b*(1-b))-c.n>=d?this.BQ(c,a,d):this.DC(a,d,c.BD));this.WQ(!1);!this.QD&&this.H0&&this.size()>this.H0/this.KD&&this.dt();};b.prototype.o4a=function(a){var d,b;this.Kg.uk=m;d=this.Kg.upperBound({$q:a});this.Kg.uk=f;b=d.wA();a=b&&b.$q===a?b:d.next();return[b,a];};b.prototype.mh=function(a){var d;d=(Array.isArray(a)?a:[a]).map(this.H_a,this);return Array.isArray(a)?d:d[0];};b.prototype.H_a=function(a){var d,b;if(0!==this.size()){this.WQ(!0);this.Kg.min();this.Kg.max();a*=this.n;d=this.o4a(a);b=d[0];d=d[1];return d===b||null===b||null===d?(b||d).Ve:this.QD?a<=b.BD?b.Ve:d.Ve:b.Ve+(a-b.$q)*(d.Ve-b.Ve)/(d.$q-b.$q);}};b.prototype.dt=function(){var a;if(!this.psa){a=this.xx();this.reset();for(this.psa=!0;0<a.length;)this.Vca(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.WQ(!0);this.psa=!1;}};q.prototype=Object.create(b.prototype);q.prototype.constructor=q;q.prototype.push=function(a){b.prototype.push.call(this,a);this.C5a();};q.prototype.DC=function(a,d,f){this.eX+=1;b.prototype.DC.call(this,a,d,f);};q.prototype.BQ=function(a,d,f){1===a.n&&--this.eX;b.prototype.BQ.call(this,a,d,f);};q.prototype.C5a=function(){!("auto"!==this.mode||this.size()<this.M$a)&&this.eX/this.size()>this.L$a&&(this.mode="cont",this.QD=!1,this.KD=this.config.KD||.01,this.dt());};g.P={TDigest:b,Digest:q};},function(g,c,a){var b,f,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(66);f=a(166);m=a(170);a=function(a){function d(d,b,f,c,g,q,x){b=a.call(this,d,b,f,c,g,q,x)||this;m.Ex.call(b,d,c);return b;}b.__extends(d,a);return d;}(f.nB);c.aP=a;g(m.Ex.prototype,a.prototype);},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(127);f=a(222);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.KDa=function(){15!==this.J.Cf(4)||this.J.Cf(24);};c.prototype.parse=function(a){if(this.Djb(a)&&64===a.dpb)switch(this.Oy=this.DDa(),this.KDa(),this.J.Cf(4),this.mcb=5===this.Oy||29===this.Oy?5:-1,0<this.mcb&&(this.KDa(),this.Oy=this.DDa(),22===this.Oy&&this.J.Cf(4)),this.Oy){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.Ava=this.J.Cf(1),(this.q$a=this.J.Cf(1))&&this.J.Cf(14),this.J.Cf(1),this.BU=3===this.Oy?256:23===this.Oy?this.Ava?480:512:this.Ava?960:1024;}this.skip();return!0;};c.prototype.DDa=function(){var a;a=this.J.Cf(5);31===a&&(a=32+this.J.Cf(6));return a;};c.prototype.Djb=function(a){return a.tag===f.xha.tag;};c.tag=5;return c;}(g.D_);c.CMa=a;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.dpb=this.J.ed();this.J.ed();this.J.vg();this.J.ed();this.eo=this.J.wb();this.O3a=this.J.wb();this.jpa();return!0;};f.tag=4;return f;}(a(127).D_);c.xha=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a;this.J.vg();a=this.J.ed();this.Qxb=!!(a&128);this.xWa=!!(a&64);this.VRa=!!(a&32);this.Qxb&&this.J.vg();this.xWa&&this.J.cY(this.J.ed());this.VRa&&this.J.vg();this.jpa();return!0;};f.tag=3;return f;}(a(127).D_);c.Wha=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});g=a(0);g.__exportStar(a(127),c);g.__exportStar(a(221),c);g.__exportStar(a(220),c);g.__exportStar(a(219),c);g=a(220);b=a(219);a=a(221);c.LD={3:a.Wha,4:g.xha,5:b.CMa};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.J.offset+=6;this.J.vg();return!0;};return f;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b,f,m,q,d,k,p,t,u,y,B,x,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(66);m=a(3);q=a(14);d=a(7);k=a(28);p=a(25);g=a(390);t=a(389);u=a(388);y=a(128);B=a(387);x=a(83);h=a(385);c.console=new m.Console("MP4","media|asejs");a=function(){function a(a,d,b,f,c){this.stream=a;this.Mp=b;this.n2a=f;this.view=d instanceof ArrayBuffer?new DataView(d):new DataView(d.data,d.offset,d.length);this.config=c||{};this.gib=y.Jeb();}a.path=function(a,d){return d.reduce(function(a,d){return a&&a.Lc[d]&&a.Lc[d][0];},a);};a.Nfb=function(a){return a&&a.O5&&-1!==a.O5.indexOf("mcl0")?"mcl0":void 0;};a.Pcb=function(a,b){var f;d.assert("mcl0"===a,"Unsupported McClearen brand");f=b.V;a=f.Bd;b=new k.Xa(120,1).Zl(f.ea).Ud;for(var c=0,f=f.tj;c<a.length&&f<b;)f+=a[c++];return c;};a.prototype.parse=function(a){var d;d=this.Uub();if(!d.done){if(d.eBa)return{Ww:!1,o2a:d.eBa};c.console.error("Scan error: "+d.error);return{Ww:!1,parseError:d.error||"unknown mp4 scan error"};}d=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+d.offset);this.view=new DataView(d);a=this.Ypb(a);return a.done?this.A6a():(c.console.error("Parse error: "+a.error),{Ww:!1,parseError:a.error||"unknown mp4 parse error"});};a.prototype.mz=function(a){return p.Ff.mz(this,a);};a.prototype.nz=function(a){return p.Ff.nz(this,a);};a.prototype.Uub=function(){var d,f;d=new h.vOa(this.Mp,this.n2a?[x.WP,x.VP]:[],this.config&&this.config.BRb||["moof",x.fka],this.config&&this.config.sCa);f=b.__assign(b.__assign({},this.config),{fca:!1});return new u.l_(a.Lda,d,this.view,c.console,f).parse();};a.prototype.Ypb=function(a){var d,k,p;d=new h.zha(this.view.byteLength);k=Object.create(B.tM.Lc);this.config&&((this.config.rCa||this.config.nHa||this.config.ZY)&&f(B.tM.Jda,k),this.config.Ffa&&f(B.tM.tzb,k),this.config.nHa&&f(B.tM.oHa,k));p=b.__assign(b.__assign({},this.config),{fca:!0});this.Tf=new u.l_(k,d,this.view,c.console,p);a=this.Tf.parse(a);a.done&&(this.Lc=this.Tf.Lc);return a;};a.prototype.A6a=function(){var d,b,f,c,p,m;d={Ww:!0};b=a.path(this,["moov"]);f=a.path(b,["trak","mdia","minf","stbl","stsd"]);if(this.config.rCa)if(f)d.Ra=f.Ra,d.YQb=f.Lc;else return{Ww:!1,parseError:"Missing sample descriptions"};c=a.path(f,["encv","sinf","schi"]);c&&(c=a.path(c,["tenc"])||a.path(c,[x.Cka]))&&(d.bU={fMb:c.Hw,aza:c.aza,ROb:!1});if(c=a.path(b,["trak","mdia","mdhd"]))d.ea=c.ea;if(c=a.path(b,["mvex","trex"]))d.JD=c&&c.od.JD;d.JD&&d.ea&&(d.Ra=new k.Xa(d.JD,d.ea));if(c=a.path(this,["sidx"])){p=a.path(this,[x.WP]);p=p&&p.Vmb;m=a.path(this,[x.VP]);m=m&&m.Nh;d.V=c.V;d.jF=p;d.Nh=m;}if(p=this.Lc.vmaf&&this.Lc.vmaf[0])d.Bx=p.Bx;if(this.config.Eub)if(b)this.trim(b.byteOffset+b.byteLength),this.config.ZY&&f&&1<f.ym&&c&&(d.Xh=this.ZY(f,c)),void 0===d.Xh&&(b=this.Tf.XT?q.wl(this.Tf.Na()):this.view.buffer,d.Xh=[{rz:0,data:b}]);else return{Ww:!1,parseError:"Missing movie box"};d.Ww=!0;d.DX=this.Tf.offset;return d;};a.prototype.trim=function(a){var d;d=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.Tf.trim(a);this.view=new DataView(d);};a.prototype.ZY=function(d,b){var f,c,k;f=Object.keys(d.Lc);c=f.filter(function(a){return"encv"!==a;});if(!(2>f.length||c.length===f.length||0===c.length)){f=a.path(this,["ftyp"]);k=a.Nfb(f);if(k)return f=[],this.Tf.Esb(),d.eEa("encv"),f.push({rz:0,cj:!1,data:q.wl(this.Tf.Na())}),this.Tf.vrb(),d.eEa(c[0]),d=a.Pcb(k,b),f.push({rz:d,cj:!0,data:q.wl(this.Tf.Na())}),f;}};a.Lda={};return a;}();c.xRa=a;a.Lda[x.V0]=g["default"];a.Lda[x.W0]=t["default"];},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});g=a(43);a=a(169);b=function(){function a(a,b){this.yn=a;this.iC=b.fb;this.fs=b.xb;}Object.defineProperties(a.prototype,{fb:{get:function(){return void 0!==this.iC?this.iC:this.yn.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return void 0!==this.fs?this.fs:this.yn.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ea:{get:function(){return this.yn.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Kp:{get:function(){return this.yn.Kp;},enumerable:!0,configurable:!0}});a.prototype.pea=function(a){this.fs=a;};a.prototype.A5=function(){this.fs=void 0;};return a;}();c.PG=b;g.Pi(a.bP,b);},function(g){var c;c=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),f*a.byteLength/a.length);}:function(a,b,f){a.set(b,f);};g.P={from:function(a,b,f,c){a=new a(b.length);for(var m="function"===typeof f,d=0;d<b.length;++d)a[d]=m?f.call(c,b[d],d,b):b[d];return a;},set:c};},function(g,c,a){var b,f,m,q,d,k,p,t,u,y,B,x;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(27);m=a(835);g=a(84);q=a(830);d=a(828);k=a(825);p=a(215);t=a(791);u=a(26);y=a(3);B=a(7);a(214);x=function(){return function(a){var d;d=a.J$;a=a.ZV;this.gM=this.replace=d;this.ff=a;};}();a=function(a){function c(c){var t,g,u,B,h,G,H,P,l,n,ja,M,r,sa,N,ha,Ea,za,Fa,ya,ma,Za;t=c.Pa;g=c.sa;u=c.Pk;B=c.bb;h=c.aba;G=c.Qh;H=c.Aq;P=c.config;l=c.Gea;n=c.S9;ja=c.HA;M=c.ZK;r=c.Tb;sa=c.Tg;N=c.nF;c=c.C7;ha=a.call(this)||this;ha.xV=!1;ha.hoa=[];ha.toa=[];ha.Fg=[];ha.Me=!1;ha.Pa=t;ha.sa=g;ha.Pk=u;ha.bb=B;ha.config=P;ha.console=new y.Console("ASEJS","media|asejs",String(ha.wa));n&&(ha.gf=new k.uOa(ha,ha.console,ha.config,n.Nk,n.cV,n.hL,n.WV,n.He,n.zb,n.zf,n.yw));ha.xw=new f.EventEmitter();ha.ZK=M;ha.Tb=r;ha.nF=N;ha.Wj=new p.K0(r,sa,ha.config,null===c||void 0===c?void 0:c.Nk);ha.Wj.YC(g);c&&(t=c.Qq,u=c.LL,B=c.LE,P=c.Pp,ha.rq=c.ci,ha.LE=B,ha.LL=u,ha.Qq=t,ha.Pp=P,ha.Th=new d.DNa(ha.Wj,ha.config,ha.Mhb.bind(ha),ha.Lhb.bind(ha)));l&&(c=l.nA,t=l.ia,u=l.cw,l=l.Ml,c&&t?ha.SY=new m.wVa(c,{ia:String(t),cw:u,Umb:ha.config.$P.mx,v4a:ha.config.$P.lv,G5:ha.config.G5},l):l("SideChannel: pbcid/xid is missing."));ha.Th&&ha.SY&&ha.Th.uwb(ha.SY);ha.HA=ja;ha.pe=new x(h);ha.Qh=G;Ea=[[],[]];za=[{},{}];Fa=[0,0];ya=!1;ma=ha.bb(0);Za=ha.bb(1);["audio_tracks","video_tracks"].forEach(function(a,d){var f;f=0===d;f&&!ma||1===d&&!Za||g[a].forEach(function(a,c){a=new q.CJa({O:ha,Vz:a,M:d,ff:h.ZV,Aq:H,vZ:c,dJ:c+(f?g.video_tracks.length:0)},ha.config,ha.console);Ea[d].push(a);za[d]=b.__assign(b.__assign({},za[d]),a.xE());a.eo>Fa[a.M]&&(Fa[a.M]=a.eo);ya=ya||a.tV;});});ha.FQ=Ea;ha.Rxb=za;ha.Vt=Fa;ha.tV=ya;ha.oYa=ha.config&&ha.config.mua&&ha.config.k$&&!!ha.config.k$.length&&-1!==ha.config.k$.indexOf(String(ha.u));return ha;}b.__extends(c,a);Object.defineProperties(c.prototype,{Qf:{get:function(){return this.hoa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Imb:{get:function(){return this.toa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wa:{get:function(){return Number(this.sa.movieId);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{u:{get:function(){return this.sa.movieId;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wy:{get:function(){return this.sa.choiceMap;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{duration:{get:function(){return this.sa.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ci:{get:function(){if(!this.rq)throw Error("Stream failure reporting can not be used on prefetch viewables.");return this.rq;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{vp:{get:function(){return this.Me;},enumerable:!0,configurable:!0}});c.prototype.close=function(){this.Wj.close();this.Me=!0;};c.prototype.ec=function(){this.gf&&this.gf.ec();};c.prototype.Kt=function(){return void 0!==this.Wy;};c.prototype.getTracks=function(a){return this.FQ[a];};c.prototype.getTrackById=function(a){var d;this.FQ.some(function(b){return b.some(function(b){if(b.ab===a)return d=b,!0;});});d||this.console.warn("getTrackById not found:",a,"length:",this.FQ.length);return d;};c.prototype.jhb=function(a,d){var b;b=this.FQ[a];if(0>d||d>=b.length)this.console.warn("getTrackByIndex out of range:",d,"length:",b.length,"mediaType:",a);else return b[d];};c.prototype.Oq=function(a,d){return(a=this.xE(a))&&a[d];};c.prototype.xE=function(a){return this.Rxb[a];};c.prototype.Xzb=function(a,d){this.hoa[a]=d;d.stream.V&&this.OHa(a,d.stream.V);};c.prototype.aU=function(a){return void 0===a||1===a?this.oYa:!1;};c.prototype.okb=function(a){var d,b;if(void 0===a.UX||void 0===a.Kca){d=this.Wj.c9().filter(function(d){return void 0!==d.bc[a.oa];})[0];b=d.children.filter(function(d){return d.fd.some(function(d){return d.stream.id===a.oa;});})[0];a.UX=d.id;a.Kca=b.id;}return{O$:a.location===a.UX,pkb:a.ac===a.Kca};};c.prototype.PY=function(a,d,b){void 0!==d&&void 0!==b&&(this.jEa(a.M,d),a.PY(d,b));};c.prototype.jEa=function(a,d){var b,f;f=this.config.zba;("location"===f||"video_location"===f&&1===a)&&this.Tb.OY(d);null===(b=this.ZK)||void 0===b?void 0:b.call(this).zpb(a,d);};c.prototype.Vp=function(){var a,d,b;a=this;d=[];if(this.vp)return this.console.error("updateRequestUrls, closed Viewable:",this.wa),!1;u.ag.forEach(function(b){a.bb(b)&&a.nAb(b)&&(b=a.bAb(b),0<b.length&&d.push.apply(d,b));});b=this.Yzb();0<b.length&&d.push.apply(d,b);return this.nub(d);};c.prototype.nAb=function(a){var c,k;if(this.vp)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1;if(!this.bb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1;for(var d=!0,b=0,f=this.Fg;b<f.length;b++){c=f[b].Te(a);k=this.Wj.CO(this.wa,c.track.yc);k||c.Qa("location selector failed to update streamList");d=d&&k;}return d;};c.prototype.Yzb=function(){if(!this.gf)throw Error("Headers not available from prefetch viewables.");return this.gf.Vp();};c.prototype.bAb=function(a){var d,c;d=[];if(this.vp)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),d;if(!this.bb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),d;for(var b=0,f=this.Fg;b<f.length;b++){c=f[b].Vp(a);c.length&&d.push.apply(d,c);}return d;};c.prototype.nub=function(a){var d,b,f;d=this;if(0===a.length)return!0;b=0;f=[];a.forEach(function(a){var c;if(a.Vb){c=a.O;c.Pa>d.Pa&&(f.push({O:c,track:a.stream.track}),++b);}});f.forEach(function(a){var d;d=a.track;a.O.OF([0===d.M?d:void 0,1===d.M?d:void 0],void 0,d.M);});return b===a.length;};c.prototype.Ol=function(){this.Wj.Ol();this.Th&&this.Th.Ol();};c.prototype.rX=function(){this.Th&&this.Th.rX();};c.prototype.Sfa=function(a,d){if(!this.gf)throw Error("Headers not available from prefetch viewables.");this.gf.Sfa(a,d);};c.prototype.B5=function(){if(!this.gf)throw Error("Headers not available from prefetch viewables.");this.gf.B5();};c.prototype.qea=function(a,d){if(!this.gf)throw Error("Headers not available from prefetch viewables.");B.assert(a.O===this);this.gf.qea(a,d);};c.prototype.fj=function(a,d){if(!this.gf)throw Error("Headers not available from prefetch viewables.");return this.gf.fj(a,d);};c.prototype.Haa=function(){if(!this.gf)throw Error("Headers not available from prefetch viewables.");this.gf.Haa();};c.prototype.Isa=function(a,d,b){if(!this.gf)throw Error("Headers not available from prefetch viewables.");this.gf.yZ(a,d,b,!0);};c.prototype.xS=function(a,d,b){if(!this.gf)throw Error("Headers not available from prefetch viewables.");return this.gf.xS(a,d,!!b);};c.prototype.AG=function(a){if(!this.gf)throw Error("Headers not available from prefetch viewables.");return this.gf.AG(a);};c.prototype.d4=function(a,d){if(!this.gf)throw Error("Headers not available from prefetch viewables.");return this.gf.d4(a,d);};c.prototype.Cda=function(a){if(!this.gf)throw Error("Headers not available from prefetch viewables.");return this.gf.Cda(a);};c.prototype.OF=function(a,d,b){if(!this.gf)throw Error("Headers not available from prefetch viewables.");return this.gf.OF(a,d,b);};c.prototype.Ohb=function(a){var d,b,f,c;d=a.oa;b=a.M;this.OHa(b,a.stream.V);d=this.Oq(b,d);f=this.Kt()?this.config.jAa:0;c=y.Sj()[b];1===b&&0<this.config.Zq&&(c=Math.min(c,this.config.Zq));d.IHa(c,f);this.xw.emit("onHeaderFragments",a);};c.prototype.$Da=function(a){this.Fg.push(a);};c.prototype.DHa=function(a){a=this.Fg.indexOf(a);B.assert(-1!==a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Fg.splice(a,1);};c.prototype.wX=function(){var a;null===(a=this.HA)||void 0===a?void 0:a.ZC();};c.prototype.eu=function(a){this.vp?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0!==a.location&&this.jEa(a.M,a.location);};c.prototype.LM=function(a){if(!this.Th)throw Error("Requests cannot be handled on prefetch viewables.");this.vp?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.Th.CZ({timestamp:a.Nc,url:a.url});};c.prototype.oj=function(a){var d;null===(d=this.HA)||void 0===d?void 0:d.kY();if(!this.Th||!this.LL||!this.nF)throw Error("Requests cannot be handled on prefetch viewables.");this.vp?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):(this.LL()&&this.Th.sN(!0),this.Th.CZ({timestamp:a.Nc,mediaRequest:a}),this.nF(a));};c.prototype.IM=function(a,d,b){var f;b&&(null===(f=this.HA)||void 0===f?void 0:f.kY());};c.prototype.JM=function(a){var d;if(!this.Th||!this.rq)throw Error("Requests cannot be handled on prefetch viewables.");if(this.vp)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a);else{d=a.Uh;this.config.Hhb&&d===t.Ej.Ku.s0&&0<a.ve&&(d=t.Ej.Ku.n_);this.Th.Sm({url:a.url},a.status,d,a.Yj);this.Vp()||this.ci(a.gE||"unknown",void 0,"NFErr_MC_StreamingFailure",a.Uh,a.status,a.Yj);}};c.prototype.OHa=function(a,d){this.toa[a]=d.Uaa;};c.prototype.Mhb=function(a){var d,b,f;if(!this.LE)throw Error("Error handling not available on prefetch viewables.");if(!this.Me){d=a.Vjb;b=a.Ppb;f=a.Qpb;a=a.Rpb;this.console.warn("Streaming failure, isBuffering "+this.LE()+" is permanent: "+d+", last error code: "+b+", last http code: "+f+", last native code: "+a);d?(this.console.warn(" > Permanent failure, done"),this.ci("Permanent failure",void 0,"NFErr_MC_StreamingFailure",b,f,a)):this.LE()?(this.console.warn(" > We are buffering, calling it!"),this.ci("Temporary failure while buffering",void 0,"NFErr_MC_StreamingFailure",a,f,a)):(this.console.warn(" > Resetting failures"),this.Th.sN());}};c.prototype.Lhb=function(){if(!this.Pp||!this.Qq)throw Error("Error handling not available on prefetch viewables.");this.Me||(this.Pp(!1),this.Vp(),this.Qq());};return c;}(g.Gr);c.c_=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ag=[0,1];},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(58);f=a(2);c.O8=function(a){return a===b.Mc.Dj.AUDIO?f.G.Hja:f.G.Ija;};c.x1=50;c.AUa=1E3;},function(g,c,a){var f,m,q,d,k,p,t,u,y,B,x,h,G;function b(a,b,f,c,t,m,g,q,u,B,y,x,h,H,l){this.j=a;this.ab=b;this.Ez=f;this.Zc=c;this.Fq=t;this.c7=m;this.Bk=g;this.displayName=q;this.xj=u;this.zA=B;this.profile=y;this.ho=x;this.Aob=h;this.pdb=H;this.HE=l;this.type=d.Bg.sZ;this.Ar=void 0;this.Sq=!(!y||y!=p.el.IB&&y!=p.el.XP);this.tg={bcp47:g,trackId:b,downloadableId:c,isImageBased:this.Sq};this.log=k.Rg(a,"TimedTextTrack");this.state=G.YP;this.request=this.request.bind(this);}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);m=a(73);q=a(12);d=a(74);k=a(5);p=a(60);t=a(18);u=a(353);y=a(16);B=a(686);x=a(15);h=a(2);(function(a){a[a.YP=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.rH=3]="LOAD_FAILED";}(G||(G={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(d,b){function f(){a.j.state.removeListener(f);a.download().then(d)["catch"](b);}a.state=G.LOADING;a.j.state.value!==x.mb.LOADING?a.download().then(d)["catch"](b):a.j.state.addListener(f);});};b.prototype.Wc=function(){return this.state;};b.prototype.KL=function(){return this.Aob;};b.prototype.$V=function(){return this.pdb;};b.prototype.tw=function(a,d){var b;b=[];try{this.Sq?b=this.Pf&&this.Pf.tw(a,d)||[]:this.entries&&(b=this.entries.filter(function(b){var f;f=Q([b.startTime,b.endTime]);b=f.next().value;f=f.next().value;return b>=a&&b<=d||b<=a&&a<=f;}));}catch(U){this.log.error("error in getSubtitles",U,{start:a,end:d,isImageBased:this.Sq});}return b;};b.prototype.Sgb=function(){var a;if(!y.gc(this.U))try{this.U=this.Sq?(a=this.tw(0,b.qQa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(S){this.log.error("exception in getStartPts",S);}return this.U;};b.prototype.QY=function(a){return this.j.state.value===x.mb.CLOSING||this.j.state.value===x.mb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.zc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(d,b){a.j.state.value==x.mb.jd?a.Sq?a.ojb(function(f){f.Z?(a.log.info("Loaded image subtitle manager"),d(f)):(a.log.error("Unable to load image subtitles manager",f),a.state=G.rH,b(f));}):a.Vta().then(function(d){return a.iqb(d);}).then(d)["catch"](b):b({Z:!1});});};b.prototype.ojb=function(a){var b,f,c,p,t,m,g,u;function d(c){var B;if(y.gc(c))if(u||b.QY(b.Nq(b.fp,"","image"))){u=!1;b.ho.url=b.Fq[b.fp];f.url=b.ho.url;g[c]=(g[c]||0)+1;B=new k.MVa(p,f);B.on("ready",function(){b.Pf=B;a({Z:!0,track:b});});B.on("error",function(f){var k;f=Object.assign({Z:!1},f);k=b.Nq(b.fp,b.ho.url,"image");k.details={midxoffset:b.ho.offset,midxsize:b.ho.length};k.errorstring=f.errorString;g[c]<=q.config.UGa?(b.qU(k,!0,"retry with current cdn"),b.R4(g[c]).then(function(a){b.log.trace("retry timed text download after "+a,b.Nq(b.fp,"","image"));d(b.fp);})):(b.fp=t[m++],b.fp?(b.qU(k,!0,"retry with next cdn"),b.R4(g[c]).then(function(a){b.log.trace("retry timed text download after "+a,b.Nq(b.fp,"","image"));d(b.fp);})):(b.qU(k,!1,"all cdns tried"),a({Z:!1,bob:"all cdns failed for image subs",track:b})));});B.start();}else a({Z:!1,uq:!0});else a({Z:!1,bob:"cdnId is not defined for image subs downloadUrl"}),b.qU(b.Nq(0,"","image"),!1,"cdnId is undefined");}b=this;f={J3a:!1,profile:this.profile,oM:this.ho.offset,SW:this.ho.length,Oc:this.j.Zb.value||0,bufferSize:q.config.Qib,jRb:{Za:this.j.OU()}};c=k.Rg(this.j,"TimedTextTrack");c.warn=c.trace.bind(c);c.info=c.debug.bind(c);p=B.d9a(this.j,c,this.request);t=(this.c7||[]).filter(function(a){return a.id in b.Fq;}).sort(function(a,d){return a.mf-d.mf;}).map(function(a){return a.id;});m=0;g={};u=!0;this.fp=t[m++];d(this.fp);};b.prototype.qU=function(a,d,b){a=Object.assign({},a,{fSb:d,status:b});this.j.fireEvent(x.S.nG,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,d){var b;b=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,Ar:this.Ar,responseType:m.BV,headers:{},Xb:this.E8(this.fp)};this.j.CV.download(a,function(a){b.log.trace("imgsub: request status "+a.Z);a.Z?d(null,new Uint8Array(a.content)):d({ba:a.ba,Pd:a.Pd});});};b.prototype.Nq=function(a,d,b){return{currentCdnId:a,url:d,profile:this.profile,dlid:this.Zc,subtitletype:b,bcp47:this.Bk,trackId:this.ab,cdnCount:Object.keys(this.Fq).length,isImageBased:this.Sq};};b.prototype.E8=function(a){return(this.c7||[]).find(function(d){return d.id===a;});};b.prototype.Vta=function(){var c,k;function a(a){return f.__awaiter(c,void 0,void 0,function(){var c,p,t,m,g;function f(){for(;;)switch(c){case 0:t=b();p=m.Nq(a.Xb.id,a.url,"text");p.errorstring=a.reason;if(!t||!m.QY(p)){c=1;break;}c=-1;return{value:m.R4(k[t.id]).then(d),done:!0};case 1:return c=-1,{value:Promise.reject({Z:!1,uq:!0}),done:!0};default:return{value:void 0,done:!0};}}c=0;m=this;g={next:function(){return f();},"throw":function(){return f();},"return":function(){throw Error("Not yet implemented");}};n();g[Symbol.iterator]=function(){return this;};return g;});}function d(){return f.__awaiter(c,void 0,void 0,function(){var f,c,p,t,m;function d(){for(;;)switch(f){case 0:c=(p=b())&&t.Fq[p.id];if(!p||!c){f=1;break;}k[p.id]=(k[p.id]||0)+1;f=-1;return{value:t.bab(c,p)["catch"](a),done:!0};case 1:return f=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}f=0;t=this;m={next:function(){return d();},"throw":function(){return d();},"return":function(){throw Error("Not yet implemented");}};n();m[Symbol.iterator]=function(){return this;};return m;});}function b(){return(c.c7||[]).find(function(a){return!!((k[a.id]||0)<q.config.UGa&&c.Fq[a.id]);});}c=this;k={};return d();};b.prototype.R4=function(a){return new Promise(function(d){var b;b=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return d(b);},b);});};b.prototype.iqb=function(a){var d,b;d=this;b=this.j.IG;t.Ma(b);return u.hqb(a,b.width/b.height,q.config.WGa,q.config.wfa).then(function(a){var b;if(q.config.XGa){b=0;d.entries=a.map(function(a){return Object.assign({},a,{startTime:b,endTime:b+=q.config.XGa});});}else d.entries=a;d.log.trace("Entries parsed",{Length:a.length},d.tg);d.state=G.LOADED;return{Z:!0,entries:d.entries,track:d};})["catch"](function(a){d.log.error("Unable to parse timed text track",h.Ho(a),d.tg,{url:a.url});d.state=G.rH;a.reason="parseerror";a.track=d;throw a;});};b.prototype.bab=function(a,d){var b;b=this;this.log.trace("Downloading",d&&{Xb:d.id},this.Nq(d.id,a,"text"));return new Promise(function(f,c){var k;k={responseType:m.Txa,url:a,track:b,Xb:d,OD:"tt-"+b.Bk};b.j.CV.download(k,function(a){a.Z?f(a.content):(a.reason="downloadfailed",a.url=k.url,a.track=b,a.Xb=d,c(a));});});};c.TH=b;b.qQa=72E7;b.Xla=G;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.O0="ManifestTransformerSymbol";},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(9);b.l9=function(){var a;a=f.Rr&&f.Rr.height;return a?1080<=a?1080:720:720;};c.H1=b;},function(g){g.P=function(c,a){switch(c){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,f){return a.apply(this,arguments);};case 3:return function(b,f,c){return a.apply(this,arguments);};case 4:return function(b,f,c,g){return a.apply(this,arguments);};case 5:return function(b,f,c,g,d){return a.apply(this,arguments);};case 6:return function(b,f,c,g,d,k){return a.apply(this,arguments);};case 7:return function(b,f,c,g,d,k,p){return a.apply(this,arguments);};case 8:return function(b,f,c,g,d,k,p,t){return a.apply(this,arguments);};case 9:return function(b,f,c,g,d,k,p,t,u){return a.apply(this,arguments);};case 10:return function(b,f,c,g,d,k,p,t,u,y){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,c,a){var m,q,d,k;function b(a,d,b){for(var f=b.next();!f.done;){if((d=a["@@transducer/step"](d,f.value))&&d["@@transducer/reduced"]){d=d["@@transducer/value"];break;}f=b.next();}return a["@@transducer/result"](d);}function f(a,b,f,c){return a["@@transducer/result"](f[c](d(a["@@transducer/step"],a),b));}m=a(872);q=a(870);d=a(869);h();h();n();k="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.P=function(a,d,c){"function"===typeof a&&(a=q(a));if(m(c)){for(var p=0,g=c.length;p<g;){if((d=a["@@transducer/step"](d,c[p]))&&d["@@transducer/reduced"]){d=d["@@transducer/value"];break;}p+=1;}return a["@@transducer/result"](d);}if("function"===typeof c["fantasy-land/reduce"])return f(a,d,c,"fantasy-land/reduce");if(null!=c[k])return b(a,d,c[k]());if("function"===typeof c.next)return b(a,d,c);if("function"===typeof c.reduce)return f(a,d,c,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.P=function(c,a){return Object.prototype.hasOwnProperty.call(a,c);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.uQ="TransportConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.k_="BookmarkSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Nx||(c.Nx={});g.yWa="unknown";g.rga="absent";g.Bla="present";g.Error="error";c.eia="ExternalDisplayLogHelperSymbol";},function(g,c,a){var f,m,q;function b(){this.type=f.Fx.Zx;}Object.defineProperty(c,"__esModule",{value:!0});f=a(31);g=a(98);m=a(143);q=new g.hy();b.d6=function(){return{isTypeSupported:function(a){var d;try{if(-1==a.toLowerCase().indexOf("codec"))return K.MSMediaKeys.isTypeSupported(a,"video/mp4");d=a.split("|");return 1===d.length?K.MSMediaKeys.isTypeSupported(m.lb.fq,a):"probably"===b.gfa(d[0],d[1]);}catch(p){return!1;}}};};b.pT=function(a,f,c){f=q.format(b.BG,f);if(0===c.length)return f;c=q.format('features="{0}"',c.join());return q.format("{0}|{1}{2}",a,f,c);};b.gfa=function(a,b){var d;try{d=K.MSMediaKeys.isTypeSupportedWithFeatures?K.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(t){d="exception";}return d;};c.$x=b;b.BG='video/mp4;codecs="{0},mp4a";';},function(g,c,a){var f,m,q,d,k,p;function b(a,f,c,k){var g;g=m.am.call(this,a,f,c)||this;g.cast=k;g.type=q.sk.p_;a=b.pWa;g.OO[q.vd.vQ]=d.Gd.dH+"; "+a;g.OO[q.vd.Mr]=d.Gd.Mr+"; "+a;a=d.Gd.UKa.find(function(a){return g.Vs(p(b.BG,a));});g.OO[q.vd.Jr]=a;return g;}Object.defineProperty(c,"__esModule",{value:!0});f=a(60);m=a(133);q=a(31);g=a(98);d=a(134);k=a(428);p=new g.hy().format;da(b,m.am);b.d6=function(a,d){return(d=b.xEa(d))?{isTypeSupported:d}:a;};b.xEa=function(a){if("undefined"!==typeof a)return a.framework&&a.framework.platform&&a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType||void 0;};b.prototype.vr=function(a){var f,c;f=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().YHa){c={};if(f)return c[q.ni.aq]="1.4",c[q.ni.Ux]="2.2",f().then(function(d){return d===c[a];});f=this.$za(a);f=p(b.BG,d.Gd.dH)+" hdcp="+f;f=this.Vs.bind(this,f);return Promise.resolve(f());}return Promise.resolve(!1);};b.prototype.mE=function(a){return this.OO[a];};b.prototype.uE=function(){var a;a=this;return this.config().YHa?this.vr(q.ni.Ux).then(function(d){return d?Promise.resolve(q.ni.Ux):a.vr(q.ni.aq).then(function(a){return a?Promise.resolve(q.ni.aq):Promise.resolve(void 0);});}).then(function(d){return a.hK(d);}):Promise.resolve(void 0);};b.prototype.bz=function(){var a,d;a=m.am.prototype.bz.call(this);d=b.Kxa;a[f.W.BP]=["avc1.4D4028","width=1920; height=1080; "];a[f.W.T_]=["hev1.2.6.L90.B0",d];a[f.W.U_]=["hev1.2.6.L93.B0",d];a[f.W.V_]=["hev1.2.6.L120.B0",d];a[f.W.W_]=["hev1.2.6.L123.B0",d];a[f.W.X_]=["hev1.2.6.L150.B0","width=3840; height=2160; "+d];a[f.W.Z_]=["hev1.2.6.L153.B0","width=3840; height=2160; "+d];a[f.W.eH]=["hev1.2.6.L90.B0",d];a[f.W.fH]=["hev1.2.6.L93.B0",d];a[f.W.AB]=["hev1.2.6.L120.B0",d];a[f.W.DP]=["hev1.2.6.L123.B0",d];a[f.W.Y_]=["hev1.2.6.L150.B0","width=3840; height=2160; "+d];a[f.W.$_]=["hev1.2.6.L153.B0","width=3840; height=2160; "+d];a[f.W.m0]="hev1.1.6.L90.B0";a[f.W.n0]="hev1.1.6.L93.B0";a[f.W.o0]="hev1.1.6.L120.B0";a[f.W.p0]="hev1.1.6.L123.B0";a[f.W.q0]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[f.W.r0]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[f.W.b0]="hev1.2.6.L90.B0";a[f.W.d0]="hev1.2.6.L93.B0";a[f.W.f0]="hev1.2.6.L120.B0";a[f.W.h0]="hev1.2.6.L123.B0";a[f.W.hH]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.W.iH]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[f.W.c0]="hev1.2.6.L90.B0";a[f.W.e0]="hev1.2.6.L93.B0";a[f.W.g0]="hev1.2.6.L120.B0";a[f.W.j0]="hev1.2.6.L123.B0";a[f.W.k0]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.W.l0]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.dwa=function(){return[k.Ah.XO,k.Ah.cH,k.Ah.yB];};b.prototype.z$=function(){m.am.prototype.z$.call(this);!b.xEa(this.cast)&&this.Sl.push(k.Ah.Mr);};c.Vga=b;b.Kxa="eotf=smpte2084";b.eOb="video/mp4;codecs={0}; "+b.Kxa;b.pWa="width=3840; height=2160; ";c.q_="CastSDKSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gja="IsTypeSupportedProviderFactorySymbol";c.jla="PlatformIsTypeSupportedSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ama="ThroughputTrackerSymbol";c.K1="ThroughputTrackerFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.o1="PboPlaydataFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.C1="SegmentManagerFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.R0="MomentObserverFactory";},function(g,c,a){var f,m,q;function b(a,b,f,c){this.qa=a;this.Ts=b;this.Vk=f;this.rl=void 0===c?"General":c;this.M5={};}Object.defineProperty(c,"__esModule",{value:!0});f=a(8);m=a(440);q=a(934);b.prototype.Vpa=function(a,b){this.M5[a]=b;};b.prototype.fatal=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Ev(f.oi.LNa,a,q.nD(this.Ts,this.nE(d)));};b.prototype.error=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Ev(f.oi.ERROR,a,q.nD(this.Ts,this.nE(d)));};b.prototype.warn=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Ev(f.oi.O1,a,q.nD(this.Ts,this.nE(d)));};b.prototype.info=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Ev(f.oi.A0,a,q.nD(this.Ts,this.nE(d)));};b.prototype.trace=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Ev(f.oi.vma,a,q.nD(this.Ts,this.nE(d)));};b.prototype.debug=function(a,b){for(var d=1;d<arguments.length;++d);};b.prototype.log=function(a,b){for(var d=1;d<arguments.length;++d);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,f){for(var d=[],c=2;c<arguments.length;++c)d[c-2]=arguments[c];this.Ev(a,b,q.nD(this.Ts,this.nE(d)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.rl};};b.prototype.j6=function(a){return new b(this.qa,this.Ts,this.Vk,a);};b.prototype.Ev=function(a,b,f){a=new m.wja(a,this.rl,this.qa.kc(),b,f);b=Q(this.Vk.Vk);for(f=b.next();!f.done;f=b.next())f=f.value,f(a);};b.prototype.nE=function(a){return 0<Object.keys(this.M5).length?[].concat([this.M5],fa(a)):a;};c.tH=b;},function(g){var p,t,u,y,B,x;function c(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(p===setTimeout)return setTimeout(a,0);if((p===c||!p)&&setTimeout)return p=setTimeout,setTimeout(a,0);try{return p(a,0);}catch(G){try{return p.call(null,a,0);}catch(P){return p.call(this,a,0);}}}function f(d){if(t===clearTimeout)clearTimeout(d);else if(t!==a&&t||!clearTimeout)try{t(d);}catch(G){try{t.call(null,d);}catch(P){t.call(this,d);}}else t=clearTimeout,clearTimeout(d);}function m(){y&&B&&(y=!1,B.length?u=B.concat(u):x=-1,u.length&&q());}function q(){var a;if(!y){a=b(m);y=!0;for(var d=u.length;d;){B=u;for(u=[];++x<d;)B&&B[x].SF();x=-1;d=u.length;}B=null;y=!1;f(a);}}function d(a,d){this.Ddb=a;this.Lj=d;}function k(){}g=g.P={};try{p="function"===typeof setTimeout?setTimeout:c;}catch(H){p=c;}try{t="function"===typeof clearTimeout?clearTimeout:a;}catch(H){t=a;}u=[];y=!1;x=-1;g.kBa=function(a){var f;f=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)f[c-1]=arguments[c];u.push(new d(a,f));1!==u.length||y||b(q);};d.prototype.SF=function(){this.Ddb.apply(null,this.Lj);};g.title="browser";g.uLb=!0;g.Vbb={};g.cLb=[];g.version="";g.YRb={};g.on=k;g.addListener=k;g.once=k;g.LBa=k;g.removeListener=k;g.removeAllListeners=k;g.emit=k;g.fDa=k;g.Srb=k;g.listeners=function(){return[];};g.pLb=function(){throw Error("process.binding is not supported");};g.lMb=function(){return"/";};g.OLb=function(){throw Error("process.chdir is not supported");};g.ORb=function(){return 0;};},function(g,c,a){var f,m;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var d=new Uint8Array(a.length/2),b=0;b<d.length;b++)d[b]=this.fHa(a.substr(2*b,2));return d;};b.prototype.encode=function(a){for(var d="",b=a.length,f=0;f<b;f++)var c=a[f],d=d+("0123456789ABCDEF"[c>>>4]+"0123456789ABCDEF"[c&15]);return d;};b.prototype.WK=function(a,d){var b;b="";for(d<<=1;d--;)b=("0123456789ABCDEF"[a&15]||"0")+b,a>>>=4;return b;};b.prototype.fHa=function(a){var d;d=a.length;if(7<d)throw Error("hex to long");for(var b=0,c=0;c<d;c++)b=16*b+f[a[c]];return b;};m=b;m=g.__decorate([a.N()],m);c.h_=m;},function(g,c,a){var f,m,q,d,k,p,t,u,y,B,x;function b(a,d,b,f,c,k){this.vM=a;this.is=d;this.Fc=b;this.pc=f;this.we=c;this.zh=k;q.Lm(this,"nav");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(1);q=a(53);d=a(2);k=a(37);p=a(22);t=a(89);u=a(21);y=a(39);B=a(52);a=a(99);b.prototype.uz=function(){if(this.Ya)return this.Ya.sessionId;};b.prototype.gub=function(a,d){return this.vM.requestMediaKeySystemAccess(a,d);};b.prototype.S8a=function(a){return a.createMediaKeys();};b.prototype.xm=function(a,d){this.Ya=a.createSession(d);};b.prototype.fkb=function(){return!!this.Ya;};b.prototype.twb=function(a,d){return this.is.tS(a.setServerCertificate)?a.setServerCertificate(d):Promise.resolve();};b.prototype.x8=function(a,b){return this.Ya?this.Ya.generateRequest(a,b[0]):Promise.reject(new t.Hf(d.I.Rha,d.G.ZG,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.Ya?this.Ya.update(a[0]):Promise.reject(new t.Hf(d.I.vP,d.G.ZG,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.Ya?this.Ya.load(a):Promise.reject(new t.Hf(d.I.kNa,d.G.ZG,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.Ya)return Promise.reject(new t.Hf(d.I.dNa,d.G.ZG,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.uz()&&(a=this.Ya.close());this.Ya=void 0;return a;};b.prototype.remove=function(){return this.Ya?this.Ya.remove():Promise.reject(new t.Hf(d.I.Vha,d.G.ZG,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.oN=function(){return Promise.reject(new t.Hf(d.I.uP,void 0,"Unable to renew a key session, not supported"));};b.prototype.W1a=function(a){if(!this.Ya)throw ReferenceError("Unable to add message handler, key session is not valid");this.Ya.addEventListener(f.Zha,a);};b.prototype.R1a=function(a){if(!this.Ya)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Ya.addEventListener(f.Yha,a);};b.prototype.L1a=function(a){if(!this.Ya)throw ReferenceError("Unable to add error handler, key session is not valid");this.Ya.addEventListener(f.Xha,a);};b.prototype.Qtb=function(a){if(!this.Ya)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Ya.removeEventListener(f.Zha,a);};b.prototype.Ntb=function(a){if(!this.Ya)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Ya.removeEventListener(f.Yha,a);};b.prototype.Ltb=function(a){if(!this.Ya)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Ya.removeEventListener(f.Xha,a);};x=f=b;x.Zha="message";x.Yha="keystatuseschange";x.Xha="error";x=f=g.__decorate([m.N(),g.__param(0,m.l(k.Yu)),g.__param(1,m.l(p.Ke)),g.__param(2,m.l(y.Aj)),g.__param(3,m.l(u.$e)),g.__param(4,m.l(B.bm)),g.__param(5,m.l(a.ky))],x);c.Xr=x;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.en='video/mp4; codecs="avc1.640028"';c.Wx='audio/mp4; codecs="mp4a.40.5"';c.YMa="DrmTraitsSymbol";},function(g,c,a){var b,f;b=a(465);f=a(1051);c.Qw=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.bF(f.Iib,null,a);};},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,d){a.call(this);this.value=b;this.ha=d;this.ns=!0;d&&(this.ns=!1);}b(f,a);f.create=function(a,d){return new f(a,d);};f.Jb=function(a){var d,b;d=a.value;b=a.Wf;a.done?b.complete():(b.next(d),b.closed||(a.done=!0,this.zb(a)));};f.prototype.ng=function(a){var d,b;d=this.value;b=this.ha;if(b)return b.zb(f.Jb,0,{done:!1,value:d,Wf:a});a.next(d);a.closed||a.complete();};return f;}(a(10).Aa);c.B1=g;},function(g,c,a){a(10);g=function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.pp="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.vK=function(a,b,c){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c();}};a.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):this.vK(a,b,c);};a.g6=function(b){return"undefined"!==typeof b?new a("N",b):a.Mzb;};a.Gsa=function(b){return new a("E",void 0,b);};a.c6=function(){return a.h6a;};a.h6a=new a("C");a.Mzb=new a("N",void 0);return a;}();c.Notification=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);this.Ak=[];this.active=!1;}b(f,a);f.prototype.flush=function(a){var d,b;d=this.Ak;if(this.active)d.push(a);else{this.active=!0;do if(b=a.yf(a.state,a.Od))break;while(a=d.shift());this.active=!1;if(b){for(;a=d.shift();)a.unsubscribe();throw b;}}};return f;}(a(1066).kVa);c.e_=g;},function(g,c,a){var b,f;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(78);g=function(a){function c(d,b){a.call(this,d,b);this.ha=d;this.OM=!1;this.TO=b;}b(c,a);c.prototype.zb=function(a,b){var d;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.OM=!0;a=this.id;d=this.ha;null!=a&&(this.id=this.hY(d,a,b));this.Od=b;this.id=this.id||this.pY(d,this.id,b);return this;};c.prototype.pY=function(a,b,c){void 0===c&&(c=0);return f.root.setInterval(a.flush.bind(a,this),c);};c.prototype.hY=function(a,b,c){void 0===c&&(c=0);return null!==c&&this.Od===c&&!1===this.OM?b:(f.root.clearInterval(b),void 0);};c.prototype.yf=function(a,b){if(this.closed)return Error("executing a cancelled action");this.OM=!1;if(a=this.dR(a,b))return a;!1===this.OM&&null!=this.id&&(this.id=this.hY(this.ha,this.id,null));};c.prototype.dR=function(a){var d,b;d=!1;b=void 0;try{this.TO(a);}catch(t){d=!0;b=!!t&&t||Error(t);}if(d)return this.unsubscribe(),b;};c.prototype.Es=function(){var a,b,f,c;a=this.id;b=this.ha;f=b.Ak;c=f.indexOf(this);this.state=this.TO=null;this.OM=!1;this.ha=null;-1!==c&&f.splice(c,1);null!=a&&(this.id=this.hY(b,a,null));this.Od=null;};return c;}(a(1068).cJa);c.d_=g;},function(g,c,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}g=a(78);c.aOb=b;c.observable=b(g.root);c.OBb=c.observable;},function(g,c,a){g=a(78).root.Symbol;c.JA="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";c.PBb=c.JA;},function(g,c){c.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.o_="CachedDrmDataSymbol";},function(g,c,a){var m;function b(){}function f(a){a?(this.active=!1,this.u8(a)):this.active=!0;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.u8=function(a){this.ic=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Iw:a.licenseContextId,TE:a.licenseId};}):[];this.ia=a.xid;this.u=a.movieId;};f.prototype.xr=function(){return JSON.parse(JSON.stringify({keySessionData:this.ic?this.ic.map(function(a){return{id:a.id,licenseContextId:a.Iw,licenseId:a.TE};}):[],xid:this.ia,movieId:this.u}));};c.H_=f;b.prototype.create=function(){return new f();};b.prototype.load=function(a){return new f(a);};m=b;m=g.__decorate([a.N()],m);c.UMa=m;},function(g,c,a){var b,f,m,q,d,k,p,t,u;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(121);f=a(487);m=a(260);q=a(259);d=a(1088);k=a(1087);p=a(103);t=a(141);u=a(1086);c.eme=new g.tc(function(a){a(f.Hha).to(m.UMa).Y();a(q.o_).to(d.RKa).Y();a(b.tP).qO(k.tsb);a(p.Uu).yG(function(a){c.CK.parent=a.tb;return c.CK.get(p.Uu);});a(t.xH).Ef(function(){return function(){return new u.iRa();};});});c.CK=new g.lP({RA:!0});},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(263);a(490);g=function(){function a(a){this.Fb=a;}a.prototype.when=function(a){this.Fb.Zy=a;return new b.fP(this.Fb);};a.prototype.RO=function(){this.Fb.Zy=function(a){return null!==a.target&&!a.target.G$()&&!a.target.K$();};return new b.fP(this.Fb);};return a;}();c.j_=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(262);g=function(){function a(a){this.Fb=a;}a.prototype.cr=function(a){this.Fb.cr=a;return new b.j_(this.Fb);};return a;}();c.fP=g;},function(g,c,a){var m,q,d,k,p,t,u,y,B;function b(a){var d;d=[];u(a,y,function(a,b,f,c){d[d.length]=f?u(c,B,"$1"):b||a;});return d;}function f(){throw new m();}m=TypeError;q=Object.getOwnPropertyDescriptor;if(q)try{q({},"");}catch(x){q=null;}c=q?function(){try{return arguments.callee,f;}catch(x){try{return q(arguments,"callee").get;}catch(H){return f;}}}():f;d=a(1121)();k=Object.getPrototypeOf||function(a){return a.__proto__;};p="undefined"===typeof Uint8Array?void 0:k(Uint8Array);h();n();h();h();h();n();h();n();h();n();h();n();h();h();t={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":d?k([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?k(k([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%JSONParse%":"object"===typeof JSON?JSON.parse:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d?k(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d?k(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":d?k(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":d?Symbol:void 0,"%SymbolPrototype%":d?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypedArrayPrototype%":p?p.prototype:void 0,"%TypeError%":m,"%TypeErrorPrototype%":m.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype};u=a(265).call(Function.call,String.prototype.replace);y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;B=/\\(\\)?/g;g.P=function(a,d){var f,c,p;if("string"!==typeof a||0===a.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!==typeof d)throw new TypeError('"allowMissing" argument must be a boolean');f=b(a);c="%"+(0<f.length?f[0]:"")+"%";if(!(c in t))throw new SyntaxError("intrinsic "+c+" does not exist!");if("undefined"===typeof t[c]&&!d)throw new m("intrinsic "+c+" exists, but is not available. Please file an issue!");c=t[c];for(var k=1;k<f.length;k+=1)if(null!=c)if(q&&k+1>=f.length){p=q(c,f[k]);if(!(d||f[k]in c))throw new m("base intrinsic for "+a+" exists, but the property is not available.");c=p?p.get||p.value:c[f[k]];}else c=c[f[k]];return c;};},function(g,c,a){c=a(1124);g.P=Function.prototype.bind||c;},function(g,c,a){var q;function b(a,b,f,c,g,m,q){this.HO=c;this.AIa=a;this.nBa=b;this.pba=f;this.ukb=m;this.hx=q;this.split=g;}function f(){this.H={};this.H["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new b("7","8","7","10","1.5",0,0);this.H["7"]=new b("15","16","15","9","4.5",0,0);this.H["15"]=new b("31","32","31","2","5.5",0,0);this.H["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new b("123","124","123","0","0",1,.207298);this.H["124"]=new b("123","124","123","0","0",1,.49076);this.H["64"]=new b("125","126","125","4","40.5",0,0);this.H["125"]=new b("125","126","125","0","0",1,-.00157835);this.H["126"]=new b("125","126","125","0","0",1,.934205);this.H["32"]=new b("65","66","65","135","5.5",0,0);this.H["65"]=new b("127","128","128","4","1272.5",0,0);this.H["127"]=new b("127","128","128","0","0",1,-.510333);this.H["128"]=new b("127","128","128","0","0",1,.18363);this.H["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new b("129","130","129","0","0",1,-.0464542);this.H["130"]=new b("129","130","129","0","0",1,.458833);this.H["16"]=new b("33","34","34","10","2.00001",0,0);this.H["33"]=new b("67","68","67","0","29.5",0,0);this.H["67"]=new b("131","132","131","2","39.5",0,0);this.H["131"]=new b("131","132","131","0","0",1,-.37577);this.H["132"]=new b("131","132","131","0","0",1,.512087);this.H["68"]=new b("133","134","134","140","1.5",0,0);this.H["133"]=new b("133","134","134","0","0",1,.321272);this.H["134"]=new b("133","134","134","0","0",1,-.675396);this.H["34"]=new b("69","70","70","2","24.5",0,0);this.H["69"]=new b("135","136","136","9","28.5",0,0);this.H["135"]=new b("135","136","136","0","0",1,-.0573845);this.H["136"]=new b("135","136","136","0","0",1,-.507455);this.H["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new b("137","138","137","0","0",1,-.503909);this.H["138"]=new b("137","138","137","0","0",1,.450886);this.H["8"]=new b("17","18","17","4","44189.5",0,0);this.H["17"]=new b("35","36","35","2","21.5",0,0);this.H["35"]=new b("71","72","72","0","19.5",0,0);this.H["71"]=new b("139","140","140","9","2.5",0,0);this.H["139"]=new b("139","140","140","0","0",1,.00403497);this.H["140"]=new b("139","140","140","0","0",1,-.312656);this.H["72"]=new b("141","142","141","135","96",0,0);this.H["141"]=new b("141","142","141","0","0",1,-.465786);this.H["142"]=new b("141","142","141","0","0",1,.159633);this.H["36"]=new b("73","74","73","130","89.5",0,0);this.H["73"]=new b("143","144","144","10","4.5",0,0);this.H["143"]=new b("143","144","144","0","0",1,-.76265);this.H["144"]=new b("143","144","144","0","0",1,-.580804);this.H["74"]=new b("145","146","146","10","16.5",0,0);this.H["145"]=new b("145","146","146","0","0",1,.296357);this.H["146"]=new b("145","146","146","0","0",1,-.691659);this.H["18"]=new b("37","38","38","9","1.5",0,0);this.H["37"]=new b("37","38","38","0","0",1,.993951);this.H["38"]=new b("75","76","75","0","19",0,0);this.H["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new b("147","148","147","0","0",1,-.346535);this.H["148"]=new b("147","148","147","0","0",1,-.995745);this.H["76"]=new b("147","148","147","0","0",1,-.99978);this.H["4"]=new b("9","10","9","5","4.5",0,0);this.H["9"]=new b("19","20","19","2","4.5",0,0);this.H["19"]=new b("39","40","39","140","7.5",0,0);this.H["39"]=new b("77","78","78","134","6.5",0,0);this.H["77"]=new b("149","150","150","7","11.5",0,0);this.H["149"]=new b("149","150","150","0","0",1,.729843);this.H["150"]=new b("149","150","150","0","0",1,.383857);this.H["78"]=new b("151","152","151","133","4.5",0,0);this.H["151"]=new b("151","152","151","0","0",1,.39017);this.H["152"]=new b("151","152","151","0","0",1,.0434342);this.H["40"]=new b("79","80","79","133","3.5",0,0);this.H["79"]=new b("153","154","154","8","4.5",0,0);this.H["153"]=new b("153","154","154","0","0",1,-.99536);this.H["154"]=new b("153","154","154","0","0",1,-.00943396);this.H["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new b("155","156","155","0","0",1,.266272);this.H["156"]=new b("155","156","155","0","0",1,.959904);this.H["20"]=new b("41","42","42","10","65.5",0,0);this.H["41"]=new b("81","82","82","7","10.5",0,0);this.H["81"]=new b("157","158","158","2","37.5",0,0);this.H["157"]=new b("157","158","158","0","0",1,-.701873);this.H["158"]=new b("157","158","158","0","0",1,.224649);this.H["82"]=new b("159","160","159","133","9.5",0,0);this.H["159"]=new b("159","160","159","0","0",1,.0955181);this.H["160"]=new b("159","160","159","0","0",1,-.58962);this.H["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new b("161","162","161","135","31",0,0);this.H["161"]=new b("161","162","161","0","0",1,-.229692);this.H["162"]=new b("161","162","161","0","0",1,.88595);this.H["84"]=new b("163","164","164","1","13.5",0,0);this.H["163"]=new b("163","164","164","0","0",1,-.992157);this.H["164"]=new b("163","164","164","0","0",1,.922159);this.H["10"]=new b("21","22","22","4","486",0,0);this.H["21"]=new b("43","44","44","133","4.5",0,0);this.H["43"]=new b("85","86","86","10","4.5",0,0);this.H["85"]=new b("165","166","166","4","158.5",0,0);this.H["165"]=new b("165","166","166","0","0",1,-.127778);this.H["166"]=new b("165","166","166","0","0",1,.955189);this.H["86"]=new b("165","166","166","0","0",1,-.994012);this.H["44"]=new b("87","88","88","1","3.5",0,0);this.H["87"]=new b("167","168","168","135","7",0,0);this.H["167"]=new b("167","168","168","0","0",1,-.997015);this.H["168"]=new b("167","168","168","0","0",1,.400821);this.H["88"]=new b("169","170","169","130","36",0,0);this.H["169"]=new b("169","170","169","0","0",1,-.898638);this.H["170"]=new b("169","170","169","0","0",1,.56129);this.H["22"]=new b("45","46","45","9","2.5",0,0);this.H["45"]=new b("89","90","90","9","1.5",0,0);this.H["89"]=new b("171","172","171","10","10.5",0,0);this.H["171"]=new b("171","172","171","0","0",1,.573986);this.H["172"]=new b("171","172","171","0","0",1,-.627266);this.H["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new b("173","174","173","0","0",1,.925273);this.H["174"]=new b("173","174","173","0","0",1,-.994805);this.H["46"]=new b("91","92","91","136","5.5",0,0);this.H["91"]=new b("175","176","175","10","10.5",0,0);this.H["175"]=new b("175","176","175","0","0",1,.548352);this.H["176"]=new b("175","176","175","0","0",1,-.879195);this.H["92"]=new b("177","178","178","8","14.5",0,0);this.H["177"]=new b("177","178","178","0","0",1,.457305);this.H["178"]=new b("177","178","178","0","0",1,-.998992);this.H["2"]=new b("5","6","5","10","2.5",0,0);this.H["5"]=new b("11","12","11","9","4.5",0,0);this.H["11"]=new b("23","24","24","10","4.00001",0,0);this.H["23"]=new b("47","48","48","133","5.5",0,0);this.H["47"]=new b("93","94","93","3","13.5",0,0);this.H["93"]=new b("179","180","179","138","15.5",0,0);this.H["179"]=new b("179","180","179","0","0",1,.658398);this.H["180"]=new b("179","180","179","0","0",1,-.927007);this.H["94"]=new b("181","182","182","3","15.5",0,0);this.H["181"]=new b("181","182","182","0","0",1,-.111351);this.H["182"]=new b("181","182","182","0","0",1,-.99827);this.H["48"]=new b("95","96","95","7","167",0,0);this.H["95"]=new b("183","184","183","132","36.5",0,0);this.H["183"]=new b("183","184","183","0","0",1,.895161);this.H["184"]=new b("183","184","183","0","0",1,-.765217);this.H["96"]=new b("185","186","186","137","6.00001",0,0);this.H["185"]=new b("185","186","186","0","0",1,-.851095);this.H["186"]=new b("185","186","186","0","0",1,.674286);this.H["24"]=new b("49","50","49","137","5.5",0,0);this.H["49"]=new b("97","98","97","5","23.5",0,0);this.H["97"]=new b("187","188","187","3","28.5",0,0);this.H["187"]=new b("187","188","187","0","0",1,.951654);this.H["188"]=new b("187","188","187","0","0",1,-.993808);this.H["98"]=new b("187","188","187","0","0",1,-.99705);this.H["50"]=new b("187","188","187","0","0",1,-.997525);this.H["12"]=new b("25","26","25","8","8.5",0,0);this.H["25"]=new b("51","52","52","10","4.00001",0,0);this.H["51"]=new b("99","100","100","133","5.5",0,0);this.H["99"]=new b("189","190","190","7","40.5",0,0);this.H["189"]=new b("189","190","190","0","0",1,.151839);this.H["190"]=new b("189","190","190","0","0",1,-.855517);this.H["100"]=new b("191","192","192","133","14.5",0,0);this.H["191"]=new b("191","192","192","0","0",1,.86223);this.H["192"]=new b("191","192","192","0","0",1,.544394);this.H["52"]=new b("101","102","101","135","47.5",0,0);this.H["101"]=new b("193","194","194","4","24.5",0,0);this.H["193"]=new b("193","194","194","0","0",1,.946185);this.H["194"]=new b("193","194","194","0","0",1,.811859);this.H["102"]=new b("193","194","194","0","0",1,-.991561);this.H["26"]=new b("53","54","54","132","6.5",0,0);this.H["53"]=new b("103","104","103","131","85",0,0);this.H["103"]=new b("195","196","196","134","16.5",0,0);this.H["195"]=new b("195","196","196","0","0",1,.0473538);this.H["196"]=new b("195","196","196","0","0",1,-.999401);this.H["104"]=new b("197","198","198","8","15.5",0,0);this.H["197"]=new b("197","198","198","0","0",1,.816129);this.H["198"]=new b("197","198","198","0","0",1,-.99322);this.H["54"]=new b("105","106","105","133","3.5",0,0);this.H["105"]=new b("105","106","105","0","0",1,-.998783);this.H["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new b("199","200","199","0","0",1,.528588);this.H["200"]=new b("199","200","199","0","0",1,-.998599);this.H["6"]=new b("13","14","14","10","7.5",0,0);this.H["13"]=new b("27","28","28","133","7.5",0,0);this.H["27"]=new b("55","56","56","10","4.5",0,0);this.H["55"]=new b("107","108","107","3","3.5",0,0);this.H["107"]=new b("201","202","201","4","17.5",0,0);this.H["201"]=new b("201","202","201","0","0",1,-.379512);this.H["202"]=new b("201","202","201","0","0",1,.15165);this.H["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new b("203","204","203","0","0",1,-.884606);this.H["204"]=new b("203","204","203","0","0",1,.265406);this.H["56"]=new b("109","110","109","136","6.5",0,0);this.H["109"]=new b("205","206","205","4","157.5",0,0);this.H["205"]=new b("205","206","205","0","0",1,-.0142737);this.H["206"]=new b("205","206","205","0","0",1,.691279);this.H["110"]=new b("205","206","205","0","0",1,-.998086);this.H["28"]=new b("57","58","58","138","11.5",0,0);this.H["57"]=new b("111","112","112","2","6.5",0,0);this.H["111"]=new b("207","208","208","7","67.5",0,0);this.H["207"]=new b("207","208","208","0","0",1,.763925);this.H["208"]=new b("207","208","208","0","0",1,-.309645);this.H["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new b("209","210","209","0","0",1,-.306635);this.H["210"]=new b("209","210","209","0","0",1,.556696);this.H["58"]=new b("113","114","113","138","50.5",0,0);this.H["113"]=new b("211","212","212","8","25.5",0,0);this.H["211"]=new b("211","212","212","0","0",1,.508234);this.H["212"]=new b("211","212","212","0","0",1,.793551);this.H["114"]=new b("211","212","212","0","0",1,-.998438);this.H["14"]=new b("29","30","29","134","27.5",0,0);this.H["29"]=new b("59","60","60","7","17.5",0,0);this.H["59"]=new b("115","116","115","135","5.5",0,0);this.H["115"]=new b("213","214","214","137","5.5",0,0);this.H["213"]=new b("213","214","214","0","0",1,.401747);this.H["214"]=new b("213","214","214","0","0",1,.0367503);this.H["116"]=new b("215","216","216","8","5.5",0,0);this.H["215"]=new b("215","216","216","0","0",1,-.0241984);this.H["216"]=new b("215","216","216","0","0",1,-.999046);this.H["60"]=new b("117","118","117","0","12.5",0,0);this.H["117"]=new b("217","218","218","132","5.5",0,0);this.H["217"]=new b("217","218","218","0","0",1,-.997294);this.H["218"]=new b("217","218","218","0","0",1,.210398);this.H["118"]=new b("219","220","219","137","1.5",0,0);this.H["219"]=new b("219","220","219","0","0",1,-.55763);this.H["220"]=new b("219","220","219","0","0",1,.074493);this.H["30"]=new b("61","62","62","133","42.5",0,0);this.H["61"]=new b("119","120","119","135","5.5",0,0);this.H["119"]=new b("221","222","222","4","473.5",0,0);this.H["221"]=new b("221","222","222","0","0",1,-.920213);this.H["222"]=new b("221","222","222","0","0",1,-.17615);this.H["120"]=new b("223","224","224","5","144",0,0);this.H["223"]=new b("223","224","224","0","0",1,-.954295);this.H["224"]=new b("223","224","224","0","0",1,-.382538);this.H["62"]=new b("121","122","121","133","50",0,0);this.H["121"]=new b("225","226","226","10","18.5",0,0);this.H["225"]=new b("225","226","226","0","0",1,-.0731343);this.H["226"]=new b("225","226","226","0","0",1,.755454);this.H["122"]=new b("227","228","228","0","30",0,0);this.H["227"]=new b("227","228","228","0","0",1,.25);this.H["228"]=new b("227","228","228","0","0",1,-.997101);}function m(a,b,f,c,g,m){this.vY=g;this.fT=m;}c=a(293);q=a(182);a={};a.r3a=new function(){this.AYa=q();this.o=0;this.update=function(){this.o=q()-this.AYa;};this.getValue=function(){return this.o;};this.type="num";}();a.clb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouAdded"===f.ya[a].context||null;};this.type="cat";}();a.dlb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouLiked"===f.ya[a].context||null;};this.type="cat";}();a.flb=new function(){this.getValue=function(a,b,f){return this.o="billboard"===f.ya[a].context||null;};this.type="cat";}();a.glb=new function(){this.getValue=function(a,b,f){return this.o="continueWatching"===f.ya[a].context||null;};this.type="cat";}();a.elb=new function(){this.getValue=function(a,b,f){return this.o="bigRow"===f.ya[a].context||null;};this.type="cat";}();a.hlb=new function(){this.getValue=function(a,b,f){return this.o="genre"===f.ya[a].context||null;};this.type="cat";}();a.ilb=new function(){this.getValue=function(a,b,f){return this.o="netflixOriginals"===f.ya[a].context||null;};this.type="cat";}();a.jlb=new function(){this.getValue=function(a,b,f){return this.o="newRelease"===f.ya[a].context||null;};this.type="cat";}();a.klb=new function(){this.getValue=function(a,b,f){return this.o="popularTitles"===f.ya[a].context||null;};this.type="cat";}();a.llb=new function(){this.getValue=function(a,b,f){return this.o="queue"===f.ya[a].context||null;};this.type="cat";}();a.mlb=new function(){this.getValue=function(a,b,f){return this.o="recentlyAdded"===f.ya[a].context||null;};this.type="cat";}();a.nlb=new function(){this.getValue=function(a,b,f){return this.o="similars"===f.ya[a].context||null;};this.type="cat";}();a.plb=new function(){this.getValue=function(a,b,f){return this.o="trendingNow"===f.ya[a].context||null;};this.type="cat";}();a.qlb=new function(){this.getValue=function(a,b,f){return this.o="ultraHD"===f.ya[a].context||null;};this.type="cat";}();a.rlb=new function(){this.getValue=function(a,b,f){return this.o="watchAgain"===f.ya[a].context||null;};this.type="cat";}();a.olb=new function(){this.getValue=function(a,b,f){return this.o="topTen"===f.ya[a].context||null;};this.type="cat";}();a.b4a=new function(){this.update=function(a){for(var d in a.ya)if("becauseYouAdded"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.c4a=new function(){this.update=function(a){for(var d in a.ya)if("becauseYouLiked"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.f4a=new function(){this.update=function(a){for(var d in a.ya)if("billboard"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.G6a=new function(){this.update=function(a){for(var d in a.ya)if("continueWatching"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.e4a=new function(){this.update=function(a){for(var d in a.ya)if("bigRow"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Idb=new function(){this.update=function(a){for(var d in a.ya)if("genre"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.pob=new function(){this.update=function(a){for(var d in a.ya)if("netflixOriginals"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.tob=new function(){this.update=function(a){for(var d in a.ya)if("newRelease"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.wrb=new function(){this.update=function(a){for(var d in a.ya)if("popularTitles"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ph=new function(){this.update=function(a){for(var d in a.ya)if("queue"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.etb=new function(){this.update=function(a){for(var d in a.ya)if("recentlyAdded"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.cxb=new function(){this.update=function(a){for(var d in a.ya)if("similars"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.wzb=new function(){this.update=function(a){for(var d in a.ya)if("trendingNow"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Kzb=new function(){this.update=function(a){for(var d in a.ya)if("ultraHD"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.sBb=new function(){this.update=function(a){for(var d in a.ya)if("watchAgain"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.gzb=new function(){this.update=function(a){for(var d in a.ya)if("topTen"===a.ya[d].context){this.o=Math.max(a.ya[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.S6a=new function(){this.getValue=function(a,b,f){return this.o="AR"===f.za||null;};this.type="cat";}();a.T6a=new function(){this.getValue=function(a,b,f){return this.o="AT"===f.za||null;};this.type="cat";}();a.U6a=new function(){this.getValue=function(a,b,f){return this.o="AU"===f.za||null;};this.type="cat";}();a.V6a=new function(){this.getValue=function(a,b,f){return this.o="AZ"===f.za||null;};this.type="cat";}();a.W6a=new function(){this.getValue=function(a,b,f){return this.o="BB"===f.za||null;};this.type="cat";}();a.X6a=new function(){this.getValue=function(a,b,f){return this.o="BE"===f.za||null;};this.type="cat";}();a.Y6a=new function(){this.getValue=function(a,b,f){return this.o="BO"===f.za||null;};this.type="cat";}();a.Z6a=new function(){this.getValue=function(a,b,f){return this.o="BR"===f.za||null;};this.type="cat";}();a.$6a=new function(){this.getValue=function(a,b,f){return this.o="BS"===f.za||null;};this.type="cat";}();a.a7a=new function(){this.getValue=function(a,b,f){return this.o="CA"===f.za||null;};this.type="cat";}();a.b7a=new function(){this.getValue=function(a,b,f){return this.o="CH"===f.za||null;};this.type="cat";}();a.c7a=new function(){this.getValue=function(a,b,f){return this.o="CL"===f.za||null;};this.type="cat";}();a.d7a=new function(){this.getValue=function(a,b,f){return this.o="CO"===f.za||null;};this.type="cat";}();a.e7a=new function(){this.getValue=function(a,b,f){return this.o="CR"===f.za||null;};this.type="cat";}();a.f7a=new function(){this.getValue=function(a,b,f){return this.o="CW"===f.za||null;};this.type="cat";}();a.g7a=new function(){this.getValue=function(a,b,f){return this.o="DE"===f.za||null;};this.type="cat";}();a.h7a=new function(){this.getValue=function(a,b,f){return this.o="DK"===f.za||null;};this.type="cat";}();a.i7a=new function(){this.getValue=function(a,b,f){return this.o="DM"===f.za||null;};this.type="cat";}();a.j7a=new function(){this.getValue=function(a,b,f){return this.o="DO"===f.za||null;};this.type="cat";}();a.k7a=new function(){this.getValue=function(a,b,f){return this.o="EC"===f.za||null;};this.type="cat";}();a.l7a=new function(){this.getValue=function(a,b,f){return this.o="EE"===f.za||null;};this.type="cat";}();a.m7a=new function(){this.getValue=function(a,b,f){return this.o="EG"===f.za||null;};this.type="cat";}();a.n7a=new function(){this.getValue=function(a,b,f){return this.o="ES"===f.za||null;};this.type="cat";}();a.o7a=new function(){this.getValue=function(a,b,f){return this.o="FI"===f.za||null;};this.type="cat";}();a.p7a=new function(){this.getValue=function(a,b,f){return this.o="FR"===f.za||null;};this.type="cat";}();a.q7a=new function(){this.getValue=function(a,b,f){return this.o="GB"===f.za||null;};this.type="cat";}();a.r7a=new function(){this.getValue=function(a,b,f){return this.o="GF"===f.za||null;};this.type="cat";}();a.s7a=new function(){this.getValue=function(a,b,f){return this.o="GP"===f.za||null;};this.type="cat";}();a.t7a=new function(){this.getValue=function(a,b,f){return this.o="GT"===f.za||null;};this.type="cat";}();a.u7a=new function(){this.getValue=function(a,b,f){return this.o="HK"===f.za||null;};this.type="cat";}();a.v7a=new function(){this.getValue=function(a,b,f){return this.o="HN"===f.za||null;};this.type="cat";}();a.w7a=new function(){this.getValue=function(a,b,f){return this.o="HR"===f.za||null;};this.type="cat";}();a.x7a=new function(){this.getValue=function(a,b,f){return this.o="HU"===f.za||null;};this.type="cat";}();a.y7a=new function(){this.getValue=function(a,b,f){return this.o="ID"===f.za||null;};this.type="cat";}();a.z7a=new function(){this.getValue=function(a,b,f){return this.o="IE"===f.za||null;};this.type="cat";}();a.A7a=new function(){this.getValue=function(a,b,f){return this.o="IL"===f.za||null;};this.type="cat";}();a.B7a=new function(){this.getValue=function(a,b,f){return this.o="IN"===f.za||null;};this.type="cat";}();a.C7a=new function(){this.getValue=function(a,b,f){return this.o="IT"===f.za||null;};this.type="cat";}();a.D7a=new function(){this.getValue=function(a,b,f){return this.o="JE"===f.za||null;};this.type="cat";}();a.E7a=new function(){this.getValue=function(a,b,f){return this.o="JM"===f.za||null;};this.type="cat";}();a.F7a=new function(){this.getValue=function(a,b,f){return this.o="JP"===f.za||null;};this.type="cat";}();a.G7a=new function(){this.getValue=function(a,b,f){return this.o="KE"===f.za||null;};this.type="cat";}();a.H7a=new function(){this.getValue=function(a,b,f){return this.o="KN"===f.za||null;};this.type="cat";}();a.I7a=new function(){this.getValue=function(a,b,f){return this.o="KR"===f.za||null;};this.type="cat";}();a.J7a=new function(){this.getValue=function(a,b,f){return this.o="LU"===f.za||null;};this.type="cat";}();a.K7a=new function(){this.getValue=function(a,b,f){return this.o="MK"===f.za||null;};this.type="cat";}();a.L7a=new function(){this.getValue=function(a,b,f){return this.o="MU"===f.za||null;};this.type="cat";}();a.M7a=new function(){this.getValue=function(a,b,f){return this.o="MX"===f.za||null;};this.type="cat";}();a.N7a=new function(){this.getValue=function(a,b,f){return this.o="MY"===f.za||null;};this.type="cat";}();a.O7a=new function(){this.getValue=function(a,b,f){return this.o="NI"===f.za||null;};this.type="cat";}();a.P7a=new function(){this.getValue=function(a,b,f){return this.o="NL"===f.za||null;};this.type="cat";}();a.Q7a=new function(){this.getValue=function(a,b,f){return this.o="NO"===f.za||null;};this.type="cat";}();a.R7a=new function(){this.getValue=function(a,b,f){return this.o="NZ"===f.za||null;};this.type="cat";}();a.S7a=new function(){this.getValue=function(a,b,f){return this.o="OM"===f.za||null;};this.type="cat";}();a.T7a=new function(){this.getValue=function(a,b,f){return this.o="PA"===f.za||null;};this.type="cat";}();a.U7a=new function(){this.getValue=function(a,b,f){return this.o="PE"===f.za||null;};this.type="cat";}();a.V7a=new function(){this.getValue=function(a,b,f){return this.o="PF"===f.za||null;};this.type="cat";}();a.W7a=new function(){this.getValue=function(a,b,f){return this.o="PH"===f.za||null;};this.type="cat";}();a.X7a=new function(){this.getValue=function(a,b,f){return this.o="PK"===f.za||null;};this.type="cat";}();a.Y7a=new function(){this.getValue=function(a,b,f){return this.o="PL"===f.za||null;};this.type="cat";}();a.Z7a=new function(){this.getValue=function(a,b,f){return this.o="PT"===f.za||null;};this.type="cat";}();a.$7a=new function(){this.getValue=function(a,b,f){return this.o="PY"===f.za||null;};this.type="cat";}();a.a8a=new function(){this.getValue=function(a,b,f){return this.o="QA"===f.za||null;};this.type="cat";}();a.b8a=new function(){this.getValue=function(a,b,f){return this.o="RO"===f.za||null;};this.type="cat";}();a.c8a=new function(){this.getValue=function(a,b,f){return this.o="RS"===f.za||null;};this.type="cat";}();a.d8a=new function(){this.getValue=function(a,b,f){return this.o="RU"===f.za||null;};this.type="cat";}();a.e8a=new function(){this.getValue=function(a,b,f){return this.o="SA"===f.za||null;};this.type="cat";}();a.f8a=new function(){this.getValue=function(a,b,f){return this.o="SE"===f.za||null;};this.type="cat";}();a.g8a=new function(){this.getValue=function(a,b,f){return this.o="SG"===f.za||null;};this.type="cat";}();a.h8a=new function(){this.getValue=function(a,b,f){return this.o="SV"===f.za||null;};this.type="cat";}();a.i8a=new function(){this.getValue=function(a,b,f){return this.o="SX"===f.za||null;};this.type="cat";}();a.j8a=new function(){this.getValue=function(a,b,f){return this.o="TH"===f.za||null;};this.type="cat";}();a.k8a=new function(){this.getValue=function(a,b,f){return this.o="TR"===f.za||null;};this.type="cat";}();a.l8a=new function(){this.getValue=function(a,b,f){return this.o="TT"===f.za||null;};this.type="cat";}();a.m8a=new function(){this.getValue=function(a,b,f){return this.o="TW"===f.za||null;};this.type="cat";}();a.n8a=new function(){this.getValue=function(a,b,f){return this.o="US"===f.za||null;};this.type="cat";}();a.o8a=new function(){this.getValue=function(a,b,f){return this.o="UY"===f.za||null;};this.type="cat";}();a.p8a=new function(){this.getValue=function(a,b,f){return this.o="VE"===f.za||null;};this.type="cat";}();a.q8a=new function(){this.getValue=function(a,b,f){return this.o="ZA"===f.za||null;};this.type="cat";}();a.htb=new function(){this.getValue=function(a,b,f){return this.o=1===f.wg||null;};this.type="cat";}();a.itb=new function(){this.getValue=function(a,b,f){return this.o=10===f.wg||null;};this.type="cat";}();a.jtb=new function(){this.getValue=function(a,b,f){return this.o=11===f.wg||null;};this.type="cat";}();a.ktb=new function(){this.getValue=function(a,b,f){return this.o=12===f.wg||null;};this.type="cat";}();a.ltb=new function(){this.getValue=function(a,b,f){return this.o=13===f.wg||null;};this.type="cat";}();a.mtb=new function(){this.getValue=function(a,b,f){return this.o=14===f.wg||null;};this.type="cat";}();a.ntb=new function(){this.getValue=function(a,b,f){return this.o=15===f.wg||null;};this.type="cat";}();a.otb=new function(){this.getValue=function(a,b,f){return this.o=16===f.wg||null;};this.type="cat";}();a.ptb=new function(){this.getValue=function(a,b,f){return this.o=17===f.wg||null;};this.type="cat";}();a.qtb=new function(){this.getValue=function(a,b,f){return this.o=18===f.wg||null;};this.type="cat";}();a.rtb=new function(){this.getValue=function(a,b,f){return this.o=19===f.wg||null;};this.type="cat";}();a.stb=new function(){this.getValue=function(a,b,f){return this.o=2===f.wg||null;};this.type="cat";}();a.ttb=new function(){this.getValue=function(a,b,f){return this.o=20===f.wg||null;};this.type="cat";}();a.utb=new function(){this.getValue=function(a,b,f){return this.o=21===f.wg||null;};this.type="cat";}();a.vtb=new function(){this.getValue=function(a,b,f){return this.o=22===f.wg||null;};this.type="cat";}();a.wtb=new function(){this.getValue=function(a,b,f){return this.o=23===f.wg||null;};this.type="cat";}();a.xtb=new function(){this.getValue=function(a,b,f){return this.o=3===f.wg||null;};this.type="cat";}();a.ytb=new function(){this.getValue=function(a,b,f){return this.o=4===f.wg||null;};this.type="cat";}();a.ztb=new function(){this.getValue=function(a,b,f){return this.o=5===f.wg||null;};this.type="cat";}();a.Atb=new function(){this.getValue=function(a,b,f){return this.o=6===f.wg||null;};this.type="cat";}();a.Btb=new function(){this.getValue=function(a,b,f){return this.o=7===f.wg||null;};this.type="cat";}();a.Ctb=new function(){this.getValue=function(a,b,f){return this.o=8===f.wg||null;};this.type="cat";}();a.Dtb=new function(){this.getValue=function(a,b,f){return this.o=9===f.wg||null;};this.type="cat";}();a.kyb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.myb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.lyb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.nyb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Qmb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.Tmb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.K5);};this.getValue=function(){return this.o;};this.type="num";}();a.Zmb=new function(){this.kI=this.o=0;this.update=function(a){this.kI++;this.o=1*(this.o+a.rowIndex)/this.kI;};this.getValue=function(){return this.o;};this.type="num";}();a.$mb=new function(){this.kI=this.o=0;this.update=function(a){this.kI++;return this.o=1*(this.o+a.K5)/this.kI;};this.getValue=function(){return this.o;};this.type="num";}();a.Urb=new function(){this.getValue=function(a,b,f){return this.o=f.K5+b;};this.type="num";}();a.Vrb=new function(){this.getValue=function(a,b,f){return this.o=f.rowIndex+a;};this.type="num";}();f.prototype.hx=function(a){return this.spa(this.H["0"].UEa(a),a);};f.prototype.spa=function(a,b){return"string"==typeof a?this.spa(this.H[a].UEa(b),b):a;};b.prototype.UEa=function(a){switch(this.ukb){case 0:switch(a.md[this.HO].type){case"cat":return null===a.md[this.HO].value?this.nBa:"missing"==a.md[this.HO].value?this.pba:this.AIa;case"num":return null===a.md[this.HO].value?this.pba:a.md[this.HO].value<this.split?this.AIa:this.nBa;default:return this.pba;}case 1:return this.hx;default:return this.hx;}};c.declare({sM:["modelSelector","modelone"],Y5a:["colEpisodeList",5],xib:["holdDuration",15E3],GEa:["rowFirst",2],gsa:["colFirst",5],IEa:["rowScroll",2],hsa:["colScroll",6],Iub:["rowScrollHorizontal",6],bvb:["searchTop",3],Zsa:["cwFirst",2],tL:["horizontalItemsFocusedMode",3],wkb:["itemsPerRank",1],Mmb:["maxNumberPayloadsStored",10],oAa:["maxNumberTitlesScheduled",5],$Mb:["enableDetailedLogging",!0],TQb:["rowStep",20],XLb:["colStep",15],hQb:["pageRows",100],gQb:["pageColumns",75],Paa:["maskParamsList",new function(){var a,b;this.Paa=[];this.rj={};this.vY=20;this.fT=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.vY)+"_"+Math.floor(b/this.fT)in this.rj||(this.rj[Math.floor(a/this.vY)+"_"+Math.floor(b/this.fT)]=1,this.Paa.push(new m(0,0,0,0,Math.floor(a/this.vY),Math.floor(b/this.fT))));}().Paa],H:["nodes",new f().H],mapping:["mapping",{Tmb:"0",$mb:"1",Qmb:"2",Zmb:"3",r3a:"4",nyb:"5",lyb:"6",myb:"7",kyb:"8",Vrb:"9",Urb:"10",clb:"11",dlb:"12",flb:"13",glb:"14",elb:"15",hlb:"16",ilb:"17",jlb:"18",klb:"19",llb:"20",mlb:"21",nlb:"22",olb:"23",plb:"24",qlb:"25",rlb:"26",htb:"27",itb:"28",jtb:"29",ktb:"30",ltb:"31",mtb:"32",ntb:"33",otb:"34",ptb:"35",qtb:"36",rtb:"37",stb:"38",ttb:"39",utb:"40",vtb:"41",wtb:"42",xtb:"43",ytb:"44",ztb:"45",Atb:"46",Btb:"47",Ctb:"48",Dtb:"49",S6a:"50",T6a:"51",U6a:"52",V6a:"53",W6a:"54",X6a:"55",Y6a:"56",Z6a:"57",$6a:"58",a7a:"59",b7a:"60",c7a:"61",d7a:"62",e7a:"63",f7a:"64",g7a:"65",h7a:"66",i7a:"67",j7a:"68",k7a:"69",l7a:"70",m7a:"71",n7a:"72",o7a:"73",p7a:"74",q7a:"75",r7a:"76",s7a:"77",t7a:"78",u7a:"79",v7a:"80",w7a:"81",x7a:"82",y7a:"83",z7a:"84",A7a:"85",B7a:"86",C7a:"87",D7a:"88",E7a:"89",F7a:"90",G7a:"91",H7a:"92",I7a:"93",J7a:"94",K7a:"95",L7a:"96",M7a:"97",N7a:"98",O7a:"99",P7a:"100",Q7a:"101",R7a:"102",S7a:"103",T7a:"104",U7a:"105",V7a:"106",W7a:"107",X7a:"108",Y7a:"109",Z7a:"110",$7a:"111",a8a:"112",b8a:"113",c8a:"114",d8a:"115",e8a:"116",f8a:"117",g8a:"118",h8a:"119",i8a:"120",j8a:"121",k8a:"122",l8a:"123",m8a:"124",n8a:"125",o8a:"126",p8a:"127",q8a:"128",sBb:"129",etb:"130",cxb:"131",ph:"132",G6a:"133",Idb:"134",wzb:"135",gzb:"136",f4a:"137",tob:"138",Kzb:"139",wrb:"140",b4a:"141",e4a:"142",c4a:"143",pob:"144"}],md:["features",a],NKb:["_modelName","tree"],EKb:["_format","xgboost"],MKb:["_itemsToKeep",5],LKb:["_itemsThreshold",null],CLb:["cacheLimit",20]});g.P={config:c,nPb:m,mMb:b};},function(g,c,a){var f;function b(a){for(var b="",d=0;d<a.length;d++)b+=a[d].wa+"|";return b;}f=a(181);g.P={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},vOb:function(a,b,d){Array.prototype.splice.apply(a,[b,0].concat(d));},ueb:function(a){for(var b=[],d=0;d<a.length;d++)if(a[d].context===f.qH.NKa){b=a[d].list;break;}return b;},deb:function(a){for(var b=[],d=0;d<a.length;d++)if(a[d].context===f.qH.IJa){b=a[d].list;break;}return b;},D$a:function(a,f){for(var d=0,c,p,g,m=0,q=a.length-1;m<q;m++){c=b(a[m].list||[]);g=!1;for(var B=0,x=f.length;B<x;B++)if(p=b(f[B].list||[]),p==c){g=!0;break;}if(!1===g){d=m;break;}}return d;},mpb:function(a,b,d){for(var f=[],c,g=0;g<Math.min(b,a.length);g++)c=a[g].list||[],f=f.concat(c.slice(0,d));return f;},lpb:function(a,b){for(var d=[],f,c=0;c<a.length&&(f=a[c].list||[],f=f.slice(0,Math.min(f.length,b)),b-=f.length,d=d.concat(f),0!==b);c++);return d;},kpb:function(a,b,d){var f;b<a.length&&0<=b&&(a=a[b].list||[],d<a.length&&(f=a[d]));return f;},cva:function(a){for(var b={},d=a.length,c,p=0;p<d;p++){c=a[p].list||[];for(var g=0;g<c.length;g++)if(c[g].property===f.DB.HH||c[g].property===f.DB.iha){b.di=p;b.Pj=g;break;}}void 0===b.di&&void 0===b.Pj&&(b.di=0,b.Pj=0);return b;}};},function(g,c,a){var b,f,m,q,d,k,p,t,u,y,B,x,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(73);f=a(11);m=a(12);q=a(38);d=a(30);k=a(44);p=a(5);t=a(2);u=a(19);y=a(117);B=a(9);x=a(120);h=a(23);c.kzb=function(){var g,H,l,n;function a(a){var d,b,f;d="info";b="";f=p.$.get(y.jy).Bwa();a.Z||(d="error",b+="&errorcode="+(a.errorCode||""),b+="&errorsubcode="+(a.ba||""));b="type=startup&sev="+d+b+"&"+q.EM(u.cb({},f,{prefix:"m_"}));c("startup",b,g);}function c(a,c,k){k&&H&&m.config.jHa[a]&&(a=l+"&jsoffms="+d.Lg()+"&do="+B.$k.onLine+"&"+c+"&"+q.EM(u.cb({},n.Hc,{prefix:"im_"})),b.Af.download({url:k,Bca:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},OD:"track"},f.Le));}l="cat=cadplayback&dev="+encodeURIComponent(k.RLa)+"&ep="+encodeURIComponent(k.bh.L_)+"&ver="+encodeURIComponent("6.0022.162.011")+"&jssid="+d.hja;p.qg("TrackingLog");n=p.$.get(h.rf);l=l+("&browserua="+B.pk);n.register(t.I.Sia,function(b){var d,c;g=p.$.get(x.lB).host+m.config.Dfa;if(H=m.config.iHa&&!!m.config.Dfa){m.config.ww&&(l+="&groupname="+encodeURIComponent(m.config.ww));m.config.dB&&(l+="&uigroupname="+encodeURIComponent(m.config.dB));d=l;c="";k.Lo&&(c=u.cb({},k.Lo,{prefix:"pi_"}),c="&"+q.EM(c));l=d+c;n.WL(a);}b(f.kd);});return c;}();},function(g,c,a){var q;function b(a,b,c){b=b||0;c=c||a.length;for(var d,k=b,p,g,m,q={};k<b+c;){d=a[k];p=d&7;g=d>>3;m=f(a,k);if(!m.count)throw Error("Parsing error. bytes length is 0 for the tag "+d);k+=m.count+1;2==p&&(k+=m.value);q[g]={qNb:g,gSb:p,value:m.value,count:m.count,start:m.start};}return q;}function f(a,b){var d,f,c,k,g,m,h,G;d=b+1;f=a.length;c=d;k=0;g={};m=[];G=0;if(d>=f)throw Error("Invalid Range for Protobuf - start: "+d+" , len: "+f);for(;c<f;){k++;d=a[c];h=d&127;m.push(h);if(!(d&128))break;c++;}q.Ma(m.length);for(a=m.length-1;0<=a;a--)G<<=7,G|=m[a];g.count=k;g.value=G;g.start=b+k+1;return g;}function m(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(c,"__esModule",{value:!0});q=a(18);c.bkb=function(a){a=b(a);if(1==m(a,1)&&a[5]&&a[5].value)return!0;};c.KOb=function(a){var d;d=b(a);if(2==m(d,1)&&(a=b(a,d[2].start,d[2].value),m(a,5)))return!0;};c.oNb=b;c.TNb=f;c.UNb=m;},function(g){function c(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}g.P=function(a){var q,d,k;function b(a,b,d){throw new TypeError(("undefined"!==typeof d.key?"Types: expected "+d.key:"Types: expected argument "+d.index)+(" to be '"+a+"' but found '"+b+"'"));}function f(a,f,c){var k;k=d[a];"undefined"!==typeof k?k(f)||b(a,f,c):a!==typeof f&&b(a,f,c);}function g(a,b){var d;d=a.filter(function(a){return"object"!==typeof a&&-1===k.indexOf(a);});d=d.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===k.indexOf(a);}));},[]));if(0<d.length)throw Error(d.join(",")+" are invalid types");return function(){var d;d=Array.prototype.slice.call(arguments);if(d.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var c;c=d[b];if("string"===typeof a)f(a,c,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){f(a[b],c[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,d);};}q="number boolean string object function symbol".split(" ");d={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!c(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof d[b]||-1<q.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);d[b]=a[b];});}k=Object.keys(d).concat(q);return g(["array","function"],g);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.XNa=function(a){var c,g,d,k;function b(){if(d)for(var a;a=c.pop();)a(k);}function f(a){d=!0;k=a;b();}c=[];return function(d){c.push(d);g||(g=!0,a(f));b();};};},function(g,c,a){var f;function b(a,b,d){var c;c=this;this.Ql=a;this.gg=b;this.WM=d;this.addEventListener=function(a,b,d){return c.gg.addListener(a,c.jta(a,b),d);};this.removeEventListener=function(a,b){return c.gg.removeListener(a,c.jta(a,b));};this.getReady=function(){return c.gg.aV();};this.getXid=function(){return c.hb().F9();};this.getMovieId=function(){return c.hb().Ufb();};this.getPlaygraphId=function(){return c.hb().qgb();};this.getElement=function(){return c.gg.np();};this.isPlaying=function(){return c.hb().Cw();};this.isPaused=function(){return c.hb().Tjb();};this.isMuted=function(){return c.hb().Rjb();};this.isReady=function(){return c.hb().isReady();};this.isBackground=function(){return c.hb().zjb();};this.setBackground=function(a){return c.hb().rFa(a);};this.startInactivityMonitor=function(){return c.hb().UN();};this.setTransitionTime=function(a){return c.hb().HFa(a);};this.getDiagnostics=function(){return c.hb().Heb();};this.getTextTrackList=function(a){return c.hb().ixa(a);};this.getTextTrack=function(){return c.hb().hxa();};this.setTextTrack=function(a){return c.hb().FFa(a);};this.getVolume=function(){return c.hb().Ahb();};this.isEnded=function(){return c.hb().Gjb();};this.getBusy=function(){return c.hb().Rj();};this.getError=function(){return c.hb().getError();};this.getCurrentTime=function(){return c.hb().j.Zb.value;};this.getBufferedTime=function(){return c.hb().geb();};this.getSegmentTime=function(){return c.hb().PU();};this.getDuration=function(){return c.hb().awa();};this.getVideoSize=function(){return c.hb().xhb();};this.getAudioTrackList=function(){return c.hb().Sdb();};this.getAudioTrack=function(){return c.hb().Rdb();};this.getTimedTextTrackList=function(a){return c.hb().ixa(a);};this.getTimedTextTrack=function(){return c.hb().hxa();};this.getAdditionalLogInfo=function(){return c.hb().Ldb();};this.getTrickPlayFrame=function(a){return c.hb().mhb(a);};this.getSessionSummary=function(){return c.hb().axa();};this.getTimedTextSettings=function(){return c.hb().hV();};this.setMuted=function(a){return c.hb().mwb(a);};this.setVolume=function(a){return c.hb().Bwb(a);};this.setPlaybackRate=function(a){return c.hb().qwb(a);};this.setAudioTrack=function(a){return c.hb().Zvb(a);};this.setTimedTextTrack=function(a){return c.hb().FFa(a);};this.setTimedTextSettings=function(a){return c.hb().NN(a);};this.prepare=function(){return c.hb().lu();};this.load=function(){return c.hb().load();};this.close=function(a){return c.Dqa(c.gg.close(),a);};this.play=function(){return c.hb().play();};this.pause=function(){return c.hb().pause();};this.seek=function(a){return c.hb().seek(a);};this.engage=function(a,b){return c.Dqa(c.hb().IK(a),b);};this.induceError=function(a){return c.hb().$ib(a);};this.loadCustomTimedTextTrack=function(a,b,d,f){return c.hb().wlb(a,b,d,f);};this.tryRecoverFromStall=function(){return c.hb().vO();};this.addEpisode=function(a){var b,d;c.log.info("Next episode added",a);b=c.aAa(a.playbackParams);d="startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.U;if(void 0===d||0>d)d=0;return c.gg.Wo({id:b.Yh?void 0:c.WM.FU(a.movieId,d),u:a.movieId,U:d,Km:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.Km,$a:b,EW:a.manifestData,Ql:c.Ql});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=c.aAa(a);c.log.info("Playing the next episode",a);return c.gg.transition(a);};this.playSegment=function(a){return c.hb().erb(a);};this.queueSegment=function(a){return c.hb().Jsb(a);};this.updateNextSegmentWeights=function(a,b){return c.hb().Co(a,b);};this.getCropAspectRatio=function(){return c.hb().I8();};this.getCropAspectRatioXandY=function(){return c.hb().web();};this.getCurrentSegmentId=function(){return c.gg.Aeb();};this.getPlaygraphMap=function(){return c.gg.g9();};this.setNextSegment=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];b=b.map(function(a){return{ib:a.segmentId,zM:a.nextSegmentId};});c.gg.LN.apply(c.gg,[].concat(fa(b)));};this.clearNextSegment=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];return c.gg.P5a.apply(c.gg,[].concat(fa(b)));};this.updatePlaygraphMap=function(a){return c.gg.gAb(a);};this.goToNextSegment=function(a,b){return c.gg.nxa(a,b);};this.getPlaying=function(){return c.isPlaying();};this.getPaused=function(){return c.isPaused();};this.getMuted=function(){return c.isMuted();};this.getEnded=function(){return c.isEnded();};this.getTimedTextVisibility=function(){return c.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!c.hb().hV().visibility;};this.setTimedTextVisibility=function(a){return c.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return c.hb().NN({size:a});};this.setTimedTextBounds=function(a){return c.hb().NN({bounds:a});};this.setTimedTextMargins=function(a){return c.hb().NN({margins:a});};this.setTimedTextVisible=function(a){return c.hb().NN({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.F7=new Map();this.log=f.qg("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(c,"__esModule",{value:!0});f=a(5);a(86);b.prototype.hb=function(){return this.gg.gj();};b.prototype.jta=function(a,b){var d;this.F7.has(a)||this.F7.set(a,new Map());d=this.F7.get(a);d.has(b)||d.set(b,this.a$a(a,b));return d.get(b);};b.prototype.a$a=function(a,b){var d;d=this;return function(f){return b(Object.assign({},f,{type:a,target:d}));};};b.prototype.Dqa=function(a,b){return b?a.then(b,b):a;};b.prototype.aAa=function(a){a=void 0===a?{}:a;return{xh:a.trackingId,uJ:a.authParams,Vm:a.sessionParams,he:a.uiLabel,X6:a.disableTrackStickiness,AZ:a.uiPlayStartTime,vU:a.forceAudioTrackId,wU:a.forceTimedTextTrackId,Yh:a.isBranching,$fa:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,aE:a.enableTrickPlay,U9:a.heartbeatCooldown,fW:a.isPlaygraph,vW:a.loadImmediately||!1,BCa:a.pin,YM:a.preciseSeeking,U:a.startPts,ga:a.endPts,Km:a.logicalEnd,io:a.packageId,lY:a.renderTimedText,Jua:a.extraManifestParams};};c.EWa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.xla="PlaygraphVideoPlayerFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Mo||(c.Mo={});g[g.EH=0]="No";g[g.R1=1]="Yes";g[g.oja=2]="Later";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.No||(c.No={});g[g.mka=0]="None";g[g.kia=1]="Fetching";g[g.F_=2]="Done";g[g.Error=3]="Error";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.wla="PlaygraphManagerFactorySymbol";},function(g,c,a){var f,m,q,d,k,p;function b(a,b,d){this.ee=a;this.yb=b;this.j=d;this.RL=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(2);m=a(1);q=a(16);d=a(20);k=a(5);p=a(15);b.prototype.U7=function(){this.RL.forEach(function(a){return a();});};b.prototype.Md=function(a,b,d){this.j.Md(this.ee(a,b,d));};b.prototype.nV=function(a){this.j.fireEvent(p.S.vba,{s5a:a});};b.prototype.T1a=function(a){-1===this.RL.indexOf(a)&&this.RL.push(a);};b.prototype.Otb=function(a){a=this.RL.indexOf(a);0<=a&&this.RL.splice(a,1);};b.prototype.lxa=function(a){var b,c;b={};q.gc(a.code)?b.ba=f.dia(a.code):b.ba=f.G.Bh;try{c=a.message.match(/\((\d*)\)/)[1];b.Pd=k.cra(c,4);}catch(B){}b.kb=d.Re(a);return b;};a=b;a=g.__decorate([m.N()],a);c.eP=a;},function(g,c,a){var b,f,m,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(55);m=a(19);q=a(2);d=a(59);k=a(5);p=a(15);c.JNa=function(a,c){function g(f){var p,g;p=f.error||f;g=m.Re(p);c.error("uncaught exception",p,g);(p=(p=p&&p.stack)&&b.config.CHa&&b.config.Nzb?0<=p.indexOf(b.config.CHa):void 0)&&(f&&f.stopImmediatePropagation&&f.stopImmediatePropagation(),f=k.$.get(d.bl),a.Md(f(q.I.uWa)));}function t(){f.Ge.removeListener(f.H9,g);a.removeEventListener(p.S.df,t);a.removeEventListener(p.S.Ok,t);}try{f.Ge.addListener(f.H9,g);a.addEventListener(p.S.df,t);b.config.Pib&&a.addEventListener(p.S.Ok,t);}catch(x){c.error("exception in exception handler ",x);}};},function(g,c,a){var b,f,m,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(11);m=a(30);g=a(2);q=a(9);d=a(16);k=a(5);a=a(23);k.$.get(a.rf).register(g.I.Mia,function(a){var p,g,B,h,H;function k(){var a;a=q.Yx(m.Lg()/B);if(a!=H){for(var b=q.Ko(a-H,30);b--;)h.push(0);(b=q.gn(h.length-31,0))&&h.splice(0,b);H=a;}h[h.length-1]++;}p=b.config.fmb;g=-6/(p-2-2);B=f.nk;h=[];H=q.Yx(m.Lg()/B);d.Hya(p)&&(setInterval(k,1E3/p),c.Sza={pfb:function(){var d;for(var a=[],b=h.length-1;b--;){d=h[b];a.unshift(0>=d?9:1>=d?8:d>=p-1?0:q.pi((d-2)*g+7));}return a;}});a(f.kd);});},function(g,c,a){var b,f,m,q,d,k,p,t,u,h,B,x,H,G,P,S,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(58);f=a(105);m=a(279);q=a(56);d=a(55);k=a(20);p=a(93);t=a(5);u=a(116);h=a(186);B=a(19);x=a(9);H=a(16);G=a(15);P=a(106);S=a(4);l=a(97);c.MTa=function(a){var M,na,sa,N,ha,Ea,za,Fa,ya,ma,Za,A,F,K,eb;function c(){if(!ha){ya=setInterval(U,1E3);a.pf.appendChild(na);for(var b=Ea.length;b--;)Ea[b].addListener(r);for(b=za.length;b--;)a.addEventListener(za[b],r);ha=!0;}n();}function g(){if(ha){clearInterval(ya);Za=ma=void 0;a.pf.removeChild(na);for(var b=Ea.length;b--;)Ea[b].removeListener(r);for(b=za.length;b--;)a.removeEventListener(za[b],r);M.zb();ha=!1;}}function y(){ha?g():c();}function T(){var d,c,k,g,y,G,P,l,T,n,C,U,R,O,M,ja,r,V,ea,N,ca,na,ya,ba,sa;d=[];d.push({Version:"6.0022.162.011",Esn:f.Sh?f.Sh.Pg:"UNKNOWN",PBCID:a.yD,UserAgent:x.pk});try{k={MovieId:a.u,TrackingId:a.xh,Xid:a.ia+" ("+q.kn.map(function(a){return a.ia;}).join(", ")+")",Position:p.Dh(a.Zb.value),Duration:p.Dh(a.Eq.da(S.ja)),Volume:x.pi(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};if(a.Sa.Yh||a.Sa.fW)k["Segment Position"]=p.Dh(a.vz()),k.Segment=a.i9();d.push(k);}catch(ec){}try{g=a.Ik?a.Ik.zib():void 0;d.push({"Player state":A[a.state.value],"Buffering state":F[a.Hn.value]+(H.ka(g)?", ETA:"+p.Dh(g):""),"Rendering state":K[a.Qb.value]});}catch(ec){}try{y=a.Yfa()+a.J4();G=a.Uf.value;P=G&&G.stream;l=a.We.value;T=l&&l.stream;n=T?T.Bc:"";C=a.ze.value?a.ze.value.Bc:"";U=a.Mj.value?a.Mj.value.R:"";R=a.ze.value?a.ze.value.R:"";O=a.Xb[b.Mc.Fa.VIDEO].value;M=a.Xb[b.Mc.Fa.AUDIO].value;d.push({"Playing bitrate (a/v)":P&&T?P.R+" / "+T.R+" ("+T.width+"x"+T.height+")":"?","Playing/Buffering vmaf":n+"/"+C,"Buffering bitrate (a/v)":U+" / "+R,"Buffer size in Bytes (a/v)":a.J4()+" / "+a.Yfa(),"Buffer size in Bytes":""+y,"Buffer size in Seconds (a/v)":p.Dh(a.qJ())+" / "+p.Dh(a.KO()),"Current CDN (a/v)":(M?M.name+", Id: "+M.id:"")+" / "+(O?O.name+", Id: "+O.id:"")});}catch(ec){}try{if(a.Uf.value&&a.We.value){ja=a.Uf.value.stream.track;r=a.We.value.stream;V=a.$i.value;ea=a.Yf.value?a.Yf.value.bc:[];N=t.$.get(u.SB);ca=N.jK(ea);na=N.dK(ja.bc);ya=r.wf;ba=/hevc/.test(ya)?"hevc":/vp9/.test(ya)?"vp9":/h264hpl/.test(ya)?"avchigh":"avc";/hdr/.test(ya)&&(ba+=", hdr");/dv/.test(ya)&&(ba+=", dv");/prk/.test(ya)&&(ba+=", prk");d.push({"Audio Track":ja.Bk+", Id: "+ja.ab+", Channels: "+ja.sl+", Codec: "+na,"Video Track":"Codec: "+ca+" ("+ba+")","Timed Text Track":V?V.Bk+", Profile: "+V.profile+", Id: "+V.ab:"none"});}}catch(ec){}try{sa=a.Gi;d.push({Framerate:(a.ze.value?a.ze.value.CU:0).toFixed(3),"Current Dropped Frames":H.ka(ma)?ma:"","Total Frames":sa.TU(),"Total Dropped Frames":sa.tz(),"Total Corrupted Frames":sa.aL(),"Total Frame Delay":sa.UU(),"Main Thread stall/sec":m.Sza?m.Sza.pfb().join(" "):"DISABLED",VideoDiag:h.Tza(a.jV())});}catch(ec){}try{d.push({Throughput:a.Da+" kbps"});}catch(ec){}try{B.ad(Fa,function(a,b){c=c||{};c[a]=JSON.stringify(b);});c&&d.push(c);}catch(ec){}return d;}function n(){var a;if(sa.selectionStart==sa.selectionEnd){a="";T().forEach(function(b){a=a?a+"\n":"";B.ad(b,function(d){a+=d+": "+b[d]+"\n";});});sa.style.fontSize=p.Sr(x.Yx(na.clientHeight/60),8,18)+"px";sa.value=a;}}function U(){var b;if(a.Gi){b=a.Gi.tz();b&&(ma=b-Za,Za=b,r());}}function r(){M.zb(n);}function ja(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==P.Or.sLa||a.keyCode==P.Or.Q)&&y();}M=t.$.get(l.TB)(S.ei(1));na=k.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});sa=k.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");N=k.createElement("DIV","position:absolute;top:2px;right:2px");za=[G.S.OW,G.S.Y3a];Fa={};Ea=[a.Zb,a.Xb[b.Mc.Fa.AUDIO],a.Xb[b.Mc.Fa.VIDEO],a.Uf,a.We,a.Mj,a.ze,a.$i,a.state,a.Hn,a.Qb,a.volume,a.muted];this.cwb=function(a){Fa.DFR=a;};A={};A[G.mb.JB]="Not Loaded";A[G.mb.LOADING]="Loading";A[G.mb.jd]="Normal";A[G.mb.CLOSING]="Closing";A[G.mb.CLOSED]="Closed";F={};F[G.Gf.jd]="Normal";F[G.Gf.Zf]="Pre-buffering";F[G.Gf.Vla]="Network stalled";K={};K[G.jb.cg]="Waiting for decoder";K[G.jb.Cc]="Playing";K[G.jb.ah]="Paused";K[G.jb.$p]="Media ended";sa.setAttribute("readonly","readonly");na.appendChild(sa);na.appendChild(N);eb=k.createElement("BUTTON",null,"X");eb.addEventListener("click",g,!1);N.appendChild(eb);d.Ge.addListener(d.yz,ja);a.addEventListener(G.S.df,function(){d.Ge.removeListener(d.yz,ja);g();});B.cb(this,{toggle:y,show:c,Ht:g,S8:T});};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.dma="SeekManagerFactorySymbol";},function(g,c,a){var f,m,q,d,k,p,t,u,h,B,x,H,G,P,S,l,n,C,R,O,r,ba,ca,V,ja;function b(a){var b;b=this;this.j=a;this.yb=this.j.yb;this.nb=x.Rg(this.j,"MediaPresenterASE");this.Goa=this.Cna=this.il=0;this.yd=this.yb.Wa;this.Yoa=this.Voa=this.O3=this.s3=this.rS=this.GQ=this.u3=!1;this.fl={type:h.Bg.audio,ID:[],Ap:[]};this.Vo={type:h.Bg.video,ID:[],Ap:[]};this.Fy={};this.Boa=k.config.Lnb;this.Roa=k.p6a(!!this.j.Sa.Yh).xX;this.d3=k.config.GW;this.P0a=x.$.get(ca.TB)(ba.Cb(O.x1));this.so=x.$.get(ja.dma)(this.j);this.sf={};this.xoa={};this.qI={};this.j.Nj=!1;this.Fy[f.Mc.Dj.AUDIO]=this.fl;this.Fy[f.Mc.Dj.VIDEO]=this.Vo;P.Ma(this.d3>this.Boa,"bad config");P.Ma(this.d3>this.Roa,"bad config");this.yb.addEventListener(r.ri.aGa,function(){b.nb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.wI();}catch(sa){b.nb.error("Exception while initializing",sa);b.fm(H.I.ySa);}});}Object.defineProperty(c,"__esModule",{value:!0});f=a(58);m=a(149);q=a(59);d=a(11);k=a(12);p=a(56);t=a(55);u=a(38);h=a(74);B=a(30);x=a(5);a(86);H=a(2);G=a(450);P=a(18);S=a(93);l=a(20);n=a(50);C=a(15);R=a(16);O=a(229);r=a(185);ba=a(4);ca=a(97);V=a(135);ja=a(281);b.prototype.mwa=function(){return this.yb.bL(!1);};b.prototype.TU=function(){return this.yb.TU();};b.prototype.tz=function(){return this.yb.tz();};b.prototype.aL=function(){return this.yb.aL();};b.prototype.UU=function(){return this.yb.UU();};b.prototype.wI=function(){var a;a=this;this.nb.trace("Video element initializing");this.yb.sourceBuffers.forEach(function(b){return a.w0a(b);});a.ZYa(a.j.Ew);};b.prototype.ZYa=function(a){var c,p,g;function b(){function a(){var a,b;b=c.j.ob&&c.j.ob.Et();c.j.Qb.value==C.jb.cg&&c.j.state.value==C.mb.jd&&c.j.Hn.value==C.Gf.jd&&c.j.hk.value==C.Gf.jd&&!c.j.Nj&&b?(c.u2.st(),a="ensureTimer"):(c.u2.th(),a="stopTimer");c.nb.trace("Timer update: "+a,{presentingState:c.j.Qb.value,playbackState:c.j.state.value,avBufferingState:c.j.Hn.value,textBufferingState:c.j.hk.value,autoplayWasBlocked:c.j.Nj,hasLicense:b});}k.config.ita&&(P.Ma(!c.u2),c.u2=x.$.get(V.UB)(k.config.ita,function(){var a;a=x.$.get(G.yha).I$a(c.j);c.fm(a.code,a);}),c.j.Qb.addListener(a),c.j.Hn.addListener(a),c.j.hk.addListener(a),c.j.state.addListener(a),c.j.addEventListener(C.S.lza,a),c.j.addEventListener(C.S.Nj,a),c.j.addEventListener(C.S.P4,a),a());}function f(){c.QQ||(f=P.HJa,c.yb.addEventListener(r.ri.AN,c.sf[r.ri.AN]=function(){return c.p3();}),c.yb.addEventListener(r.ri.Nn,c.sf[r.ri.Nn]=function(){return c.r_a();}),c.yd.addEventListener("ended",c.sf.ended=function(){return c.s_a();}),c.yd.addEventListener("play",c.sf.play=function(){return c.w_a();}),c.yd.addEventListener("pause",c.sf.pause=function(){return c.v_a();}),c.yd.addEventListener("playing",c.sf.playing=function(){return c.x_a();}),c.xI=!0,c.j.Nya&&(c.lS(),c.nb.trace("Video element initialization complete"),c.j.Xc("vi"),k.config.wta?setTimeout(function(){c.m3=!0;c.Kj();},k.config.wta):c.m3=!0,b(),n.Jb(function(){return c.Kj();})));}c=this;a?this.nb.trace("Waiting for needkey"):this.nb.warn("Movie is not DRM protected",{MovieId:this.j.u});this.nb.trace("Waiting for loadedmetadata");a?this.yb.addEventListener(r.ri.qza,function(){c.j.Xc("ld");c.j.ob.AK(""+c.j.u);c.j.fireEvent(C.S.lza);}):this.j.ob.AK(""+this.j.u);u.h2a(this.yd,function(){c.nb.trace("Video element event: loadedmetadata");c.j.Xc("md");});t.Ge.addListener(t.Fl,this.qI[t.Fl]=function(){return c.una();},d.LB);this.j.addEventListener(C.S.df,function(){return c.una();},d.LB);this.j.addEventListener(C.S.LEa,function(){return c.E3();});this.j.addEventListener(C.S.bo,function(){return c.t_a();});this.j.paused.addListener(function(){return c.Kj();});this.j.muted.addListener(function(){return c.V3();});this.j.volume.addListener(function(){return c.V3();});this.j.playbackRate.addListener(function(){return c.h1a();});this.j.Hn.addListener(function(){return c.Kj();});this.j.hk.addListener(function(){return c.Kj();});this.V3();null===(p=this.fl.sj)||void 0===p?void 0:p.sFa(function(){return c.FI();});null===(g=this.Vo.sj)||void 0===g?void 0:g.sFa(function(){return c.FI();});this.FI();n.Jb(function(){f();});};b.prototype.CS=function(a){var b,d;b=this;d=this.Fy[a.M];d?d.Ap.push(a):P.Ma(!1);this.IXa(a).then(function(){b.FI();b.j.fireEvent(C.S.OW);})["catch"](function(a){b.fm(H.I.DSa,{kb:l.Re(a)});});};b.prototype.B4=function(a,b,d){d=void 0===d?{}:d;b={M:a.type,Hz:!1,response:b,hj:function(){return"header";},get Vb(){return!this.Hz;},profile:d.profile};(d=this.Fy[a.type])?d.Ap.push(b):P.Ma(!1);this.FI();this.Voa||a.type!==f.Mc.Dj.VIDEO||(this.so.Lt||this.seek(this.j.U,C.bg.oH),this.Voa=!0);};b.prototype.w0a=function(a){var b;b=this.Fy[a.type];if(b)try{b.sj=a;}catch(sa){this.fm(H.I.i1,{ba:O.O8(a.type),kb:l.Re(sa)});}};b.prototype.FI=function(){this.xI?this.Kj():k.config.I2a&&this.lS();};b.prototype.Vob=function(){var a,b;a=this.j.vz()||0;if(this.j.Sa.Yh){if(k.config.r4a)a=a-(this.yb.Vda+1)-k.config.Uda,b=this.j.ob.$U().Ad,a=Math.max(a,b);}else a-=k.config.kvb,a=Math.max(a,this.so.baa);this.seek(a,C.bg.pQ);};b.prototype.Jba=function(a){var b;b=this;a.mediaType===f.Mc.Dj.AUDIO?this.GQ=!0:a.mediaType===f.Mc.Dj.VIDEO&&(this.rS=!0);n.Jb(function(){return b.Kj();});};b.prototype.vfb=function(){return{$9a:this.Cna,rob:this.Goa};};b.prototype.F6=function(){return this.Gna(this.fl,this.zT())&&this.Gna(this.Vo,this.zT());};b.prototype.IXa=function(a){var b;b=this.yb&&this.yb.Fwa();return void 0===this.r3&&b&&Infinity!==a.aFa&&(a=a.aFa+a.Rm,a>this.j.ku.QX(ba.ja)&&(this.j.ku=ba.Cb(a)),a>b.QX(ba.ja))?(this.r3=b.scale(2),this.U_a()):Promise.resolve();};b.prototype.U_a=function(){var a;a=this;return new Promise(function(b,d){function f(){return c().then(function(a){if(!1===a)return f();});}function c(){return new Promise(function(b){setTimeout(function(){var d,f;if(!((null===(d=a.fl.sj)||void 0===d?0:d.Rj())||(null===(f=a.Vo.sj)||void 0===f?0:f.Rj())))try{a.yb.lwb(a.r3);a.O3=!1;a.r3=void 0;b(!0);}catch(ya){b(!1);}b(!1);},0);});}a.O3=!0;f().then(function(){b();})["catch"](function(b){a.nb.error("Unable to change the duration",b);d(b);});});};b.prototype.Mqb=function(){var a;a=this;return this.so.Lt&&this.e5()&&this.F6()?(this.yb.seek(this.il),this.so.Lt=!1,m.RP||this.B3(),n.Jb(function(){return a.Kj();}),!0):!1;};b.prototype.dAb=function(a){var b;if(a<this.il){b=this.il-a;k.config.Nqb&&a&&b>O.x1&&(a={ElementTime:S.Dh(a),MediaTime:S.Dh(this.il)},b>O.AUa?(this.nb.error("VIDEO.currentTime became much smaller",a),this.fm(H.I.OSa)):this.nb.warn("VIDEO.currentTime became smaller",a));}else this.il=S.Sr(a,0,this.j.ku.da(ba.ja));};b.prototype.zT=function(){return this.j.Qb.value===C.jb.cg?this.Roa:this.Boa;};b.prototype.e5=function(){return this.j.Hn.value===C.Gf.jd&&this.j.hk.value===C.Gf.jd;};b.prototype.Kj=function(){var a,b,d;this.j.fO=B.Lg();if(!this.Me()&&this.xI){a=this.yb.Hgb();a||this.lS();m.RP||this.lS();this.j.paused.value||!this.F6()||!this.e5()||a||this.so.Lt?this.D3():this.u3||this.E3();if(!(a||this.so.Lt&&this.Mqb()||this.Me())){a=this.yb.bL(!0);b=this.j.Qb.value;d=this.m6a();d===C.jb.$p?(this.il=this.j.ku.da(ba.ja),this.D3()):d!==C.jb.cg&&this.dAb(a);this.Lpa();this.NQ();this.j.Qb.set(d);d!==C.jb.cg||b!==C.jb.Cc&&b!==C.jb.ah||this.Cpb();}}};b.prototype.m6a=function(){var a,b,d;a=this;b=this.j.Qb.value;d=b;this.so.Lt?d=C.jb.cg:this.yd&&this.yd.ended?b===C.jb.Cc&&(d=C.jb.$p):this.e5()&&this.F6()?this.yb.K$a()?d=this.yd&&this.yd.paused?C.jb.ah:C.jb.Cc:this.P0a.zb(function(){return a.O0a();}):d=this.j.ku?this.j.xxa(this.il,this.zT())?C.jb.cg:C.jb.$p:C.jb.cg;return d;};b.prototype.Cpb=function(){var a;if(this.j.Qb.value===C.jb.cg){a=this.U0a()>this.zT();this.j.hk.value!==C.Gf.jd?this.j.$i.value?(this.j.fireEvent(C.S.Ss,{cause:p.HTa}),this.nb.warn("rebuffer due to timed text",this.j.$i.value.tg)):this.j.fireEvent(C.S.uG):a?(this.Cna++,this.j.fireEvent(C.S.Ss,{cause:p.lla})):(this.Goa++,this.j.fireEvent(C.S.Ss,{cause:p.mla}));}};b.prototype.U0a=function(){var a,b;a=this.Vo.Ap.filter(function(a){return!a.Vb;}).reduce(function(a,b){return a+b.mt;},0);b=this.fl.Ap.filter(function(a){return!a.Vb;}).reduce(function(a,b){return a+b.mt;},0);return Math.min(a,b);};b.prototype.O0a=function(){this.Me()||(k.config.Wob&&this.fl.sj&&!this.fl.sj.Rj()&&this.fl.sj.Aqa(new Uint8Array([0,0,0,8,102,114,101,101])),this.Kj());};b.prototype.Gna=function(a,b){var d;d=a.AT;d=d&&d.kM;return!a.sj||0===a.Ap.length&&(a.type===h.Bg.audio&&this.GQ||a.type===h.Bg.video&&this.rS)?!0:d&&d.GF-this.il>=b||!1;};b.prototype.p3=function(){this.Kj();};b.prototype.r_a=function(){this.Kj();this.j.fireEvent(C.S.Nn);};b.prototype.s_a=function(){this.nb.trace("Video element event: ended");this.Kj();};b.prototype.w_a=function(){this.nb.trace("Video element event: play");this.Kj();};b.prototype.v_a=function(){this.nb.trace("Video element event: pause");this.Kj();};b.prototype.x_a=function(){this.nb.trace("Video element event: playing");this.Kj();};b.prototype.V3=function(){this.Me()||(this.yd&&this.yd.volume!==this.j.volume.value&&(this.yd.volume=this.j.volume.value),this.yd&&this.yd.muted!==this.j.muted.value&&(this.yd.muted=this.j.muted.value));};b.prototype.h1a=function(){!this.Me()&&this.yd&&(this.yd.playbackRate=this.j.playbackRate.value);};b.prototype.lS=function(){var a,b;this.O3||(this.Hpa(this.fl),this.Hpa(this.Vo));this.Me()||!this.GQ&&!this.rS||(null===(a=this.fl.sj)||void 0===a?0:a.Rj())||(null===(b=this.Vo.sj)||void 0===b?0:b.Rj())||this.B2||(this.B2=!0,this.yb.endOfStream());};b.prototype.Hpa=function(a){var b,d,f;if(!this.Me()&&a.sj){b=a.sj;d=a.ID;!b.Rj()&&0<d.length&&(a.AT=d[d.length-1]);if(a.Dea){if(b.Rj())return;a.Dea=!1;f=this.yb.Fwa().QX(ba.nn);0<f&&b.remove(0,f);}for(f=a.Ap[0];f&&f.response&&(f.Vb||f.ou-this.il<=this.d3);)if(this.B2=!1,this.b1a(f))a.Ap.shift(),f=a.Ap[0];else break;!b.Rj()&&0<d.length&&(a.AT=d[d.length-1]);}};b.prototype.b1a=function(a){var b,d,f;P.Ma(a&&a.response);b=a.response;d=a.M;f=this.Fy[d];if(!this.Me()&&f.sj&&!f.sj.Rj()){try{a.Vb&&a.profile&&f.sj.t5a(a.profile);this.nb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});f.sj.Aqa(b,a);a.Vb||f.ID.push(this.QXa(a));k.config.S$a&&!a.Vb&&(this.so.Lt&&!m.RP||a.Ura());}catch(ha){"QuotaExceededError"!=ha.name?(this.nb.error("Exception while appending media",a,ha),this.fm(H.I.MSa,O.O8(d))):this.j.BT=this.j.BT?this.j.BT+1:1;return;}return!0;}};b.prototype.PXa=function(a){var b;b=this.j.bib(a.Db);b||(this.nb.error("Could not find CDN",{cdnId:a.Db}),b={id:a.Db,maa:a.location});return b;};b.prototype.WXa=function(a){var b,d;d=a.oa;a.M===f.Mc.Dj.AUDIO?b=this.j.vxa(d):a.M===f.Mc.Dj.VIDEO&&(b=this.j.Fxa(d));b||this.nb.error("Could not find stream",{stream:d});return b;};b.prototype.QXa=function(a){var b;b=this.WXa(a);return{kM:a,stream:b,Kn:{startTime:Math.floor(a.ou),endTime:Math.floor(a.GF)},Xb:this.PXa(a)};};b.prototype.E3=function(){var a;a=this;this.Me()||!R.gc(this.yd)||this.yd.ended||!this.m3||!this.UC&&void 0!==this.UC||(this.nb.trace("Calling play on element"),Promise.resolve(this.yd.play()).then(function(){a.UC=!1;a.u3=!1;a.yd.style.display=null;a.j.Nj=!1;a.j.fireEvent(C.S.P4,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.nb.warn("Playback is blocked by the browser settings",b),a.j.Nj=!0,a.u3=!0,a.yd.style.display="none",a.j.fireEvent(C.S.Nj,{player:{play:function(){return a.E3();}}})):(a.UC=!1,a.Yoa||(a.Yoa=!0,a.nb.error("Play promise rejected",b)));}));};b.prototype.t_a=function(){this.so.baa=this.j.vz()||0;};b.prototype.D3=function(){this.Me()||!R.gc(this.yd)||this.yd.ended||!this.m3||this.UC&&void 0!==this.UC||(this.nb.trace("Calling pause on element"),this.yd.pause(),this.UC=!0);};b.prototype.NQ=function(a){if(R.gc(a)){for(var b=this.Fy[a],d=b.ID,c,k=!1;(c=d[0])&&c.kM.ou<=this.il;)if(this.il<c.kM.GF){a=a===f.Mc.Dj.AUDIO?this.j.Uf:this.j.We;u.ksa(c,a.value)||(k=!0,a.set(c));break;}else d.shift();!k&&!this.s3||this.B2||(c=c&&c.kM.ou-c.kM.mt-1,0<c&&((b=b.sj)&&!b.Rj()?(b.remove(0,c/l.nk),this.s3=!1):this.s3=!0));}else this.NQ(f.Mc.Dj.AUDIO),this.NQ(f.Mc.Dj.VIDEO);};b.prototype.Lpa=function(a){this.j.Zb.set(this.il);a&&this.j.gdb();};b.prototype.seek=function(a,b,d,f){var c,k,p,g;b=void 0===b?C.bg.Zu:b;d=void 0===d?this.j.ib:d;f=void 0===f?!1:f;if(!this.Me()&&this.j.ob){c=this.j.Bt(d).u;k=this.so.Yfb(a,b,d,f);d=k.xM;f=k.Ai;p=k.qrb;k=k.Ws;this.NQ();g=this.il;a=S.Dh(a);this.j.En("SEEKING: Requested: ("+c+":"+b+":"+a+") - Actual: (contentPts: "+f+","+("playerPts: "+p+", newMediaTime: "+d+")"));this.nb.info("Seeking",{Requested:a,Actual:S.Dh(d),Cause:b,Skip:k});this.j.fireEvent(C.S.CA,{qX:g,xM:d,cause:b,skip:k});this.j.Qb.set(C.jb.cg);b!==C.bg.oH&&(this.B3(),this.fl.Dea=!0,this.Vo.Dea=!0);this.il=d;this.so.baa=f;a=this.j.Uf.value;p=this.j.We.value;this.j.Uf.set(null);this.j.We.set(null);this.Lpa(!0);this.j.fireEvent(C.S.no,{qX:g,xM:d,Ai:f,cause:b,skip:k,Uf:a,We:p,u:c});this.so.Lt=!0;this.Kj();}};b.prototype.B3=function(){this.fl.ID=[];this.fl.AT=void 0;this.fl.Ap=[];this.Vo.ID=[];this.Vo.AT=void 0;this.Vo.Ap=[];this.rS=this.GQ=!1;this.j.fireEvent(C.S.OW);};b.prototype.fm=function(a,b,d){var f;if(!this.QQ){f=x.$.get(q.bl);this.j.Md(f(a,b,d));}};b.prototype.una=function(){if(!this.QQ){this.nb.info("Closing.");this.yb.removeEventListener(r.ri.AN,this.xoa[r.ri.AN]);this.yb.removeEventListener(r.ri.Nn,this.xoa[r.ri.Nn]);this.yd.removeEventListener("ended",this.sf.ended);this.yd.removeEventListener("play",this.sf.play);this.yd.removeEventListener("pause",this.sf.pause);this.yd.removeEventListener("playing",this.sf.playing);t.Ge.removeListener(t.Fl,this.qI[t.Fl]);this.QQ=!0;try{k.config.iob&&(this.yd.volume=0,this.yd.muted=!0);this.D3();this.yb.close();}catch(M){}this.yd=void 0;this.B3();}};b.prototype.Me=function(){return this.QQ?!0:R.gc(this.yd)?!1:(this.nb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};c.jRa=b;},function(g,c,a){var b,f,m,q,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(12);m=a(30);q=a(93);d=a(9);k=a(50);p=a(16);t=a(15);c.JTa=function(a){var h,G,P,S,l,n;function c(){return a.state.value===t.mb.LOADING||a.state.value===t.mb.jd&&a.Qb.value===t.jb.cg;}function g(){c()?n||(n=setInterval(u,100)):n&&(clearInterval(n),n=void 0,k.Jb(u));}function u(){var b,k,g,u,B,y,x,H;b=m.Lg();k=h.value;g=k?k.bi:0;B=a.state.value==t.mb.LOADING||c()&&b-G>f.config.F4a;B&&a.state.value==t.mb.jd?(a.lD.value===t.Gf.Vla?(x=g,y=!0):(u=b+(a.Ik&&a.Ik.zib()||0),P=P||b,S=S||P+f.config.Gnb+1,p.ka(u)&&(u=d.gn(u,S),x=a.Ik?a.Ik.NNb():.99,x=d.pi(1E3*q.Sr((b-P)/(u-P),0,x))/1E3)),x<g&&(g-x<f.config.qsb/100?(x=g,l=void 0):l?b-l>f.config.psb?(H=!0,l=void 0):x=g:(l=b,x=g))):l=S=P=void 0;b=B?{aZ:y,bi:x,rsb:H}:null;(!b||!h||!k||p.ka(b.bi)&&!p.ka(k.bi)||p.ka(b.bi)&&p.ka(k.bi)&&.01<d.vH(b.bi-k.bi)||b.aZ!==k.aZ)&&h.set(b);}h=a.g5;G=0;a.state.addListener(function(){g();u();},b.c1);a.Qb.addListener(function(a){if(a.oldValue!==t.jb.cg||a.newValue!==t.jb.cg)G=m.Lg();g();});a.lD.addListener(function(){g();});a.Hn.addListener(function(){g();});a.hk.addListener(function(){g();});n||(n=setInterval(u,100));};},function(g,c,a){var k,p,t,u;function b(a,b,d,f,c){var k;k={};"right"==a.horizontalAlignment?k.right=100*(d-b.left-b.width-c)/d+"%":k.left=100*(b.left-c)/d+"%";"bottom"==a.verticalAlignment?k.bottom=100*(f-b.top-b.height-c)/f+"%":k.top=100*(b.top-c)/f+"%";return k;}function f(a,b){var d;if(a&&b){40===b.x&&19===b.y?d=4/3/(40/19):52===b.x&&19===b.y&&(d=16/9/(52/19));if(d)return a.width/a.fontSize/d;}}function m(a,b,d,f,c){var k,p;k=a.style;p=t.f$(a.text);for(a=a.lineBreaks;a--;)p="<br />"+p;return q(p,k,b,d,f,c);}function q(a,b,c,g,m,t){var q;q=b.characterStyle;m=m[q];g=b.characterSize*g.height/((0<=q.indexOf("MONOSPACE")?f(m,b.cellResolution)||m.lineHeight:m.lineHeight)||1);g=0<t?u.Yx(g*t):u.pi(g);t={"font-size":g+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(t["font-style"]="italic");b.characterUnderline&&(t["text-decoration"]="underline");b.characterColor&&(t.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(t["background-color"]=d(b.backgroundColor,b.backgroundOpacity));g=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case p.cca:t["text-shadow"]=g+" 0px 0px 7px";break;case p.qCa:t["text-shadow"]="-1px 0px "+g+",0px 1px "+g+",1px 0px "+g+",0px -1px "+g;break;case p.dqb:t["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case p.bqb:t["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}t=k.eK(t);(c=c[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(t+=";"+c);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+t+'">'+a+"</span>";}function d(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(c,"__esModule",{value:!0});k=a(38);p=a(203);t=a(19);u=a(9);c.Aua=function(a,b,d,f,c){var k;k="";a.textNodes.forEach(function(a){k+=m(a,d,b,f,c);});return k;};c.Ubb=function(a,d,f,c,k){var p,g,q,B,h;p="";g=k.width;k=k.height;for(var m=d.length;m--;){q=d[m];B=a[m];B=B&&B.region;h="position:absolute;background:"+c+";width:"+u.pi(q.width+2*f)+"px;height:"+u.pi(q.height+2*f)+"px;";t.ad(b(B,q,g,k,f),function(a,b){h+=a+":"+b+";";});p+='<div style="'+h+'"></div>';}return p;};c.Tbb=b;c.dNb=f;c.fNb=m;c.cNb=q;c.eNb=d;c.Sbb=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return k.eK(b);};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);c.Lzb=function(a,c){function f(a,f,c){var q,u,h,l;if(a&&1<a.length){for(var k=[],p=[],g=0;g<a.length;g++)k[g]=0,p[g]=0;for(var m=!1,g=0;g<a.length;g++)for(var t=g+1;t<a.length;t++){u=a[g];h=a[t];if(0>u.width||0>h.width||h.left>u.left+u.width||h.left+h.width<u.left||h.top>u.top+u.height?0:h.top+h.height>=u.top){q=b.gn(u.left,h.left);l=b.gn(u.top,h.top);q={width:b.gn(b.Ko(u.left+u.width,h.left+h.width)-q,0),height:b.gn(b.Ko(u.top+u.height,h.top+h.height)-l,0),x:q,y:l};}else q=void 0;if(q&&1<q.width&&1<q.height)if(l=q.width<=q.height,u=d(a[g]),h=d(a[t]),l&&f||!l&&!f)q=b.gn(q.width/2,.25),u.x<=h.x?(p[g]-=q,p[t]+=q):(p[t]-=q,p[g]+=q);else if(l&&!f||!l&&f)u=b.gn(q.height/2,.25),k[g]-=u,k[t]+=u;}for(g=0;g<a.length;g++){if(-.25>p[g]&&0<=a[g].left+p[g]||.25<p[g]&&a[g].left+a[g].width+p[g]<=c.width)a[g].left+=p[g],m=!0;if(-.25>k[g]&&0<=a[g].top+k[g]||.25<k[g]&&a[g].top+a[g].height+k[g]<=c.height)a[g].top+=k[g],m=!0;}return m;}}function d(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,d){a.forEach(function(a){0>a.left&&a.left+a.width<d.width?a.left+=b.Ko(-a.left,d.width-(a.left+a.width)):a.left+a.width>d.width&&0<a.left&&(a.left-=b.Ko(a.left+a.width-d.width,a.left));0>a.top&&a.top+a.height<d.height?a.top+=b.Ko(-a.top,d.height-(a.top+a.height)):a.top+a.height>d.height&&0<a.top&&(a.top-=b.Ko(a.top+a.height-d.height,a.top));});}(a,c));for(var k=0;50>k&&f(a,!0,c);k++);for(k=0;50>k&&f(a,!1,c);k++);return a;};},function(g,c,a){var f,m,q,d,k;function b(a,b){this.i8=a;this.hz={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.vFa(b);this.nva=this.dfb(this.i8);}Object.defineProperty(c,"__esModule",{value:!0});f=a(20);m=a(285);q=a(284);d=a(9);k=a(19);b.prototype.np=function(){return this.element;};b.prototype.Yvb=function(a){this.H4=a;};b.prototype.ewb=function(a){this.oe=a;this.MF();};b.prototype.jwb=function(a){this.vFa(a);this.MF();};b.prototype.MF=function(){var a,d,c,k,g,h,H,G,P,S,l,C,R,O;a=this;d=this.np();c=d.parentElement;k=c&&c.clientWidth||0;g=c&&c.clientHeight||0;h=c=0;H={width:k,height:g};if(0<k&&0<g&&this.oe){this.H4&&(H=f.tU(k,g,this.H4),c=Math.round((k-H.width)/2),h=Math.round((g-H.height)/2));G=this.Z4a(H);S=f.tU(G.width,G.height,this.H4);G=(P=this.oe.blocks)&&P.map(function(d){var c;c=q.Aua(d,S,a.i8,a.nva);d=q.Sbb(d)+";position:absolute";return f.createElement("div",d,c,b.w_);});}Object.assign(this.hz,{left:c+"px",right:c+"px",top:h+"px",bottom:h+"px"});d.style.display="none";d.style.direction=this.hz.direction;d.innerHTML="";if(G&&G.length){k=H.width;c=H.height;l=H;this.CJ&&(l=this.z1a(H,this.CJ,g,h));this.hz.margin=this.co?this.WS(H,"top")+"px "+this.WS(H,"right")+"px "+this.WS(H,"bottom")+"px "+this.WS(H,"left")+"px ":void 0;G.forEach(function(a){return d.appendChild(a);});g=f.eK(this.hz);d.style.cssText=g+";visibility:hidden;z-index:-1";for(var h=[],n=G.length-1;0<=n;n--){C=G[n];R=P[n];O=this.pBa(C,R,k,c);O.width>k&&(C.innerHTML=q.Aua(R,H,this.i8,this.nva,k/O.width),O=this.pBa(C,R,k,c));h[n]=O;}h=m.Lzb(h,l);if(n=P&&P[0]&&P[0].textNodes&&P[0].textNodes[0]&&P[0].textNodes[0].style)l=n.windowColor,n=n.windowOpacity,l&&0<n&&(H=q.Ubb(P,h,Math.round(c/50),l,H),H=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+n,H,b.w_),d.insertBefore(H,d.firstChild));d.style.display="none";for(H=h.length-1;0<=H;H--)l=G[H].style,n=q.Tbb(P[H].region,h[H],k,c,0),Object.assign(l,n);d.style.cssText=g;}};b.prototype.yea=function(a){this.CJ=a;this.MF();};b.prototype.B9=function(){return this.CJ;};b.prototype.zea=function(a){this.co=a;this.MF();};b.prototype.C9=function(){return this.co;};b.prototype.D9=function(){return"block"===this.hz.display;};b.prototype.Aea=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.hz.display=b;a&&this.MF();};b.prototype.dfb=function(a){var b,d;b=this;d={};k.ad(a,function(a,f){d[a]=b.anb(f);});return d;};b.prototype.vFa=function(a){this.hz.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.WS=function(a,b){if(this.co){if("left"===b||"right"===b)return a.width*(this.co[b]||0);if("top"===b||"bottom"===b)return a.height*(this.co[b]||0);}return 0;};b.prototype.Z4a=function(a){return this.co?{height:a.height*(1-(this.co.top||0)-(this.co.bottom||0)),width:a.width*(1-(this.co.left||0)-(this.co.right||0))}:a;};b.prototype.anb=function(a){var c;a=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.w_);d.je.body.appendChild(a);c={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};d.je.body.removeChild(a);return c;};b.prototype.pBa=function(a,b,d,f){var c,k,g,p,m;c=b.region;k=(c.marginTop||0)*f;g=(c.marginBottom||0)*f;p=(c.marginLeft||0)*d;m=(c.marginRight||0)*d;b=a.clientWidth||1;a=a.clientHeight||1;switch(c.verticalAlignment){case"top":f=k;break;case"center":f=(k+f-g-a)/2;break;default:f=f-g-a;}switch(c.horizontalAlignment){case"left":d=p;break;case"right":d=d-m-b;break;default:d=(p+d-m-b)/2;}return{top:f,left:d,width:b,height:a};};b.prototype.z1a=function(a,b,d,f){return{height:d-Math.max(f,b.bottom||0)-Math.max(f,b.top||0),width:a.width};};c.$Va=b;b.w_={"class":"player-timedtext-text-container"};},function(g,c,a){var f,m,q,d,k,p,t;function b(a){var b,f;b=this;this.j=a;this.gK=void 0;this.z2=q.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.q2=q.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.h2=q.createElement("DIV","width:100%;text-align:center");this.oXa=this.t2("Audio Bitrate");this.Y3=this.t2("Video Bitrate");this.l2=this.t2("CDN");this.JI={};this.mV=d.$.get(k.Io);this.z2.appendChild(this.q2);this.q2.appendChild(this.h2);f=q.createElement("BUTTON",void 0,"Override");f.addEventListener("click",this.gXa.bind(this),!1);this.h2.appendChild(f);f=q.createElement("BUTTON",void 0,"Reset");f.addEventListener("click",this.opa.bind(this),!1);this.h2.appendChild(f);m.Ge.addListener(m.yz,this.Qoa.bind(this));a.addEventListener(t.S.bo,function(){b.JI={};});a.addEventListener(t.S.df,function(){m.Ge.removeListener(m.yz,b.Qoa.bind(b));});a.Xb.forEach(function(a){a.addListener(b.z3.bind(b));});a.Uc.addListener(this.z3.bind(this));a.Yf.addListener(this.z3.bind(this));}Object.defineProperty(c,"__esModule",{value:!0});f=a(58);m=a(55);q=a(20);d=a(5);k=a(40);p=a(106);t=a(15);b.prototype.show=function(){this.aJ||(this.npa(),this.j.pf.appendChild(this.z2),this.aJ=!0);};b.prototype.Ht=function(){this.aJ&&(this.j.pf.removeChild(this.z2),this.aJ=!1);};b.prototype.toggle=function(){this.aJ?this.Ht():this.show();};b.prototype.GHa=function(){var d,f,c;function a(a,b,d){var f,c,k;k=[];b.filter(function(b){return b.wf===a;}).forEach(function(a){0<=d.indexOf(a)?(void 0===f?f=a.R:c=a.R,void 0===c&&(c=a.R)):void 0!==f&&void 0!==c&&(k.push({min:f,max:c}),f=c=void 0);});void 0!==f&&void 0!==c&&(k.push({min:f,max:c}),f=c=void 0);return k;}function b(a,b,d){var f;f=[];b.filter(function(b){return b.wf===a;}).forEach(function(a){-1===d.indexOf(a)&&f.push({stream:{bitrate:a.R},disallowedBy:["manual"]});});return f;}d=this.j.$y();f=this.j.xz().sort(function(a,b){return a.R-b.R;});c=f.reduce(function(a,b){0>a.indexOf(b.wf)&&a.push(b.wf);return a;},[]).map(function(c){return{profile:c,ranges:a(c,f,d),disallowed:b(c,f,d)};});this.j.ob.ON(c,this.j.u);};b.prototype.gXa=function(){var d,c,a,b;this.JI={};for(var a=this.Y3.options,b=a.length;b--;){d=a[b];d.selected&&(this.JI[d.value]=1);}this.gK=this.RXa.bind(this);this.GHa();if(a=this.j.aj){c=this.l2.value;a=a.filter(function(a){return a.id==c;})[0];b=this.j.Xb[f.Mc.Fa.VIDEO].value;a&&a!=b&&(a.Jra={testreason:"streammanager",selreason:"userselection"},this.j.Xb[f.Mc.Fa.VIDEO].set(a));}this.Ht();};b.prototype.opa=function(){this.gK=void 0;this.j.JFa(this.j.u);this.Ht();};b.prototype.RXa=function(){var a;a=this;return this.j.xz().filter(function(b){return a.JI[b.R];});};b.prototype.npa=function(){var a,b,d,c;a=this;b=this.j.Uc.value;d=this.j.Yf.value;c=this.j.aj;b&&(c=c.slice(),c.sort(function(a,b){return a.mf-b.mf;}),this.H3(this.oXa,b.bc.map(function(b){return{value:b.R,caption:b.R,selected:b==a.j.Mj.value};})));d&&(this.H3(this.Y3,d.bc.map(function(b){var d,f;d=a.j.lM.uu(b);b=b.R;f=""+b;d&&(f+=" ("+d.join("|")+")");return{value:b,caption:f,selected:a.gK?a.JI[b]:!d};})),this.Y3.removeAttribute("disabled"));c&&(this.H3(this.l2,c.map(function(b){return{value:b.id,caption:"["+b.id+"] "+b.name,selected:b==a.j.Xb[f.Mc.Fa.VIDEO].value};})),this.l2.removeAttribute("disabled"));};b.prototype.z3=function(){this.aJ&&this.npa();};b.prototype.t2=function(a){var b,d;b=q.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=q.createElement("DIV",void 0,a);d=q.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(d);this.q2.appendChild(b);return d;};b.prototype.H3=function(a,b){a.innerHTML="";b.forEach(function(b){var d;d={title:b.caption};b.selected&&(d.selected="selected");d=q.createElement("option",void 0,b.caption,d);d.value=b.value;a.appendChild(d);});};b.prototype.Qoa=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==p.Or.MUa&&this.mV.L$&&this.toggle();};c.QTa=b;},function(g,c,a){var b,f,m,q,d,k,p,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(30);m=a(2);q=a(184);d=a(9);k=a(16);p=a(15);t=a(5);u=a(135);c.zPa=function(a){var g,h,y,P;function c(){a.state.value!==p.mb.jd||a.Qb.value!==p.jb.ah&&a.Qb.value!==p.jb.$p?h.th():h.st();}g=b.config.xqb;if(!a.NE()&&g){h=t.$.get(u.UB)(g,function(){a.fireEvent(p.S.EE,m.I.bQ);});a.Qb.addListener(c);a.state.addListener(c);if(b.config.p$){P=f.Lg();y=new q.Ola(b.config.p$,function(){var c,k;c=f.Lg();k=c-P;k>g&&(a.fireEvent(p.S.EE,m.I.MP),y.E5());k>2*b.config.p$&&(a.q$=d.gn(k,a.q$||0));P=c;});y.Bea();}a.addEventListener(p.S.df,function(){h.th();k.gc(y)&&y.E5();});}};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(15);f=a(73);c.yOa=function(a){function c(d){a.fireEvent(b.S.dw,{response:d,u:a.ca.u});}return{download:function(b,k){b.j=a;b=f.Af.download(b,k);b.Tpa(c);return b;}};};},function(g,c,a){var f;function b(a,b){var d;d=this;this.Hwa=a;this.OBa=b;this.xfa=!1;this.cu=function(){d.Yl=void 0;d.update();};}Object.defineProperty(c,"__esModule",{value:!0});f=a(20);b.prototype.update=function(a){var b,d,c;b=this.Hwa();if(this.SHa!==b){f.gc(b)&&f.gc(this.duration)&&b<this.duration&&this.entries&&(c=this.iBa||this.entries[Math.floor(b*this.Syb)]||this.entries[0]);if(c){for(;c&&c.endTime<b;)c=c.next;for(;c&&c.previous&&c.previous.endTime>=b;)c=c.previous;}c&&(c.startTime<=b&&b<=c.endTime?(d=c,this.NHa(c.endTime-b)):this.NHa(c.startTime-b));this.iBa=c;this.SHa=b;this.h4!==d&&(this.h4=d,!a&&this.OBa&&this.OBa());}};b.prototype.start=function(){this.xfa=!0;this.update();};b.prototype.wFa=function(a){this.iBa=this.h4=this.SHa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(fa(a.map(function(a){return a.endTime;}))))||0;this.Syb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.xfa=!1;this.th();};b.prototype.Jdb=function(){this.update(!0);return this.h4;};b.prototype.NHa=function(a){this.th();this.xfa&&0<a&&(this.Yl=setTimeout(this.cu,a+b.FRa));};b.prototype.th=function(){this.Yl&&(clearTimeout(this.Yl),this.Yl=void 0);};c.cWa=b;b.FRa=10;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.rja="LicenseBrokerFactorySymbol";},function(g,c,a){var b,f,m,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(12);g=a(2);m=a(5);q=a(20);d=a(9);a=a(23);m.$.get(a.rf).register(g.I.Iia,function(a){var g,u,h;function k(){h&&clearTimeout(h);a(b.kd);k=q.Le;}g=m.qg("BatteryManager");c.Rs={wKa:"chargingchange",xwa:function(){return u?u.level:null;},G8:function(){return u?u.charging:null;},addEventListener:function(a,b){u&&u.addEventListener(a,b);},removeEventListener:function(a,b){u&&u.removeEventListener(a,b);}};if(f.config.OJ){h=setTimeout(k,f.config.beb);try{d.$k.getBattery().then(function(a){u=a;k();})["catch"](function(a){g.error("getBattery promise rejected",a);k();});}catch(B){g.error("exception on getBattery api call",B);k();}}else k();});},function(g,c,a){var p,t,u,h,B,x,H,G;function b(a){return a.split(",").reduce(function(a,b){var d;d=b.split("=");b=d[0];d=d.slice(1).join("=");b&&b.length&&(a[b]=d||!0);return a;},{});}function f(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function m(a,d,c){var k;if("string"===typeof a)return m.call(this,b(a),d,c);k=0;Object.keys(a).forEach(function(b){var g,m,t;g=B[b];m=a[b];if(g){if(t=x[b]||G[typeof p[g]])try{m=t(m);}catch(ba){c&&c.error("Failed to convert value '"+m+"' for config '"+b+"' : "+ba.toString());return;}t=h[g];this[g]=m;h[g]!==t&&(c&&c.debug("Config changed for '"+b+"' from "+f(t)+" ("+typeof t+") to "+f(m)+" ("+typeof m+")"),++k);}else d?(g=(g=H[b])?g.filter(function(a){return a[0]!==this;},this):[],g.push([this,m]),H[b]=g):c&&c.error("Attempt to change undeclared config option '"+b+"'");},this);k&&h.emit("changed");return k;}function q(){return Object.keys(B).reduce(function(a,b){var d,f;d=B[b];f=a[d];f?(f.push(b),a[d]=f.sort(function(a,b){return b.length-a.length;})):a[d]=[b];return a;},{});}function d(a,b){return a.hasOwnProperty(b)?f(a[b]):void 0;}function k(a,b){return"undefined"===typeof a?b:a;}c=a(57);a=a(109).EventEmitter;p={};t=Object.create(p);u=Object.create(t);h=Object.create(u);B={};x={};H={};h.declare=function(a){Object.keys(a).forEach(function(b){var d,f,c,k;d=a[b];f=d[0];c=d[1];k=d[2];if(p.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var d;if(B.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");p.hasOwnProperty(b)||("function"===typeof c&&(c=c()),p[b]=c);B[a]=b;"function"===typeof k&&(x[a]=k);if(d=H[a])d.forEach(function(b){var d,f;d=b[0];f={};f[a]=b[1];m.call(d,f,!1);}),delete H[a];});});return h;};G={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};h.set=m.bind(t);h.rF=m.bind(u);h.dump=function(a,b){var g,m,y,x;function c(){x&&a&&a.log("===========================================");}g=Object.keys(H).sort();m={};y=q();b=k(b,!0);Object.keys(B).sort().forEach(function(g){var q,G,H;g=B[g];!m[g]&&(m[g]=!0,G=d(t,g),H=d(u,g),b||"undefined"!==typeof G||"undefined"!==typeof H)&&(q=y[g].join(","),q+=" = "+f(h[g])+" ("+typeof h[g]+") [",q+=k(H,"<unset>")+",",q+=k(G,"<unset>")+",",q+=d(p,g)+"]",x||(x=!0,a&&a.log("Current config values"),c()),a&&a.log(q));});(b||g.length)&&a&&a.log("<undeclared> :",g);c();};h.Ln=function(a){var b,d;b={};d={};Object.keys(B).forEach(function(a){a=B[a];d[a]||(d[a]=!0,b[a]=h[a]);});a&&m.call(b,a);return b;};h.ACa=function(){var a;a=q();return Object.getOwnPropertyNames(t).reduce(function(b,d){b[a[d][0]]=t[d];return b;},{});};h.reset=function(){Object.keys(t).forEach(function(a){delete t[a];});};h.im={};c(a,h);g.P=Object.freeze(h);},function(g,c,a){var f,m,q,d,k;function b(a){var b,c;b=d.platform;f.qg("MediaSourceASE").trace("Inside MediaSourceASE");c=a.f9();this.readyState=k.cc.CLOSED;this.sourceBuffers=c.sourceBuffers;this.addSourceBuffer=function(a){return c.addSourceBuffer(a);};this.o4=function(a){return c.o4(a);};this.removeSourceBuffer=function(a){return c.removeSourceBuffer(a);};this.yl=function(a){return c.yl(a);};this.sourceId=b.gL();b.zL();this.duration=void 0;c.Xvb(this.sourceId);this.readyState=k.cc.OPEN;this.wc=m.$.get(q.$e).Mm(k.wc,{});}Object.defineProperty(c,"__esModule",{value:!0});f=a(5);m=a(5);q=a(21);d=a(58);Object.defineProperty(b.prototype,"duration",{get:function(){return this.Wi;},set:function(a){var b;this.Wi=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.Wi=b;});}});k={cc:{CLOSED:0,OPEN:1,$p:2,name:["CLOSED","OPEN","ENDED"]},wc:{dsa:!0,aBa:!0}};c.mRa=Object.assign(b,k);},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(296);f=a(5);m=a(420);q=a(21);c.Mxb=function(a){a({Z:!0,storage:new b.qja(f.$.get(m.sja),f.$.get(q.$e))});};},function(g,c){function a(a,f){this.xq=a;this.Qc=f;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.load=function(b,f){var c;c=this;this.xq.load(b).then(function(b){f&&f(a.xGa(b));})["catch"](function(a){f&&f(c.eE(b,a));});};a.prototype.save=function(b,f,c,g){var d;d=this;this.xq.save(b,f,c).then(function(){g&&g(a.xGa({key:b,value:f}));})["catch"](function(a){g&&g(d.eE(b,a));});};a.prototype.remove=function(a,f){var b;b=this;this.xq.remove(a).then(function(){f&&f({Z:!0,hZ:a});})["catch"](function(c){f&&f(b.eE(a,c));});};a.xGa=function(a){return{Z:!0,data:a.value,hZ:a.key};};a.prototype.eE=function(a,f){return{Z:!1,hZ:a,ba:f.ba,kb:f.cause?this.Qc.Re(f.cause):void 0};};c.qja=a;},function(g,c,a){var b,f,m,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);f=a(69);m=a(21);q=a(296);d=a(418);c.Lxb=function(a){b.$.get(f.Fr).create().then(function(f){a({Z:!0,storage:new q.qja(f,b.$.get(m.$e)),gp:b.$.get(d.Eha)});})["catch"](function(b){a(b);});};},function(g,c,a){var b,f,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(5);m=a(2);a(19);c.Nxb=function(a){var d;f.qg("Storage");d={};a({Z:!0,storage:{load:function(a,b){d.hasOwnProperty(a)?b({Z:!0,data:d[a],hZ:a}):b({ba:m.G.av});},save:function(a,b,f,c){f&&d.hasOwnProperty(a)?c({Z:!1}):(d[a]=b,c&&c({Z:!0,hZ:a}));},remove:function(a,f){delete d[a];f&&f(b.kd);}}});};},function(g,c,a){var f,m,q,d,k,p,t,u,h,B,x,H,G,P,l,n,U,C,R,O,r,ba,ca,V,ja,M,na,sa,N,ha,Ea,za,Fa,ya,ma,Za,A,F,ob;function b(a,b,d,c,k,g,p,m,t,y,G,S,n,T,C,M,ea,N,ha,za,Ea,Za,F,lb,Xa,ob){var Y,Wb,Ua,Ra;function eb(a){a.newValue!==ma.jb.cg&&a.newValue!==ma.jb.ah&&(Y.Qb.removeListener(eb),Y.GE=Y.Ja.lea,Y.Lb.Mb(ma.S.Ok));}function tb(a){a.newValue!==ma.jb.cg&&(Y.Qb.removeListener(tb),Y.PCa=Y.Ja.ef.da(r.ja));}Y=this;this.CE=k;this.qa=p;this.eD=m;this.Ja=t;this.Laa=y;this.Maa=n;this.AW=T;this.Ac=C;this.ee=M;this.bk=ea;this.Ry=N;this.rca=ha;this.Jaa=za;this.Dqb=Ea;this.Hfa=Za;this.ai=F;this.Qc=lb;this.nJ=Xa;this.$S=ob;this.UCa=[];this.UM={};this.Uc=new B.Rc(null);this.Yf=new B.Rc(null);this.zc=new B.Rc(null);this.$i=new B.Rc(null);this.wr=new B.Rc(void 0);this.ze=new B.Rc(null);this.Mj=new B.Rc(null);this.Zb=new B.Rc(void 0);this.Ofa=function(a){return Y.Uc.set(a.newValue);};this.tAb=function(a){return Y.Yf.set(a.newValue);};this.qAb=function(a){return Y.zc.set(a.newValue);};this.Rzb=function(a){return Y.$i.set(a.newValue);};this.pAb=function(a){return Y.wr.set(a.newValue);};this.sAb=function(a){return Y.ze.set(a.newValue);};this.Szb=function(a){return Y.Mj.set(a.newValue);};this.iAb=function(a){return Y.We.set(a.newValue);};this.hAb=function(a){return Y.Uf.set(a.newValue);};this.cAb=function(a){return Y.Zb.set(a.newValue);};this.Jm={};this.Bda=this.Bfa=0;this.Lb=new H.lk();this.MO={};this.yoa=0;this.dZ=!1;this.state=new B.Rc(ma.mb.JB);this.Fp=new B.Rc(!1);this.paused=new B.Rc(!1);this.muted=new B.Rc(!1);this.volume=new B.Rc(x.config.g$a/100);this.playbackRate=new B.Rc(1);this.Qb=new B.Rc(ma.jb.cg);this.lD=new B.Rc(ma.Gf.Zf);this.Hn=new B.Rc(ma.Gf.Zf);this.hk=new B.Rc(ma.Gf.Zf);this.Uf=new B.Rc(null);this.We=new B.Rc(null);this.g5=new B.Rc(null);this.CV=u.yOa(this);this.NW=[];this.Xb=[];this.W4={};this.DK=this.kua=!1;this.Sxb=this.Da=this.Wg=-1;this.r9=function(a,b){a=void 0===a?null:a;return sa.ka(a)?b&&!Y.Bt(b).sa?a:Y.ob?Y.ob.et(void 0,a,b):a:null;};this.QBa=function(){Y.Tea();};this.uDa=this.CE.az();this.DD=a;this.addEventListener=this.Lb.addListener;this.removeEventListener=this.Lb.removeListener;this.fireEvent=this.Lb.Mb;k=x.config.mo&&this.Ac()?this.Ac().F9(a):void 0;this.m4({wa:a,ib:c,Sa:d||{}},k,b);this.log=O.Rg(this);this.J$a=g(this);this.X3a=G(this);this.pf=Fa.createElement("DIV",h.Mla,void 0,{id:this.u});this.hjb();Wb=S(r.ei(1));this.ae=this.log.j6("Playback");this.brb=q.DTa(this);l.NH.Znb=this;l.NH.d8||(l.NH.d8=this);this.ae.info("Playback created",this.tg);this.taa?this.ae.info("Playback selected for trace playback info logging"):this.ae.trace("Playback not selected for trace playback info logging");x.config.mo&&this.Ac()&&(this.Ac().Vhb(this.u),this.addEventListener(ma.S.Ok,function(){Y.Ac().Whb(Y.u);Y.zc.addListener(function(){Y.Ac().txa();});Y.Uc.addListener(function(){Y.Ac().txa();});}),this.addEventListener(ma.S.df,function(){Y.Ac().Uhb(Y.u);}));this.state.addListener(function(a){Y.ae.info("Playback state changed",{From:a.oldValue,To:a.newValue});V.Ma(a.newValue>a.oldValue);});P.Ge.addListener(P.Fl,this.QBa,h.c1);this.Zb.addListener(function(){Wb.zb(function(){return Y.fva();});});Ra=!1;this.paused.addListener(function(a){var b;b=Y.ob;!a.Hba&&b&&(!0===a.newValue?b.paused&&b.paused():b.AO&&b.AO());a.newValue||(Ra=!1);Y.ae.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ja.Dh(Y.Zb.value)});});this.addEventListener(ma.S.CA,function(a){Y.ca.Pl.Sob(a.qX,a.xM);});this.Qb.addListener(function(a){Y.ae.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ja.Dh(Y.Zb.value)},Y.$E());});this.Qb.addListener(function(){Y.Fp.set(Y.Qb.value===ma.jb.Cc);});this.lD.addListener(function(a){Y.ae.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ja.Dh(Y.Zb.value)},Y.$E());});this.Hn.addListener(function(a){Y.ae.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ja.Dh(Y.Zb.value)},Y.$E());});this.hk.addListener(function(a){Y.ae.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ja.Dh(Y.Zb.value)},Y.$E());});this.Uc.addListener(function(a){V.Ma(a.newValue);Y.ae.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Bk,To:a.newValue.ab},a.oldValue&&{FromBcp47:a.oldValue.Bk,From:a.oldValue.ab},{MediaTime:ja.Dh(Y.Zb.value)});});this.Yf.addListener(function(){for(var a=Y.xz(),b=a.length,d=0;d<b;d++)a[d].lower=a[d-1],a[d].rib=a[d+1];});this.zc.addListener(function(a){Y.ae.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Bk,To:a.newValue.ab}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Bk,From:a.oldValue.ab}:{From:"none"},{MediaTime:ja.Dh(Y.Zb.value)});});this.Xb[f.Mc.Fa.AUDIO]=new B.Rc(null);this.Xb[f.Mc.Fa.VIDEO]=new B.Rc(null);this.Qb.addListener(tb,h.LB);this.Qb.addListener(eb);this.addEventListener(ma.S.Ok,function(){var a,b,d,f;Y.dZ=!0;Y.Xc("start");a=Y.We.value;b=K._cad_global.prefetchEvents;if(b){d=r.Cb(Y.Em?Y.Em.audio:0);f=r.Cb(Y.Em?Y.Em.video:0);b.Rl(Y.u,Y.ia,"notcached"!==Y.Rv,"notcached"!==Y.Qv,!!Y.Em,d,f);}Y.PV=a.stream.R;});R.JTa(this);l.kn.push(this);x.config.nN&&(this.JX=new ya.MTa(this),this.KX=new U.QTa(this));l.qla.forEach(function(a){a(Y);});this.g2a=function(a){Y.addEventListener(ma.S.CA,function(b){b=b.cause;b!==ma.bg.oH&&b!==ma.bg.RB&&a.stop();});Y.addEventListener(ma.S.no,function(b){var d,f,c,k,g,p,m;d=b.cause;f=b.skip;c=b.xM;k=b.qX;g=b.u;b=b.Ai;if(d!==ma.bg.RB&&(x.config.edb&&d===ma.bg.pQ&&Y.Xl.LJ(),d!==ma.bg.oH))if(f)if(a.Ws(c)){Y.ae.trace("Repositioned. Skipping from "+k+" to "+c);d=function(a){Y.log.error("streamingSession.skipped threw an exception",a);a=A.qc.DU(ba.I.KIa,a);Y.Qm(a.code,a);};try{p=a.Mi(c);p?p.then(function(b){b.GL||a.play();})["catch"](d):a.play();}catch(Mc){d(Mc);}}else Y.log.error("can skip returned false");else{Y.ae.trace("Repositioned. Seeking from "+k+" to "+c);try{m=Y.Dm(g).ib;a.LA(b,Y.wwa(m),m);}catch(Mc){Y.log.error("streamingSession.seekByContentPts threw an exception",Mc);c=A.qc.DU(ba.I.IIa,Mc);Y.Qm(c.code,c);}}});a.addEventListener("maxPosition",function(a){var b;b=r.Cb(a.maxPts);if(a=Y.ju[a.index])a.Eq=b;Y.ku||(Y.ku=b);});a.addEventListener("segmentStarting",function(a){Y.fireEvent(ma.S.rvb,a);});a.addEventListener("lastSegmentPts",function(a){Y.fireEvent(ma.S.ovb,a);});a.addEventListener("segmentPresenting",function(a){Y.fireEvent(ma.S.DY,a);});a.addEventListener("segmentAborted",function(a){Y.fireEvent(ma.S.mvb,a);});a.addEventListener("manifestPresenting",function(a){Y.Zza({u:parseInt(a.movieId),TX:a.previousMovieId?parseInt(a.previousMovieId):void 0,Gz:!1});});a.addEventListener("skip",function(a){Y.fireEvent(ma.S.Mi,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(Y.ae.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),Y.ae.trace("StreamingFailure, buffer status:"+JSON.stringify(Y.$E())),x.config.tcb&&!Y.dZ&&na.Jb(function(){Y.Md(Y.ee(ba.I.JIa,{ba:a.nativeCode,kb:a.errormsg,Ci:a.httpCode,fX:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){Y.NW.push(a);});a.addEventListener("bufferingStarted",function(){Y.Hn.set(ma.Gf.Zf);});a.addEventListener("locationSelected",function(a){Y.fireEvent(ma.S.Uq,a);});a.addEventListener("serverSwitch",function(a){var b;Y.fireEvent(ma.S.ZF,a);"video"===a.mediatype?b=f.Mc.Fa.VIDEO:"audio"===a.mediatype&&(b=f.Mc.Fa.AUDIO);sa.gc(b)&&Y.awb(a.server,b);});a.addEventListener("bufferingComplete",function(b){Y.ae.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},Y.$E());Y.Jn=b;Y.Hn.set(ma.Gf.jd);Ua||(Ua=!0,Y.Xc("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.PBa();x.config.vqb&&!Y.paused.value&&(Ra=!0,Y.paused.set(!0,{Hba:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){Y.paused.value&&Ra&&(Ra=!1,Y.paused.set(!1,{Hba:!0}));Y.Gi.Vob();});a.addEventListener("endOfStream",function(a){Y.En("EndOfStream");Y.Gi.Jba(a);});a.addEventListener("asereportenabled",function(){Y.DK=!0;});a.addEventListener("asereport",function(a){Y.fireEvent(ma.S.dD,a);});a.addEventListener("aseexception",function(a){Y.fireEvent(ma.S.cD,a);});a.addEventListener("hindsightreport",function(a){var b,d;b=sa.ka(Y.Ue)?0:Y.Ue;d=a.report;d&&d.length&&d.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});Y.a$={eub:d,Aib:a.hptwbr,Xxa:a.htwbr,EX:a.pbtwbr};a.rr&&(Y.a$.JEa=a.rr);a.ra&&(Y.a$.Msb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;Y.Da=a.location.bandwidth;Y.Wg=a.location.httpResponseTime;Y.Sxb=a.stat.streamingBitrate;b&&(void 0===Y.Ty&&(Y.Ty={interval:x.config.kD,startTime:b.startTime,Ms:[],Eu:[]}),Y.Ty.Ms=Y.Ty.Ms.concat(b.Ms),Y.Ty.Eu=Y.Ty.Eu.concat(b.Eu));a.psdConservCount&&(Y.sDa=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+Y.u&&(Y.Em=a);});a.addEventListener("startEvent",function(a){K._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&K._cad_global.prefetchEvents.KJ(ca.Ce.zj.MEDIA,Y.u);});a.addEventListener("requestComplete",function(a){var b;b=(a=a&&a.mediaRequest)&&a.vD&&a.vD.cadmiumResponse;b&&Y.fireEvent(ma.S.dw,{response:b,u:Y.Bt(a.ib).u});});a.addEventListener("streamSelected",function(a){var b,d;a.mediaType===f.Mc.Fa.VIDEO?(d=Y.Fxa(a.streamId),b=Y.ze):a.mediaType===f.Mc.Fa.AUDIO&&(d=Y.vxa(a.streamId),b=Y.Mj);d&&b?b.set(d,{Tra:a.movieTime,S3a:a.bandwidth}):Y.ae.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,d;if("string"===typeof a.target&&"object"===typeof a.fields){b=Y.Jm[a.target];d=sa.ka(Y.Ue)?Y.Ue:0;b||(b=Y.Jm[a.target]={});Object.keys(a.fields).forEach(function(f){var c,k,g,p;c=a.fields[f];if("object"!==typeof c||null===c)b[f]=c;else{k=c.type;if("count"===k)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==c.value)if("array"===k){k=b[f];g=c.adjust;p=c.value;k||(k=b[f]=[]);g&&0<g.length&&g.forEach(function(a){p[a]-=d||0;});k.push(p);}else"sum"===k?(void 0===b[f]&&(b[f]=0),b[f]+=c.value):b[f]=c.value;else b[f]=c;}});}});};this.Uc.addListener(function(a){var b;if(Y.ob)if(a.Yv&&a.Yv.reset)Y.ae.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;Y.ob.DGa({gD:b.Ez,toJSON:function(){return b.tg;}})?Y.ae.trace("ASE accepted the audio track switch"):(Y.ae.trace("ASE rejected the audio track switch"),a.oldValue.Ez!==b.Ez&&Y.Uc.set(a.oldValue,{reset:!0}));}});this.addEventListener(ma.S.Ss,function(a){a.cause==l.mla&&(Y.lD.set(ma.Gf.Zf),Y.ob.BHa(Y.Gi.mwa()));});}Object.defineProperty(c,"__esModule",{value:!0});f=a(58);m=a(191);q=a(190);d=a(124);k=a(292);p=a(597);t=a(596);u=a(289);h=a(11);B=a(187);x=a(12);H=a(72);G=a(288);P=a(55);l=a(56);n=a(92);U=a(287);C=a(593);R=a(283);O=a(5);r=a(4);ba=a(2);ca=a(115);V=a(18);ja=a(93);M=a(19);na=a(50);sa=a(16);N=a(105);ha=a(282);Ea=a(131);za=a(185);Fa=a(20);ya=a(280);ma=a(15);Za=a(63);A=a(46);F=a(189);ob=a(278);b.prototype.Xc=function(a){this.ca.Xc(a);};b.prototype.zw=function(a){this.ca.zw(a);};b.prototype.hjb=function(){var a;a=this;this.Uc.addListener(function(b){return a.ca.Uc.set(b.newValue);});this.Yf.addListener(function(b){return a.ca.Yf.set(b.newValue);});this.zc.addListener(function(b){return a.ca.zc.set(b.newValue);});this.$i.addListener(function(b){return a.ca.$i.set(b.newValue);});this.wr.addListener(function(b){return a.ca.wr.set(b.newValue);});this.ze.addListener(function(b){return a.ca.ze.set(b.newValue);});this.Mj.addListener(function(b){return a.ca.Mj.set(b.newValue);});this.We.addListener(function(b){return a.ca.We.set(b.newValue);});this.Uf.addListener(function(b){return a.ca.Uf.set(b.newValue);});this.Zb.addListener(function(b){return a.ca.Zb.set(b.newValue);});this.FEa();};b.prototype.FEa=function(){this.ca!==this.$da&&(this.ca.Zb.set(this.Zb.value),this.Cr(function(a){return a.Uc;},this.Ofa),this.Cr(function(a){return a.Yf;},this.tAb),this.Cr(function(a){return a.wr;},this.pAb),this.Cr(function(a){return a.zc;},this.qAb),this.Cr(function(a){return a.$i;},this.Rzb),this.Cr(function(a){return a.ze;},this.sAb),this.Cr(function(a){return a.Mj;},this.Szb),this.Cr(function(a){return a.Uf;},this.hAb),this.Cr(function(a){return a.We;},this.iAb),this.Cr(function(a){return a.Zb;},this.cAb),this.zc.set(this.ca.zc.value),this.Uc.set(this.ca.Uc.value),this.Yf.set(this.ca.Yf.value),this.$i.set(this.ca.$i.value),this.wr.set(this.ca.wr.value),this.ze.set(this.ca.ze.value),this.Mj.set(this.ca.Mj.value),this.$da=this.ca);};b.prototype.Cr=function(a,b){this.$da&&a(this.$da).removeListener(b);a(this.ca).addListener(b);};b.prototype.load=function(a){var b,d;b=this;this.load=function(){};this.WCa=a;if(this.state.value==ma.mb.JB){this.ae.info("Playback loading",this);this.Nob();this.Xc("asl_load_start");a=this.eD;d=a.endTime;sa.gc(a.startTime)?sa.gc(d)?this.Xc("asl_ended"):this.Xc("asl_in_progress"):this.Xc("asl_not_started");this.eD.WL(function(a){b.Xc("asl_load_complete");a.Z?b.A8a():b.Qm(a.errorCode||ba.I.Gia,a);});}};b.prototype.xrb=function(){var a;try{if(this.state.value===ma.mb.LOADING){a={width:1,height:1,r4:1};this.xz().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height,a.r4=b.r4);});this.IG=a;this.Sy=this.Ry.kqa({fB:r.Cb(this.U),u:this.u,SM:this.Eq,Sa:this.Sa}).da(r.ja);this.Hqa();this.j9a();}}catch(Wb){this.Qm(ba.I.hPa,{ba:ba.G.Bh,kb:M.Re(Wb)});}};b.prototype.m4=function(a,b,d){var f,c,k;b=void 0===b?this.CE.az():b;d=void 0===d?this.qa.kc():d;f=!!x.config.fIa&&!(b%x.config.fIa);c=a.wa;k=a.ib;a=a.Sa;b=this.rca(l.NH.index++,c,k,a,b,d,f,this.ca,this.r9);this.UM[c]=b;1<this.ju.length&&(b.Qt=this.AW.create(this,b,!1));b.lM=new n.pRa(this,b);return c;};b.prototype.wwa=function(a){return a?void 0:0;};b.prototype.Dm=function(a){return this.UM[a];};b.prototype.Bt=function(a){return this.ju.find(function(b){return b.ib===a;})||this.ca;};b.prototype.ogb=function(a){return this.ju.find(function(b){var d,f;return(null===(f=null===(d=b.xf)||void 0===d?void 0:d.Akb)||void 0===f?void 0:f.sessionId)===a;})||this.ca;};b.prototype.Hsb=function(a,b){var d,f;b=void 0===b?!0:b;d=this;f=this.Dm(a);return this.fFa(f).then(function(a){var c;if(!d.ob)throw new A.qc(ba.I.cQ,ba.G.ega);d.lDa(a,f);a=[f.$b.nta,f.$b.sta];c=!1;try{c=!!d.ob.YC(f.sa,{izb:a,replace:!1,U:f.Sa.U,ga:f.Sa.ga,tA:!0,Qh:!f.Ew,Zqa:b,Aq:d.n6(f.u),Mib:!0},f.ib);}catch(hf){throw A.qc.DU(ba.I.cQ,hf);}if(!c)throw new A.qc(ba.I.cQ,ba.G.CIa);return d.yb.Vj.lEa(f).then(function(){if(!d.ob)throw new A.qc(ba.I.cQ,ba.G.ega);d.ob.AK(""+f.u);});})["catch"](function(a){d.log.error("queueManifest failed",a);throw d.ee(a.code,a);});};b.prototype.Udb=function(){if(sa.ka(this.Hc.ats)&&sa.ka(this.Hc.at))return this.Hc.at-this.Hc.ats;};b.prototype.Sva=function(){var a,b;a=this.KO();b=this.qJ();return Math.min(a,b);};b.prototype.ufb=function(){if(sa.ka(this.Hc.shs)&&sa.ka(this.Hc.sh))return this.Hc.sh-this.Hc.shs;};b.prototype.UN=function(){this.background||(this.ae.info("Starting inactivity monitor for movie "+this.u),new G.zPa(this));};b.prototype.close=function(a){a&&(this.state.value==ma.mb.CLOSED?a():this.addEventListener(ma.S.closed,function(){a();}));this.Tea();};b.prototype.Md=function(a,b){var d,f,c;d=this;if(this.state.value==ma.mb.JB)this.Di||(this.Di=a,this.load());else{b&&(this.state.value==ma.mb.CLOSED?b():this.addEventListener(ma.S.closed,function(){b();}));f=function(){d.Tea(a);};c=x.config.vta&&a&&x.config.vta[a.errorCode];sa.Kz(c)&&(c=M.de(c));this.ae.error("Fatal playback error",{Error:""+a,HandleDelay:""+c});0<=c?setTimeout(f,c):f();}};b.prototype.vO=function(){this.Lb.Mb(ma.S.vO);};b.prototype.En=function(a,b){b=void 0===b?this.ib:b;this.UCa.push(this.qa.kc().da(r.ja)+"-"+b+"-"+a);};b.prototype.gdb=function(){this.fva();};b.prototype.i9=function(){var a;a=this.ob;return a&&(a=a.Twa(),void 0!==a)?a:null;};b.prototype.vz=function(){return void 0!==this.ca.jT&&void 0===this.ob?this.ca.jT:this.r9(this.Zb.value,this.ib);};b.prototype.h9=function(){var a;a=this.r9(this.Gi.mwa());return null===a?null:Math.min(this.Eq.da(r.ja),Math.max(0,a));};b.prototype.OU=function(){var a;a=this.sa.choiceMap;if(a)return a.segments;};b.prototype.fAb=function(a){this.Sa=Ea.lnb(function(a,b){return void 0!==b?b:a;},this.Sa,a);this.Hqa();};b.prototype.xz=function(a){a=void 0===a?this.u:a;return(a=this.Dm(a).Yf)&&a.value?a.value.bc:[];};b.prototype.bib=function(a){for(var b=Q(this.ju),d=b.next();!d.done;d=b.next())if(d=(d=d.value.aj)&&d.find(function(b){return b.id===a;}))return d;};b.prototype.vxa=function(a){for(var b=Q(this.ju),d=b.next();!d.done;d=b.next())if(d=(d=d.value.Uc.value)&&d.bc.find(function(b){return b.Zc===a;}))return d;};b.prototype.Fxa=function(a){for(var b=Q(this.ju),d=b.next();!d.done;d=b.next())if(d=(d=d.value.Yf.value)&&d.bc.find(function(b){return b.Zc===a;}))return d;};b.prototype.$y=function(){var a,b,d,f;return f=null===(d=null===(a=this.KX)||void 0===a?void 0:(b=a).gK)||void 0===d?void 0:d.call(b),null!==f&&void 0!==f?f:this.Hsa().yc;};b.prototype.JFa=function(a){var b;this.ob&&this.Dm(a)&&((null===(b=this.KX)||void 0===b?0:b.gK)?this.KX.GHa():(b=this.n6(a),this.ob.ON(b,a)));};b.prototype.lkb=function(){return"trailer"===this.he;};b.prototype.vya=function(){return!!this.he&&0<=this.he.indexOf("billboard");};b.prototype.skb=function(){return!!this.he&&0<=this.he.indexOf("video-merch");};b.prototype.Pjb=function(){return!!this.he&&0<=this.he.indexOf("mini-modal");};b.prototype.NE=function(){return this.lkb()||this.vya()||this.skb()||this.Pjb();};b.prototype.I8=function(){var c;if(this.Zm){for(var a,b=0;b<this.Zm.length;b++)for(var d=this.Zm[b],f=0;f<d.bc.length;f++){c=d.bc[f];sa.ka(c.o6)&&sa.ka(c.tT)&&sa.ka(c.sT)&&sa.ka(c.rT)&&(0<c.o6||0<c.tT)&&(c=c.rT/c.sT,a=sa.ka(a)?Math.min(a,c):c);}return a;}};b.prototype.Dgb=function(){return{tr:this.Bfa,rt:this.Bda};};b.prototype.zt=function(a){return this.Jm[a];};b.prototype.R4a=function(){return this.Ym?this.qa.kc().da(r.ja)-this.Ym:this.Ja.ef.da(r.ja)-this.IU();};b.prototype.Bra=function(){var a;if(this.Ym)return this.qa.kc().da(r.ja)-this.Ym;a=this.qa.Qz;return this.PCa-(this.Ql.da(r.ja)+a.da(r.ja));};b.prototype.W4a=function(){return this.Ym?this.qa.kc().da(r.ja)-this.Ym:this.PCa-this.IU();};b.prototype.Fob=function(a){var b,d;b=this.Ue;d={};M.ad(a,function(a,f){d[a]=f.map(function(a){return a-b;});});return d;};b.prototype.ceb=function(){var a,b;a=this.Ue;b={};M.ad(this.W4,function(d,f){b[d]=f.map(function(b){return b-a;});});return k.Rs?{level:k.Rs.xwa(),charging:k.Rs.G8(),statuses:b}:null;};b.prototype.jV=function(){this.eva();return this.MO;};b.prototype.IU=function(){var a;a=this.Sa.AZ;a=sa.ka(a)?a:this.Ql.da(r.ja)+this.qa.Qz.da(r.ja);V.Ma(sa.Dw(a));return a;};b.prototype.n9=function(){return this.qa.kc().da(r.ja)-this.Ql.da(r.ja);};b.prototype.ywb=function(){this.MO.HasRA=!0;};b.prototype.qBb=function(){this.Ywb=!0;};b.prototype.nX=function(){this.aEa();};b.prototype.KO=function(){var a;a=this.FS();return a&&a.vbuflmsec||0;};b.prototype.qJ=function(){var a;a=this.FS();return a&&a.abuflmsec||0;};b.prototype.Yfa=function(){var a;a=this.FS();return a&&a.vbuflbytes||0;};b.prototype.J4=function(){var a;a=this.FS();return a&&a.abuflbytes||0;};b.prototype.fFa=function(a){var b,d;a=void 0===a?this:a;b=this;d=x.config.ZX.enabled?Za.gd.jn.Hla:this.NE()?Za.gd.jn.A1:Za.gd.jn.ln;a={ia:a.ia,Sa:a.Sa,wa:a.u,kE:d};return this.Jaa.Bm(this.log,this.Dqb(),a)["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};b.prototype.lDa=function(a,b){b=void 0===b?this:b;b.sa=a;a=this.Laa.create(this).mqb(a);b.$b=a;b.Yf.set(a.K6);b.Uc.set(a.G6);b.zc.set(a.J6);};b.prototype.rva=function(a,b){this.Zza({u:a,TX:this.DD,Gz:void 0===b?!1:b});};b.prototype.Chb=function(a,b){this.Dm(a.wa)||this.m4(a);this.rva(a.wa,!0);this.Md(b);};b.prototype.xxa=function(a,b){if(!this.bk.EO)return!0;a=this.ku.da(r.ja)-a;return 0>a||a>b;};b.prototype.Zza=function(a){if(a.TX){if(a.u===this.DD)return;this.fireEvent(ma.S.WE,{u:this.DD});this.DD=a.u;a.Gz||this.FEa();this.GE=this.Ja.lea;this.ca.Ym||(this.ca.Ym=this.qa.kc().da(r.ja));}("boolean"===typeof this.Sa.aE?this.Sa.aE:x.config.aE)&&!a.Gz&&this.Hfa.aE(this);this.fireEvent(ma.S.bo,a);};b.prototype.A8a=function(){try{this.$J=new F.nLa(this);this.Qt=this.AW.create(this,this.ca,!0);x.config.h5a&&new ob.JNa(this,this.log);x.config.OJ&&this.OJ(this);this.XAb();}catch(eb){this.Qm(ba.I.gPa,{ba:ba.G.Bh,kb:M.Re(eb)});}};b.prototype.XAb=function(){this.Di?this.Md(this.Di):sa.Hya(this.u)?this.B5a():this.Qm(ba.I.VOa,{kb:""+this.u});};b.prototype.B5a=function(){var a;a=m.lG.qFa;a?a.Z?this.I5():this.Qm(ba.I.$ia,a):(V.Ma(!x.config.cU),this.f4());};b.prototype.I5=function(){var a;a=this;!this.background&&x.config.I5?l.pla(function(){a.f4();},this):this.f4();};b.prototype.f4=function(){var a;a=this;this.state.value==ma.mb.LOADING&&(x.config.z7&&!this.NE()?m.lG.Jy(l.ITa,function(b){b.Z?(a.yW=b.yW,x.config.HY?a.wJ():a.fea()):a.Qm(ba.I.Zia);},!0):x.config.HY?this.wJ():this.fea());};b.prototype.fea=function(){var a;a=this;this.state.value==ma.mb.LOADING&&(this.Xc("ic"),this.brb.Cvb(function(b){b.error&&a.log.error("Error sending persisted playdata",ba.Ho(b));try{a.wJ();}catch(Ua){a.log.error("playback.authorize threw an exception",Ua);a.Qm(ba.I.UIa,{ba:ba.G.Bh,kb:M.Re(Ua)});}}));};b.prototype.wJ=function(){var a,b;a=this;if(this.state.value==ma.mb.LOADING){this.log.info("Authorizing",this);b=this.qa.kc().da(r.ja);this.Xc("ats");this.$J.wJ(function(d){var f;if(a.state.value==ma.mb.LOADING){a.Xc("at");f=a.sa;a.zw({pr_ats:f&&sa.gc(f.GA)?f.GA:b,pr_at:f&&sa.gc(f.NF)?f.NF:a.qa.kc().da(r.ja)});d.Z?0<a.$b.aj.length&&a.$b.G6&&a.$b.K6&&a.$b.J6?a.lsb():a.Qm(ba.I.pQa,a.Maa(a.$b)):a.Qm(ba.I.MANIFEST,d);}});}};b.prototype.lsb=function(){var a;a=this;this.WCa?(this.log.info("Processing post-authorize",this),this.WCa(this,function(b){b.Z?a.JHa():a.Qm(ba.I.lPa,b);})):this.JHa();};b.prototype.JHa=function(){var b,c,k,g;b=this;if(this.state.value==ma.mb.LOADING){c={};this.Xl=d.pl;x.config.ddb&&this.Xl.LJ();d.Tc.set(a(160)(x.config),!0,O.qg("ASE"));d.Tc.set({maxNumberTitlesScheduled:x.config.$Ca?x.config.$Ca.maxNumberTitlesScheduled:1},!0,this.ae);x.config.Q6a&&3E5>this.sa.duration?d.Tc.rF({expandDownloadTime:!1},!0,this.ae):d.Tc.rF({expandDownloadTime:d.Tc.ACa().expandDownloadTime},!0,this.ae);this.background||x.config.yrb&&"postplay"===this.he?d.Tc.rF({initBitrateSelectorAlgorithm:"historical"},!0,this.ae):d.Tc.rF({initBitrateSelectorAlgorithm:d.Tc.ACa().initBitrateSelectorAlgorithm},!0,this.ae);g=this.Yf&&this.Yf.value&&this.Yf.value.bc;g&&g.length&&(k=g[0].wf);d.Tc.rF(x.tsa(this.Sa.Yh,this.Sa.fW,k),!0,this.ae);c=this.Qc.Mm(c,x.usa(this.he));this.Txb=d.Tc.Ln(c);f.platform.events.emit("networkchange",this.$b.Wvb);this.Xl.EZ({gL:function(){return b.gL();},zL:function(){return b.zL();}});this.xrb();}};b.prototype.j9a=function(){var a,b,d,f,c;a=this;try{this.yb=new p.fRa(this);this.yb.open();b=new Promise(function(b){a.yb.addEventListener(za.ri.bGa,b);});this.Gi=new ha.jRa(this);d={ff:!1,EG:x.config.EG,IZ:x.config.$T,$L:!1,Qh:!this.Ew,tA:!!this.Sa.fW,ga:this.Sa.ga};f={rA:this.log,Ik:this.Ik,sessionId:this.u+"-"+this.ia,ia:this.ia,nA:this.yD,Pg:N.Sh?N.Sh.Pg:void 0,cw:0===x.config.wK||0!==this.ia%x.config.wK?!1:!0};this.kua=f.cw;c=this.Dm(this.u).ib;this.ob=this.Xl.xm(this.sa,[this.$b.nta,this.$b.sta],this.U,d,f,void 0,{Cd:function(){return a.Zb.value;},f9:function(){return a.yb;}},this.Txb,this.n6(this.u),c);this.g2a(this.ob);b.then(function(){a.state.value!==ma.mb.CLOSING&&a.state.value!==ma.mb.CLOSED&&a.ob.open();});this.Zb.set(this.U);this.Ao=new t.aWa(this);if("boolean"===typeof this.Sa.lY?this.Sa.lY:x.config.lY)this.oO=new C.bWa(this);this.UN();l.rla.forEach(function(b){b(a);});this.Mob();}catch(tb){this.Qm(ba.I.iPa,{ba:ba.G.Bh,kb:M.Re(tb)});}};b.prototype.Nob=function(){V.Ma(this.state.value==ma.mb.JB);this.Ue=this.qa.kc().da(r.ja);this.state.set(ma.mb.LOADING);K._cad_global.prefetchEvents&&K._cad_global.prefetchEvents.jrb(this.u);};b.prototype.Qm=function(a,b){this.done||(this.done=!0,b instanceof A.qc?this.Md(this.ee(b.code,b)):this.Md(this.ee(a,b)));};b.prototype.OJ=function(a){var d,f;function b(){var b,f;b=k.Rs.G8()+"";f=a.W4[b];f||(f=a.W4[b]=[]);f.push(d.qa.kc().da(r.ja));d.log.trace("charging change event",{level:k.Rs.xwa(),charging:k.Rs.G8()});}d=this;f=k.Rs.wKa;k.Rs.addEventListener(f,b);a.addEventListener(ma.S.df,function(){k.Rs.removeEventListener(f,b);});};b.prototype.Tea=function(a){var b;b=this;if(this.state.value==ma.mb.JB||this.state.value==ma.mb.LOADING||this.state.value==ma.mb.jd){this.ae.info("Playback closing",this,a?{ErrorCode:a.NT}:void 0);this.En("Closing");P.Ge.removeListener(P.Fl,this.QBa);this.Di=a;this.eva();this.ob&&this.ob.flush();try{this.Lb.Mb(ma.S.df,{movieId:this.DD});}catch(Ua){this.ae.error("Unable to fire playback closing event",Ua);}this.state.set(ma.mb.CLOSING);this.ca.jT=this.vz();this.HIa();this.Ywb||na.Jb(function(){return b.aEa();});}};b.prototype.fva=function(){var a;a=this.Zb.value;this.Tkb!=a&&(this.Tkb=a,this.Lb.Mb(ma.S.qfa));};b.prototype.aEa=function(){var a,b;a=this;V.Ma(this.state.value==ma.mb.CLOSING);b=this.yW;this.yW=void 0;b?m.lG.release(b,function(b){V.Ma(b.Z);a.P5();}):this.P5();};b.prototype.HIa=function(){this.ob&&(this.ob.close(),this.ob.ec());this.Xl&&this.Di&&this.Xl.LJ();delete this.ob;delete this.Xl;};b.prototype.P5=function(){var a;this.P5=h.Le;V.Ma(this.state.value==ma.mb.CLOSING);a=l.kn.indexOf(this);V.Ma(0<=a);l.kn.splice(a,1);this.state.set(ma.mb.CLOSED);this.Lb.Mb(ma.S.closed,void 0,!0);this.Lb.Ng();delete this.xf;this.ca.nX();};b.prototype.Hqa=function(){this.Sa.playbackState&&("number"===typeof this.Sa.playbackState.volume&&this.volume.set(this.Sa.playbackState.volume),"boolean"===typeof this.Sa.playbackState.muted&&this.muted.set(this.Sa.playbackState.muted));};b.prototype.eva=function(){this.Lb.Mb(ma.S.RFa,{MO:this.MO});};b.prototype.awb=function(a,b){var d;d=this.aj.filter(function(b){return b.id===a;})[0];d&&this.Xb[b].set(d);};b.prototype.$E=function(){return{AudioBufferLength:this.qJ(),VideoBufferLength:this.KO()};};b.prototype.FS=function(){if(this.ob)return this.ob.TV(!1);};b.prototype.gL=function(){return this.yoa;};b.prototype.zL=function(){this.yoa++;};b.prototype.Mob=function(){this.state.value==ma.mb.LOADING&&this.state.set(ma.mb.jd);};b.prototype.Hsa=function(a){var b,d;a=void 0===a?this.u:a;b=void 0;d=this.Dm(a);a=this.xz(a).filter(function(a){var f;f=d.lM.uu(a);f&&(b=b||[],b.push({stream:a,PD:f}));return!f;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<a.length;f++)a[f].lower=a[f-1],a[f].rib=a[f+1];return{yc:a,Q$a:b};};b.prototype.n6=function(a){var b,d,f,c,k,g,p;a=void 0===a?this.u:a;b=this.Hsa(a);d=b.yc;f=b.Q$a;c=[];this.xz(a).forEach(function(a){-1==c.indexOf(a.wf)&&c.push(a.wf);});k=null;g=null;d.forEach(function(a){null===k?g=k=a.R:g<a.R?g=a.R:k>a.R&&(k=a.R);});p=[];c.forEach(function(a){var b;b={ranges:[],profile:a};k&&g&&(b.ranges.push({min:k,max:g}),f&&(b.disallowed=f.filter(function(b){return b.stream.wf===a;})),p.push(b));});return p;};pa.Object.defineProperties(b.prototype,{ju:{configurable:!0,enumerable:!0,get:function(){var a;a=this;return Object.keys(this.UM).map(function(b){return a.UM[b];});}},ca:{configurable:!0,enumerable:!0,get:function(){return this.UM[this.DD];}},Nya:{configurable:!0,enumerable:!0,get:function(){return 1===this.ju.length;}},U:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.Sy?this.Sy:this.ju[0].Sa.U||0;}},$b:{configurable:!0,enumerable:!0,get:function(){return this.ca.$b;},set:function(a){this.ca.$b=a;}},vU:{configurable:!0,enumerable:!0,get:function(){return this.ca.Sa.vU;}},wU:{configurable:!0,enumerable:!0,get:function(){return this.ca.Sa.wU;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ca.index;}},ib:{configurable:!0,enumerable:!0,get:function(){return this.ca.ib;}},xf:{configurable:!0,enumerable:!0,get:function(){return this.ca.xf;},set:function(a){this.ca.xf=a;}},Ym:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ym;},set:function(a){this.ca.Ym=a;}},Rv:{configurable:!0,enumerable:!0,get:function(){return this.ca.Rv;},set:function(a){this.ca.Rv=a;}},Qv:{configurable:!0,enumerable:!0,get:function(){return this.ca.Qv;},set:function(a){this.ca.Qv=a;}},PV:{configurable:!0,enumerable:!0,get:function(){return this.ca.PV;},set:function(a){this.ca.PV=a;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.ca.sa;},set:function(a){this.ca.sa=a;}},Sy:{configurable:!0,enumerable:!0,get:function(){return this.ca.Sy;},set:function(a){this.ca.Sy=a;}},fO:{configurable:!0,enumerable:!0,get:function(){return this.ca.fO;},set:function(a){this.ca.fO=a;}},Sa:{configurable:!0,enumerable:!0,get:function(){return this.ca.Sa;},set:function(a){this.ca.Sa=a;}},Qt:{configurable:!0,enumerable:!0,get:function(){return this.ca.Qt;},set:function(a){this.ca.Qt=a;}},Pl:{configurable:!0,enumerable:!0,get:function(){return this.ca.Pl;}},u:{configurable:!0,enumerable:!0,get:function(){return this.ca.u;}},he:{configurable:!0,enumerable:!0,get:function(){return this.ca.he;}},Gn:{configurable:!0,enumerable:!0,get:function(){return this.ca.Gn;}},Zm:{configurable:!0,enumerable:!0,get:function(){return this.ca.Zm;}},Cu:{configurable:!0,enumerable:!0,get:function(){return this.ca.Cu;}},ik:{configurable:!0,enumerable:!0,get:function(){return this.ca.ik;}},fg:{configurable:!0,enumerable:!0,get:function(){return this.ca.fg;}},Ew:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ew;}},Jp:{configurable:!0,enumerable:!0,get:function(){return this.ca.Jp;}},Ek:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ek;}},aj:{configurable:!0,enumerable:!0,get:function(){return this.ca.aj;}},SX:{configurable:!0,enumerable:!0,get:function(){return this.ca.SX;}},Eq:{configurable:!0,enumerable:!0,get:function(){return this.ca.Eq;},set:function(a){this.ca.Eq=a;}},ia:{configurable:!0,enumerable:!0,get:function(){return this.ca.ia;}},xh:{configurable:!0,enumerable:!0,get:function(){return this.ca.xh;}},Ql:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ql;}},GE:{configurable:!0,enumerable:!0,get:function(){return this.ca.GE;},set:function(a){this.ca.GE=a;}},yD:{configurable:!0,enumerable:!0,get:function(){return this.ca.yD;}},NA:{configurable:!0,enumerable:!0,get:function(){return this.ca.NA;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ca.background;},set:function(a){this.ca.background=a;}},t6:{configurable:!0,enumerable:!0,get:function(){return this.ca.t6;}},Hc:{configurable:!0,enumerable:!0,get:function(){return this.ca.Hc;}},In:{configurable:!0,enumerable:!0,get:function(){return this.ca.In;}},i7:{configurable:!0,enumerable:!0,get:function(){return this.ca.i7;}},lM:{configurable:!0,enumerable:!0,get:function(){return this.ca.lM;}},tg:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.u,TrackingId:this.xh,Xid:this.ia};}}});c.LTa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ega="BandwidthMeterFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.rn||(c.rn={});g[g.YP=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.rH=3]="LOAD_FAILED";g[g.vka=4]="PARSE_FAILED";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Gma="TrickPlayManagerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.s1="PlaybackMilestoneStoreSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gla="PboRequestFactorySymbol";},function(g,c,a){var p,t;function b(a){return!(!a||!a.oA&&!a.pboc||!a.code&&!a.code);}function f(a){return!(!a||!a.Pc);}function m(a){return!!(a instanceof Error);}function q(a){switch(a){case"ACCOUNT_ON_HOLD":return t.G.fSa;case"STREAM_QUOTA_EXCEEDED":return t.G.jSa;case"INSUFFICICENT_MATURITY":return t.G.lSa;case"TITLE_OUT_OF_WINDOW":return t.G.rSa;case"CHOICE_MAP_ERROR":return t.G.iSa;case"BadRequest":return t.G.nSa;case"Invalid_SemVer_Format":return t.G.mSa;case"RESTRICTED_TO_TESTERS":return t.G.qSa;case"AGE_VERIFICATION_REQUIRED":return t.G.gSa;case"BLACKLISTED_IP":return t.G.hSa;case"DEVICE_EOL_WARNING":return t.G.e1;case"DEVICE_EOL_FINAL":return t.G.wka;case"INCORRECT_PIN":return t.G.Aka;case"MOBILE_ONLY":return t.G.pSa;case"MDX_CONTROLLER_CTICKET_INVALID":return t.G.oSa;case"VIEWABLE_RESTRICTED_BY_PROFILE":return t.G.sSa;case"RESET_DEVICE":return t.G.zka;case"RELOAD_DEVICE":return t.G.yka;case"EXIT_DEVICE":return t.G.xka;default:return t.G.ria;}}function d(a,b){return new p.qc(a,q(b.code),"BadRequest"===b.code?t.z0.YJa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function k(a,b){return new p.qc(a,b.Pc,b.Qg,void 0,b.br,b.message,b.ND,b.data);}Object.defineProperty(c,"__esModule",{value:!0});p=a(46);t=a(2);c.Ujb=b;c.AOb=f;c.XV=m;c.ANb=q;c.Un=function(a,c){return f(c)?k(a,c):b(c)?d(a,c):m(c)?p.qc.DU(a,c):new p.qc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,c);};c.BNb=d;c.zNb=k;c.D4a=function(a,b,d,f){var c,k,g,p;c=b.nFa[d];if(void 0===c)throw{oA:!0,code:"FAIL",display:"Unable to build the URL for "+d+" because there was no configuration information",detail:b};k=c.version;if(void 0===k)throw{oA:!0,code:"FAIL",display:"Unable to build the URL for "+d+" because there was no version information",detail:b};g=b.KE&&c.serviceNonMember?c.serviceNonMember:c.service;if(void 0===g)throw{oA:!0,code:"FAIL",display:"Unable to build the URL for "+d+" because there was no service information",detail:b};p=c.orgOverride;if(void 0===p&&(p=b.dCa,void 0===p))throw{oA:!0,code:"FAIL",display:"Unable to build the URL for "+d+" because there was no organization information",detail:b};return c.IOb?a.kgb(f)+"/"+p+"/"+g+"/"+k:a.cgb(f)+"/"+p+"/"+g+"/"+k+"/router";};c.C4a=function(a,b){var d;d={"Content-Type":"text/plain"};b=b();a.gqa&&b&&(d["X-Esn"]=b.Pg);return d;};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ema="TransportFactorySymbol";c.eka="MslTransportSymbol";c.hma="SslTransportSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Vka="PboDispatcherSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xja="MediaRequestConstructorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.tka="OpenConnectSideChannelSymbol";c.Yja="MediaRequestDownloaderSymbol";},function(g,c,a){var B,x,H;function b(a,b,d){this.type=a;this.size=b;this.Xv=d;}function f(a){var d,f,c,k,g;a:{d=a.position;if(8<=a.Tj()){f=a.Ka();c=a.ir(4);if(!x.test(c))throw a.seek(d),Error("mp4-badtype");if(1==f){if(8>a.Tj()){a.seek(d);d=void 0;break a;}f=a.hg();}if(!(8<=f))throw a.seek(d),Error("mp4-badsize");if("uuid"==c){if(16>a.Tj()){a.seek(d);d=void 0;break a;}c=a.ex();}d={type:c,offset:d,size:f,Xv:d+f-a.position};}else d=void 0;}if(d&&d.Xv<=a.Tj()){k=d.type;f=d.size;g=d.Xv;c=new b(k,f,g);k=H[k];if(a.Tj()<g)throw Error("mp4-shortcontent");k?(g=new B(a.Dd(g)),k(c,g)):a.skip(g);a.seek(d.offset);c.raw=a.Dd(f);return c;}}function m(a,b){for(var d=[],c={},k,g;0<b.Tj();){k=f(b);if(!k)throw Error("mp4-badchildren");g=k.type;d.push(k);c[g]||(c[g]=k);}a.children=d;a.a8=c;}function q(a,b){a.version=b.oc(1);a.Se=b.oc(3);}function d(a,b){b.skip(6);a.n9a=b.Gb();b.skip(8);a.channelCount=b.Gb();a.KA=b.Gb();b.skip(4);a.sampleRate=b.Gb();b.skip(2);m(a,b);}function k(a,b){var d;b.skip(6);a.n9a=b.Gb();b.skip(16);a.width=b.Gb();a.height=b.Gb();a.hOb=b.Ka();a.ZRb=b.Ka();b.skip(4);a.tdb=b.Gb();d=b.se();a.l6a=b.ir(d);b.skip(31-d);a.depth=b.Gb();b.skip(2);m(a,b);}function p(a,b){q(a,b);a.HMb=b.oc(3);a.IMb=b.se();a.Hw=b.Dd(16);}function t(a,b){for(var d=[],f;b--;)f=a.Gb(),d.push(a.Dd(f));return d;}function u(a){var b;b=a.Dd(2);a={dRb:b[1]>>1&7,cRb:!!(b[1]&1),WQb:a.Gb()};h(a,(b[0]<<8|b[1])>>4);return a;}function h(a,b){a.XQb=b>>4&3;a.bRb=b>>2&3;a.$Qb=b&3;return a;}B=a(619);x=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.pw=function(a){var b,d,f,c,k;b=this;a=a.split("/");for(c=0;c<a.length&&b;c++){f=a[c].split("|");d=void 0;for(k=0;k<f.length&&!d;k++)d=f[k],d=b.a8&&b.a8[d];b=d;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};H={ftyp:function(a,b){a.hPb=b.ir(4);a.FPb=b.Ka();for(a.d6a=[];4<=b.Tj();)a.d6a.push(b.ir(4));},moov:m,sidx:function(a,b){q(a,b);a.KQb=b.Ka();a.tfa=b.Ka();a.l7=1<=a.version?b.hg():b.Ka();a.c8=1<=a.version?b.hg():b.Ka();b.skip(2);for(var d=b.Gb(),f=[],c,k;d--;){c=b.Ka();k=c>>31;if(0!==k)throw Error("mp4-badsdix");c&=2147483647;k=b.Ka();b.skip(4);f.push({size:c,duration:k});}a.LQb=f;},moof:m,mvhd:function(a,b){var d;q(a,b);d=1<=a.version?8:4;a.fh=b.oc(d);a.modificationTime=b.oc(d);a.tfa=b.Ka();a.duration=b.oc(d);a.HQb=b.iN();a.volume=b.dY();b.skip(70);a.RPb=b.Ka();},pssh:function(a,b){var d;q(a,b);a.pab=b.ex();d=b.Ka();a.data=b.Dd(d);},trak:m,mdia:m,minf:m,stbl:m,stsd:function(a,b){q(a,b);b.Ka();m(a,b);},encv:k,avc1:k,hvcC:k,hev1:k,mp4a:d,enca:d,"ec-3":d,avcC:function(a,b){a.version=b.se();a.iLb=b.se();a.EQb=b.se();a.hLb=b.se();a.VOb=(b.se()&3)+1;a.mRb=t(b,b.se()&31);a.rQb=t(b,b.se());},pasp:function(a,b){a.dOb=b.Ka();a.XRb=b.Ka();},sinf:m,frma:function(a,b){a.pMb=b.ir(4);},schm:function(a,b){q(a,b);a.Wub=b.ir(4);a.gRb=b.Ka();a.Se&1&&(a.fRb=b.bda());},schi:m,tenc:p,mvex:m,trex:function(a,b){q(a,b);a.ab=b.Ka();a.e$a=b.Ka();a.JD=b.Ka();a.qta=b.Ka();a.pta=u(b);},traf:m,tfhd:function(a,b){var d;q(a,b);a.ab=b.Ka();d=a.Se;d&1&&(a.mLb=b.hg());d&2&&(a.ZQb=b.Ka());d&8&&(a.JD=b.Ka());d&16&&(a.qta=b.Ka());d&32&&(a.pta=u(b));},saio:function(a,b){q(a,b);a.Se&1&&(a.L3a=b.Ka(),a.M3a=b.Ka());for(var d=1<=a.version?8:4,f=b.Ka(),c=[];f--;)c.push(b.oc(d));a.MEa=c;},mdat:function(a,b){a.data=b.Dd(b.Tj());},tkhd:function(a,b){var d;q(a,b);d=1<=a.version?8:4;a.fh=b.oc(d);a.modificationTime=b.oc(d);a.ab=b.Ka();b.skip(4);a.duration=b.oc(d);b.skip(8);a.Xkb=b.Gb();a.B2a=b.Gb();a.volume=b.dY();b.skip(2);b.skip(36);a.width=b.iN();a.height=b.iN();},mdhd:function(a,b){var d;q(a,b);d=1<=a.version?8:4;a.fh=b.oc(d);a.modificationTime=b.oc(d);a.tfa=b.Ka();a.duration=b.oc(d);d=b.Gb();a.language=String.fromCharCode((d>>10&31)+96)+String.fromCharCode((d>>5&31)+96)+String.fromCharCode((d&31)+96);b.skip(2);},mfhd:function(a,b){q(a,b);a.lRb=b.Ka();},tfdt:function(a,b){q(a,b);a.zJ=b.oc(1<=a.version?8:4);8==b.Tj()&&b.skip(8);},saiz:function(a,b){q(a,b);a.Se&1&&(a.L3a=b.Ka(),a.M3a=b.Ka());for(var d=b.se(),f=b.Ka(),c=[];f--;)c.push(d||b.se());a.aRb=c;},trun:function(a,b){var d,f;q(a,b);d=b.Ka();f=a.Se;f&1&&(a.rMb=b.Ka());f&4&&(a.uNb=u(b));for(var c=[],k;d--;)k={},f&256&&(k.duration=b.Ka()),f&512&&(k.size=b.Ka()),f&1024&&(k.Se=b.Ka()),f&2048&&(k.ZLb=b.Ka()),c.push(k);a.qo=c;},sdtp:function(a,b){q(a,b);for(var d=[];0<b.Tj();)d.push(h({},b.se()));a.qo=d;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){q(a,b);a.fileSize=b.hg();a.tfa=b.hg();a.duration=b.hg();a.MBa=b.hg();a.qRb=b.hg();1<=a.version&&(a.MPb=b.hg(),a.NPb=b.Ka(),a.NBa=b.hg(),a.iva=b.Ka(),a.Tua=b.ex());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){q(a,b);a.Se&1&&(a.ZKb=b.oc(3),a.OOb=b.se(),a.Gkb=b.ex());a.VQb=b.Ka();a.K3a=b.Dd(b.Tj());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){q(a,b);a.pX=b.Ka();a.tK=b.Gb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":p,"636F6D2E-6E65-7466-6C69-782E6974726B":m,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){q(a,b);a.HS=b.ex();a.fh=b.hg();a.u=b.hg();a.io=b.hg();a.tY=b.Gb();a.uY=b.Gb();a.Ikb=b.Dd(16);a.hyb=b.Dd(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){q(a,b);a.ALb=b.Dd(b.Tj());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var d;q(a,b);a.qvb=b.hg();d=b.Ka();a.Za=[];for(var f=0;f<d;f++)a.Za.push({duration:b.Ka(),size:b.Gb()});},"636F6D2E-6E65-7466-6C69-782E69736567":m,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var d;q(a,b);a.HS=b.ex();a.duration=b.Ka();d=b.Ka();a.qo=[];for(var f=0;f<d;f++)a.qo.push({bj:b.Ka(),duration:b.Ka(),yX:b.Gb(),zX:b.Gb(),WY:b.Gb(),XY:b.Gb(),Rq:b.hg(),DE:b.Ka()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var d,f,k,g;q(a,b);d=b.Ka();f=b.se();a.qo=[];for(var c=0;c<d;c++){k=b.se();g=k>>6;k=k&63;0!=g&&0===k&&(k=f);a.qo.push({vua:g,Gw:b.Dd(k)});}}};g.P={IQb:function(a,b){a=new B(a);b&&a.seek(b);return f(a);},$ca:function(a,b){var d;if(!a)throw Error("mp4-badinput");a=new B(a);d=[];for(b&&a.seek(b);b=f(a);)d.push(b);return d;}};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xga="ChunkMediaSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wja="MediaHttpSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.zla="PrefetchEventsConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xma="WindowUtilsSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.kka="NfCryptoSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.vja="LogDisplayConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Nha="DxManagerSymbol";c.Mha="DxManagerProviderSymbol";},function(g,c,a){var f,m,q,d,k;function b(a,b,f){this.pc=a;this.is=b;this.prefix=f;this.$M=this.Im=!1;this.ura=new d.kWa(b);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(21);q=a(22);d=a(642);k=a(9);c.OKa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";c.PKa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.QKa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.TG="";b.prototype.show=function(){this.Im||(this.y6a(),this.xD&&k.je.body.appendChild(this.xD),this.pf&&k.je.body.appendChild(this.pf),this.BJ&&k.je.body.appendChild(this.BJ),this.TA&&k.je.getElementsByTagName("head")[0].appendChild(this.TA),this.Im=!0,this.refresh());};b.prototype.Ht=function(){this.Im&&(this.pf&&k.je.body.removeChild(this.pf),this.BJ&&k.je.body.removeChild(this.BJ),this.xD&&k.je.body.removeChild(this.xD),this.TA&&k.je.getElementsByTagName("head")[0].removeChild(this.TA),this.TA=this.hO=this.xD=this.BJ=this.pf=void 0,this.Im=!1);};b.prototype.toggle=function(){this.Im?this.Ht():this.show();};b.prototype.ezb=function(){(this.$M=!this.$M)||this.refresh();};b.prototype.jeb=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.y6a=function(){var a;a=this;this.TA=k.je.createElement("style");this.TA.type="text/css";this.TA.innerHTML=this.jeb(this.prefix);this.BJ=this.pc.createElement("div",c.OKa,void 0,{"class":this.prefix+"-display-blur"});this.pf=this.pc.createElement("div",c.PKa,void 0,{"class":this.prefix+"-display"});this.xD=this.pc.createElement("div",c.QKa,void 0,{"class":this.prefix+"-display"});this.bwa().forEach(function(b){return a.xD.appendChild(b);});};b.prototype.B6a=function(a){a=this.pc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),d=0;d<b.length;d++)b[d].addEventListener("click",function(a){var b,d;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{d=a.querySelectorAll(":scope .open");for(a=0;a<d.length;a++)d[a].classList.remove("open");}catch(H){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.Im||this.$M?Promise.resolve():this.YDa().then(function(b){if(b&&(b=a.B6a(b),a.pf)){a.hO&&(a.pf.removeChild(a.hO),a.hO=void 0);a.hO=b;a.pf.appendChild(a.hO);b=a.pf.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var d=0;d<b.length;++d)b[d].addEventListener("click",a.HEa);(b=a.pf.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.$e)),g.__param(1,f.l(q.Ke)),g.__param(2,f.yh())],a);c.qQ=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Lha="DxDisplaySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.l1={ML:"keepAlive",splice:"splice"};c.Xka="PboEventSenderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ula="PlaydataConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Uka="PboCachedPlaydataSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zka="PboLicenseResponseTransformerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yka="PboLicenseRequestTransformerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.fla="PboReleaseLicenseCommandSymbol";},function(g,c,a){var d,k,p,t,u,h;function b(a){var b;a=new p.WG(a);if(1481462272!=a.Ka())throw Error("Invalid header");b={XMR:{Version:a.Ka(),RightsID:a.nf(16)}};f(a,b.XMR,a.buffer.length);return b;}function f(a,b,d){var c,k,g,p,t;for(;a.position<d;){c=a.Gb();k=a.Ka();k=k-8;switch(c){case 1:g="OuterContainer";break;case 2:g="GlobalPolicy";break;case 3:g="MinimumEnvironment";break;case 4:g="PlaybackPolicy";break;case 5:g="OutputProtection";break;case 6:g="UplinkKID";break;case 7:g="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:g="AnalogVideoOutputConfiguration";break;case 9:g="KeyMaterial";break;case 10:g="ContentKey";break;case 11:g="Signature";break;case 12:g="DeviceIdentification";break;case 13:g="Settings";break;case 18:g="ExpirationRestriction";break;case 42:g="ECCKey";break;case 48:g="ExpirationAfterFirstPlayRestriction";break;case 50:g="PlayReadyRevocationInformationVersion";break;case 51:g="EmbeddedLicenseSettings";break;case 52:g="SecurityLevel";break;case 54:g="PlayEnabler";break;case 57:g="PlayEnablerType";break;case 85:g="RealTimeExpirationRestriction";break;default:g="Other";}p={Type:m(c)};t=b[g];t?h.isArray(t)?t.push(p):(b[g]=[],b[g].push(t),b[g].push(p)):b[g]=p;switch(c){case 1:case 2:case 4:case 7:case 9:case 54:f(a,p,a.position+k);break;case 5:p.Reserved1=a.Gb();p.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Gb();p.MinimumAnalogVideoOutputProtectionLevel=a.Gb();p.Reserved2=a.Gb();p.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Gb();break;case 10:p.Reserved=a.nf(16);p.SymmetricCipherType=a.Gb();p.AsymmetricCipherType=a.Gb();k=a.Gb();p.EncryptedKeyLength=k;c=a.nf(k);p.EncryptedKeyData=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 11:p.SignatureType=a.nf(2);k=a.Gb();c=a.nf(k);p.SignatureData=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 13:p.Reserved=a.Gb();break;case 18:p.BeginDate=a.Ka();p.EndDate=a.Ka();break;case 42:p.CurveType=a.nf(2);k=a.Gb();c=a.nf(k);p.Key=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 48:p.ExpireAfterFirstPlay=a.Ka();break;case 50:p.Sequence=a.Ka();break;case 51:p.LicenseProcessingIndicator=a.Gb();break;case 52:p.MinimumSecurityLevel=a.Gb();break;case 57:p.PlayEnablerType=q(a.nf(16));break;case 85:break;default:p.OtherData=a.nf(k);}}}function m(a){return"0x"+a.toString(16);}function q(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(c,"__esModule",{value:!0});d=a(11);k=a(5);p=a(155);t=a(125);u=a(202);h=a(16);c.CMb=function(a,f,c){switch(f){case d.I_:a&&(a=k.a4a(a),u.zIa(a,function(a){a.Z&&(a=a.object)&&(a=t.Geb(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=t.rqb(a))&&(a=k.rm(a))&&(a=b(a))&&c(a);}));}};c.DMb=b;c.EMb=f;c.GMb=m;c.FMb=q;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ska="PboAcquireLicenseCommandSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bia="HttpRequesterSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.nia="FtlDataParserSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.jka="NetworkMonitorSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yma="XhrFactorySymbol";},function(g,c,a){var f,m,q,d,k,p,t,u,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(158);m=a(74);q=a(19);d=a(2);k=a(18);p=a(9);t=a(16);u=a(1);a=a(17);b.prototype.construct=function(a,b){var d,f,c;d=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});c=[];q.ad(f,function(a,f){c.push(d.uhb(f,b));});return{urls:c};};b.prototype.uhb=function(a,b){var d,f,c,k;d=this;f=a[0];c={url:f.url,bitrate:f.R,cdnid:t.jf(f.Xb)?f.Xb.id:f.Xb,dltype:f.Y$a,id:f.Zc};k={};a.forEach(function(a){var b;b=d.Hjb(a)?"fail":"success";k[b]||(k[b]=[]);k[b].push(a);});q.ad(k,function(a,f){"fail"===a?c.failures=d.afb(f,b):"success"===a&&(c.downloads=d.Reb(f,b));});return c;};b.prototype.Reb=function(a,b){var d,f,c;d=this;f={};a.forEach(function(a){var b;b=a.S5a;f[b]||(f[b]=[]);f[b].push(a);});c=[];q.ad(f,function(a,f){var k;k=[];f.forEach(function(f){k.push(f);d.yjb(f)&&(c.push(d.gwa(k,b,a)),k=[]);});0<k.length&&c.push(d.gwa(k,b,a));});return c;};b.prototype.gwa=function(a,b,d){var m;for(var f=a.sort(function(a,b){return a.Xj.xg<b.Xj.xg?-1:a.Xj.xg>b.Xj.xg?1:0;}),c=f[0].Xj,k=c.requestTime,g=c.xg,c=c.Vl,p=1;p<a.length;p++){m=a[p].Xj;m.requestTime<k&&(k=m.requestTime);m.xg<g&&(g=m.xg);m.Vl>c&&(c=m.Vl);}p=this.wgb(f);m=f[f.length-1];return{time:k-b,tcpid:d?parseInt(d):-1,tresp:g-k,first:p,ranges:this.xgb(f,p),dur:c-g,trace:this.ihb(a),status:this.dV(m)};};b.prototype.wgb=function(a){var b;b=0;a.forEach(function(a){a.hr&&(b=p.Ko(b,a.hr[0]));});return b;};b.prototype.xgb=function(a,b){var d;d=[];a.forEach(function(a){a.hr?d.push([a.hr[0]-b,a.hr[1]-b]):d.push([0,-1]);});return d;};b.prototype.ihb=function(a){var b,d;b=[];a.forEach(function(a){var f;a=a.Xj;if(d){f=a.requestTime-d.Vl;0<f&&b.push([f,-2]);f=p.gn(d.Vl,a.requestTime);f=a.xg-f;0<f&&b.push([f,-3]);}b.push([a.Vl-a.xg,a.Xv||0]);d=a;});return b;};b.prototype.yjb=function(a){if(a.ba===d.G.Ou||a.ba===d.G.Qx)return!0;};b.prototype.dV=function(a){if(a.Z)return"complete";if(a.ba===d.G.Ou)return"abort";if(a.ba===d.G.Qx)return"stall";k.Ma(!1,"download status should never be: other");return"other";};b.prototype.afb=function(a,b){var d,c;d=this;c=[];a.forEach(function(a){var k;k=a.Xj;a={time:k.xg-b,tresp:k.xg-k.requestTime,dur:k.Vl-k.xg,range:a.hr,reason:d.ygb(a),httpcode:a.Ci,nwerr:f.Mwa(a.ba)};c.push(a);});return c;};b.prototype.ygb=function(a){return a.Ci||a.ba===d.G.kH?"http":a.ba===d.G.mH?"timeout":"network";};b.prototype.Hjb=function(a){return a.Z||void 0===a.Z||a.ba===d.G.Ou||a.ba===d.G.Qx?!1:!0;};b.prototype.M6a=function(a){var b,d,f,c,k,g;b=a.request;d=b.stream;f=b.track;c=b.url;k=this.Oeb(f,c);switch(k){case m.Bg.audio:case m.Bg.video:g=b.stream.Zc;break;case m.Bg.sZ:case m.Bg.Ifa:g=f.Zc;}a={R:d&&d.R,Y$a:k,Zc:g,Xj:a.Xj,Xb:b.Xb,url:c,Pd:a.Pd,Ci:a.Ci,ba:a.ba,Z:a.Z,S5a:this.ncb(a)};void 0!==b.offset&&void 0!=b.length&&(a.hr=[b.offset,b.offset+b.length-1]);return a;};b.prototype.Oeb=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.ncb=function(a){if(a.headers&&(a=a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]))return(a=a.split(";").filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?q.de(a):a;};h=b;h=g.__decorate([u.N(),g.__param(0,u.l(a.sd))],h);c.PMa=h;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Fha="DownloadReportBuilderSymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(47);c.G_=function(a,c){this.eab=a;this.size=c.Dya()?b.Ze:c;};},function(g,c,a){var f,m,q,d,k,p,t,u,h,B,x,H,G,P,l,n,U,C,R,O,r,ba,ca,V;function b(a,b,d,f,c,g,t,B,y,S,T,O,r,ea,A,F,Q,Ua,W){var M;M=this;this.j=a;this.nr=b;this.QGa=f;this.aT=c;this.ai=g;this.fba=t;this.L7=B;this.pj=y;this.Qc=S;this.ST=T;this.Af=O;this.config=r;this.Ac=ea;this.Ja=A;this.qa=F;this.platform=Q;this.YL=Ua;this.bk=W;this.nO=[];this.znb=this.UV=this.kEa=0;this.TD=[];this.n4=!1;this.Ot=function(a,b){return function(d){var f;f=b(d);if("number"!==typeof f)throw Error("Event "+JSON.stringify(d)+" does not have movie Id");f===M.u&&a(d);};};this.bo=this.Ot(function(a){M.fGa(a.Gz);},function(a){return a.u;});this.WE=this.Ot(function(){M.W5a();},function(a){return a.u;});this.uG=function(){M.xc(ba.Ae.Uyb,!1,V.Ch|V.zg,{track:M.j.zc.value.tg});};this.YGa=function(a){a.newValue&&M.Rl&&(a={track:a.newValue.tg},M.Az(a,M.j.We.value&&M.j.We.value.stream,M.j.Uf.value&&M.j.Uf.value.stream),M.xc(ba.Ae.Vyb,!1,V.Ch|V.zg,a));};this.In=function(a){M.xc(ba.Ae.h4a,!1,V.Ch|V.zg,a.newValue);};this.Lta=function(){var a,b,d;if(M.j.aj)try{a=!1;M.ia%M.config().wK&&!M.j.DK&&(a=!0,M.TD=M.TD.filter(function(a){return!a.Z;}));if(0<M.TD.length){b=M.ST.construct(M.TD,M.j.Ql.da(h.ja));M.TD=[];b.erroronly=a;d={};u.ad(b,function(a,b){d[a]=JSON.stringify(b);});M.xc(ba.Ae.W$a,!1,V.zg,d);}}catch(sd){M.log.error("Exception in dlreport.",sd);}};this.RW=function(){var a,b;if(M.j.state.value==R.mb.jd){a=M.OCa();M.config().qda&&(a.avtp=M.ZA.El().YA,M.j.Xl&&M.HV(a));a.midplayseq=M.znb++;b=M.j.Qb.value;a.prstate=b===R.jb.Cc?"playing":b===R.jb.ah?"paused":b===R.jb.$p?"ended":"waiting";M.config().Hvb&&M.vGa("midplay");M.config().mo&&M.Ac()&&M.v$(a);M.t$(a);M.u$(a);M.xc(ba.Ae.RW,!1,V.Ch|V.zg|V.Hu|V.mQ,a);}};this.Uma=/-?l(\d\d)/i;this.Uta=this.Ot(function(a){M.TD.push(M.ST.M6a(a.response));},function(a){return a.u;});this.RT=this.Ot(function(a){var b,d,f,c,g,p;a=a.response;b=a.request;d=a.request.zp;f=b.track;if(f){c=!a.Z&&a.ba!=x.G.Ou;g=f.type;p=a.Xj;if(c||M.nr.taa){d={dltype:g,url1:b.url,url2:a.url||"",cdnid:b.Xb&&b.Xb.id,tresp:u.Cm(p.xg-p.requestTime),brecv:u.qdb(p.Xv),trecv:u.Cm(p.Vl-p.xg),sbr:d&&d.R};a.hr&&(d.range=a.hr);switch(g){case k.Bg.audio:d.adlid=b.stream.Zc;break;case k.Bg.video:d.vdlid=b.stream.Zc;break;case k.Bg.sZ:d.ttdlid=f.Zc;}(b=ca.Mwa(a.ba))&&(d.nwerr=b);a.Ci&&(d.httperr=a.Ci);M.xc(ba.Ae.RT,c,V.zg,d);}}},function(a){return a.u;});this.Nj=function(){M.xc(ba.Ae.i4a,!1,V.Ch|V.Hu,{browserua:U.pk});};this.isa=this.Ot(function(a){var b,d,f;a=a.response;b=a.Xj;d=h.Cb(b.xg);f=h.Cb(b.Vl);b=G.aa(b.Xv||0);b.Uya()||b.Dya()||(d=new P.Nla(d,f),M.ZA.vS(new l.G_(d,b)),a&&a.request&&a.request.zp&&a.request.zp.Db&&M.aT.vS(new n.YKa(d,b,a.request.zp.Db)));},function(a){return a.u;});this.uCa=function(a){var b;b=a.newValue;a.Yv&&a.Yv.Hba&&b||b==M.$$||(M.zxb(M.$$,b),M.$$=b);};this.Ss=function(a){function b(a){var b;if(M.j.yb&&M.j.yb.sourceBuffers){b=M.j.yb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.Rj(),updating:b.updating(),ranges:b.MU()};}}M.RF="rebuffer";a={cause:a.cause};a.cause&&a.cause===q.lla&&(a.mediaTime=M.j.Zb.value,a.buf_audio=b(m.M0),a.buf_video=b(m.uH));M.D$(M.nO[R.jb.Cc]||0,M.nO[R.jb.ah]||0,a);M.LG=M.getTime();C.Jb(M.bT);};this.hHa=function(a){var b;a=a.oldValue;b=M.getTime();a===R.jb.cg?M.nO=[]:M.nO[a]=(M.nO[a]||0)+(b-M.Qkb);M.Qkb=b;};this.no=function(a){switch(a.cause){case R.bg.Zu:case R.bg.pQ:M.RF&&M.LG?M.grb(M.getTime()-M.LG,M.RF):M.Rl||M.MCa(),M.RF="repos",M.rda(a.qX,a.Uf,a.We),M.LG=M.getTime(),C.Jb(M.bT);}};this.bT=function(){var a;if(M.LG&&M.j.Qb.value!==R.jb.cg){a=M.getTime()-M.LG;M.Eda(a,M.Mi);M.W$&&M.W$!=M.j.Uc.value&&M.w3a();M.LG=void 0;M.RF=void 0;M.Mi=void 0;}};this.t5=this.Ot(function(){M.j.Qb.value===R.jb.Cc&&(M.j.Qb.removeListener(M.t5),M.Ok());},function(){return M.j.u;});this.tJ=function(a){M.Kkb=M.getTime();M.W$=a.oldValue;};this.Ok=function(){M.Rl||(M.Rl=!0,M.fZ(!1),M.gjb(),M.config().lya&&(M.OV=K.setTimeout(function(){M.ai.flush(!1)["catch"](function(){return M.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});M.OV=void 0;},M.config().lya)));};this.df=function(){M.OV&&(K.clearTimeout(M.OV),M.OV=void 0);if(M.config().wK||M.config().oJ)M.d7&&(K.clearInterval(M.d7),M.d7=void 0),M.Lta();M.EHa&&M.EHa();M.Rl?M.y7(!!M.j.Di):M.j.Di?M.fZ(!0):M.nr.background||M.MCa();M.fvb||(M.xc=m.Le);};this.csa=this.Ot(function(){M.df();},function(a){return a.movieId;});this.iIa=function(a){a.oldValue&&a.Yv&&a.Yv.Tra&&M.w5(a.oldValue,a.newValue,a.Yv.Tra,a.Yv.S3a);};this.gDa=function(a){var b;if(a.newValue){b=a.newValue.stream;M.aaa!=b&&(M.aaa&&M.Xtb(M.aaa,b,a.newValue.Kn.startTime),M.aaa=b);}};this.Uq=this.Ot(function(a){function b(a,b){var d;if(!a||a.paa!==b.location){d={paa:b.location,Bza:b.locationlv,Svb:b.serverid,MA:b.servername};M.p5a(a,b);return d;}}if("audio"===a.mediaType){if(a=b(M.Jkb,a))M.Jkb=a;}else if(a=b(M.NL,a))M.NL=a;},function(a){return M.j.Bt(a.segmentId).u;});this.ZF=this.Ot(function(a){var b,d;b=a.mediatype;d=a.reason;"video"===b?"serverswitchaway"===d?(M.vh.summary.oIa++,M.vh.pW=M.Ja.ef.da(h.ja)):"serverswitchback"===d&&(M.vh.summary.pIa++,M.vh.pW&&(M.vh.summary.qIa.push(M.Ja.ef.da(h.ja)-M.vh.pW),M.vh.pW=void 0)):"audio"===b&&("serverswitchaway"===d?(M.vh.summary.Jqa++,M.vh.kW=M.Ja.ef.da(h.ja)):"serverswitchback"===d&&(M.vh.summary.Kqa++,M.vh.kW&&(M.vh.summary.Lqa.push(M.Ja.ef.da(h.ja)-M.vh.kW),M.vh.kW=void 0)));M.xc(ba.Ae.Uvb,!1,V.Ch|V.zg,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return M.j.Bt(a.segmentId).u;});this.dD=function(a){M.xc(ba.Ae.X2a,!1,V.zg,{strmsel:a.strmsel});};this.cD=function(a){M.xc(ba.Ae.W2a,!1,V.zg,{msg:a.msg});};this.nG=function(a){a=H.PN(a);a.details&&(a.details=JSON.stringify(a.details));M.xc(ba.Ae.iyb,!0,V.Ch|V.NB|V.jP,a);};this.n4=W.EO||W.KZ;this.ZA=f();this.log=p.Rg(a,"LogblobBuilder");this.$$=a.paused.value;this.u=b.u;this.ia=this.nr.ia;this.vh={summary:{oIa:0,pIa:0,qIa:[],Jqa:0,Kqa:0,Lqa:[]},pW:void 0,kW:void 0};this.Sb();d&&this.fGa();}Object.defineProperty(c,"__esModule",{value:!0});f=a(58);m=a(11);q=a(56);d=a(38);k=a(74);p=a(5);t=a(18);u=a(19);h=a(4);B=a(63);x=a(2);H=a(20);G=a(47);P=a(347);l=a(334);n=a(669);U=a(9);C=a(50);R=a(15);O=a(16);r=a(668);ba=a(340);ca=a(158);b.prototype.Sb=function(){this.j.addEventListener(R.S.bo,this.bo);this.j.addEventListener(R.S.WE,this.WE);this.j.addEventListener(R.S.Uq,this.Uq);this.j.addEventListener(R.S.ZF,this.ZF);this.j.addEventListener(R.S.df,this.csa);this.j.addEventListener(R.S.dw,this.RT,m.c1);if(this.config().wK||this.config().oJ)this.j.addEventListener(R.S.dw,this.Uta),this.d7=K.setInterval(this.Lta,this.config().dab);this.config().qda&&this.j.addEventListener(R.S.dw,this.isa);};b.prototype.fGa=function(a){var b;b=this;this.SAa||(this.j.Qb.value!==R.jb.Cc||(void 0===a?0:a)?this.j.Qb.addListener(this.t5):this.Ok(),this.j.$i.addListener(this.YGa),this.j.Uc.addListener(this.tJ),this.j.paused.addListener(this.uCa),this.j.We.addListener(this.gDa),this.j.Qb.addListener(this.bT),this.j.Qb.addListener(this.hHa),this.j.ze.addListener(this.iIa),this.j.addEventListener(R.S.Nj,this.Nj),this.j.addEventListener(R.S.cD,this.cD),this.j.addEventListener(R.S.dD,this.dD),this.j.addEventListener(R.S.nG,this.nG),this.j.addEventListener(R.S.Ss,this.Ss),this.j.addEventListener(R.S.no,this.no),this.j.addEventListener(R.S.uG,this.uG),this.j.addEventListener(R.S.Mi,function(){b.Mi=!0;}),this.nr.In&&this.nr.In.addListener(this.In),this.config().gi&&(this.fvb=!0),this.SAa=!0);};b.prototype.W5a=function(){this.df();this.SAa&&(this.j.removeEventListener(R.S.bo,this.bo),this.j.removeEventListener(R.S.WE,this.WE),this.j.removeEventListener(R.S.Uq,this.Uq),this.j.removeEventListener(R.S.ZF,this.ZF),this.j.$i.removeListener(this.YGa),this.j.Uc.removeListener(this.tJ),this.j.paused.removeListener(this.uCa),this.j.We.removeListener(this.gDa),this.j.Qb.removeListener(this.bT),this.j.Qb.removeListener(this.t5),this.j.Qb.removeListener(this.hHa),this.j.ze.removeListener(this.iIa),this.j.removeEventListener(R.S.dw,this.RT),this.j.removeEventListener(R.S.df,this.csa),this.j.removeEventListener(R.S.Nj,this.Nj),this.j.removeEventListener(R.S.cD,this.cD),this.j.removeEventListener(R.S.dD,this.dD),this.j.removeEventListener(R.S.nG,this.nG),this.j.removeEventListener(R.S.Ss,this.Ss),this.j.removeEventListener(R.S.no,this.no),this.j.removeEventListener(R.S.uG,this.uG),this.nr.In&&this.nr.In.removeListener(this.In),this.j.removeEventListener(R.S.dw,this.Uta),this.j.removeEventListener(R.S.dw,this.isa));};b.prototype.fZ=function(a){var b,f,m,t,q,x,y,H,G,P,l,S,n,C,T,ja,ca,ea,A,F,Q,W,Z;b={};try{b={browserua:U.pk,browserhref:location.href,playdelaysdk:u.Cm(this.j.Bra()),applicationPlaydelay:u.Cm(this.j.R4a()),playdelay:u.Cm(this.j.W4a()),trackid:this.j.xh,bookmark:u.Cm(this.j.Sy||0),pbnum:this.j.index,endianness:d.Web()};this.config().gbb&&(b.transitiontime=this.j.Ym,b.uiplaystarttime=this.j.Sa.AZ,b.playbackrequestedat=this.j.Ql.da(h.ja),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ja.ef.da(h.ja),b.clockgetpreciseappepoch=this.qa.Qz.da(h.ja),b.absolutestarttime=this.j.IU(),b.relativetime=this.j.n9());this.HU(b,"startplay");}catch(kb){this.log.error("error in startplay log fields",kb);}this.j.Nj&&(b.blocked=this.j.Nj);b.configversion=this.config().version;this.config().endpoint||(b.configendpoint="error");this.j.fg&&(b.playbackcontextid=this.j.fg);this.cya(b);if(this.config().SZ&&this.j.Sa.$fa){for(var c={},k=Object.keys(this.j.Sa.$fa),g,p=k.length;p--;)g=k[p],c[g.toLowerCase()]=this.j.Sa.$fa[g];b.vui=c;}O.ka(this.j.lra)&&(b.bookmarkact=u.Cm(this.j.lra));(c=this.j.Hc.at&&this.j.Hc.ats?this.j.Hc.at-this.j.Hc.ats:void 0)&&(b.nccpat=c);(c=this.j.Hc.lr&&this.j.Hc.lc?this.j.Hc.lr-this.j.Hc.lc:void 0)&&(b.nccplt=c);(c=this.iab())&&(b.downloadables=c);K._cad_global.device&&O.gc(K._cad_global.device.D7)&&(b.esnSource=K._cad_global.device.D7);(c=K._cad_global.platformExtraInfo)&&u.cb(b,c,{prefix:"pi_"});(c=U.$k&&U.$k.connection&&U.$k.connection.type)&&(b.nettype=c);this.j.Jn&&this.j.Jn.initBitrate&&(b.initvbitrate=this.j.Jn.initBitrate);this.j.Jn&&this.j.Jn.selector&&(b.selector=this.j.Jn.selector);b.fullDlreports=this.j.kua;if(this.j.state.value>=R.mb.jd)try{m=this.j.$y();m&&(this.eo=d.uga(m.map(function(a){return a.R;})),this.rAa=d.uga(m.map(function(a){return a.height;})),f=0<m.length?r.Bmb(m,function(a){return a.R;}):void 0,b.maxbitrate=this.eo,b.maxresheight=this.rAa);}catch(kb){this.log.error("Exception computing max bitrate",kb);}try{t=d.ZU();t&&(b.pdltime=t);}catch(kb){}try{u.cb(b,this.j.Hc,{prefix:"sm_"});u.cb(b,this.j.jV(),{prefix:"vd_"});}catch(kb){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.Jp&&(b.pssh=this.j.Jp);this.j.xf&&this.j.xf.Kk&&this.j.xf.Kk.keySystem&&(b.keysys=this.j.xf.Kk.keySystem);if(this.config().mo&&this.Ac())try{m={};q=this.Ac().getStats(void 0,void 0,this.j.u);x=this.j.IU();y=q.ux.j6a;m.attempts=q.bDa||0;m.num_completed_tasks=y.length;H=this.Qc.Dcb;t={};G=B.gd.Be.bma;P=B.gd.Be.Nu;l=B.gd.Be.iP;S=B.gd.Be.RG;n=B.gd.Be.hP;q.dj&&(t.scheduled=q.dj-x);C=this.j.sa;C&&O.ka(C.GA)&&(t.preauthsent=C.GA-this.j.Ue,t.preauthreceived=C.NF-this.j.Ue);T=y.filter(H("type","manifest"));m.mf_succ=T.filter(H("status",G)).length;m.mf_fail=T.filter(H("status",P)).length;ja=this.j.Hc;O.gc(ja.lg)&&0>ja.lg&&this.j.Ue&&(t.ldlsent=ja.lc,t.ldlreceived=ja.lr);ca=y.filter(H("type","ldl"));m.ldl_succ=ca.filter(H("status",G)).length;m.ldl_fail=ca.filter(H("status",P)).length;q=!0;if(!t.preauthreceived||0<=t.preauthreceived)q=!1;this.config().$D||(q=!1);ea=ca.filter(H("status",l)).length;A=ca.filter(H("status",S)).length;F=ca.filter(H("status",n)).length;this.config().$D&&0===ea+A+F&&(!t.ldlreceived||0<=t.ldlreceived)&&(q=!1);if(this.config().$T){Q=this.j.Em&&this.j.Em.stats;if(Q){if(Q.sU&&(t.headersent=Q.sU-this.j.Ue),Q.rW&&(t.headerreceived=Q.rW-this.j.Ue),Q.CF&&(t.prebuffstarted=Q.CF-this.j.Ue),Q.PX&&(t.prebuffcomplete=Q.PX-this.j.Ue),!t.prebuffcomplete||0<=t.prebuffcomplete)q=!1;}else q=!1;}W=y.filter(H("type","getHeadersAndMedia"));m.hm_succ=W.filter(H("status",G)).length;m.hm_fail=W.filter(H("status",P)).length;u.cb(b,m,{prefix:"pr_"});b.eventlist=JSON.stringify(t);b.prefetchCompleted=q;this.v$(b);}catch(kb){this.log.warn("error in collecting video prepare data",kb);}b.avtp=this.ZA.El().YA;this.j.Xl&&this.HV(b);if(this.j.zc.value)try{b.ttTrackFields=this.j.zc.value.tg;}catch(kb){}if(y=this.j.Uc&&this.j.Uc.value&&this.j.Uc.value.bc){Z={};y.forEach(function(a){Z[a.wf]=void 0;});b.audioProfiles=Object.keys(Z);}this.w$(b);this.j.sa&&"boolean"===typeof this.j.sa.isSupplemental&&(b.isSupplemental=this.j.sa.isSupplemental);b.headerCacheHit=!!this.j.Em;this.j.Em&&(b.headerCacheDataAudio=this.j.Em.audio,b.headerCacheDataAudioFromMediaCache=this.j.Em.audioFromMediaCache,b.headerCacheDataVideo=this.j.Em.video,b.headerCacheDataVideoFromMediaCache=this.j.Em.videoFromMediaCache);this.j.sa&&(b.packageId=this.j.sa.packageId);this.j.sa&&this.j.sa.choiceMap&&(b.hasChoiceMap=!0);this.config().qva&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.pj.KE;this.Fkb(f);this.Ekb();this.aya(this.j,b);this.bya(this.j,b);this.Bz(this.j,b);this.Aw(this.j,b,this.n4);this.t$(b);this.u$(b);this.fya(b);this.$xa(b);this.gya(b);this.xc(ba.Ae.fZ,a,V.Ch|V.NB|V.zg|V.mQ|V.Hu|V.jP|V.Q_,b);};b.prototype.Eda=function(a,b){b={playdelay:u.Cm(a),reason:this.RF,intrplayseq:this.UV-1,skipped:b};this.Bz(this.j,b);this.xc(ba.Ae.Eda,!1,V.Ch|V.NB|V.zg,b);"rebuffer"==this.RF&&this.j.Pl.Q1a(Number(u.Cm(a)));};b.prototype.w5=function(a,b,d,f){a={moff:u.oz(d),vbitrate:b.R,vbitrateold:a.R,vdlid:b.Zc,vdlidold:a.Zc,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.Bz(this.j,a);this.Aw(this.j,a);this.xc(ba.Ae.w5,!1,V.zg,a);};b.prototype.Xtb=function(a,b,d){a={moff:u.oz(d),vdlidold:a.Zc,vbitrateold:a.R};this.Bz(this.j,a);this.Aw(this.j,a);this.Az(a,b,this.j.Uf.value&&this.j.Uf.value.stream);this.xc(ba.Ae.Ytb,!1,V.zg,a);};b.prototype.MCa=function(){var a,b;a={waittime:u.Cm(this.j.n9()),abortedevent:"startplay",browserua:U.pk,browserhref:location.href,trackid:this.j.xh};this.HU(a,"endplay");this.j.fg&&(a.playbackcontextid=this.j.fg);this.j.Jn&&this.j.Jn.initBitrate&&(a.initvbitrate=this.j.Jn.initBitrate);try{b=d.ZU();b&&(a.pdltime=b);u.cb(a,this.j.Hc,{prefix:"sm_"});}catch(na){}this.r$(a,!0);this.gya(a);this.w$(a);this.dya(a);this.Az(a,this.j.ze.value,this.j.Mj.value);this.xc(ba.Ae.QCa,!1,V.Ch|V.zg|V.Hu,a);};b.prototype.grb=function(a,b){a={waittime:u.Cm(a),abortedevent:"resumeplay",browserua:U.pk,resumeplayreason:b};this.j.fg&&(a.playbackcontextid=this.j.fg);this.j.Jn&&this.j.Jn.initBitrate&&(a.initvbitrate=this.j.Jn.initBitrate);this.Az(a,this.j.ze.value,this.j.Mj.value);this.xc(ba.Ae.QCa,!1,V.Ch|V.zg,a);};b.prototype.zxb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.Bz(this.j,a);this.Aw(this.j,a);this.Az(a,this.j.We.value&&this.j.We.value.stream,this.j.Uf.value&&this.j.Uf.value.stream);this.xc(ba.Ae.Bxb,!1,V.Ch|V.zg,a);};b.prototype.D$=function(a,b,d){a=u.cb({vdlid:this.j.ze.value.Zc,playingms:a,pausedms:b,intrplayseq:this.UV++},d);this.HU(a,"intrplay");b=this.j.Xb[f.Mc.Fa.VIDEO].value;d=this.j.Xb[f.Mc.Fa.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=d&&d.id;a.locid=this.NL&&this.NL.paa;a.loclv=this.NL&&this.NL.Bza;a.avtp=this.ZA.El().YA;this.j.Xl&&(this.r$(a,!0),this.HV(a),this.eya(a));try{u.cb(a,this.j.jV(),{prefix:"vd_"});}catch(sa){}this.Bz(this.j,a);this.Aw(this.j,a);this.Az(a,this.j.We.value&&this.j.We.value.stream,this.j.Uf.value&&this.j.Uf.value.stream);this.xc(ba.Ae.D$,!1,V.Ch|V.zg,a);};b.prototype.rda=function(a,b,d){a={moffold:u.oz(a),reposseq:this.kEa++};this.Aw(this.j,a);this.Az(a,d&&d.stream,b&&b.stream);this.xc(ba.Ae.rda,!1,V.Ch|V.zg,a);};b.prototype.w3a=function(){this.xc(ba.Ae.B3a,!1,V.Ch|V.zg,{switchdelay:u.Cm(this.getTime()-this.Kkb),newtrackinfo:this.j.Uc.value.ab,oldtrackinfo:this.W$.ab});};b.prototype.p5a=function(a,b){var d,f,c,k;d=b.serverid;f=b.serverrtt;c=b.serverbw;k={locid:b.location,loclv:b.locationlv,selocaid:d,selcdnid:d,selocaname:b.servername};k.mediatype=b.mediatype;k.selcdnrtt=f;k.selcdnbw=c;k.selreason=b.selreason||"unknown";k.testreason=b.testreason;k.fastselthreshold=b.fastselthreshold;k.seldetail=b.seldetail;k.cdnbwdata=JSON.stringify([{id:d,rtt:f,bw:c}]);a&&(k.oldlocid=a.paa,k.oldloclv=a.Bza,k.oldocaid=a.Svb,k.oldocaname=a.MA);this.xc(ba.Ae.Jra,!1,V.jP,k);};b.prototype.vGa=function(a){var b,d;b={};b.trigger=a;try{d=this.j.h9();b.subtitleqoescore=this.j.Ao.Wgb(d);b.metrics=JSON.stringify(this.j.Ao.y9(d));}catch(sa){this.log.error("error getting subtitle qoe data",sa);}this.xc(ba.Ae.jyb,!1,V.Ch|V.Hu|V.NB,b,"info");};b.prototype.transition=function(a){this.Aw(this.j,a);this.xc(ba.Ae.transition,!1,0,a);};b.prototype.Lgb=function(a,b){if(a=a.OU())if(b=a[b])return b.Vf;};b.prototype.aya=function(a,b){a.Sa.Yh&&(b.isBranching=!0);};b.prototype.bya=function(a,b){b.cachedManifest=a.Rv;b.cachedLicense=a.Qv;b.usedldl=this.config().$D?("videopreparer"===a.Qv).toString():"not_capable";};b.prototype.Bz=function(a,b){var d,f;if(this.config().Xib){d=a.i9();f=a.ca.sa;d&&f&&(b.segment=d,f=a.vz(),b.segmenttime=f,a=this.Lgb(a,d),null!==f&&void 0!==a&&(b.segmentoffset=f-a));}};b.prototype.Aw=function(a,b,d){b.pxid=a.uDa;(void 0===d?0:d)&&(b.playgraph_trace=a.UCa);};b.prototype.eya=function(a){var b,d;b=this.j.a$;d=b&&b.eub;b&&b.Xxa&&(a.htwbr=b.Xxa,a.pbtwbr=b.EX,a.hptwbr=b.Aib);b&&b.JEa&&(a.rr=b.JEa,a.ra=b.Msb);b&&d&&0<(d.length||0)&&(a.qe=JSON.stringify(d));};b.prototype.w$=function(a){var b,d,f,c,k;b=this;d=this.j.Yf&&this.j.Yf.value&&this.j.Yf.value.bc;if(d){f=new Set();c=new Set();k=new Set();d.forEach(function(a){a=a.wf;f.add(a);c.add(a.replace(b.Uma,""));(a=a.match(b.Uma))&&0<a.length&&k.add(a[1]);});a.videoProfiles=[].concat(fa(f));a.videoProfile=0===c.size?"none":[].concat(fa(c))[0];a.videoProfileLevels=[].concat(fa(k));}};b.prototype.dya=function(a){var b,d,f;try{b=this.Qc.createElement("canvas");d=b.getContext("webgl")||b.getContext("experimental-webgl");if(d){f=d.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=d.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=d.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(N){}};b.prototype.Yib=function(a){a.switchAwaySummary={vsa:this.vh.summary.oIa,vsb:this.vh.summary.pIa,vsbt:this.vh.summary.qIa,asa:this.vh.summary.Jqa,asb:this.vh.summary.Kqa,asbt:this.vh.summary.Lqa};};b.prototype.y7=function(a){var b,d,f,c,B;b=this;d=this.OCa();this.HU(d,"endplay");d.browserua=U.pk;this.j.Bu&&"downloaded"===this.j.Bu.dV()&&(d.trickplay_ms=this.j.uO.offset,d.trickplay_res=this.j.uO.qEa);this.config().bIa&&(d.rtinfo=this.j.Dgb());if(this.config().qda){f=this.ZA.El().YA;void 0!==d.avtp?d.avtp_retired=f:d.avtp=f;f=this.aT.oeb().map(function(a){return{cdnid:a.Uv,avtp:a.YA,tm:a.e7};});void 0!=d.cdnavtp?d.cdnavtp_retired=f:d.cdnavtp=f;this.j.Xl&&this.HV(d);}this.cya(d);d.endreason=a?"error":this.j.Qb.value===R.jb.$p?"ended":"stopped";f=K._cad_global.platformExtraInfo;this.Sib(f);f&&u.cb(d,f,{prefix:"pi_"});f=this.j.Di;a&&f&&x.CNa(f.errorCode)&&(c="info");try{u.cb(d,this.j.Hc,{prefix:"sm_"});}catch(Xa){}this.j.q$&&(d.inactivityTime=this.j.q$);this.r$(d,"info"!==c&&a);this.eya(d);if(this.j.Ty){for(var f=this.j.Ty,k=this.config().kD,g=this.j.Ue,p={iv:k,seg:[]},m=function(a,b,d){return 0===b||void 0===d[b-1]?a:a-d[b-1];},t=f.Ms.map(m),m=f.Eu.map(m),q,h=0;h<t.length;h++){if(t[h]||m[h])q?(q.ams.push(t[h]),q.vms.push(m[h])):q={ams:[f.Ms[h]],vms:[f.Eu[h]],soffms:f.startTime+h*k-g};h!==t.length-1&&t[h]&&m[h]||!q||(p.seg.push(q),q=void 0);}d.bt=JSON.stringify(p);}if(this.j.NW&&0<this.j.NW.length){B=[];this.j.NW.forEach(function(a){B.push({soffms:a.time-b.j.Ue,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});d.maxvbevents=B;}this.j.sDa&&(d.psdConservCount=this.j.sDa);a&&this.dya(d);this.vGa("endplay");this.config().mo&&this.Ac()&&this.v$(d);d.isNonMember=this.pj.KE;this.w$(d);this.aya(this.j,d);this.bya(this.j,d);this.Bz(this.j,d);this.Aw(this.j,d,this.n4);this.t$(d);this.u$(d);this.fya(d);this.Tib(d);this.$xa(d);this.Vib(d);this.Uib(d);this.Yib(d);this.xc(ba.Ae.y7,a,V.Ch|V.NB|V.zg|V.Hu|V.mQ|V.Q_,d,c);};b.prototype.wYa=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};b.prototype.iab=function(){var a,b;a=this;if(this.j.Zm&&this.j.Gn){b=[];this.j.Zm.concat(this.j.Gn).forEach(function(d){d.bc.forEach(function(d){b.push({dlid:d.Zc,type:d.type,bitrate:d.R,vmaf:d.Bc,cdn_ids:a.wYa(d.Fq)});});});return JSON.stringify(b);}};b.prototype.n5a=function(){var b,d,f;function a(a,b){var c,k,g;c=a.cdnId;k=f[c];g=a.vmaf;k||(k={cdnid:c,dls:[]},f[c]=k,d.push(k));t.nK(a.bitrate);t.nK(a.duration);c={bitrate:a.bitrate,tm:U.pi(a.duration)};g&&(t.nK(a.vmaf),c.vf=g);c[b]=u.de(a.downloadableId);k.dls.push(c);}b=this.j.Pl.Tdb();d=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(d);};b.prototype.OCa=function(){var a,b,d,f,c,k,g,p,m,B,x;a=this.j.Pl;b={totaltime:u.oz(a.lL()),cdndldist:this.n5a(),reposcount:this.kEa,intrplaycount:this.UV};try{d={numskip:0,numlowqual:0};f=this.j.Gi;c=f.TU();O.ka(c)&&(b.totfr=c,d.numren=c);c=f.tz();O.ka(c)&&(b.totdfr=c,d.numrendrop=c);c=f.aL();O.ka(c)&&(b.totcfr=c,d.numrenerr=c);c=f.UU();O.ka(c)&&(b.totfdl=c);b.playqualvideo=JSON.stringify(d);k=this.j.ze.value;k&&(b.videofr=k.CU.toFixed(3));g=a.Ova();g&&(b.abrdel=g);p=a.jib()&&a.Xdb();p&&(b.tw_vmaf=p);m=a.Wdb();m&&u.cb(b,m);b.rbfrs=this.UV;b.maxbitrate=this.eo;b.maxresheight=this.rAa;for(var q=this.j.xz(),h,a=0;a<q.length;a++){B=q[a];x=this.nr.lM.uu(B);if(x){t.Ma(h);b.maxbitrate=h?h.R:0;b.maxresheight=h?h.height:0;b.bitratefilters=x.join("|");break;}h=B;}this.j.Bu&&(b.trickplay=this.j.Bu.dV());null!==this.j.Ao.bra&&(b.avg_subt_delay=this.j.Ao.bra);}catch(Xa){this.log.error("Exception reading some of the endplay fields",Xa);}u.cb(b,this.j.jV(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.qa.kc().da(h.ja);};b.prototype.CY=function(a){a.browserua=U.pk;this.xc(ba.Ae.jvb,!a.success,V.Ch|V.Hu,a);this.xc=m.Le;};b.prototype.gjb=function(){var a,b,d;a=this;d=[];this.config().xnb&&(this.config().ynb.forEach(function(b){d.push(K.setTimeout(a.RW,b));}),this.config().HAa&&(b=K.setInterval(this.RW,this.config().HAa)),this.EHa=function(){d.forEach(function(a){K.clearTimeout(a);});b&&K.clearInterval(b);});};b.prototype.v$=function(a){var b;try{b=this.Ac().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Eva);}catch(na){}};b.prototype.t$=function(a){this.log.debug("httpstats",this.Af.Pb);u.cb(a,this.Af.Pb,{prefix:"http_"});};b.prototype.r$=function(a,b){this.config().cta&&!(this.ia%this.config().cta)&&this.j.ob&&this.j.ob.TV&&(a.ASEstats=JSON.stringify(this.j.ob.TV(b)));};b.prototype.HV=function(a){Object.assign(a,this.j.Xl.Tb.ehb());};b.prototype.u$=function(a){var b;try{b=U.Qr.memory;O.rkb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(na){}};b.prototype.fya=function(a){var b;b=this.j.xf;this.config().g5a&&b&&!this.config().Wp&&(a.keystatuses=this.j.Fob(b.LNb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.$xa=function(a){try{this.config().OJ&&(a.battery=this.j.ceb(),this.log.trace("batterystatuses",a.battery));}catch(M){}};b.prototype.Tib=function(a){this.j.BT&&(a.dqec=this.j.BT);};b.prototype.Sib=function(a){this.j.$S&&u.cb(a,{cast_interaction_counts:this.j.$S.bOb()});};b.prototype.gya=function(a){var b;b=this.j.Sa.Vm;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.Uib=function(a){this.K7&&(a.externaldisplay=this.K7.MK);};b.prototype.Vib=function(a){this.Ax&&this.Ax.wc&&(a.media_capabilities_smooth=this.Ax.wc.jxb,a.media_capabilities_efficient=this.Ax.wc.zrb,a.media_capabilities_bitrate=this.Ax.wc.R,a.media_capabilities_height=this.Ax.wc.height,a.media_capabilities_width=this.Ax.wc.width);};b.prototype.Az=function(a,b,d){d&&(a.adlid=d.Zc,a.abitrate=d.R);b&&(a.vdlid=b.Zc,a.vbitrate=b.R);};b.prototype.cya=function(a){var b,d;if(this.j.aK){b=this.j.aK;b.kT&&(a.controllerESN=b.kT);b.I6a&&(a.controllerUiVer=b.I6a);if(b.H6a)try{d=JSON.parse(b.H6a);a.controllerGroupNames=d;}catch(sa){this.log.error("Exception parsing controller group names",sa);}}};b.prototype.Ekb=function(){void 0===this.K7&&(this.K7=this.L7.zcb());};b.prototype.Fkb=function(a){void 0===this.Ax&&void 0!==a&&(this.Ax=this.fba.Q7(a));};b.prototype.HU=function(a,b){var d;d=this.j.zt(b);d&&Object.keys(d).forEach(function(b){a[b]=d[b];});};b.prototype.xc=function(a,b,d,f,c){this.I1a(f,this.j,b,d);a=this.YL.wm(a,c||(b?"error":"info"),f,this.nr);this.ai.xc(a);};b.prototype.I1a=function(a,b,d,c){var k,g,p,m,q;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.yD&&(a.pbcid=b.yD);c&V.Ch&&(t.Ma(!a||void 0===a.moff),0<=b.Zb.value&&(a.moff=u.oz(b.Zb.value)));if(c&V.NB){k=b.Xb[f.Mc.Fa.VIDEO].value;g=b.Xb[f.Mc.Fa.AUDIO].value;p=b.Uf.value;m=b.We.value;k&&(a.cdnid=k.id,a.cdnname=k.name);g&&(a.acdnid=g.id,a.acdnname=g.name);p&&(a.adlid=p.stream.Zc,a.abitrate=p.stream.R);m&&(a.vdlid=m.stream.Zc,a.vbitrate=m.stream.R,a.vheight=m.stream.height,a.vwidth=m.stream.width);}c&V.zg&&b.ob&&(a.abuflbytes=b.J4(),a.abuflmsec=b.qJ(),a.vbuflbytes=b.Yfa(),a.vbuflmsec=b.KO());if(c&V.mQ){Object.assign(a,ca.Ywa());try{q=b.pf.getBoundingClientRect();a.rendersize=q.width+"x"+q.height;a.renderpos=q.left+"x"+q.top;}catch(ya){}}c&V.Hu&&(k=U.$k.hardwareConcurrency,0<=k&&(a.numcores=k),k=this.nr.i7)&&(g=k.Ydb(),a.droppedFrames=JSON.stringify(g),k=k.jL(this.config().zab),u.ad(k,function(b,d){a["droppedFramesP"+b]=JSON.stringify(d);}));if(c&V.jP)try{b.aj&&(a.cdninfo=JSON.stringify(b.aj.map(function(a){return{id:a.id,nm:a.name,rk:a.mf,wt:a.location.weight,lv:a.location.level};})));}catch(ya){}d&&c&V.Q_&&(t.Ma(b.Di),(d=b.Di)?a=Object.assign(a,ca.Rwa(this.platform.dE,d)):a.errorcode=x.I.qk,a.errorcode===this.platform.dE+x.I.Fka&&(a.lastSyncWithVideoElement=this.getTime()-b.fO));};c.jQa=b;(function(a){a[a.Ch=1]="MOFF";a[a.NB=2]="PRESENTEDSTREAMS";a[a.zg=4]="BUFFER";a[a.mQ=8]="SCREEN";a[a.Hu=16]="CPU";a[a.jP=32]="CDN";a[a.Q_=64]="FATALERROR";}(V||(V={})));},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aja="LogblobBuilderFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.sga="AppLogSinkSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Lma="UuidProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ala="PboLogblobCommandSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Ae||(c.Ae={});g.h4a="bitraterestriction";g.Jra="cdnsel";g.w5="chgstrm";g.debug="debug";g.W$a="dlreport";g.y7="endplay";g.D$="intrplay";g.RW="midplay";g.QCa="playbackaborted";g.Ytb="renderstrmswitch";g.rda="repos";g.Eda="resumeplay";g.Uvb="serversel";g.fZ="startplay";g.Bxb="statechanged";g.transition="transition";g.X2a="asereport";g.W2a="aseexception";g.B3a="audioswitch";g.i4a="blockedautoplay";g.config="config";g.OMb="destiny_prepare";g.PMb="destiny_start";g.MMb="destiny_events";g.LMb="destiny_cachestate";g.NMb="destiny_playback";g.RT="dlreq";g.lu="prepare";g.CNb="ftlProbeError";g.jvb="securestop";g.iyb="subtitleerror";g.jyb="subtitleqoe";g.Uyb="timedtextrebuffer";g.Vyb="timedtextswitch";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.$ja="MessageQueueSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bja="LogblobSenderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tka="PboBindDeviceCommandSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gha="CryptoKeysSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.fha="CryptoDeviceIdSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bha="DeviceProviderSymbol";},function(g,c){function a(b,f,c){if(null!=c){if(0<c(b,f))throw a.Msa(b,f);}else if(b.ul&&0<b.ul(f))throw a.Msa(b,f);this.start=b;this.end=f;}Object.defineProperty(c,"__esModule",{value:!0});a.Msa=function(a,f){return new RangeError("end ["+f+"] must be >= start ["+a+"]");};c.Nla=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aha="DeviceIdGeneratorSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.S0="MslReadyNotifierSymbol";},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(19);m=a(16);q=a(74);c.SKa=function(a,b,c,g,q,h,B,x,H,G){var d,k;d=this;k={Type:b,Bitrate:g,DownloadableId:c};f.cb(d,{track:a,type:b,Zc:c,R:g,Bc:q,wf:x,size:h,Fq:B,Vn:null,Cwb:function(a,b,f,c){if(m.gc(a)||m.gc(b))d.width=a,d.height=b,m.ka(f)&&m.ka(c)&&(d.r4=f/c*a),k.Resolution=(d.width||"")+":"+(d.height||"");},bwb:function(a,b,f,c){m.gc(a)&&m.gc(b)&&m.gc(f)&&m.gc(c)&&(d.o6=a,d.tT=b,d.sT=f,d.rT=c);},CU:H,xp:G,tg:k,toJSON:function(){return k;}});};c.GDb=function(a,f,c,g,m){if(a==b.M0||a===q.Bg.audio)return f;if(a==b.uH||a===q.Bg.video)return c;if(a==q.Bg.sZ)return g;if(a==q.Bg.Ifa)return m;};},function(g,c,a){var f;function b(a){var g,d,k,p,m,u,h;k={};k[f.YZ]=a.localName;p={};k[f.yj]=p;m=[];k[f.XZ]=m;u=a.attributes;g=u.length;for(d=0;d<g;d++){h=u[d];p[h.localName]=h.value;}a=a.childNodes;g=a.length;p={};for(d=0;d<g;d++)switch(u=a[d],u.nodeType){case c.KBb:u=b(u);h=u[f.YZ];u[f.yIa]=k;m.push(u);k[h]?p[h][f.MG]=u:k[h]=u;p[h]=u;break;case c.LBb:case c.IBb:u=u.text||u.nodeValue,m.push(u),k[f.Dr]||(k[f.Dr]=u);}return k;}Object.defineProperty(c,"__esModule",{value:!0});f=a(125);c.HBb=function(a){return b(a.nodeType==c.JBb?a.documentElement:a);};c.iSb=b;c.KBb=1;c.hSb=2;c.LBb=3;c.IBb=4;c.JBb=9;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);f=a(16);c.GBb=function(a){var c,d;if(f.Kz(a)){c=new DOMParser().parseFromString(a,"text/xml");d=c.getElementsByTagName("parsererror");if(d&&d[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(k){}throw Error("xml parser error");}return c;}throw Error("bad xml text");};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(203);f=a(202);c.hqb=function(a,c,d,k){return new Promise(function(g,m){f.zIa(a,function(a){a.Z?b.Zpb(a.object,c,d,k,function(a){a.Z?g(a.entries):m(a);}):m(a);});});};},function(g,c,a){var f,m,q,d,k,p,t;function b(a){return a.Fd(p.Xa.jp(Math.floor(a.Va)));}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);g=a(27);m=a(6);q=a(13);d=a(3);k=a(705);p=a(28);t=a(7);c.WAa=b;a=function(a){function c(b,d,f,c,k,g,p){var m;m=a.call(this)||this;m.L=b;m.dg=d;m.Jf=f;m.Ec=c;m.K=k;m.X=g;m.zf=p;m.Vd=m.L.error.bind(m.L);m.Qa=m.L.warn.bind(m.L);m.Zi=m.L.trace.bind(m.L);m.reset();return m;}f.__extends(c,a);Object.defineProperties(c.prototype,{QS:{get:function(){return this.Ec?this.Ec.QS:-1;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sIa:{get:function(){return this.Uo.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{eza:{get:function(){return this.uy;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{yGa:{get:function(){return!!this.Ec.Obb;},enumerable:!0,configurable:!0}});c.prototype.reset=function(a){this.ss=!1;a||(this.Uo=[]);this.sR=this.uy=this.J2=this.xC=void 0;this.LI=p.Xa.Ze;this.vy=void 0;this.VEa=new k.nVa(this.K,this.L);this.A2=!1;this.K3(p.Xa.Ze);};c.prototype.ldb=function(){this.J2=!0;};c.prototype.pause=function(){this.ss=!0;};c.prototype.resume=function(){this.ss=!1;this.ny();};c.prototype.Bfb=function(){return this.uy&&this.uy.re;};c.prototype.I4=function(a){var b;if(this.K.lua){b=a.eb.Xd;if(a.Ad>=b.ga)return;a.Rm!==b.zd&&a.BFa(new p.Xa(b.zd,1E3));}this.Uo.push(a);this.ny();};c.prototype.Up=function(){this.ny();};c.prototype.oY=function(a){a=this.Uo.indexOf(a);-1!==a&&this.Uo.splice(a,1);};c.prototype.Kob=function(a,b){this.K.A4&&b&&m.T(this.uy)&&this.hna(a,0);this.ny();};c.prototype.Jba=function(){this.A2||(this.A2=!0,this.ny(),this.yGa||this.Ec.endOfStream());};c.prototype.JY=function(){return JSON.stringify(this.Uo);};c.prototype.K3=function(a){this.T0a=a;this.Ec.wwb(a.Ud,a.ea);};c.prototype.ny=function(){var a,b,f,c,k,g,p,m;a=this.K;if(this.Uo.length)if(this.Ec){b=this.Uo[0];if(this.ss)this.HC("@"+d.time.fa()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(b));else if(!b.complete&&b.rya())this.Qa("aborted MediaRequest should not appear in the toAppend list"),this.HC("@"+d.time.fa()+", append: removing aborted request from toAppend: "+b.toString()),this.Uo.shift();else{f=b.stream;c=f.O;if(f.Xh)if(this.Nwb(f,b.index))this.J2=!1,this.hna(f,b.index);else if(f=this.X.Et(c.u)||c.Qh||this.Rib(f),!a.QO||f){k=b.mc-this.X.Cd();if(!(this.dg===q.Fa.AUDIO&&b.Mt&&b.Na&&!a.mr&&!this.A2&&1===this.Uo.length&&k>a.QAa)){if(a.lua||a.Vab){f=b.eb.Xd;g=this.E$a();if(g){p=f.Bi;m=b.uf>=g;k=k>a.QAa;if(g<f.ga&&m&&k&&!p)return;}}a.wqb&&this.zf&&(a=this.zf(c.Pa))&&!a.mJ?this.pause():(this.Uo.shift(),this.fXa(b));}}}}else this.HC("@"+d.time.fa()+", append: not appending, sourceBuffer not ready");};c.prototype.Nwb=function(a,b){var d;if(this.J2||void 0===this.xC||a.oa!==this.xC.oa)return!0;a=a.Xh;t.assert(a);d=this.xC.yya;return d===a.length-1?!1:b>=a[d+1].rz;};c.prototype.Rib=function(a){if(void 0===this.xC)return!1;a=a.Xh;t.assert(a);return!1===a[this.xC.yya].cj;};c.prototype.E$a=function(){throw Error("not supported");};c.prototype.bXa=function(a){this.K.Ny&&a.dk&&(this.LI=a.dk);};c.prototype.hna=function(a,b){var f;f=a.Xh.reduce(function(a,d,f){return d.rz<=b?f:a;},0);if(this.Ec.appendBuffer(a.Xh[f].data,{Vb:!0,profile:a.profile}))this.HC("@"+d.time.fa()+", header appended, streamId: "+a.oa),this.xC={oa:a.oa,yya:f},this.f0a(a.O.Pa||0,a.oa,f),this.bXa(a),this.ny();else throw this.Qa("appendHeader error: "+this.Ec.error),this.HC("@"+d.time.fa()+", appendHeader error: "+this.Ec.error),Error("appendHeaderError");};c.prototype.fXa=function(a){var b,f,c,k,g;c=a.zsb||p.Xa.Ze;k=a.eb.Xd.na;k.ga&&Infinity!==k.ga&&(k=new p.Xa(k.ga,1E3).add(c).ei,Infinity===this.Jf.duration||this.Jf.duration<k)&&(this.Jf.duration=k);if(void 0===this.sR||c&&!c.equal(this.sR))k=this.LI.add(this.VEa.dv).add(c),this.K3(k),this.sR=c;k=this.VEa.Pda(this.dg,a,this.vy,this.LI,this.sR,this.uy,this.lZa,this.K3.bind(this),this.h0a.bind(this));c=k.y3a;g=a.aD(this.Ec,this.Jf.wc,this.uy,this.Uo[0],k.Pda,k.rab);k=g.Z;(g=g.Jm)&&this.emit(g.type,g);if(k)void 0===this.vy||this.dg!==q.Fa.AUDIO||a.yF.equal(this.vy.add(c))||(this.a0a(a,this.vy.add(c)),this.vy=void 0),this.HC("@"+d.time.fa()+", request appended, type: "+a.M+", streamId: "+a.oa+", pts: "+a.mc+"-"+a.re),this.uy=a,a.Mt?(this.vy=a.tca,this.lZa=this.yXa(a,this.T0a||p.Xa.Ze),null===(f=(b=this.Ec).Obb)||void 0===f?void 0:f.call(b)):this.vy=void 0,this.g0a(a),this.ny();else{if(void 0!==this.Ec.error){if("done"===this.Ec.error)return;this.Vd("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Ec.error);throw this.Ec.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Ec.error);this.Vd(a.message);throw a;}};c.prototype.yXa=function(a,d){var f,c;f=a.stream.Ra;c=a.YJ;this.K.Xo&&a.stream.dk&&(c=c.Fd(a.stream.dk));return b(c.Fd(f)).add(b(f)).add(b(d));};c.prototype.f0a=function(a,b,d){a={type:"headerAppended",mediaType:this.dg,manifestIndex:a,streamId:b,isIndex:d};this.emit(a.type,a);};c.prototype.g0a=function(a){a={type:"requestAppended",mediaType:this.dg,request:a};this.emit(a.type,a);};c.prototype.HC=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};c.prototype.a0a=function(a,b){var d;d=a.Ad;a=a.yF.Fd(b).Va;d={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[d,a]}}};this.emit(d.type,d);};c.prototype.h0a=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.Va,minavsyncerror:b.Va}};this.emit(a.type,a);};return c;}(g.EventEmitter);c.lKa=a;},function(g,c,a){var b,f,m,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(6);m=a(3);q=a(707);d=a(706);k=function(){return function(){this.hD=new d.p1(100);this.hX=new d.p1(100);};}();g=function(){function a(a,b,d){var c,k,g;this.K=b;this.L=d;this.UR=a;c=this.By=this.aC=this.$B=0;k=0;g=0;this.UR.length>=this.K.XW&&(this.UR.forEach(function(a){!(a=a.get().jdb)||f.T(a.avtp)||f.T(a.neuhd)||(c+=a.avtp,k+=1*a.neuhd,g++);}),this.By=g,this.$B=c/g,this.aC=k/g);}Object.defineProperties(a.prototype,{$qa:{get:function(){return this.$B;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ara:{get:function(){return this.aC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vvb:{get:function(){return this.By;},enumerable:!0,configurable:!0}});a.prototype.cW=function(){return this.By>=this.K.XW&&this.$B>=this.K.baselineHighAndStableThreshold.bwThreshold&&this.aC<this.K.baselineHighAndStableThreshold.nethreshold;};return a;}();c.y0=g;g=function(a){function d(b,d,f){b=a.call(this,b,d,f)||this;b.Q1=[];b.ycb={};b.LGa=[];b.ft=new k();b.UR.length>=b.K.XW&&(b.Kpa("avtp",b.ft.hD),b.Kpa("neuhd",b.ft.hX));return b;}b.__extends(d,a);d.prototype.cW=function(){var a;this.igb();a=new q.nQa(this.L,this.LGa,this.d4a);a.Fca(this.Q1);a=a.M5a(this.K.yV.CQb);return this.HAb&&1===a&&this.By>=this.K.XW;};d.prototype.bL=function(){var a,b,d,f;a={};b=m.time.now();d=new Date(b);f=d.getHours();a.currentMonoTime=b;a.currentTime=d.getTime();a.currentHour=f;return a;};d.prototype.fwa=function(a,b,d){a="avtp"===a?this.$B:this.aC;for(var c=b.YS(),k=0,g="skew"===d?3:4,p=0;p<b.Oe.length;p++)f.T(a)||f.T(c)||(k+=Math.pow(b.Oe[p]-a,g));k/=b.Oe.length;return!f.T(c)&&0<c?k/Math.pow(c,g)-3*("skew"===d?0:1):NaN;};d.prototype.pwa=function(a,b,d){var f;f=0;"lte"===d?f=a.reduce(function(a,d){return d<=b?a+1:a;},0)/(1*a.length):"gte"===d&&(f=a.reduce(function(a,d){return d>=b?a+1:a;},0)/(1*a.length));return f;};d.prototype.Wfb=function(a){var b,d;b=a.Dq(25);d=a.Dq(50);a=a.Dq(75);return f.T(b)||f.T(d)||f.T(a)?NaN:0<d?(a-b)/d:NaN;};d.prototype.heb=function(a,b){a="avtp"===a?this.$B:this.aC;b=b.YS();return!f.T(b)&&!f.T(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};d.prototype.jL=function(a,b){a=a.Dq(b);return f.T(a)?NaN:a;};d.prototype.normalize=function(a,b,d){return!isNaN(a)&&0<d?(a-b)/d:NaN;};d.prototype.igb=function(){var a,b,d,c,k,g,p,m,t,q,h,l;a=this;b=this.K.yV.Rza.fPb;d=this.K.yV.Rza.dPb;c=this.K.yV.Rza.ePb;m=[];l=0;this.HAb=!Object.keys(b).some(function(u){var x;h=NaN;if(!(b.hasOwnProperty(u)&&d.hasOwnProperty(u)&&c.hasOwnProperty(u)&&!f.T(a.ft)&&a.ft.hD&&a.ft.hX)||1>a.By||"number"!==typeof b[u]||"number"!==typeof d[u]||"number"!==typeof c[u])return!0;k=b[u];g=d[u];p=c[u];m=u.split("_",2);t=m[0];q=m[1];switch(t){case"avtp":x=a.ft.hD;break;case"neuhd":x=a.ft.hX;break;default:x=void 0;}if("avtp"===t||"neuhd"===t){if(x)switch(q){case"last":h=x.Oe[a.By-1];break;case"mean":h="avtp"===t?a.$B:a.aC;break;case"niqr":h=a.Wfb(x);break;case"skew":h=a.fwa(t,x,"skew");break;case"kurtosis":h=a.fwa(t,x,"kurtosis");break;case"std":h=x.YS();break;case"b":h=a.heb(t,x);break;default:-1!==u.search("[p][1-9]?[1-9]")&&(h=a.jL(x,Number(u.split("_p",2)[1])));}}else switch(u){case"fracAbove20Mbps":x=a.ft.hD;h=f.T(x)?NaN:a.pwa(x.Oe,2E4,"gte");break;case"fracBelow20p":x=a.ft.hX;h=f.T(x)?NaN:a.pwa(x.Oe,.15,"lte");break;case"hour_current":h=a.bL().currentHour;break;case"session_ct":h=a.By;break;case"intercept":h=k,a.d4a=h;}h=a.normalize(h,g,p);if(isNaN(h))return!0;"intercept"!==u&&(a.Q1.push(h),a.LGa.push(k),a.ycb[u]=l,l+=1);});};d.prototype.Kpa=function(a,b){this.UR.forEach(function(d){d=d.get().jdb;!d||"avtp"!==a&&"neuhd"!==a||f.T(d[a])||b.zS(Number(d[a]));});};return d;}(g);c.wOa=g;},function(g,c,a){var q;function b(){}function f(a,b,f){void 0===f&&(f=!1);q(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");q(1E-8<m(a),"bitrate zero, won't be able to send anything.");this.Kv=a;this.aua=b;this.repeat=f;this.Qj=this.xl=0;}function m(a){return a.reduce(function(a,b){return a+b;},0);}q=a(7).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.Ln=function(){var a;a=new f(this.Kv,this.aua,this.repeat);a.xl=this.xl;a.Qj=this.Qj;return a;};f.prototype.G9=function(){return this.Kv[this.xl%this.Kv.length];};f.prototype.vw=function(){return this.aua[this.xl%this.Kv.length];};f.prototype.gab=function(a){q(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.xl&&this.xl<this.Kv.length))throw new b();q(this.Qj<this.vw(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var d;;){d=this.vw()-this.Qj;d=a<d?a:d;a-=d;this.Qj+=d;if(this.Qj<this.vw())break;this.Qj-=this.vw();this.xl+=1;if(!this.repeat&&this.xl>=this.Kv.length){if(0<a)throw new b();break;}}};f.prototype.tCa=function(a){this.gab(a);};f.prototype.hab=function(a){q(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.xl&&this.xl<this.Kv.length))throw new b();q(this.Qj<this.vw(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var d,f=0;;){d=this.vw()-this.Qj;d=a<d*this.G9()?a/this.G9():d;a-=this.G9()*d;f+=d;this.Qj+=d;if(this.Qj<this.vw())return f;this.Qj-=this.vw();this.xl+=1;if(!this.repeat&&this.xl>=this.Kv.length){if(0<a)throw new b();return f;}}};g.P={XVa:f,YVa:b};},function(g,c,a){var m;function b(a,b,f){this.aa=a;this.ro=b;this.dN=f;}function f(a,b){this.Iaa=b;void 0===b&&(this.Iaa=!0);this.zi=a;this.lXa();}m=a(7).assert;b.prototype.constructor=b;b.prototype.Ct=function(){return 8*this.aa/1E3/this.ro;};f.prototype.constructor=f;f.prototype.Ln=function(a,b,c,g,m){void 0===b&&(b=0);void 0===c&&(c=a.AE());void 0===g&&(g=0);void 0===m&&(m=a.zi.length);for(var d=[],k,p=g;p<m;p++){g=[];for(var t=b;t<c;t++)k=a.zi[p][t],g.push(k);d.push(g);}return new f(d,a.Iaa);};f.prototype.lXa=function(){var a,b;a=this.zi[0].length;for(b in this.zi.slice(1))m(this.zi[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.zi[b].length+" and "+a);this.Iaa&&this.mXa();this.nXa();};f.prototype.AE=function(){return this.zi[0].length;};f.prototype.mXa=function(){for(var a=0;a<this.zi.length-1;a++)for(var b=0;b<this.AE();b++)m(this.zi[a][b].aa<=this.zi[a+1][b].aa,"Chunk size for epoch "+b+" is not monotonic");};f.prototype.nXa=function(){for(var a=0;a<this.zi.length-1;a++)for(var b=0;b<this.AE();b++)m(1E-8>Math.abs(this.zi[a][b].ro-this.zi[a+1][b].ro),"Chunk duration for epoch "+b+" is not consistent");};f.prototype.Bhb=function(){var a;a=[];this.zi[0].forEach(function(b){a.push(b.ro);});return a;};g.P={cLa:b,dLa:f};},function(g,c,a){var q,d;function b(a,b,d,f,c,g){return new m(a,b,d,f,c,g);}function f(a){return a&&0<=a.indexOf(".__metadata__");}function m(a,b,d,f,c,g){this.partition=a;this.lifespan=d;this.resourceIndex=b;this.size=f;this.creationTime=c;this.lastRefresh=g;return this.gHa();}q=a(6);d=a(111);a(110);new d.Console("MEDIACACHE","media|asejs");m.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.gHa();};m.prototype.DFa=function(a){this.size=a;};m.prototype.qsa=function(){var a;a=d.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};m.prototype.gHa=function(){this.lastMetadataUpdate=d.time.now();return this;};m.prototype.constructor=m;g.P={create:b,t8:function(a){var d;d=a;"string"===typeof a&&(d=JSON.parse(a));if(d&&d.partition&&!q.T(d.lifespan)&&d.resourceIndex&&d.creationTime&&d.lastRefresh)return a=b(d.partition,d.resourceIndex,d.lifespan,-1,d.creationTime,d.lastRefresh),d.lastMetadataUpdate&&(a.lastMetadataUpdate=d.lastMetadataUpdate),!q.T(d.size)&&0<=d.size&&a.DFa(d.size),a.qsa(),a.convertToBinaryData=d.convertToBinaryData,a;},e6:function(a){return a+".__metadata__";},iU:function(a){return f(a)?a.slice(0,a.length-13):a;},JE:f};},function(g,c,a){var x,H,G,P,l,n,U,C,R,O,r,ba,ca;function b(){}function f(a,d){var f,c,k,g;f=x.Nb(d)?d:b;this.K=a||{};(function(a,b,d){this.Jh[a].wd[b]=d;}.bind(this));(function(a,b){return this.Jh[a].wd?this.Jh[a].wd[b]:void 0;}.bind(this));this.on=this.addEventListener=ba.addEventListener;this.removeEventListener=ba.removeEventListener;this.emit=this.Ha=a.aNb?ba.Ha:b;c=P.E8a(a);k=this.K.dailyDiskCacheWriteLimit;if(c){this.iq=c;g=u(a.cba||ca,P.Leb());this.Gs=function(a){return x.T(g)||null===g||void 0===this.Jh[a]?!1:!x.T(g[a]);};g?(this.Jh={},d=H.Promise.all(Object.keys(g).map(function(b){return new H.Promise(function(d,f){var p;p=g[b];p.$Ha=a.$Ha;new l(b,c,p,function(a,b){a?f(a):d(b);},k);});})).then(function(a){a.map(function(a){var b;b=a.sv;this.Jh[b]=a;g[b].udb=g[b].ap-a.Fs;this.Jh[b].on(l.Hd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ha("mediacache",a);}.bind(this));this.Jh[b].on(l.Hd.Vma,function(a){a=a||{};a.partition=b;a.type="save";this.Ha("mediacache",a);}.bind(this));this.Jh[b].on(l.Hd.ERROR,function(a){a=a||{};a.partition=b;a.type=l.Hd.ERROR;this.Ha("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){p(c,H.storage.KB,Object.keys(g));return a;}.bind(this)).then(function(a){Object.keys(a.Jh).map(function(b){a.Jh[b].Q8().map(function(d){a["delete"](b,d);});});a.Yn=!0;f(null,a);}.bind(this))["catch"](function(a){G.error("Failed to initialize media cache ",a);this.Dz=O.lha;f(this.Dz,this);}.bind(this)),r.fr(d)):(this.Dz=O.sPa,f(this.Dz,this));}else this.Dz=O.lha,f(this.Dz,this);}function m(a,b,d,f,c,k){var g;g=k?"mediacache-error":"mediacache";b={partition:d,type:b,resource:f,time:H.time.now()};k&&(b.error=k);c&&(x.ka(c.duration)&&(b.duration=c.duration),x.ka(c.Us)&&(b.bytesRead=c.Us));try{a.Ha(g,b);}catch(Ea){G.warn("caught exception while emitting basic event",Ea);}}function q(a,b,d,f,c){var k;k=c?"mediacache-error":"mediacache";b={partition:d,type:b,resources:f,time:H.time.now()};c&&(b.error=c);try{a.Ha(k,b);}catch(ha){G.warn("caught exception while emitting basic event",ha);}}function d(a){return!x.T(a)&&!x.Ia(a)&&x.ka(a.lifespan);}function k(a){return!n.JE(a)&&!C.Mjb(a);}function p(a,d,f){a.query(d,"",function(c,k){c||Object.keys(k).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(d,f,b);});});}function t(a,b,d){var c,k;function f(b){a["delete"](c,function(f){f?d(f):(delete a.wd[k],f=Object.keys(b.resourceIndex),f=H.Promise.all(f.map(function(b){return new H.Promise(function(d,f){a["delete"](b,function(a){a?f(a):d(b);});});})).then(function(){d();},function(a){d(a);}),r.fr(f));});}n.JE(b)?(c=b,k=n.iU(b)):(c=n.e6(b),k=b);(b=a.wd[k])?f(b):a.read(c,function(a,b){a?d(a):f(b);});}function u(a,b){var d,f,c;d={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);c=b/f;a.partitions.map(function(a){var b;b=a.key;d[b]={};d[b].ap=Math.floor(c*a.capacity);d[b].m9a=a.dailyWriteFactor||1;d[b].fQb=a.owner;d[b].ccb=a.evictionPolicy;});return d;}function h(a,b,d){if(d)return C.T$a(a,b).reduce(function(a,b){Object.keys(b).map(function(d){a[d]=b[d];});return a;},{});d={};d[a]=b;return d;}function B(a,b,d,f,c,k,g,p,m,t,q){return function(u,h){u?x.isArray(u)?(h=u.map(function(a){return a.error;}),h.some(function(a){return a.code===O.rB.code;})&&!h.some(function(a){return a.code===O.AQ.code;})?q(t,u,function(){m.save(b,d,f,c,k,g);}):(t["delete"](p),delete t.wd[d],k({error:u[0].error,gu:u[0].gu,type:u[0].type,mqa:u}))):k({error:u,gu:b,type:"save"}):(u=h.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.iW;},0),t.wd[d].DFa(u),u={udb:h.ej,nMb:h.GD,yi:0,items:h},0<h.yi&&(u.yi=h.yi),0<h.duration&&(u.duration=h.duration),k(null,u));};}x=a(6);H=a(111);G=new H.Console("MEDIACACHE","media|asejs");P=a(734);l=a(733);n=a(358);U=a(110);C=a(726);R=a(725);O=a(206);r=a(205);ba=a(109).EventEmitter;ca={nQb:[]};f.prototype.yA=function(a,d,f){var c;c=x.Nb(f)?f:b;this.Gs(a)?this.Jh[a].query(d,function(a,b){a?(G.error("Failed to query resources",a),c([])):c(b.filter(k));}):c([]);};f.prototype.read=function(a,d,f){var c,k,g,p;c=x.Nb(f)?f:b;if(this.Gs(a)){k=this.Jh[a];g=k.wd[d];if(!n.JE(d)&&this.K.cnb){p=function(b){k.eY(Object.keys(b),function(b,f,k){b?c(O.QB.$m("Failed to read "+d,b)):(m(this,"read",a,d,k),c(null,C.rjb(f)));}.bind(this),b);}.bind(this);g?p(g.resourceIndex):this.Tsb(a,d,function(a,b){a?c(O.QB.$m("Failed to read "+d,a)):p(b.resourceIndex);});}else k.read(d,function(b,f,k){b?c(O.QB.$m("Failed to read "+d,b)):(g&&g.convertToBinaryData&&(f=R.J6a(f)),m(this,"read",a,d,k),c(null,f));}.bind(this));}else c(O.Qu);};f.prototype.eY=function(a,d,f){var c,k;c=x.Nb(f)?f:b;if(this.Gs(a)){k={};d=H.Promise.all(d.map(function(b){return new H.Promise(function(d,f){this.read(a,b,function(a,c){a?(c={},c[b]=a,f(c)):(k[b]=c,d());});}.bind(this));}.bind(this))).then(function(){c(null,k);},function(a){c(a);});r.fr(d);}else c(O.Qu);};f.prototype.PEa=function(a,d,f){var c;c=x.Nb(f)?f:b;this.Gs(a)?"[object Object]"!==Object.prototype.toString.call(d)?c(O.zQ.$m("items must be a map of keys to objects")):(f=new H.Promise(function(b){var f,c;f=this.Jh[a].Q8();c=Object.keys(d);(f=f.filter(function(a){return-1===c.indexOf(a);}))&&0<f.length?this.xta(a,f,function(){b();}):b();}.bind(this)).then(function(){return H.Promise.all(Object.keys(d).map(function(b){return new H.Promise(function(f,c){this.save(a,b,d[b].Tm,d[b].qd,function(a,d){a?(G.error("Received an error saving",b,a),c(a)):f(d);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var f,k,g;try{f=Number.MAX_VALUE;k=Number.MAX_VALUE;g=b.reduce(function(a,b){b.ej&&b.ej<f&&(f=b.ej);b.GD&&b.GD<k&&(k=b.GD);f<Number.MAX_VALUE&&(a.freeSize=f);k<Number.MAX_VALUE&&(a.dailyBytesRemaining=k);x.ka(b.yi)&&(a.bytesWritten+=b.yi);x.ka(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(d),time:H.time.now(),bytesWritten:0,duration:0});this.Ha("mediacache",g);c(null,g);}catch(za){c(err);}}.bind(this),function(b){x.isArray(b.mqa)?b.mqa.forEach(function(b){this.Ha("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.tN});}.bind(this)):this.Ha("mediacache-error",{partition:a,type:"saveMultiple",error:b});c(b);}.bind(this)),r.fr(f)):(x.Nb(f)?f:b)(O.Qu);};f.prototype.save=function(a,f,c,k,g,p){var t,u,y,P,l,S,C,T,r;t=x.Nb(g)?g:b;if(this.Gs(a)){u=this.Jh[a];y=n.e6(f);g=u.Q8();g=g.filter(function(a){return a!==f;});if(d(k)){P=h(f,c,this.K.cnb);l=u.wd[f]||{};S=l.resourceIndex;S&&Object.keys(S).map(function(a){x.T(P[a])&&u["delete"](a);});k.convertToBinaryData&&(c=R.K6a(P),P=h(f,c,!1));S=H.time.now();C={};C.partition=a;C.resourceIndex=Object.keys(P).reduce(function(a,b){a[b]=U.E9(P[b]);return a;},{});C.creationTime=l.creationTime||S;C.lastRefresh=S;C.lifespan=k.lifespan;C.lastMetadataUpdate=S;C.size=l.size;C.convertToBinaryData=k.convertToBinaryData;T=function(a,b,d){a.p$a(function(c,k){c&&G.error("Evicting","Failed to delete some orphaned records",c);k.ida?d():(c=a.Yeb())?this["delete"](a.getName(),c,function(c){c?(p||(x.isArray(b)?b.forEach(function(b){q(this,"save",a.getName,b.tN,b.error);}.bind(this)):m(this,"save",a.getName(),f,void 0,b)),t(b)):d();}.bind(this)):t(O.rB);}.bind(this));}.bind(this);r=function(){var a,b,d;a=this.Jh;b=0;d=H.time.now();if(!x.T(a))for(var f in a)b+=a[f].ieb(d);return b;}.bind(this);this.xta(a,g,function(){u.replace(y,C,function(b,d){d?(u.wd[f]=n.t8(C),u.$tb(P,B(P,a,f,c,k,t,p,y,this,u,T),p,r)):b.code===O.rB.code?T(u,b,function(){this.save(a,f,c,k,t,p);}.bind(this)):t(b);}.bind(this),p,r);}.bind(this));}else t(O.vQa);}else t(O.Qu);};f.prototype["delete"]=function(a,d,f){var c;c=x.Nb(f)?f:b;this.Gs(a)?t(this.Jh[a],d,function(b){m(this,"delete",a,d,void 0,b);c(b);}.bind(this)):c(O.Qu);};f.prototype.xta=function(a,d,f){var c,k;c=x.Nb(f)?f:b;if(this.Gs(a)){k=this.Jh[a];f=H.Promise.all(d.map(function(a){return new H.Promise(function(b){t(k,a,function(d){b({Z:x.T(d),error:d,Tm:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var p,m;for(var d=[],f=[],k=[],g=0;g<b.length;g++){p=b[g];p.Z?d.push(p.Tm):p.error&&f.push(p);}0<d.length&&q(this,"delete",a,d);0<f.length&&(k=f.map(function(a){return a.Tm;}),b=r.pxa(f),m=b[0],b.forEach(function(b){G.error("Failed to delete resources ",b.error,b.tN);q(this,"delete",a,b.tN,b.error);}.bind(this)));b={};b.QQb=d;0<k.length&&(b.RQb=k);m?c(m,b):c(void 0,b);}.bind(this),function(b){q(this,"delete",a,d,b);c(b);}.bind(this));r.fr(f);}else c(O.Qu);};f.prototype.clear=function(a,d){var f;f=x.Nb(d)?d:b;this.Gs(a)?this.Jh[a].clear(function(a){f(a.filter(k));}):f(O.Qu);};f.prototype.Tsb=function(a,d,f){var c,k;c=x.Nb(f)?f:b;if(this.Gs(a)){f=n.e6(d);k=this.Jh[a];k.read(f,function(a,b){var f;if(a)c(O.wQa);else{f=n.t8(b)||{};k.Qwa(Object.keys(f.Ada),function(a){f.size=a;(a=k.wd[d])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?k.wd[d]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||x.T(f.lastMetadataUpdate))&&(f=a));c(null,f);});}});}else c(O.Qu);};f.prototype.EZ=function(a){H.yL(a);};f.prototype.constructor=f;g.P=f;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ysa=function(a,b){var f;if(!Array.isArray(a.xsa))return a;f=a.Ln?a.Ln():Object.create(a);a.xsa.forEach(function(a){if(void 0!==a.Rnb&&b.duration>=a.Rnb&&a.config)for(var c in a.config)f[c]=a.config[c];});return f;};},function(g){g.P="4.1.785";},function(g,c,a){var b,f,m,q,d,k,p,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(27);f=a(373);m=a(26);q=a(14);d=a(7);k=a(28);p=a(6);t=a(742);u=a(740);a=function(a){function c(b,d,f,k,g,p,t,h,y){f=a.call(this)||this;f.lPb=b;f.Pe=d;f.sr=k;f.X=h;f.config=y;f.JZa=d.qj.Za[c.XE(0)].wa;f.GC=new q.aQ(m.pa.Dg);f.zR=!1;f.L_a=!1;d=c.orb.n3a(h,d);k=d.Mk;f.pm=d.pm;f.Mk=k;f.RMb=!1;f.QMb=!1;u.pmb(b,f,f.Pe,f.pm);return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{u:{get:function(){return this.JZa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Pt:{get:function(){return this;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Vc:{get:function(){return{kya:{1:{V:{ga:Infinity}}}};},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{yca:{get:function(){return this.L_a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!0,configurable:!0}});c.XE=function(a){return"s"+a;};c.Xda=function(a){return parseInt(a.slice(1));};c.prototype.BZ=function(){d.assert(!1);};c.prototype.open=function(){this.Pe.open();this.Pe.lvb(this.sr);};c.prototype.close=function(){this.Pe.close();};c.prototype.flush=function(){this.Pe.Era();};c.prototype.paused=function(){this.GC.value===m.pa.Cc&&(this.GC.set(m.pa.ah),this.Mk.emit("paused",{type:"paused",Oc:this.Mk.Yc}));};c.prototype.AO=function(){this.GC.value===m.pa.ah&&(this.GC.set(m.pa.Cc),this.Mk.emit("playing",{type:"playing",Oc:this.Mk.Yc}));};c.prototype.ec=function(){};c.prototype.suspend=function(){d.assert(!1,"Not supported");};c.prototype.resume=function(){d.assert(!1,"Not supported");};c.prototype.play=function(){this.Pe.state!==f.Dx.CLOSED&&(this.Mk.emit("playing",{type:"playing",Oc:this.Mk.Yc}),this.GC.set(m.pa.Cc),this.emit("play"));};c.prototype.stop=function(){this.GC.set(m.pa.QH);this.Mk.emit("paused",{type:"paused",Oc:this.Mk.Yc});this.emit("stop");};c.prototype.AK=function(a,b){var d;void 0===b&&(b=!0);d=parseInt(a);p.isFinite(d)?b?this.pm.rea(d):this.pm.dwb(d):this.Pe.close({Cua:"Invalid viewableId "+a});};c.prototype.Et=function(a,b){a||(a=this.Pe.qj.Za[void 0!==b?c.XE(b):this.pm.position.ib].wa);return this.pm.Fjb(a);};c.prototype.BHa=function(){this.Mk.emit("underflow",{type:"underflow",Oc:this.Mk.Yc});};c.prototype.Mi=function(){return this.Lk("skipped");};c.prototype.Cra=function(){};c.prototype.et=function(a,b){var d;d=new k.Xa(b,1E3);return(d=this.pm.TCa(d))&&d.ib===c.XE(a||0)?this.Pe.qj.Za[d.ib].Vf+d.offset.Va:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex "+a+", playerPts: "+b);};c.prototype.bK=function(a,b){var d;d={ib:c.XE(a||0),offset:new k.Xa(b-this.Pe.qj.Za[c.XE(a||0)].Vf,1E3)};return(d=this.pm.oxa(d))?d.Va:this.fail("convertPtsToPlayerPts failed to convert manifestIndex "+a+", playerPts: "+b);};c.prototype.TV=function(){return{};};c.prototype.HX=function(){this.zR=!0;};c.prototype.Cd=function(){return this.X.Cd();};c.prototype.Twa=function(){return this.pm.position.ib;};c.prototype.NU=function(){return this.Lk("getChildBranchInfo");};c.prototype.$U=function(){return this.Lk("getPresentingBranchInfo");};c.prototype.fEa=function(){return this.Lk("removeSession");};c.prototype.LA=function(){return this.Lk("seekByContentPts");};c.prototype.seek=function(){return this.Lk("seek");};c.prototype.$s=function(){return this.Lk("chooseNextSegment");};c.prototype.YC=function(){return this.Lk("addManifest");};c.prototype.eJ=function(){return this.Lk("activateManifest");};c.prototype.PBa=function(){return this.Lk("onAudioTrackSwitchStarted");};c.prototype.DGa=function(){return this.Lk("switchTracks");};c.prototype.ON=function(){};c.prototype.Ws=function(){return!1;};c.prototype.fU=function(){return this.Lk("evaluateQoE");};c.prototype.lGa=function(){return this.Lk("stopBuffering");};c.prototype.fG=function(){return this.Lk("startBuffering");};c.prototype.bxa=function(){return this.Lk("getStreamingStatistics");};c.prototype.Lk=function(a){return this.fail("Method not implemented "+a);};c.prototype.fail=function(a){this.Pe.close({Cua:a});};c.orb=new t.TTa();return c;}(g.EventEmitter);c.RH=a;},function(g,c,a){var q,d,k,p;function b(a,b,d){this.lo=b;this.sm=d;this.wu=this.AL=this.EX=this.wCa=this.vCa=this.oF=this.yc=this.nrb=this.sm=this.Zg=this.Ab=this.U=this.IO=this.JO=this.V=this.mya=this.Iv=void 0;}function f(a,b,d){this.ga=b;this.Kya=d;this.Iqa=this.nIa=this.e4=this.JO=this.Yq=this.Fk=void 0;}function m(a,d,f,c,g,p){var m;m=new b(0,d,a.sm);a.forEach(function(a){var b,f;b=a.buffer;f=b.V;a.M===q.Fa.AUDIO?m.Iv=f.length?f[0].R:void 0:a.M===q.Fa.VIDEO&&(m.mya=f.length?f[0].R:void 0,m.V=f,m.JO=b.vl-b.Yc,m.IO=b.wh,m.U=b.Yc,m.Ab=b.Ab,m.Zg=a.ox,m.sm=a.sm,m.nrb=d-a.sm,m.yc=a.yc.filter(function(a){return k(a,!0);}),m.oF=f.filter(function(a){return m.U<=a.GF;}).length);});this.Yg=m;this.Al=void 0;this.dta=c;this.Y4=g;this.eda=this.gY=this.ZBa=this.Rp=this.$C=this.Vua=this.Xk=this.yc=this.Al=void 0;this.x2a=p;}q=a(13);c=a(32);d=c.assert;k=c.Jz;p=a(26).pa;b.prototype.constructor=b;f.prototype.constructor=f;m.prototype.constructor=m;m.prototype.hE=function(a,b){var d,c,k,g,m,t,u,h,l,n,R,O,r,ba,ca,ja,M,na,sa,N,ha;d=this.Yg;c=[];g=a[q.Fa.VIDEO];m=a[q.Fa.AUDIO];if(void 0===g||void 0===m)return!1;t=g.buffer;u=m.buffer;h=d.yc.filter(function(a){return a.VU();});if(void 0===t||void 0===u||void 0===h||0===h.length)return!1;k=new f(0,g.Yc,b===p.Gj);l=0;n=0;R=0;O=0;ba=d.U;a=a[q.Fa.VIDEO].Yc;ca=d.V;r=d.oF;for(var V=0;V<r;V++){ja=ca[V];M=ja.offset;na=ja.offset+ja.aa-1;N=ja.mt;sa=ja.ou;ha=sa+N;ja&&sa<=a&&ha>ba&&(N=ja.mt,sa=Math.min(N,Math.min(a,ha)-Math.max(sa,ba)+1),O+=sa,l+=sa/N*(na-M+1),n+=ja.R*sa,R+=ja.Bc*sa);}d.vCa=l;d.wCa=O;d.EX=0<O?n/O:0;d.Hqb=0<O?R/O:0;d.AL||(d.AL=0,h.some(function(a,b){if(a.R===d.mya)return d.AL=b,!0;}));h.forEach(function(a){var b,f;a=a.VU();b=[];d.wu||(d.wu=a.Bl(d.U,void 0,!0));k.Fk||(k.Fk=a.Bl(k.ga,void 0,!0),k.Yq=a.length-1);d.Zg!==d.wu+d.oF&&(d.Zg=d.wu+d.oF);r=Math.min(k.Yq,k.Fk+1);for(var g=d.wu;g<=r;g++)f=a.get(g),b[g]=f;c.push(b);});b===p.Gj&&(k.JO=t.vl-t.Yc,k.e4=u.vl-u.Yc,k.nIa=g.NDa,k.Iqa=m.NDa);this.Al=k;this.yc=h;this.Xk=c;return this.Vua=!0;};m.prototype.zt=function(){var a,b,f,c,k,g,p,m,q,h,l,n,O,r,ba;if(this.Jm)return this.Jm;b=this.Rp;a=this.Yg;c=this.Al;k=this.yc;g=this.ZBa;n=this.x2a;d(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)c.Kya?(q=!1,p=!0):c.Fk-a.wu+1<=a.oF?p=q=!0:(q=!0,p=!1),m=!0;if(g){h=g.Zn;l=g.gU;for(var R=0;R<n.length;R++)f=n[R],(b=g[f])&&b.Tw&&(p=!0);}a={bst:a.sm,pst:a.lo,s:a.wu,e:c.Fk,prebuf:a.oF,brsi:a.Zg,pbdlbytes:a.vCa,pbdur:a.wCa,pbtwbr:a.EX,pbvmaf:a.Hqb};m&&(a.nt=m);p&&(a.nd=p);h&&(a.invalid=h);l&&(a.exception=l);this.eda&&(a.rr=this.eda);this.gY&&(a.ra=this.gY);if(!p&&!h&&!l&&this.dta){a.bitrate=k.map(function(a){return a.R;});b=this.Rp;f=b.trace;O=[];r=0;f.forEach(function(a){a=Number(a).toFixed(0);O.push(a-r);r=a;});a.tput={ts:b.timestamp,trace:O,bkms:b.ql};}if(p||m||h||l)a.feasible=q;else for(a.sols={},a.elapsed=g.YT,R=0;R<n.length;R++){f=n[R];b=g[f];p={};if(b&&b.qr&&(p.algelapsed=b.w2a,p.maxHeapTotal=b.yp,p.f=b&&b.Zh||!1,p.dltwbr=b.X$a,p.dlvmaf=b.Mta,p.dlvdur=b.b7,p.dlvbytes=b.a7,p.dlabytes=b.Z6,this.dta)){r=0;ba=[];b.qr.filter(function(a){return a;}).map(function(a){return a.rd;}).forEach(function(a){ba.push(a-r);r=a;});p.strmsel=ba;}a.sols[f]=p;}return this.Jm=a;};g.P=m;},function(g,c,a){var b,f,m,q,d,k,p,t,u,h,B;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(3);m=a(32).Jz;q=a(14).Tz;d=a(363);k=a(375);p=a(228);t=a(26);g=function(){function a(a,b,d,f,c,k,g,p,m,t,q){var x;x=this;this.L=a;this.af=b;this.K=d;this.bb=f;this.X=c;this.$F=k;this.Tb=g;this.Oa=p;this.Qe=m;this.DJ=t;this.yv=q;this.aS=[];this.M3=[];this.zoa=[];this.kna=void 0;[0,1].forEach(function(a){x.bb(a)&&(x.aS[a]=new B(x.L,a),x.M3[a]=new u(a),x.zoa[a]=new h(a));});this.jv=void 0;}Object.defineProperties(a.prototype,{ye:{get:function(){return this.aS;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xu:{get:function(){return this.M3;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bp:{get:function(){return this.zoa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ns:{get:function(){return this.kna;},set:function(a){this.kna=a;},enumerable:!0,configurable:!0}});a.prototype.DW=function(a){var d,c,k,g,p;d=this.K;c=a.M;k=f.Sj()[c];d=d.FAb?0===c?d.rJ:d.LO:1===c?d.rJ:d.LO;g=this.X.Wc();p=this.X.Cd();c=this.DJ.Vza(a.eb.Xd,c);k={ap:k,U:c.mc,Yc:p,Ab:c.zF||p,vl:c.Ck||p,wh:c.wh,Ji:c.Ji,p8:c.V.length,V:[]};d={state:g,Cw:this.X.Cw(),ox:a.Pm,buffer:k,f7:d,Lza:!!this.$F.$L,DK:!!this.$F.kr,Dn:this.Tb&&this.Tb.Dn};void 0===d.ox&&(d.ox=a.T7(k.Ab));k.V=c.V;b.ka(k.U)?a.seeking&&k.Yc!=k.U&&(k.Yc=k.U):(k.U=0,k.Ab=0);this.af.A5a(d);this.af.c2a(d);return d;};a.prototype.z5a=function(a,b,d){var p,t;a=this.aS[a];for(var f=a.eo,c="manifest",k=0,g=b.length-1;0<=g;g--){p=b[g];t=p.R;if(m(p)){k=Math.max(k,t);break;}else!p.inRange&&p.PD&&Array.isArray(p.PD)?c=p.PD.join("|"):this.K.kZ&&!p.kw?c="bc":p.hf?p.Sg&&(c="hf"):c="av";}if(void 0===f||k!==f){a.eo=k;if(this.yv.Rn)try{this.jv&&this.Rhb();}catch(ea){this.Oa.Ml("Hindsight: Error when handling maxbitrate chagned: "+ea);}this.Oa.Qob(f,k,c,d);}};a.prototype.Mgb=function(a){return this.x9(a).uh;};a.prototype.x9=function(a){var d,f,c,g,p,m,q,u,h,x,y,B,H;d=this.K;f=a.M;c=1==f;p=this.aS[f];m=this.M3[f];if(!p.Tl)return{uh:void 0};q=this.DW(a);u=a.ur;h=u.Nt;x=a.tW;y=x.O;B=a.track.yc;H=h?h.uh:p.g8;if(h&&(g=h.R,h&&!h.track.equals(u.track))){H=k.bva(B,g);void 0===H&&a.Qa("Unable to find stream for bitrate "+g);g=B[H];if(h.R!==g.R||1===f)q.state=t.pa.Dg;h=g;}if(!y.Wj.CO(y.wa,B))return a.Vd("location selector did not find any urls"),{uh:void 0};if(!c&&(g=d.qG,!(g&&0<g.length)&&H&&B[H]&&h&&h.location===B[H].location))return{uh:H};q=a.mG.GY(q,B,void 0,this.af.sgb(f),p.Tl.config.Wqb,y.Th);if(!q)return a.Vd("stream selector did not find a stream"),{uh:void 0};this.$F.kr&&this.$F.kr.i2a(a.M,q,B);c&&this.z5a(f,B,a.Ab);f=q.rd;B=B[f];h=B.R;f!=H&&(c&&d.YD&&this.Qe.bna(a,h),c||this.af.aG(h));b.ka(p.g8)||(p.g8=f);a.dh||(q.dh?(a.dh=!0,m.$o=q.reason,a.GJ=q.reason):(a.Sz=q.Sz,a.ru=q.ru,a.bi=q.bi));this.ds();c&&y.qea(x,q.MD);return{oa:B.oa,uh:f};};a.prototype.ds=function(){var a,b,d,f,c,k;f=this.ye[0];c=this.xu[1];k=this.xu[0];f=this.DJ.Ib.Zs((b=null===(a=this.ye[1])||void 0===a?void 0:a.Gp,null!==b&&void 0!==b?b:0),(d=null===f||void 0===f?void 0:f.Gp,null!==d&&void 0!==d?d:0),this.Ns,this.$F.tA);f.$o&&(this.$F.jk&&c?c.$o=f.$o:k&&(k.$o=f.$o));return f.dh;};a.prototype.R7=function(a,b){var d,f,c,k;d=this;if(this.jv){f=this.jv;c=this.X.Cd();k=[];b&&(c=b.ga);p.ag.forEach(function(b){var f,g;f=d.DJ.Ib.Gc(b);if(f){g=d.DW(f);g.M=b;g.Yc=c;a===t.pa.Gj&&(g.NDa=f.eb.y4(c));k[b]=g;}});f.Vua||f.hE(k,a)||this.yda();return f;}};a.prototype.Rhb=function(){var a,b,c,k;a=this;b=this.jv;c=this.K;k=[];b&&(this.R7(void 0),b&&!b.$C&&this.af.Wca.E7(b));p.ag.forEach(function(b){var d,c;d=a.DJ.Ib.Gc(b);if(d){c=a.DW(d);c.sm=f.time.fa();c.yc=d.track.yc;c.M=b;k[b]=c;}});b=f.Sj();b={x1a:b[0],GG:b[1],fM:c.Yz};this.jv=b=new d(k,f.time.fa(),void 0,this.yv.ZD,b,c.sL);};a.prototype.yda=function(){this.jv=void 0;};a.prototype.eAb=function(a){var b,c,k,g,m;b=this;c=a.oldValue;k=a.newValue;g=this.jv;a=this.K;k===t.pa.Cc&&c!==t.pa.Cc?(g&&this.L.warn("override an existing play segment!"),m=[],p.ag.forEach(function(a){var d,f,c;d=b.DJ.Ib.Gc(a);if(d){f=b.DW(d);c=b.ye[a];c.Rea?(f.sm=c.Rea,c.Rea=void 0):f.sm=c.sm;f.yc=d.track.yc;f.M=a;m[a]=f;}}),k=f.Sj(),k={x1a:k[0],GG:k[1],fM:a.Yz},this.jv=g=new d(m,f.time.fa(),c,this.yv.ZD,k,a.sL)):k!==t.pa.Cc&&c===t.pa.Cc&&g&&(this.R7(k),g&&!g.$C&&this.af.Wca.E7(g),this.yda());};return a;}();c.EVa=g;u=function(){function a(a){this.M=a;this.HJ=this.Tn=this.Cz=this.$o=this.Xn=void 0;}a.prototype.jAb=function(a,b,d,f){this.Xn=a?a:this.Xn;this.$o=this.$o;this.Cz=b?b:this.Cz;this.Tn=d?d:this.Tn;this.ijb=f?f:this.ijb;};return a;}();c.KJb=u;h=function(){return function(a){this.M=a;this.oW=this.gaa=this.oW=this.daa=this.Oz=void 0;};}();c.aka=h;B=function(){return function(a,b){this.M=b;this.L=q(f,a,"["+b+"]");this.Vd=this.L.error.bind(this.L);this.Qa=this.L.warn.bind(this.L);this.Zi=this.L.trace.bind(this.L);this.nb=this.L.log.bind(this.L);this.mC=this.L.debug.bind(this.L);this.g8=this.sm=this.nl=this.Tl=void 0;this.XM=this.Gp=0;this.KG=!1;this.eo=void 0;};}();c.IJb=B;},function(g,c){function a(a,f){return a<f?-1:a>f?1:0;}Object.defineProperty(c,"__esModule",{value:!0});g=function(){function b(b,c){this.data=null!==b&&void 0!==b?b:[];this.compare=null!==c&&void 0!==c?c:a;if(!this.empty)for(b=(this.length>>1)-1;0<=b;b--)this.Hna(b);}Object.defineProperties(b.prototype,{length:{get:function(){return this.data.length;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{empty:{get:function(){return 0===this.data.length;},enumerable:!0,configurable:!0}});b.prototype.push=function(a){this.data.push(a);this.Jpa(this.length-1);};b.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty||(this.data[0]=b,this.Hna(0));return a;}};b.prototype.tF=function(){return this.data[0];};b.prototype.Zrb=function(a){a=this.data.indexOf(a);-1!==a&&this.Jpa(a);};b.prototype.Jpa=function(a){for(var b=this.data,f=this.compare,d=b[a],c,g;0<a;){c=a-1>>1;g=b[c];if(0<=f(d,g))break;b[a]=g;a=c;}b[a]=d;};b.prototype.Hna=function(a){for(var b=this.data,f=this.compare,d=this.length>>1,c=b[a],g,t,u;a<d;){g=(a<<1)+1;u=b[g];t=g+1;t<this.length&&0>f(b[t],u)&&(g=t,u=b[t]);if(0<=f(u,c))break;b[a]=u;a=g;}b[a]=c;};return b;}();c.bka=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(207);g=function(){var F4K;function a(a,b){var o4K,N4K;o4K=2;while(o4K!==3){N4K="1";N4K+="SI";N4K+="Y";N4K+="bZrNJC";N4K+="p9";switch(o4K){case 4:N4K;o4K=3;break;case 2:this.config=a;this.YE=b;this.M4=null;o4K=4;break;}}}F4K=2;while(F4K!==3){switch(F4K){case 2:a.prototype.Kta=function(a,f){var w4K,d;w4K=2;while(w4K!==9){switch(w4K){case 4:this.config.kaa&&f?(a=b.Cqa(a,f),a=Math.max(a,d)):a=d;return a;break;case 2:d=null===this.M4?a*(100-this.config.pZ)/100:b.Cqa(a,this.M4);f=null!==f&&void 0!==f?f:this.YE;w4K=4;break;}}};a.prototype.aG=function(a){var j4K;j4K=2;while(j4K!==1){switch(j4K){case 2:this.M4=a;j4K=1;break;case 4:this.M4=a;j4K=2;break;j4K=1;break;}}};a.prototype.Pfa=function(a){var a4K;a4K=2;while(a4K!==1){switch(a4K){case 4:this.config=a;a4K=7;break;a4K=1;break;case 2:this.config=a;a4K=1;break;}}};return a;break;}}}();c.Gga=g;},function(g,c,a){var m,q,d,k,p,t;function b(a,b,d,f){k(!m.T(f),"Must have at least one selected stream");return new t(f);}function f(a,b,d,f){k(!m.T(f),"Must have at least one selected stream");return new t(f);}m=a(6);c=a(32);q=c.console;d=c.debug;k=c.assert;p=c.Jz;t=c.pn;g.P={STARTING:function(a,b,f){var k,g,m,u;function c(f,c){var k,g,p,t;k=f.id;g=f.R;p=f.Da||0;t=!!p;d&&q.log("Checking feasibility of ["+c+"] "+k+" ("+g+" Kbps)");if(!f.hf)return d&&q.log("  Not available"),!1;if(!f.inRange)return d&&q.log("  Not in range"),!1;if(f.Sg)return d&&q.log("  Failed"),!1;if(g>a.cM)return d&&q.log("  Above maxInitAudioBitrate ("+a.cM+" Kbps)"),!1;if(!(g*a.YW/8<b.buffer.ap))return d&&q.log("  audio buffer too small to handle this stream"),!1;if(t){d&&q.log("  Have throughput history = "+t+" : available throughput = "+p+" Kbps");if(g<p/m)return d&&q.log(" +FEASIBLE: bitrate less than available throughput"),!0;d&&q.log(" bitrate requires more than available throughput");return!1;}f=a.qM;b.bW&&(f=Math.max(f,a.pM));if(g<=f)return d&&q.log("  Bitrate is less than max of minInitAudioBitrate ("+a.qM+" Kbps) "+(b.bW?" and also minHCInitAudioBitrate ("+a.pM+" Kbps)":"")),d&&q.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;d&&q.log("  No throughput history");return!1;}k=new t();m=a.eLb||1;for(u=f.length-1;0<=u;--u){g=f[u];if(c(g,u)){k.rd=u;break;}p(g)&&(k.rd=u);}return k;},BUFFERING:b,REBUFFERING:b,PLAYING:f,PAUSED:f};},function(g,c,a){var b,f,m,q,d,k,p,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(85);f=a(6);m=a(71);q=a(13);g=a(32);d=a(768);k=a(26);p=g.assert;t=g.pn;c.EY=u;(function(){var n4K,u5l;n4K=2;while(n4K!==5){u5l="1SI";u5l+="Y";u5l+="bZr";u5l+="N";u5l+="JCp9";switch(n4K){case 2:c.EY=u=function(c,g,u,h,y,l){var v11=h4KK;var Q4K,H,G,P,n,S,r,V,ja,M,na,sa,N,ha,Ea,za,Fa,ya,ma,A,F,K,Z5l,p5l,r5l,d5l;function B(a,b,f,k,m,t){var e4K,q,u,h,x,y,B,G,C,T,U,R,O,M,ca,ea,K5l,A5l,v5l,R5l,O5l,b5l,J5l,l5l;e4K=2;while(e4K!==63){K5l="S";K5l+="econd strea";K5l+="m undef";K5l+="ine";K5l+="d";A5l="Fir";A5l+="st stream";A5l+=" ";A5l+="h";A5l+="as failed";v5l="Fir";v5l+="st stream not in ";v5l+="ran";v5l+="ge";R5l="First str";R5l+="eam unav";R5l+="ail";R5l+="abl";R5l+="e";O5l="First s";O5l+="tre";O5l+="a";O5l+="m und";O5l+="efined";b5l="Second str";b5l+="eam ";b5l+="has ";b5l+="f";b5l+="ailed";J5l="Second stream ";J5l+="no";J5l+="t in range";l5l="Secon";l5l+="d s";l5l+="tream u";l5l+="navailabl";l5l+="e";switch(e4K){case 50:R=k;e4K=49;break;case 6:e4K=h&&!c.kZ?14:12;break;case 39:e4K=!O||O<a.R*c.V9||!ca?38:53;break;case 46:e4K=0<R?45:65;break;case 43:p(b.hf,l5l);p(b.inRange,J5l);p(!b.Sg,b5l);v11.o5l(2);p(v11.U5l(B,M));e4K=39;break;case 11:return!0;break;case 10:t=!c.V5||a===f||a.ac===f.ac&&l?0:(f=a.gb)&&f.Wg&&f.Wg.Ca?f.Wg.Ca+c.S5*(f.Wg.$g?Math.sqrt(f.Wg.$g):0):0;f=Fa;v11.s5l(3);t=v11.E5l(t,n,P);e4K=18;break;case 65:b=0<k||0<m?d(f.concat(M),B+k+m,t,h,u,G,x,B,B+k,U,C,O,T,c.rM,c.kZ):O>a.KW?{result:!0,aM:0,kw:!0}:{result:!1,aM:0,kw:!0};e4K=37;break;case 47:R=m;e4K=46;break;case 53:ea||(b=a);M=[];e4K=51;break;case 14:e4K=q>=Math.max(a.KW,a.R*u)&&!a.TFa?13:10;break;case 7:e4K=!t||!h?6:10;break;case 2:q=a.Da||0;u=t?c.P7:c.kU;h=a.V&&a.V.length;e4K=3;break;case 21:O=a.Da;M=f.length;ca=a.V&&a.V.length;ea=b.V&&b.V.length;e4K=32;break;case 8:t||h||(a.$ea=!0);e4K=7;break;case 32:c.Eaa&&(T=Math.min(T,h-t));p(a,O5l);p(a.hf,R5l);p(a.inRange,v5l);p(!a.Sg,A5l);p(b,K5l);e4K=43;break;case 9:return!1;break;case 51:e4K=R?50:64;break;case 49:e4K=0<R?48:47;break;case 12:e4K=q>=a.R*u?11:10;break;case 18:u=sa;v11.s5l(1);h=v11.U5l(r,P);v11.s5l(1);x=v11.U5l(S,P);e4K=15;break;case 38:b=!1;e4K=37;break;case 3:e4K=ha&&!ha.xcb&&ha.Da>=q&&ha.R<=a.R?9:8;break;case 48:ca=Math.min(R,a.V.length-y),M.push(a.V.bG.subarray(y,y+ca)),R-=ca,y+=ca,y>=a.V.length&&(y=0);e4K=49;break;case 13:return!0;break;case 15:y=V;B=Fa.length;G=na;C=ya;T=N;U=g.f7;R=!!g.Lza;e4K=21;break;case 45:ca=Math.min(R,b.V.length-y),M.push(b.V.bG.subarray(y,y+ca)),R-=ca,y+=ca,y>=b.V.length&&(y=0);e4K=46;break;case 37:b&&b.result&&(H.cPb=b.aM);ha={xcb:b&&b.result,Da:q,R:a.R};return b&&b.result;break;case 64:k=Math.max(0,Math.min(k,a.V.length-y)),m=Math.max(0,Math.min(m,b.V.length-y-k)),0<k&&M.push(a.V.bG.subarray(y,y+k)),0<m&&M.push(b.V.bG.subarray(y+k,y+k+m));e4K=65;break;}}}Q4K=2;function x(a,b,d){var u4K;u4K=2;while(u4K!==1){switch(u4K){case 4:return a.V?a.V.b6(b,d):9;break;u4K=1;break;case 2:return a.V?a.V.b6(b,d):0;break;}}}while(Q4K!==41){Z5l="n";Z5l+="u";Z5l+="m";Z5l+="b";Z5l+="er";p5l="player m";p5l+="issi";p5l+="ng";p5l+=" streaming";p5l+="Index";r5l="Must have at lea";r5l+="st on";r5l+="e select";r5l+="ed stream";d5l="nu";d5l+="mb";d5l+="e";d5l+="r";switch(Q4K){case 6:n=g.buffer.Yc;S=g.buffer.Ab;r=g.buffer.vl;V=g.ox;Q4K=11;break;case 42:(y=b.Gv(u.slice(0,h).reverse(),function(a,b){var i4K;i4K=2;while(i4K!==1){switch(i4K){case 2:return B(a,u[Math.max(h-b-2,0)],G,F,K,!0);break;}}}))||(y=u[0]);Q4K=30;break;case 28:Q4K=y.V&&y.V.length?44:30;break;case 30:H.Op=y||G;return H;break;case 25:y.V&&y.V.length||(y.$ea=!0);Fa=m.ki.b9a(g.buffer.V);Q4K=23;break;case 18:N=c.Tt?c.Tt:1E3;Ea=x(y,V,c.W9);v11.s5l(0);za=x(y,v11.E5l(V,Ea),c.zaa);this.Aoa||(this.Aoa=Math.min(y.R,c.TW));Q4K=27;break;case 26:return a.call(this,u);break;case 23:M=g.buffer.ap;0<c.Zq&&(M=Math.min(M,c.Zq));Q4K=21;break;case 3:p(d5l===typeof g.f7);H=new t();G=y=u[h];P=g.buffer.U;Q4K=6;break;case 33:ma=x(y,V,c.Y9);v11.o5l(0);A=x(y,v11.E5l(V,ma),c.Baa);Q4K=31;break;case 2:p(!f.T(h),r5l);p(f.ka(g.ox),p5l);p(Z5l===typeof g.buffer.ap);Q4K=3;break;case 27:Q4K=M===q.GP.vWa||!y.Da?26:25;break;case 34:Q4K=h+1<u.length&&ja>c.St&&(void 0===this.lW||this.faa&&this.faa>this.lW||S-this.lW>c.xW&&ja>c.Daa)?33:30;break;case 35:Q4K=B(y,u[Math.max(h-1,0)],y,Ea,za,!1)?34:28;break;case 21:ya=M-Fa.aa;Q4K=35;break;case 11:v11.s5l(1);ja=v11.E5l(r,n);M=this.kR||q.GP.Dg;na=g.state===k.pa.Cc||g.state===k.pa.ah?g.buffer.Ji:0;sa=c.MW;Q4K=18;break;case 31:y=b.Gv(u.slice(h+1,c.Oea&&ja>=c.aga?u.length:h+2),function(a,b){var D4K;D4K=2;while(D4K!==1){switch(D4K){case 4:return B(a,u[h*b],G,ma,A,~2);break;D4K=1;break;case 2:return B(a,u[h+b],G,ma,A,!1);break;}}});Q4K=30;break;case 44:F=x(y,V,c.X9);v11.o5l(0);K=x(y,v11.E5l(V,F),c.Aaa);Q4K=42;break;}}};u5l;n4K=5;break;}}function a(a){var T4K,d,f;T4K=2;while(T4K!==9){switch(T4K){case 3:return d;break;case 2:d=new t();f=this.Aoa;d.Op=b.Gv(a,function(a){var K4K;K4K=2;while(K4K!==1){switch(K4K){case 2:return a.R>=f;break;case 4:return a.R<=f;break;K4K=1;break;}}})||a[a.length-1];T4K=3;break;}}}}());},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(772),c);},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(7);f=a(168);c.u9=function(a,b){return!(1!==a||!b.pt)||0===a;};c.efb=function(a,b,d,f){a=a.Bl(b,void 0,!0);d&&(a=Math.floor(a/f)*f);return a;};c.QK=function(a,g,d,k,p,t){var m,q,h,x,H;f.Yk.Dl(a);b.assert(d.V,"findFirstFragment called without stream fragments");m=d.V;b.assert(k>=m.rh(0));q=c.u9(a,g);h=k;0===a&&!t&&g.Xo&&!g.Ny&&d.dk&&(k=Math.max(d.V.rh(0),k+d.dk.Va));x=c.efb(m,h,d.O.aU(a),g.oX);H=d.Wh(x);if(H.ga<k)return H;q&&(q=1===a?h:k,(h=H.oU(q))?(0<h.Um&&H.gk({start:h.Um}),0!==a||g.DAa||h.Oc<(g.Xo&&!g.Ny&&d.dk?Math.floor(d.dk.Va):0)&&H.Zta()):q>=H.ga&&x<m.length-1&&(H=d.Wh(x+1)));1===a&&p&&H.ga===p&&x<m.length-1&&(H=d.Wh(x+1));0===a&&!H.Na&&(g.CL||g.pya||g.Gab)&&t&&H.gk({});H.MN(k);return H;};c.jE=function(a,b,d,k,g,t,u){var p;f.Yk.Dl(a);p=d.V;void 0===k&&(k=p.ga);if(g&&(g=g.Lcb(d,k,a,b,t)))return g;g=p.Ra;u=k?k+c.Pbb(a,g,b.mr,u):p.x7(p.length-1);p=p.Bl(u,void 0,!0);g=d.Wh(p);0===p||g.U!==k||1!==a&&b.mr||(--p,g=d.Wh(p));c.u9(a,b)?(u=1===a?u:k,u<g.ga&&((t=g.Scb(u))&&0!==t.Um?g.gk({end:t.Um}):0===a&&(t||u<g.U)&&0!==p?g=d.Wh(p-1):1===a&&t&&0!==p&&(g=d.Wh(p-1))),0!==a||g.Na||!b.CL&&!b.oya||g.gk()):0===a&&!b.mr&&k-g.U<g.duration/2&&0!==p&&(g=d.Wh(p-1));g.MN(k);return g;};c.Pbb=function(a,b,d,f){var c;return 1===a||f?0:d?(c=null===b||void 0===b?void 0:b.Va,null!==c&&void 0!==c?c:0):b?-b.Va:0;};},function(g,c,a){var b,f,m,q,d,k,p,t,u,h,B;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(786);g=a(84);m=a(370);q=a(785);d=a(774);k=a(773);p=a(369);t=a(14);u=a(28);h=a(7);B=a(3);a=function(a){function c(b,c,g,m,u,h,x,y,H,l,n){var G;b=a.call(this,b)||this;b.K=c;b.Ic=u;b.Ig=h;b.aZa=x;b.BYa=H;b.EYa=n;b.connected=!1;b.L=t.Tz(B,g,"["+b.M+"]");b.Vd=b.L.error.bind(b.L);b.Qa=b.L.warn.bind(b.L);b.Zi=b.L.trace.bind(b.L);b.WI=x;b.CKb=x;b.N3=x.Va;b.NAa=1===b.M?c.$W:c.UW;b.fF=(1===b.M?c.iF:c.dF)||c.fF;l&&(G=l.bS);b.J0a=new k.HVa(h,l?l.ur:void 0);b.bS=new p.F1(y,c,G);b.vv=new f.BTa(b,m,b.K,b.L,b.M);b.NR=new q.IUa(b,c,b.L,b.vv,b.Ic,b.M);b.UI=!1;c.Td&&(b.Td=new d.CVa(c.Td,b.L));return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{M:{get:function(){return this.Ig.M;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{track:{get:function(){return this.Ig;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Xd:{get:function(){return this.Ic;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ib:{get:function(){return this.Ic.na.id;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{eb:{get:function(){return this.NR;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{yc:{get:function(){return this.Ig.yc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{um:{get:function(){return this.NR.um;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Sk:{get:function(){return this.NR.Sk;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ab:{get:function(){return this.N3;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ck:{get:function(){return this.eb.Ck;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return!!this.rg&&this.Pm>this.rg.index;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{mG:{get:function(){return this.bS;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ur:{get:function(){return this.J0a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uV:{get:function(){return this.eb.uV;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{SA:{get:function(){return this.eb.SA;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wea:{get:function(){return this.eb.Wea;},enumerable:!0,configurable:!0}});c.prototype.Rh=function(){this.NR.Rh();};c.prototype.toJSON=function(){return{started:this.SA,startOfSequence:this.Wea,segmentId:this.ib,requestedBufferLevel:this.Sk,viewableId:this.Ic.O.wa,hasFragments:this.uV};};c.prototype.Vp=function(){return this.eb.Vp();};c.prototype.wea=function(a,b){this.N3=a;void 0!==b&&(this.Pm=b);};Object.defineProperties(c.prototype,{weight:{get:function(){return this.Ic.weight;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{PS:{get:function(){return this.WI;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{OS:{get:function(){return u.Xa.jp(this.um.Va);},enumerable:!0,configurable:!0}});c.prototype.Gzb=function(a,b){var d;d=a.VU();return d?this.tHa(a,d,b):a.AG();};c.prototype.Wua=function(a){h.assert(this.track.pd,"Pipeline cannot be normalized until its track has recieved headers.");return this.Vh=this.QK(this.track.NV,a,void 0,void 0);};c.prototype.Xua=function(a){h.assert(this.track.pd,"Pipeline cannot be normalized until its track has recieved headers.");return this.rg=this.jE(this.track.NV,a);};c.prototype.QK=function(a,b,d,f){return m.QK(this.Ig.M,this.K,a,b,d,f);};c.prototype.jE=function(a,b){return m.jE(this.Ig.M,this.K,a,b,this.Td);};c.prototype.Cea=function(){return m.u9(this.Ig.M,this.K);};c.prototype.kkb=function(){return this.Ejb()?!1:this.Sjb()?!0:this.track.kob;};c.prototype.Sjb=function(){return void 0!==this.Vh&&void 0!==this.rg;};c.prototype.Ejb=function(){return this.rg?this.Pm>this.rg.index:!1;};c.prototype.eu=function(a){a.Vb||this.vv.ABa(a.stream,a.U,a.Ad);this.vv.Pob(this.ib,a.stream,a.Vb);this.qz(a);};c.prototype.KM=function(a){a.s4||(this.connected=!0);this.pz(a);};c.prototype.ffb=function(a){var b;b=this.eb.V;if(0===b.length)return{V:[],ica:0,Ji:0};a=b.iE(a.Va);return{V:b.uvb(a),ica:b.k6a-a,Ji:b.Ji};};c.prototype.tHa=function(a,b,d){var f,c,k,g,p;c=this.Ic;k=c.O;g=this.M;p=this.Pm;if(p>=b.length)return this.Qa("makeRequest nextFragmentIndex:",p,"past fragments length:",b.length),!1;if(!this.Vh||!this.rg)return this.Qa("makeRequest delayed, first or last fragment not set","first:",!!this.Vh,"last:",!!this.rg),!1;b=this.BYa.qwa(a,p,this,k.Kt());if(!b)return this.Qa("makeRequest unable to get valid fragment"),!1;p=b.j7.SD(a.Ra);this.Td&&(this.Td.IA+=p);b.Mt&&1===g&&this.vv.l3(c.na,b.ga);b.BFa(new u.Xa(c.zd,1E3));g=null===(f=this.EYa)||void 0===f?void 0:f.call(this);this.K.Xz&&void 0!==g&&g<b.aa&&(b.Xz=this.K.Xz);B.time.fa();a=this.eb.a9a(c,b,d,a);if(!a.dr()){this.Qa("MediaRequest.open error: "+a.Uh+" native: "+a.Yj);if(7===a.readyState)return!1;this.Qa("makeRequest caught:",a.Uh);k.ci("MediaRequest open failed (1)",k.Pa,"NFErr_MC_StreamingFailure");return!1;}a.IA=p;this.vv.Tob(a);this.wea(a.uf,b.yM);return!0;};return c;}(g.Gr);c.hla=a;},function(g,c,a){var b,f,m,q,d,k,p,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(371);g=a(84);m=a(759);q=a(7);d=a(28);k=a(3);p=a(14);t=a(758);u=p.Tz;a=function(a){function c(b,c,g,p,h,y,B,l,n,O,r,ba,ca,V){var x,H;x=a.call(this,g)||this;x.K=b;x.O=g;x.Mna=p;x.tpa=h;x.iG=B;x.zd=n;x.DYa=O;x.kXa=ba;x.v3=!1;x.p1a=1;x.ZQ=!1;q.assert(g.wa===x.na.wa||isNaN(g.wa)&&isNaN(x.na.wa));x.O.$Da(x);x.L=u(k,c,h.id&&h.id.length?"{"+h.id+"}":"");x.Vd=x.L.error.bind(x.L);x.Qa=x.L.warn.bind(x.L);x.Zi=x.L.trace.bind(x.L);x.mR=null!==l&&void 0!==l?l:B;x.gR=[];y.forEach(function(a){var b;a=a.M;b=x.O.aU(a)?new m.AOa(x.K.oX):new m.TRa();x.gR[a]=b;});x.zn=[];if(!V){H=[x.K.N4,x.K.jZ];y.forEach(function(a){var b;b=a.M;x.zn[b]=new f.hla(x,x.K,x.L,x.Mna,x,a,x.mR,H[b],x.gR[b],null===r||void 0===r?void 0:r.Te(b),ca);});x.PM=new t.ATa({O:x.O,dd:x.zn,ZJ:x.mR,YJ:void 0!==x.ga?d.Xa.jp(x.ga):void 0});x.PM.Sb(x.ypb.bind(x));}x.Qfa(x.mR.Va);return x;}b.__extends(c,a);Object.defineProperties(c.prototype,{R6:{get:function(){return this.ZQ;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Fp:{get:function(){return this.v3;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{weight:{get:function(){return this.p1a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.zn.every(function(a){return a.complete;});},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ga:{get:function(){return this.na.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{na:{get:function(){return this.tpa;},enumerable:!0,configurable:!0}});c.prototype.Rh=function(){var a;this.ZQ||(this.O.DHa(this),null===(a=this.PM)||void 0===a?void 0:a.ec(),this.PM=void 0,this.zn.forEach(function(a){a.Rh();}),this.zn=[],this.ZQ=!0);};c.prototype.sya=function(){return!0;};c.prototype.Te=function(a){return this.zn[a];};c.prototype.Gwa=function(){return this.zn.filter(function(a){return a.kkb();});};c.prototype.kp=function(a,b){var d;a=this.zn[a];if(!a)return 0;if(b)return a.Sk;b=a.Ck;if(void 0===b)return 0;a=(d=this.DYa(),null!==d&&void 0!==d?d:this.mR.Va);return b-a;};c.prototype.Qfa=function(a){this.fjb=a+this.K.Byb;this.kjb=k.time.fa();};c.prototype.Vp=function(a){return this.Te(a).Vp();};c.prototype.oj=function(a){this.ZQ?this.Qa("oncomplete ignored, pipelines shutdown, mediaRequest:",a):(a.s4||q.assert(!a.Vb),this.Kq(a));};c.prototype.ypb=function(){var a,b;null===(a=this.PM)||void 0===a?void 0:a.ec();this.PM=void 0;a=(b=this.zn[1],null!==b&&void 0!==b?b:this.zn[0]);this.Mna.emit("segmentNormalized",{type:"segmentNormalized",segmentId:this.na.id,normalizedStart:a.Vh.yF,normalizedEnd:a.rg.tca,contentEnd:a.track.Bo.HK});};return c;}(g.Gr);c.m_=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Dx||(c.Dx={});g[g.CLOSED=0]="CLOSED";g[g.OPEN=1]="OPEN";g[g.DDb=2]="COMPLETED";g[g.ah=3]="PAUSED";g[g.Ix=4]="CANCELLED";},function(g,c,a){var b,f,m,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(165);f=a(213);m=a(789);q=a(112);d=a(7);g=function(){function a(a,d){var c;c=this;this.Tg=new f(a,d);this.Om=new m(a);this.Tb=new q(this.Om,this.Tg,a);b.Fu.s6a(a);a.GX&&setInterval(function(){c.Tg.save();c.Om.save();},a.GX);}a.Pwa=function(b,f){void 0===k?(a.config=b,a.qZ=f,k=new a(b,f)):(d.assert(a.config===b),d.assert(a.qZ===f));return k;};a.reset=function(){a.config=void 0;k=a.qZ=void 0;};return a;}();c.t_=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.bva=function(a,b){for(var f,c,g=a.length-1;0<=g;--g)if(c=a[g],c.hf&&!c.Sg&&c.inRange){if(c.R<=b)return g;f=g;}return f;};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(3);g=function(a){function f(b,d,f,c,g){b=a.call(this,b,d,f,c,g)||this;b.Vna=!1;b.Una=!1;b.pI=!1;b.xa=[];b.pq=!1;b.xI=!1;b.Sc=!1;b.eg=!1;b.uc=!1;b.WB=!1;b.wC=void 0;b.jq=void 0;return b;}b.__extends(f,a);Object.defineProperties(f.prototype,{H$:{get:function(){return this.pq&&!this.pI;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{active:{get:function(){return this.Sc;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{TDa:{get:function(){return this.eg;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{complete:{get:function(){return this.uc||(this.uc=this.xa.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{uq:{get:function(){return this.WB;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{wh:{get:function(){return this.xa.reduce(function(a,b){return a+b.wh;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ve:{get:function(){return this.xa.reduce(function(a,b){return a+b.ve;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Nc:{get:function(){return this.wC||0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{url:{get:function(){return this.xa[0]&&this.xa[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{readyState:{get:function(){return this.Lf||this.xa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{status:{get:function(){return this.jq&&this.jq.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Uh:{get:function(){return this.jq&&this.jq.Uh;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{gE:{get:function(){return this.jq&&this.jq.gE;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Yj:{get:function(){return this.jq&&this.jq.Yj;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Hm:{get:function(){return!!this.xa.length&&this.xa[0].Hm;},enumerable:!0,configurable:!0}});f.prototype.push=function(a){this.xI&&a.Sb(this.eb);this.xa.push(a);this.pq&&a.dr();};f.prototype.Sb=function(b){a.prototype.Sb.call(this,b);this.xa.forEach(function(a){return a.Sb(b);});this.xI=!0;};f.prototype.rya=function(){return 7===this.Lf;};f.prototype.dr=function(){(this.pq=this.xa.every(function(a){return a.dr();}))&&this.UK(this);return this.pq;};f.prototype.ec=function(){this.xa.forEach(function(a){return a.ec();});};f.prototype.eO=function(a){this.Lf=this.jq=void 0;return this.xa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.eO(a):!0;});};f.prototype.abort=function(){var a,b;a=this.active;this.Lf=7;this.WB=!0;this.eg=this.Sc=!1;b=this.xa.map(function(a){return a.abort();}).every(function(a){return a;});this.yU(this,a,this.H$);return b;};f.prototype.getResponseHeader=function(a){var b;b=null;this.xa.some(function(d){return!!(b=d.getResponseHeader(a));});return b;};f.prototype.getAllResponseHeaders=function(){var a;a=null;this.xa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};f.prototype.wX=function(){};f.prototype.eu=function(a){this.Sc||(this.Sc=!0);this.Vna||(this.Vna=!0,this.Qk=0,this.wC=this.Rk=a.Nc,this.qz(this));};f.prototype.KM=function(a){this.eg||(this.eg=!0);this.Una||(this.Una=!0,this.wC=a.Nc,this.pz(this));};f.prototype.LM=function(a){this.wC=a.Nc;this.lE(this);this.Qk=this.ve;this.Rk=a.Nc;};f.prototype.oj=function(a){this.wC=a.Nc;this.complete?(this.uc=!0,this.Lf=5,this.eg=this.Sc=!1,this.pI=!0,this.Kq(this)):this.lE(this);this.Qk=this.ve;this.Rk=a.Nc;};f.prototype.JM=function(a){this.wC=a.Nc;this.jq=a;this.Lf=6;this.zU(this);};f.prototype.IM=function(){};f.prototype.hj=function(){return this.xa[0].hj()+"-"+this.xa[this.xa.length-1].hj();};f.prototype.toString=function(){return"Compound["+this.xa.map(function(a){return a.toString();}).join(",")+"]";};f.prototype.toJSON=function(){return{requests:this.xa};};return f;}(a(163).oB);c.vga=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(7);g=function(a){function c(b,f,c){b=a.call(this,b,f)||this;b.eG=!1;b.Iq=!1;b.mF=!1;b.ew=!1;b.ph=void 0;b.rC=f.Xh;b.gm=f.hca;b.Nna=f.cj;b.L=c;return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{Vb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Xh:{get:function(){return this.rC;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{hca:{get:function(){return this.gm;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{cj:{get:function(){return this.Nna;},enumerable:!0,configurable:!0}});c.prototype.ec=function(){};c.prototype.HZ=function(){};c.prototype.u2a=function(a){f.assert(this.xd.oa===a.oa);!a.pd&&this.xd.pd&&a.mT(this.xd);!a.location&&this.xd.location&&(a.location=this.xd.location,a.ac=this.xd.ac,a.MA=this.xd.MA,a.url=this.xd.url,a.gb=this.xd.gb);this.xd=a;};c.prototype.toJSON=function(){return b.__assign(b.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.V});};return c;}(a(170).Ex);c.b_=g;},function(g){(function(){var M5l,W2l;function c(){var T5l;T5l=2;while(T5l!==5){switch(T5l){case 2:this.wv=this.Ub=0;this.La=this.Wd=void 0;T5l=5;break;}}}M5l=2;while(M5l!==8){W2l="1SI";W2l+="YbZ";W2l+="rNJC";W2l+="p9";switch(M5l){case 2:c.prototype.start=function(a){var m5l;m5l=2;while(m5l!==1){switch(m5l){case 2:this.Wd?a<this.Wd?(this.wv+=this.Wd-a,this.Wd=a):a>this.La&&(this.La=this.Wd=a):this.La=this.Wd=a;m5l=1;break;}}};c.prototype.stop=function(a){var P5l;P5l=2;while(P5l!==1){switch(P5l){case 2:this.La&&a>this.La&&(this.wv+=a-this.La,this.La=a);P5l=1;break;}}};c.prototype.add=function(a,b,f){var n5l;n5l=2;while(n5l!==4){switch(n5l){case 2:this.start(b);this.stop(f);this.Ub+=a;n5l=4;break;}}};c.prototype.get=function(){var I2l;I2l=2;while(I2l!==1){switch(I2l){case 2:return{Ca:this.wv?Math.floor(8*this.Ub/this.wv):null,Y6:this.wv?this.wv:0};break;}}};M5l=3;break;case 3:g.P=c;W2l;M5l=8;break;}}}());},function(g,c,a){var f,m;function b(a){this.K={eM:a.maxc||25,Q5:a.c||.5,dtb:a.rc||"none",Ihb:a.hl||7200};this.SI();this.Y_a=this.K.dtb;this.sI=this.K.Ihb;this.a2=Math.exp(Math.log(2)/this.sI);this.a2=Math.max(this.a2,1);this.VQ=1;}f=a(6);m=a(217).TDigest;new(a(3)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.Wc=function(){var a;if(0===this.me.size())return null;a=this.me.mh([.25,.75]);if(a[0]===a[1])return null;this.me.size()>this.K.eM&&this.me.dt();a=this.me.xx(!1).reduce(function(a,b){f.ka(b.Ve)&&f.ka(b.n)&&a.push({mean:b.Ve,n:b.n/this.VQ});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Sd=function(a){var b;if(f.Ia(a)||!f.has(a,"tdigest")||!f.ce(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(k){return!1;}b.forEach(function(a){f.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{Ve:a.mean,n:a.n};});this.VQ=1;this.me.Vca(a);void 0===this.me.mh(0)&&this.SI();};b.prototype.get=function(){var a,b;a=this.me;b=a.mh([0,.1,.25,.5,.75,.9,1]);return{min:b[0],aca:b[1],Zj:b[2],Ii:b[3],$j:b[4],bca:b[5],max:b[6],Kg:a.xx(!1)};};b.jgb=function(a){var d;d=new b({});f.Ia(a)||f.T(a)||!f.isArray(a.Kg)||(d.me.Vca(a.Kg),void 0===d.me.mh(0)&&d.SI());a=d.me.mh([.25,.75]);return a[0]===a[1]?null:function(a){return d.me.mh(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.Y_a&&(this.VQ=b=this.VQ*this.a2);this.me.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.me.summary()+")";};b.prototype.SI=function(){this.me=new m(this.K.Q5,this.K.eM);};g.P={wma:b};},function(g,c,a){var f,m;function b(a){this.K={eM:a.maxc||25,Q5:a.c||.5,xBb:a.w||15E3,ql:a.b||5E3};f.call(this,this.K.xBb,this.K.ql);this.SI();}f=a(164);m=a(217).TDigest;b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.tF(0);f.prototype.shift.call(this);null!==a&&(this.me.push(a,1),this.Cn=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.me.push(a,1);this.Cn=!0;f.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.gxa();};b.prototype.zt=function(){var a;a=this.gxa();return{min:a.min,p10:a.aca,p25:a.Zj,p50:a.Ii,p75:a.$j,p90:a.bca,max:a.max,centroidSize:a.q5a,sampleSize:a.KA,centroids:a.Kg};};b.prototype.gxa=function(){var a;if(0===this.me.size())return null;a=this.me.mh([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Cn||!this.le)this.Cn=!1,this.le={min:a[0],aca:a[1],Zj:a[2],Ii:a[3],$j:a[4],bca:a[5],max:a[6],mh:this.me.mh.bind(this.me),q5a:this.me.size(),KA:this.me.n,Kg:this.peb(),zt:this.zt.bind(this)};return this.le;};b.prototype.peb=function(){var a;if(0===this.me.size())return null;if(!this.Cn&&this.le)return this.le.centroids;a=this.me.mh([.25,.75]);if(a[0]===a[1])return null;this.me.size()>this.K.eM&&this.me.dt();a=this.me.xx(!1).map(function(a){return{mean:a.Ve,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.me.size();};b.prototype.toString=function(){return"btdtput("+this.WC+","+this.Dc+","+this.Mh+"): "+this.me.summary();};b.prototype.SI=function(){this.me=new m(this.K.Q5,this.K.eM);};g.P=b;},function(g,c,a){var f,m;function b(a,b,c,g){f.call(this,c,g);this.nq=new m(a);this.CZa=b;}f=a(164);m=a(395);b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.tF(0);f.prototype.shift.call(this);null!==a&&this.nq.zS(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.nq.zS(a);f.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.jL();return{KA:this.vE(),FX:a,AM:a.Ii?(a.$j-a.Zj)/a.Ii:void 0};};b.prototype.vE=function(){return this.nq.vE();};b.prototype.jL=function(){return this.nq.vE()<this.CZa?{Zj:void 0,Ii:void 0,$j:void 0,KA:void 0,mh:void 0}:{Zj:this.nq.Dq(25),Ii:this.nq.Dq(50),$j:this.nq.Dq(75),KA:this.nq.vE(),mh:this.nq.Dq.bind(this.nq)};};b.prototype.toString=function(){return"biqr("+this.WC+","+this.Dc+","+this.Mh+")";};g.P=b;},function(g,c,a){var q;function b(a){this.reset();this.owb(a);}function f(a){this.setInterval(a);this.reset();}function m(a){this.kv=new f(a);this.Jd=0;this.Hb=null;}q=a(6);b.prototype.owb=function(a){this.ZB=Math.pow(.5,1/a);this.sI=a;};b.prototype.reset=function(a){a&&a.Ca&&q.ka(a.Ca)?a.$g&&q.ka(a.$g)?(this.hq=this.$Ya,this.em=a.Ca,this.ev=a.$g+a.Ca*a.Ca):(this.hq=this.$Ya,this.em=a.Ca,this.ev=a.Ca*a.Ca):this.ev=this.em=this.hq=0;};b.prototype.add=function(a){var b;if(q.ka(a)){this.hq++;b=this.ZB;this.em=b*this.em+(1-b)*a;this.ev=b*this.ev+(1-b)*a*a;}};b.prototype.get=function(){var a,b,f;if(0===this.hq)return{Ca:0,$g:0};a=this.em;b=this.ev;f=1-Math.pow(this.ZB,this.hq);a=a/f;b=b/f;f=a*a;return{Ca:Math.floor(a),$g:Math.floor(b>f?b-f:0)};};b.prototype.Wc=function(){return 0===this.hq?null:{a:Math.round(this.em),s:Math.round(this.ev),n:this.hq};};b.prototype.Sd=function(a){if(q.Ia(a)||!q.has(a,"a")||!q.has(a,"s")||!q.isFinite(a.a)||!q.isFinite(a.s))return this.ev=this.em=this.hq=0,!1;this.em=a.a;this.ev=a.s;q.has(a,"n")&&q.ka(a.n)?this.hq=a.n:this.hq=16*this.sI;return!0;};f.prototype.setInterval=function(a){this.sI=a;this.ZB=-Math.log(.5)/a;};f.prototype.reset=function(a){this.La=this.Wd=null;a&&q.isFinite(a.Ca)?this.em=a.Ca:this.em=0;};f.prototype.start=function(a){q.Ia(this.Wd)&&(this.La=this.Wd=a);};f.prototype.add=function(a,b,f){var d,c;q.Ia(this.Wd)&&(this.La=this.Wd=b);this.Wd=Math.min(this.Wd,b);b=Math.max(f-b,1);d=this.ZB;c=f>this.La?f:this.La;this.em=this.em*(c>this.La?Math.exp(-d*(c-this.La)):1)+8*a/b*(1-Math.exp(-d*b))*(f>c?Math.exp(-d*(c-f)):1);this.La=c;};f.prototype.get=function(a){var b;a=Math.max(a,this.La);b=this.em*Math.exp(-this.ZB*(a-this.La));a=1-Math.exp(-this.ZB*(a-this.Wd));0<a&&(b/=a);return{Ca:Math.floor(b)};};f.prototype.toString=function(){return"ewmav("+this.sI+")";};m.prototype.setInterval=function(a){this.kv.setInterval(a);};m.prototype.reset=function(a){this.kv.reset(a);this.Jd=0;this.Hb=null;};m.prototype.start=function(a){!q.Ia(this.Hb)&&a>this.Hb&&(this.Jd+=a-this.Hb,this.Hb=null);this.kv.start(a-this.Jd);};m.prototype.add=function(a,b,f){!q.Ia(this.Hb)&&f>this.Hb&&(this.Jd+=b>this.Hb?b-this.Hb:0,this.Hb=null);this.kv.add(a,b-this.Jd,f-this.Jd);};m.prototype.stop=function(a){this.Hb=Math.max(q.Ia(this.kv.La)?0:this.kv.La+this.Jd,q.Ia(this.Hb)?a:Math.min(this.Hb,a));};m.prototype.get=function(a){return this.kv.get((q.Ia(this.Hb)?a:this.Hb)-this.Jd);};m.prototype.toString=function(){return this.kv.toString();};g.P={NMa:b,RDb:f,LMa:m};},function(g,c,a){g.P={kNb:a(382),sRb:a(216),sDb:a(802),rDb:a(381),tDb:a(380),lia:a(799)};},function(g){function c(){}function a(a){this.Epa=a;this.dm=[];this.bf=null;}c.prototype.clear=function(){this.Kd=null;this.size=0;};c.prototype.find=function(a){var c;for(var b=this.Kd;null!==b;){c=this.uk(a,b.data);if(0===c)return b.data;b=b.Of(0<c);}return null;};c.prototype.lowerBound=function(a){var d;for(var b=this.Kd,c=this.iterator(),g=this.uk;null!==b;){d=g(a,b.data);if(0===d)return c.bf=b,c;c.dm.push(b);b=b.Of(0<d);}for(d=c.dm.length-1;0<=d;--d)if(b=c.dm[d],0>g(a,b.data))return c.bf=b,c.dm.length=d,c;c.dm.length=0;return c;};c.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.uk;null!==b.data()&&0===c(b.data(),a);)b.next();return b;};c.prototype.min=function(){var a;a=this.Kd;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};c.prototype.max=function(){var a;a=this.Kd;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};c.prototype.iterator=function(){return new a(this);};c.prototype.Yd=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c);};a.prototype.data=function(){return null!==this.bf?this.bf.data:null;};a.prototype.next=function(){var a;if(null===this.bf){a=this.Epa.Kd;null!==a&&this.Coa(a);}else if(null===this.bf.right){do if(a=this.bf,this.dm.length)this.bf=this.dm.pop();else{this.bf=null;break;}while(this.bf.right===a);}else this.dm.push(this.bf),this.Coa(this.bf.right);return null!==this.bf?this.bf.data:null;};a.prototype.wA=function(){var a;if(null===this.bf){a=this.Epa.Kd;null!==a&&this.woa(a);}else if(null===this.bf.left){do if(a=this.bf,this.dm.length)this.bf=this.dm.pop();else{this.bf=null;break;}while(this.bf.left===a);}else this.dm.push(this.bf),this.woa(this.bf.left);return null!==this.bf?this.bf.data:null;};a.prototype.Coa=function(a){for(;null!==a.left;)this.dm.push(a),a=a.left;this.bf=a;};a.prototype.woa=function(a){for(;null!==a.right;)this.dm.push(a),a=a.right;this.bf=a;};g.P=c;},function(g,c,a){var f;function b(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(c,"__esModule",{value:!0});f=a(83);g=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.uva=function(){return this.done;};a.prototype.Rta=function(a,b,f){return this.done=b+f>=this.endOffset;};return a;}();c.zha=g;g=function(){function a(a,b,f,c){void 0===b&&(b=[]);void 0===f&&(f=[]);void 0===c&&(c=!1);this.Mp=a;this.JT=b;this.HGa=f;this.sCa=c;this.done=!1;this.rj={};}a.prototype.uva=function(b,d,f){-1!==a.mib.indexOf(b)&&(this.rj[b]={offset:d,size:f});if(-1!==this.HGa.indexOf(b))if(this.rj[b]={offset:d,size:f},this.sCa)this.endOffset=d+f;else return this.endOffset=d,this.done=!0;else this.Mp&&-1!==this.Mp.indexOf(b)?(b=1<this.Mp.length?4096:0,this.endOffset=Math.max(d+f+b,this.endOffset||0)):-1!==this.JT.indexOf(b)&&(b=this.Mp?4096:0,this.endOffset=Math.max(d+f+b,this.endOffset||0));return this.done;};a.prototype.Rta=function(a,d,c,g){var k;k=this;if(-1!==this.HGa.indexOf(a))return this.done=!0;a===f.V0&&this.AFa(g.rj);a===f.W0&&this.AFa(g.rj);this.Mp&&b(a,this.Mp);b(a,this.JT);return this.Mp&&0===this.Mp.length&&!this.JT.some(function(a){return k.rj[a];})?this.done=!0:this.done;};a.prototype.AFa=function(a){var b;b=this;this.rj=a;this.endOffset=(this.Mp||[]).concat(this.JT).reduce(function(a,d){return b.rj[d]?(d=b.rj[d],Math.max(d.offset+(d.size||4096),a)):a;},this.endOffset||0);};a.mib=["moov","sidx"];return a;}();c.vOa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function f(){var b;b=null!==a&&a.apply(this,arguments)||this;b.BU=1536;return b;}b.__extends(f,a);f.Yb=!0;return f;}(a(167)["default"]);c["default"]=g;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Ee="ac-3";return f;}(g);c.BIa=a;g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Ee="ec-3";return f;}(g);c.cNa=g;},function(g,c,a){var ca,V,ja,M,na,sa,N,ha,Ea,za,Fa,ya,ma,A,F,K,Q,W,Z,Ua,Ra,Y,tb,da,fa,ga,ia,ka,la,oa,ra;function b(a,b,d,f,c){M.call(this,a,b,d,f,c);}function f(a,b,d,f,c){M.call(this,a,b,d,f,c);}function m(a,b,d,f,c){M.call(this,a,b,d,f,c);}function q(a,b,d,f,c){M.call(this,a,b,d,f,c);this.VY=a.config.VY;this.Bd=this.sizes=void 0;}function d(a,b,d,f,c){M.call(this,a,b,d,f,c);}function k(){for(var a=new DataView(this),b="",d,f=0;f<this.byteLength;f++)d=a.getUint8(f),b+=("00"+d.toString(16)).slice(-2);return b;}function p(a,b,d,f,c){M.call(this,a,b,d,f,c);}function t(a,b,d,f,c){M.call(this,a,b,d,f,c);}function u(a,b,d,f,c){M.call(this,a,b,d,f,c);}function h(a,b,d,f,c){M.call(this,a,b,d,f,c);}function B(a,b,d,f,c){M.call(this,a,b,d,f,c);}function x(a){function b(b,d,f,c,k){M.call(this,b,d,f,c,k);this.hBa=a;}b.Yb=!1;b.prototype=new M();b.prototype.constructor=b;Object.defineProperties(b.prototype,{nha:{get:function(){return this.hBa;}}});b.prototype.parse=function(){this.J.console.trace("renaming '"+this.type+"' to draft type '"+this.hBa+"'");this.J.offset=this.startOffset+4;this.Ua.vIa(this.nha);this.type=this.nha;return!0;};return b;}function H(a,b,d,f,c){M.call(this,a,b,d,f,c);}function G(a,b,d,f,c){M.call(this,a,b,d,f,c);}function l(a,b,d,f,c){M.call(this,a,b,d,f,c);}function n(a,b,d,f,c){M.call(this,a,b,d,f,c);}function T(a,b,d,f,c){M.call(this,a,b,d,f,c);}function U(a,b,d,f,c){M.call(this,a,b,d,f,c);}function C(a,b,d,f,c){M.call(this,a,b,d,f,c);}function R(a,b,d,f,c){M.call(this,a,b,d,f,c);}function O(a,b,d,f,c){M.call(this,a,b,d,f,c);}function r(a,b,d,f,c){M.call(this,a,b,d,f,c);}function ba(a,b){a.forEach(function(a){b[a.Ee]=a;});}ca=a(7).assert;c=a(83);a(3);V=a(28).Xa;ja=a(226);a(128);a(62);a(62);a(62);M=a(25).Ff;na=a(822)["default"];sa=a(821)["default"];N=a(820)["default"];ha=a(819)["default"];Ea=a(818)["default"];za=a(817)["default"];Fa=a(816)["default"];ya=a(815)["default"];ma=a(814)["default"];a(223);a(167);A=a(386).BIa;F=a(386).cNa;K=a(813)["default"];Q=a(812)["default"];W=a(82)["default"];Z=a(82).YIa;Ua=a(82).ZIa;Ra=a(82).$Ia;Y=a(82).aJa;tb=a(811)["default"];da=a(810)["default"];fa=a(82).sOa;ga=a(82).nOa;ia=a(809)["default"];ka=a(808)["default"];la=a(807)["default"];oa=a(390)["default"];ra=a(389)["default"];a(127);a(220);a(219);a(221);a=a(806)["default"];b.Yb=!0;b.prototype=new M();b.prototype.constructor=b;f.Yb=!0;f.prototype=new M();f.prototype.constructor=f;m.Yb=!1;m.prototype=new M();m.prototype.constructor=m;m.prototype.parse=function(){var a;this.Df();1===this.version?(this.J.Ki(),this.J.Ki(),this.ea=this.J.wb(),this.duration=this.J.Ki()):(this.J.wb(),this.J.wb(),this.ea=this.J.wb(),this.duration=this.J.wb());a=this.J.vg()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};q.Yb=!1;q.prototype=new M();q.prototype.constructor=q;q.prototype.E_a=function(){this.Df();this.J.wb();this.ea=this.J.wb();0===this.version?(this.l7=this.J.wb(),this.c8=this.J.wb()):(this.l7=this.J.Ki(),this.c8=this.J.Ki());this.oub=this.J.vg();this.XDa=this.J.vg();};q.prototype.TXa=function(a,b){var d,f,c;d=this.ea;a=a&&a.ea||d;f=a/d;d=this.J.bY(b,12,!1);c=1===f?this.J.bY(b,12,!1):ja.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.J.wb()*f);this.J.offset+=8;return a;},this);this.f1a(b,c,d,a);};q.prototype.f1a=function(a,b,d,f){if(this.VY){f=this.VY*f/1E3;for(var c=0,k=1;k<a;k++)Math.abs(b[c]-f)>Math.abs(b[c]+b[k]-f)?(b[c]+=b[k],d[c]+=d[k]):(++c,c!==k&&(b[c]=b[k],d[c]=d[k]));++c;b=new Uint32Array(b.buffer.slice(0,4*c));d=new Uint32Array(d.buffer.slice(0,4*c));}this.sizes=d;this.Bd=b;};q.prototype.parse=function(a){var b,d,f,c;this.E_a();this.Ra=a.Ra;b=this.ea;d=this.Ra&&this.Ra.ea||b;f=this.XDa;c=this.startOffset+this.length+this.c8;b=new V(this.l7,b).Zl(d).Ud;this.V={ea:d,tj:b,offset:c};this.TXa(this.Ra,f);this.V.Bd=this.Bd;this.V.sizes=this.sizes;a.or=this;return!0;};d.Yb=!1;d.prototype=new M();d.prototype.constructor=d;d.prototype.parse=function(){var a;this.Bx=[];this.Tqb=[];a=(this.length-11)/2;this.J.ed();this.J.ed();this.J.ed();for(var b=0;b<a;b++)this.Bx.push(this.J.ed()),this.Tqb.push(this.J.ed());return!0;};p.Yb=!1;p.prototype=new M();p.prototype.constructor=p;p.prototype.parse=function(){this.Df();this.J.offset+=4;this.aza=this.J.offset;this.Hw=this.J.Qsb();this.Hw.toString=k;return!0;};t.Yb=!1;t.prototype=new M();t.prototype.constructor=t;t.prototype.parse=function(){this.Df();this.zm=this.J.vg();this.Vmb=this.J.bY(this.zm,void 0,!0);return!0;};u.Yb=!1;u.prototype=new M();u.prototype.constructor=u;u.prototype.parse=function(a){var b,d,f,c,k,g;c=a.or;ca(c);a=a.Ra;b=c.ea;c=c.XDa;ca(a);ca(b);ca(c);this.Df();ca(2>this.version);this.zm=this.J.vg();this.AF=new Uint16Array(c+1);d=a.ghb(b);k=d/b;g=a.Zl(d).Ud;if(0===this.version)for(this.TF=new Uint16Array(),this.ug=new Uint32Array(),a=b=0;a<=c;++a){if(this.AF[a]=b,a<this.zm&&(f=this.J.ed(),0!==f))for(d=0;d<f;++d,++b)this.TF[b]=Math.floor((this.J.wb()+1)*k)/g,this.ug[b]=this.J.wb();}else if(1===this.version)for(d=this.J.Nsb(this.zm),this.J.offset+=4,this.ug=this.J.bY(this.zm,10,!1),this.J.offset-=8,this.TF=ja.from(Uint16Array,{length:this.zm},function(){var a;a=Math.floor((this.J.wb()+1)*k)/g;this.J.offset+=6;return a;},this),b=a=0;a<=c;++a){for(;b<d.length&&d[b]<a;)++b;this.AF[a]=b;}this.Nh={AF:this.AF,TF:this.TF,ug:this.ug};return!0;};h.Yb=!0;h.prototype=Object.create(b.prototype);h.prototype.constructor=h;B.Yb=!0;B.prototype=Object.create(b.prototype);B.prototype.constructor=B;B.prototype.hE=function(){var a;a=this.Tp("tfhd");a&&(this.Qs=a.dra?a.Qs:this.parent.startOffset);return!0;};H.Yb=!1;H.prototype=new M();H.prototype.constructor=H;H.prototype.parse=function(){var a,m,t,d,c;a=this.J.offset;this.Df();if(1===this.version){this.J.console.trace("translating vpcC box to draft equivalent");this.J.offset+=2;for(var b=this.J.offset,d=this.J.ed(),f=this.J.ed(),c=this.J.ed(),k=this.J.ed(),g=this.J.vg(),p=[],m=0;m<g;++m)p=this.J.ed();m=(d&240)>>>4;t=(d&14)>>>1;d=d&1;c=16===c?1:0;f!=k&&this.J.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(f){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.J.console.warn("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Ua.VZ(this.version,a);this.Ua.VZ(m<<4|k,b++);this.Ua.VZ(t<<4|c<<1|d,b++);g+=2;p.push(0,0);this.Ua.DBb(g);b+=2;p.forEach(function(a){this.Ua.VZ(a,b++);});}return!0;};G.Yb=!1;G.prototype=new M();G.prototype.constructor=G;G.Ee="tfhd";Object.defineProperties(G.prototype,{dra:{get:function(){return this.Se&1;}},Nub:{get:function(){return this.Se&2;}},h$a:{get:function(){return this.Se&8;}},k$a:{get:function(){return this.Se&16;}},i$a:{get:function(){return this.Se&32;}}});G.prototype.parse=function(){this.Df();this.Cfa=this.J.wb();this.Qs=this.dra?this.J.Ki():void 0;this.Nub&&this.J.wb();this.DT=this.h$a?this.J.wb():void 0;this.FT=this.k$a?this.J.wb():void 0;this.ET=this.i$a?this.J.wb():void 0;return!0;};l.Yb=!1;l.prototype=new M();l.prototype.constructor=l;l.prototype.parse=function(){this.Df();this.zJ=1===this.version?this.J.Ki():this.J.wb();return!0;};l.prototype.Na=function(a){var b;b=this.startOffset+12;this.zJ+=a;1===this.version?this.Ua.EBb(this.zJ,b):this.Ua.Do(this.zJ,b);};n.Yb=!1;n.prototype=new M();n.prototype.constructor=n;Object.defineProperties(n.prototype,{$sa:{get:function(){return this.Se&1;}},h8:{get:function(){return this.Se&4;}},wY:{get:function(){return this.Se&256;}},xY:{get:function(){return this.Se&512;}},NEa:{get:function(){return this.Se&1024;}},Kda:{get:function(){return this.Se&2048;}}});n.prototype.parse=function(){this.Df();this.mra=this.J.offset;this.ge=this.J.wb();this.jt=this.$sa?this.J.cda():0;this.h8&&this.J.wb();this.vN=(this.wY?4:0)+(this.xY?4:0)+(this.NEa?4:0)+(this.Kda?4:0);this.rU=this.J.offset;ca(this.$sa,"Expected data offset to be present in Track Run");ca(this.length-(this.J.offset-this.startOffset)===this.ge*this.vN,"Expected remaining data in box to be sample information");return!0;};n.prototype.NI=function(a,b,d){var f,c,k;f=this.wY?this.J.wb():a.DT;c=this.xY?this.J.wb():a.FT;a=this.NEa?this.J.wb():a.ET;k=0===this.version?this.Kda?this.J.wb():0:this.Kda?this.J.cda():0;return{Mub:k,eRb:a,BQb:d+k-(void 0!==b?b:k),tu:c,wN:f};};n.prototype.Na=function(a,b,d,f,c,k,g){var p,m,t,q;p=0;m=0;this.Ua.offset=this.rU;for(f=0;f<c;++f)q=this.NI(b,t,m),0==f&&(t=q.Mub),p+=q.tu,m+=q.wN;f=c;c=this.J.offset;q=this.NI(b,t,m);this.cG=f;this.gxb=m;if(g){if(this.LF=this.jt+p,this.pu=0,f===this.ge)return!0;}else if(this.LF=this.jt,this.pu=p,0===f)return!0;if(0===f||f===this.ge)return!1;this.XT=!0;if(g){this.pu+=q.tu;for(g=f+1;g<this.ge;++g)q=this.NI(b,t,m),this.pu+=q.tu;this.Ua.offset=this.mra;this.ge=f;this.Ua.Do(this.ge);this.Ua.bga(k);this.h8&&(this.J.offset+=4);this.fk(this.length-(c-this.startOffset),c);}else b=c-this.rU,this.Ua.offset=this.mra,this.ge-=f,this.Ua.Do(this.ge),this.jt+=p,this.Ua.bga(k,this.jt),this.h8&&(this.J.offset+=4),this.fk(b,this.Ua.offset);d.fk(this.pu,a.Qs+this.LF);return!0;};n.prototype.aub=function(a,b,d,f,c,k){var p;if(f){f=this.LF;for(var g=this.ge-1;0<=g&&this.ge-g<=c;--g){this.Ua.offset=this.rU+g*this.vN;p=this.NI(b);if(p.wN!=k.duration){this.J.console.warn("Could not replace sample of duration "+p.wN+" with silence of duration "+k.duration);break;}if(this.xY)this.Ua.offset-=this.vN-(this.wY?4:0),this.Ua.Do(k.vu.byteLength);else if(k.vu.byteLength!==p.tu){this.J.console.warn("Cannot replace sample with default size with silence of different size");break;}f-=p.tu;d.mY(p.tu,k.vu,a.Qs+f);}}else for(f=this.LF+this.pu,g=0;g<this.ge&&g<c;++g){this.Ua.offset=this.rU+(g+this.cG)*this.vN;p=this.NI(b);if(p.wN!=k.duration){this.J.console.warn("Could not replace sample of duration "+p.wN+" with silence of duration "+k.duration);break;}if(this.xY)this.Ua.offset-=this.vN-(this.wY?4:0),this.Ua.Do(k.vu.byteLength);else if(k.vu.byteLength!==p.tu){this.J.console.warn("Cannot replace sample with default size with silence of different size");break;}d.mY(p.tu,k.vu,a.Qs+f);f+=p.tu;}};T.Yb=!1;T.prototype=Object.create(M.prototype);T.prototype.constructor=T;Object.defineProperties(T.prototype,{Py:{get:function(){return this.Se&1;}}});T.prototype.parse=function(){this.Df();this.Py&&this.J.dx();this.Py&&this.J.wb();this.j$a=this.J.ed();this.ge=this.J.wb();this.J.cY(this.ge);return!0;};T.prototype.Na=function(a,b){if(a&&0===this.j$a){a=b?this.ge-a:a;this.Ua.offset=this.startOffset+13+(this.Py?8:0);this.ge-=a;this.Ua.Do(this.ge);this.Ida=0;if(b)this.Ua.offset+=this.ge;else{for(b=0;b<a;++b)this.Ida+=this.Ua.ed();this.Ua.offset-=a;}this.fk(a,this.J.offset);}return!0;};U.Yb=!1;U.prototype=Object.create(M.prototype);U.prototype.constructor=U;Object.defineProperties(U.prototype,{Py:{get:function(){return this.Se&1;}}});U.prototype.parse=function(){this.Df();this.Py&&this.J.dx();this.Py&&this.J.wb();this.zm=this.J.wb();ca(1===this.zm,"Expected a single entry in Sample Auxiliary Information Offsets box");this.jt=0===this.version?this.J.cda():this.J.Wsb();return!0;};U.prototype.Na=function(a,b){this.jt+=a;this.Ua.offset=this.startOffset+16+(this.Py?8:0)+(0===this.version?0:4);this.Ua.bga(b,this.jt);return!0;};C.Yb=!1;C.prototype=Object.create(M.prototype);C.prototype.constructor=C;Object.defineProperties(C.prototype,{kCa:{get:function(){return this.Se&1;}},NAb:{get:function(){return this.Se&2;}}});C.prototype.parse=function(){this.Df();this.kCa&&(this.J.wb(),this.Gkb=this.J.cY(16));this.ge=this.J.wb();return!0;};C.prototype.Na=function(a,b){var d,f;d=b?this.ge-a:a;this.Ua.offset=this.startOffset+28+(this.kCa?20:0);this.ge-=d;this.Ua.Do(this.ge);a=this.Ua.offset;if(this.NAb)for(d=b?this.ge:d;0<d;--d){this.Ua.offset+=8;f=this.Ua.vg();this.Ua.offset+=6*f;}else this.Ua.offset+=8*(b?this.ge:d);b?this.fk(this.length-(this.J.offset-this.startOffset),this.J.offset):this.fk(this.J.offset-a,a);};R.Yb=!1;R.prototype=Object.create(M.prototype);R.prototype.constructor=R;R.prototype.parse=function(){this.Df();return!0;};R.prototype.Na=function(a,b,d){d?this.fk(b-a,this.startOffset+12+a):this.fk(a,this.startOffset+12);return!0;};O.Yb=!1;O.prototype=Object.create(M.prototype);O.prototype.constructor=O;O.prototype.parse=function(){this.Df();this.J.dx();1===this.version&&this.J.wb();this.zm=this.J.wb();this.xN=[];for(var a=0;a<this.zm;++a)for(var b=this.J.wb(),d=this.J.wb(),f=0;f<b;++f)this.xN.push(d);return!0;};O.prototype.Na=function(a,b){this.xN=b?this.xN.slice(0,a):this.xN.slice(a);a=this.xN.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.Ua.offset=this.startOffset+16+(1===this.version?4:0);this.Ua.Do(a.length);a.forEach(function(a){this.Ua.Do(a.count);this.Ua.Do(a.group);}.bind(this));this.zm>a.length&&this.fk(8*(this.zm-a.length));this.zm=a.length;return!0;};r.Yb=!1;r.prototype=Object.create(M.prototype);r.prototype.constructor=r;W={Lc:{moov:f,trak:b,mdia:b,mdhd:m,minf:b,encv:W,schi:b,sidx:q,sinf:b,stbl:b,tenc:p,mvex:b,moof:h,traf:B,tfhd:G,trun:n,sbgp:O,sdtp:R,saiz:T,saio:U,tfdt:l,mdat:r,vmaf:d},tzb:{vpcC:H,SmDm:x("smdm"),CoLL:x("coll")},oHa:{schm:tb},Jda:{}};ba([da,za,Fa,ya,fa,ga,na,ha,oa,ra,Ea,ma,sa,N,a],W.Lc);ba([A,K,Z,Ua,Ra,Y,F,Q,ka,ia],W.Jda);ba([da,tb],W.oHa);W.Lc[c.Cka]=p;W.Lc[c.WP]=t;W.Lc[c.VP]=u;W.Lc[c.Bka]=C;W.Jda[c.U0]=la;W.Ff=M;g.P={tM:W};},function(g,c,a){var b,f,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(25);m=a(62);g=function(a){function d(b,d,f,c,g){f=a.call(this,f,c,g)||this;f.p4a=b;f.kG=d;f.Lc={};return f;}b.__extends(d,a);d.prototype.parse=function(a){var b,d,f,c,k,g;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){d=this.offset;f=this.wb();if(0===f)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};c=m.jI(this.wb());if(null===c)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===c){if(16>this.view.byteLength-this.offset)break;c=this.fY();}if(0===b.length&&this.kG.uva(c,d,f))break;if(d+f>this.view.byteLength)break;k=this.p4a[c];g=void 0;if(k)if(g=new k(this,c,d,f,b[0]),(b[0]||this).hJ(g),g.parse(a))this.config.fca&&k.Yb?b.unshift(g):this.offset=d+f;else return{done:!1,offset:this.offset,error:"parse error in "+c+" box"};else this.offset=d+f;for(;b.length&&this.offset>b[0].byteOffset+b[0].mA-8;){g=b.shift();if(!g.hE(a))return{done:!1,offset:this.offset,error:"finalize error in "+g.type+" box"};this.offset=g.byteOffset+g.mA;}if(0===b.length&&this.kG.Rta(c,d,f,g))break;}return!this.kG.done&&(a=this.kG.endOffset?this.kG.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,eBa:a}:{done:!0,offset:Math.min(this.kG.endOffset||Infinity,this.offset)};};d.prototype.hJ=function(a){f.Ff.hJ(this,a);};return d;}(a(824).JWa);c.l_=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(83);a=a(25);f=g.W0;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a,c,g;this.Df();1<=this.version&&(this.Tua=this.J.fY());a=this.J.wb();this.rj={};for(var b=this.startOffset+this.length,f=0;f<a;++f){c=this.J.dx();"uuid"===c&&(c=this.J.fY());g=this.J.Ki();this.rj[c]={offset:b,size:g};b+=g;}return!0;};c.Ee=f;c.Yb=!1;return c;}(a.Ff);c["default"]=a;},function(g,c,a){var b,f,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(83);g=a(25);m=f.V0;g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Df();this.fileSize=this.J.Ki();this.ea=this.J.Ki();this.duration=this.J.Ki(!1,!0);this.MBa=this.J.Ki();this.J.Ki();this.ppb=this.J.Ki();this.xob=this.J.wb();this.NBa=this.J.Ki();this.iva=this.J.wb();this.Tua=this.J.fY();this.rj={moof:{offset:this.MBa},sidx:{offset:this.NBa,size:this.iva}};this.rj[f.fka]={offset:this.ppb,size:this.xob};this.J.offset-this.startOffset<=this.length-24&&(this.opb=this.J.Ki(),this.oob=this.J.wb(),this.npb=this.J.Ki(),this.nob=this.J.wb(),this.rj[f.WP]={offset:this.opb,size:this.oob},this.rj[f.VP]={offset:this.npb,size:this.nob});return!0;};d.Ee=m;d.Yb=!1;return d;}(g.Ff);c["default"]=g;},function(g,c,a){var b,f,m,q,d,k,p,t,u,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(13);m=a(3);g=a(27);q=a(224);d=a(14);k=a(43);p=a(7);t=a(218);u=a(377);a=a(376);h=m.MediaSource;a=function(a){function c(b,d,f,c,k,g,p){d=a.call(this,b,c,k,d,p)||this;u.b_.call(d,b,c,p);d.ph=f;d.track=f.track;d.Iq=!!c.Iq;d.mF=!!c.mF;d.ew=!!c.ew;d.Opb=c.aa;d.eG=!!c.eG;d.T2=(g?"(cache)":"")+d.oa+" header";d.OC(b.url||c.url,c.offset,c.aa);return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{Vb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{DX:{get:function(){return this.F_a;},enumerable:!0,configurable:!0}});c.prototype.ec=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.ec.call(this);};c.prototype.UK=function(b){this.stream.Tba();a.prototype.UK.call(this,b);};c.prototype.oj=function(b){this.gm=this.gm?d.wl(this.gm,b.response):b.response;b.mN();this.C_a()?a.prototype.oj.call(this,b):this.gna?(this.OC(b.url,b.offset+b.aa,this.gna),a.prototype.oj.call(this,b)):this.zU(this);};c.prototype.OC=function(a,b,d){a=new t.aP(this.stream,this.track,this.T2+" ("+this.xa.length+")",{offset:b,aa:d,url:a,location:this.location,Db:this.Db,responseType:0},this,this.Tc,this.L);this.push(a);this.Ub=this.xa.reduce(function(a,b){return a+b.aa;},0);};c.prototype.C_a=function(){var a,b,d,c;a=this.Tc;d=a.fBb;c=a.s3a;this.M===f.Fa.VIDEO&&d&&!a.pt?b=d:this.M===f.Fa.AUDIO&&c&&(b=c);b=new q.xRa(this.stream,this.gm,["sidx"],this.M===f.Fa.VIDEO&&a.pt||this.M===f.Fa.AUDIO,{pRb:this.stream.track.h7,VY:b,rCa:void 0===this.Ra,nHa:!h.wc||!h.wc.dsa,Ffa:a.Ffa,Xo:a.Xo,FG:this.Tc.FG,Eub:!0,ZY:!h.wc||!h.wc.aBa});d=b.parse({Ra:this.Ra});this.OAb=a.FG&&b.gib;d.Ww?(p.assert(d.Xh),this.rC=d.Xh,this.F_a=d.DX,this.Nna=!!d.bU,void 0===this.Ra&&void 0===d.Ra&&this.L.error("No frame duration available for "+this.oa),void 0===this.Ra&&void 0===d.Ra&&this.L.error("No frame duration available for "+this.oa),this.stream.sX(d.Xh,d.ea,d.Ra||this.Ra,d.V,d.jF,d.Nh,a.uF&&a.uF.enabled?d.Bx:void 0),this.gm=void 0):this.gna=d.o2a||0;return!!d.Ww;};return c;}(a.vga);c.yga=a;k.Pi(u.b_,a,!1,!1);k.Pi(g.EventEmitter,a);},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(226);a(7);a(32);g=function(){function a(a,b,d,f){this.ea=d;this.Bd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Ub=f;}Object.defineProperties(a.prototype,{aa:{get:function(){return void 0!==this.Ub?this.Ub:this.Ub=this.i2();},enumerable:!0,configurable:!0}});a.prototype.subarray=function(b,f){return new a(this.Bd.subarray(b,f),this.sizes.subarray(b,f),this.ea);};a.prototype.concat=function(){var c,f,d,k;for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];c=[this];f=c.concat.apply(c,f);c=f.reduce(function(a,b){return a+b.length;},0);d=new Uint32Array(c);k=new Uint32Array(c);c=f.reduce(function(a,b){return a||b.ea;},void 0);f.reduce(function(a,f){b.set(d,f.Bd,a);b.set(k,f.sizes,a);return a+f.length;},0);return new a(d,k,c);};a.prototype.i2=function(){for(var a=this.sizes,b=this.length,d=0,f=0;f<b;++f)d+=a[f];return d;};return a;}();c.fma=g;},function(g,c,a){var f,m,q;function b(a){return void 0===a?!0:a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(829);m=a(28);a(7);q=a(71);g=function(){function a(a,d,f){this.K=d;this.L=f;this.Ig=a.track;this.G0a=a.uh;this.Uz=a.Uz;this.fZa=-1===this.profile.indexOf("none");this.rC=this.Ba=void 0;this.hf=b(a.hf);this.inRange=b(a.inRange);this.PD=a.PD;this.mv=void 0;this.uoa=this.cs=0;this.url=this.MA=this.ac=this.vo=this.oaa=this.location=this.Da=this.gb=void 0;this.Sg=!1;this.O$=this.$d=void 0;a=this.K&&"object"===typeof this.K.oDa&&this.K.oDa[this.profile];"object"===typeof a&&(a=a[this.R])&&(this.LI=new m.Xa(a));}Object.defineProperties(a.prototype,{pd:{get:function(){return!!this.Ba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Ig.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Ig.u;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Ig.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.Ig.Ra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ea:{get:function(){return this.Ig.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kF:{get:function(){return this.Ig.kF;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ab:{get:function(){return this.Ig.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Ig;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uh:{get:function(){return this.G0a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{oa:{get:function(){return this.Uz.downloadable_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.oa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xp:{get:function(){return this.fZa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Uz.bitrate;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bc:{get:function(){return this.Uz.vmaf||null;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Uz.content_profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wf:{get:function(){return this.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{or:{get:function(){return this.Uz.sidx;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{dk:{get:function(){return this.LI;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{V:{get:function(){return this.Ba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{KW:{get:function(){return this.Ba&&this.Ba.KW;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{r8:{get:function(){return this.Ig.r8;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{q8:{get:function(){return this.Ig.q8;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{TFa:{get:function(){return this.jkb();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kw:{get:function(){return void 0!==this.mv?this.mv:this.hW();},set:function(a){this.mv=a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Xh:{get:function(){return this.rC;},enumerable:!0,configurable:!0}});a.prototype.fj=function(){return this.O.fj(this.M,this.oa);};a.prototype.VU=function(){var a;a=this.fj();return a&&a.stream.V;};a.prototype.AG=function(){return this.O.AG(this);};a.prototype.Tba=function(){this.track.Tba();};a.prototype.sX=function(a,b,d,c,g,m,q){c&&void 0!==c.tj&&(this.track.pd||void 0!==c.Bd&&c.Bd.length)&&void 0!==c.offset&&void 0!==c.sizes&&c.sizes.length?(this.K.Xo&&this.dk&&0===c.tj&&(c.tj+=this.dk.Zl(c.ea).Ud),this.pd||(this.track.sX(this,b,d,c,m),this.Ba=new f.GVa(this.track.Bo,c,g,m,q,this.u)),this.rC=a):c?this.L.error("AseStream.onHeaderReceived: fragmentsData was missing data:"+(void 0!==c.tj)+","+this.track.pd+","+this.track.h7+","+(void 0!==c.Bd)+","+!(!c.Bd||!c.Bd.length)+","+(void 0!==c.offset)+","+(void 0!==c.sizes)+","+!(!c.sizes||!c.sizes.length)):this.L.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.mT=function(a){this.pd||(this.track.O6a(a.track),this.Ba=a.V,this.rC=a.Xh);};a.prototype.Wh=function(a){return new q.ki(this,this.V.get(a));};a.prototype.owa=function(a){var b;b=this.Wh(a.index);a.Na&&(b.gk(a.Na),b.MN(a.tx));return b;};a.prototype.IHa=function(a,b){this.cs=a;this.uoa=b;};a.prototype.Q5a=function(){this.Da=this.gb=this.ac=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.u,mediaType:this.M,streamId:this.oa,bitrate:this.R};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.oa+":"+this.R;};a.prototype.hW=function(){var a;if(!this.pd)return!0;if(this.track.Z9>=this.R)return this.mv=!0;if(this.track.Pza<=this.R)return this.mv=!1;a=this.Ba.hW(this.K.rM,this.cs,this.uoa);if(a){if(!this.track.h7||this.xp)this.track.Z9=this.R;}else this.track.Pza=this.R;return this.mv=a;};a.prototype.jkb=function(){return void 0!==this.mv?!this.mv:!this.hW();};return a;}();c.BJa=g;},function(g,c,a){var f,m,q,d;function b(a){return function(){for(var b=Array(this.length),d=0;d<this.length;++d)b[d]=a.call(this,d);return b;};}Object.defineProperty(c,"__esModule",{value:!0});f=a(7);g=a(3);m=a(28);q=new g.Console("FRAGMENTS","media|asejs");d=function(){function a(a,b){this.Wb=a;this.Xi=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.Xi;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fb:{get:function(){return this.Wb.YR+this.Wb.Bv[this.Xi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return this.fb+this.Wb.un[this.Xi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qn:{get:function(){return this.Wb.un[this.Xi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.Wb.Ra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ea:{get:function(){return this.Wb.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return Math.floor(1E3*this.fb/this.ea);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return Math.floor(1E3*(this.fb+this.Qn)/this.ea);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.ga-this.U;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.fb/this.Ra.ea,endPts:1E3*this.xb/this.Ra.ea,duration:1E3*this.Qn/this.Ra.ea,index:this.index};};return a;}();c.gWa=d;a=function(){function a(a,b,d,f){this.M=a;this.length=d.Bd.length;this.Cs=d.ea;this.un=d.Bd;this.AS=f&&f.AF;this.jqa=f&&f.TF;this.oC=b;this.Mfa=this.Nfa=this.soa=void 0;this.YR=d.tj;this.Bv=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Bv[b]=a,a+=this.un[b];this.Bv[b]=a;this.Z1=Math.floor((this.ga-this.U)/this.length);}}Object.defineProperties(a.prototype,{tj:{get:function(){return this.kGa(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{w7:{get:function(){return this.kGa(this.length);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.rh(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.rh(this.length);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{HK:{get:function(){return new m.Xa(this.w7,this.ea);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Uaa:{get:function(){return this.soa||this.xXa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.oC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ea:{get:function(){return this.Cs;},enumerable:!0,configurable:!0}});a.prototype.kGa=function(a){return this.YR+this.Bv[a];};a.prototype.rh=function(a){return Math.floor(1E3*(this.YR+this.Bv[a])/this.ea);};a.prototype.x7=function(a){return this.rh(a+1);};a.prototype.Bd=function(a){return this.x7(a)-this.rh(a);};a.prototype.get=function(a){return new d(this,a);};a.prototype.Bl=function(a,b,d){if(0===this.length||a<this.rh(0))return-1;a=Math.max(a,b||0);for(var f=0,c=this.length-1,k,g;c>=f;)if(k=f+(c-f>>1),g=this.rh(k),a<g)c=k-1;else if(a>=g+this.Bd(k))f=k+1;else{for(;b&&k<this.length&&this.rh(k)<b;)++k;return k<this.length?k:d?this.length-1:-1;}return d?this.length-1:-1;};a.prototype.nU=function(a,b,d){a=this.Bl(a,b,d);return 0<=a?this.get(a):void 0;};a.prototype.b6=function(a,b){var d,f;d=Math.floor(b*this.ea/1E3);b=Math.min(a+Math.ceil(b/this.Z1),this.length);f=this.Bv[b]-this.Bv[a];if(f>d){for(;f>=d;)--b,f-=this.un[b];return b-a+1;}for(;f<d&&b<=this.length;)f+=this.un[b],++b;return b-a;};a.prototype.subarray=function(b,d){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===d||d>b&&d<=this.length);return new a(this.M,this.Ra,{ea:this.ea,tj:this.YR+this.Bv[b],Bd:this.un.subarray(b,d)},this.AS&&{AF:this.AS.subarray(b,d+1),TF:this.jqa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],d=0;d<this.length;++d)b.push(a(this.get(d),d,this));return b;};a.prototype.reduce=function(a,b){for(var d=0;d<this.length;++d)b=a(b,this.get(d),d,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.Z1};};a.prototype.dump=function(){var b;q.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.Z1+"ms");for(var a=0;a<this.length;++a){b=this.get(a);q.trace("TrackFragments: "+a+": ["+b.U+"-"+b.ga+"]");}};a.prototype.xXa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.un[b],a);return this.soa=a;};return a;}();c.Bma=a;c.Faa=b;a.prototype.jGa=b(a.prototype.rh);c.dLb=function(a){return"["+Array(a.length).map(function(b,d){return a[d].toString();}).join(",")+"]";};},function(g){function c(a){this.e3=a;this.Oe=[];this.Cn=!1;this.Cy=void 0;this.Kh={};}c.prototype.zS=function(a){this.Oe.length===this.e3&&this.Oe.shift();Array.isArray(a)?this.Oe=this.Oe.concat(a):this.Oe.push(a);this.Cn=!0;};c.prototype.vE=function(){return this.Oe.length;};c.prototype.l5=function(){var a;a=this.Oe;return 0<a.length?a.reduce(function(a,f){return a+f;},0)/this.Oe.length:void 0;};c.prototype.YS=function(){var a,b;a=this.Oe;if(0<a.length){b=this.l5();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};c.prototype.Dq=function(a){var b,f,c;if(this.Cn||void 0===this.Cy)this.Cy=this.Oe.slice(0).sort(function(a,b){return a-b;}),this.Kh={},this.Cn=!1;if(void 0===this.Kh[a]){b=this.Cy;f=Math.floor(a/100*(b.length-1)+1)-1;c=(a/100*(b.length-1)+1)%1;this.Kh[a]=f===b.length-1?b[f]:b[f]+c*(b[f+1]-b[f]);}return this.Kh[a];};g.P=c;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(838);c.xe=g.xe;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);c.C4=function(a,c,g){var d,f;d=!0;g.forEach(function(k){var g;if(d&&a===k.profile){g=k.ranges;d=b.T(g)?c>=k.min&&c<=k.max:g.some(function(a){return c>=a.min&&c<=a.max;});!d&&k.disallowed&&k.disallowed.some(function(a){if(a.stream.bitrate===c)return f=a.disallowedBy,!0;});}});return{inRange:d,PD:f};};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(0);g.__exportStar(a(228),c);g.__exportStar(a(397),c);g.__exportStar(a(843),c);g.__exportStar(a(842),c);},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qja="ManifestVerifyErrorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Fma="TrickPlayFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cma="TrackStreamFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.vla="PlayerTextTrackFactorySymbol";},function(g,c){function a(a,f){this.log=a;this.wZ=f;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.kHa=function(a,f){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+f.type+" track - "+f.ab),[];a=a.map(function(a){var d;d=b.wZ(f,f.type,a.UD,a.R,a.Bc,a.size,b.Peb(a.fd),a.wD,a.Cva/a.Bva,a.xp);d.Cwb(a.sEa,a.rEa,a.FCa,a.ECa);d.bwb(a.Tsa,a.Usa,a.Ssa,a.Rsa);f.Ek&&(d.Ek=f.Ek);a.wD&&(d.wf=a.wD);return d;});a.sort(function(a,b){return a.R-b.R;});return a;};a.prototype.Peb=function(a){return a.reduce(function(a,b){a[b.Hra]=b.url;return a;},{});};c.SP=a;},function(g,c,a){var b,f,m;b=a(233);f=a(114);c=a(51);m=a(864);a=c(function(a,d){return 1===a?f(d):b(a,m(a,[],d));});g.P=a;},function(g){g.P=function(c,a){for(var b=0,f=a.length,g=Array(f);b<f;)g[b]=c(a[b]),b+=1;return g;};},function(g,c,a){var b,f,m,q,d;c=a(114);b=a(235);f=a(867);m=!{toString:null}.propertyIsEnumerable("toString");q="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");d=function(){return arguments.propertyIsEnumerable("length");}();a=c("function"!==typeof Object.keys||d?function(a){var c,k,g,h;if(Object(a)!==a)return[];g=[];k=d&&f(a);for(c in a)!b(c,a)||k&&"length"===c||(g[g.length]=c);if(m)for(k=q.length-1;0<=k;){c=q[k];if(h=b(c,a)){a:{for(h=0;h<g.length;){if(g[h]===c){h=!0;break a;}h+=1;}h=!1;}h=!h;}h&&(g[g.length]=c);--k;}return g;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.P=a;},function(g){g.P={Sb:function(){return this.WO["@@transducer/init"]();},result:function(c){return this.WO["@@transducer/result"](c);}};},function(g){g.P=Array.isArray||function(c){return null!=c&&0<=c.length&&"[object Array]"===Object.prototype.toString.call(c);};},function(g,c,a){var b,f;b=a(408);f=a(874);g.P=function(a,c,d){return function(){var k,g;if(0===arguments.length)return d();k=Array.prototype.slice.call(arguments,0);g=k.pop();if(!b(g)){for(var m=0;m<a.length;){if("function"===typeof g[a[m]])return g[a[m]].apply(g,k);m+=1;}if(f(g))return c.apply(null,k)(g);}return d.apply(this,arguments);};};},function(g,c,a){var b,f,m,q,d,k;c=a(51);b=a(409);f=a(873);m=a(411);q=a(234);d=a(868);k=a(406);a=c(b(["filter"],d,function(a,b){return m(b)?q(function(d,f){a(b[f])&&(d[f]=b[f]);return d;},{},k(b)):f(a,b);}));g.P=a;},function(g){g.P=function(c){return"[object Object]"===Object.prototype.toString.call(c);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Oja="ManifestProviderConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Mja="ManifestEncoderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pja="ManifestParserFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Nga="CDMAttestedDescriptorStore";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Iga="BookmarkConfigParserSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jga="BookmarkConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Eha="DiskStorageRegistrySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zja="MemoryStorageSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.sja="LocalStorageSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.eha="CorruptedStorageValidatorConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.E1="Storage";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.OP="IndexedDBConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cla="PresentationAPISymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Sja="MediaCapabilitiesLogHelperSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tja="MediaCapabilitiesSymbol";},function(g,c,a){var f,m,q;function b(a,b){var d;d=m.kP.call(this,a,b,f.zH.Audio)||this;d.config=a;d.iba=b;d.type=f.Fx.Kx;return d;}Object.defineProperty(c,"__esModule",{value:!0});f=a(31);m=a(429);q=a(60);a(134);new(a(98)).hy();da(b,m.kP);b.prototype.aO=function(){return Promise.resolve(!1);};b.prototype.bz=function(){var a;a={};a[q.Qi.EP]="mp4a.40.2";a[q.Qi.iOa]="mp4a.40.2";a[q.Qi.a0]="mp4a.40.5";a[q.Qi.FP]="mp4a.40.2";this.config().o7&&(a[q.Qi.mP]="ec-3");this.config().n7&&(a[q.Qi.v_]="ec-3");this.config().EK&&(a[q.Qi.nP]="ec-3");return a;};b.prototype.Uwa=function(){return this.config().sJ;};c.C_=b;b.BG="audio/mp4;codecs={0};";},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.Ah=a;a.tia=/^hevc-main/;a.sia=/^hevc-hdr-|hevc-dv/;a.Mr=/^hevc-hdr-/;a.Jr=/^hevc-dv/;a.xB=/-h264mpl/;a.cH=/-h264mpl30/;a.yB=/-h264mpl31/;a.kB=/-h264hpl/;a.bv=/^vp9-/;a.ji=/^av1-/;a.XO=/^heaac-2-/;a.DFb=/^heaac-2hq-dash/;a.vLa=/ddplus-2/;a.wLa=/ddplus-5/;a.xLa=/ddplus-atmos/;},function(g,c,a){var f,m,q;function b(a,b,c){this.config=a;this.iba=b;this.M=c;this.jba={};this.jba[f.zH.Audio]="audio";this.jba[f.zH.Sma]="video";}Object.defineProperty(c,"__esModule",{value:!0});f=a(31);g=a(98);m=a(428);q=new g.hy().format;b.prototype.fxa=function(){return this.F$a(this.Uwa());};b.prototype.Vs=function(a){return this.iba.isTypeSupported(a);};b.prototype.dwa=function(){return[m.Ah.XO,m.Ah.xB];};b.prototype.z$=function(){this.Sl=[];this.Ip=[];this.config().iCa&&this.Ip.push(m.Ah.tia);this.config().hCa&&this.Ip.push(m.Ah.sia);this.config().NM&&this.Ip.push(m.Ah.kB);this.config().jCa&&this.Ip.push(m.Ah.bv);this.config().gCa&&this.Ip.push(m.Ah.ji);this.Ip=this.Ip.concat(this.dwa());!this.config().o7&&this.Sl.push(m.Ah.vLa);!this.config().n7&&this.Sl.push(m.Ah.wLa);!this.config().EK&&this.Sl.push(m.Ah.xLa);!this.config().abb&&this.Sl.push(/prk$/);this.config().iCa||this.config().Qab||this.Sl.push(m.Ah.tia);this.config().hCa||this.config().q7||this.Sl.push(m.Ah.sia);this.config().NM||this.config().ZT||this.Sl.push(m.Ah.kB);this.config().jCa||this.config().fbb||this.Sl.push(m.Ah.bv);this.config().gCa||this.config().Lab||this.Sl.push(m.Ah.ji);};b.prototype.lU=function(a){var b;b=this;a=a.filter(function(a){for(var d=Q(b.Ip),f=d.next();!f.done;f=d.next())if(f.value.test(a))return!0;d=Q(b.Sl);for(f=d.next();!f.done;f=d.next())if(f.value.test(a))return!1;a=b.Qca[a];f="";if(a)return Array.isArray(a)&&(f=1<a.length?" "+a[1]:"",a=a[0]),a=q("{0}/mp4;codecs={1};{2}",b.jba[b.M],a,f),b.Vs(a);});return Promise.resolve(a);};b.prototype.F$a=function(a){var b;b={};this.z$();return this.lU(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};pa.Object.defineProperties(b.prototype,{Qca:{configurable:!0,enumerable:!0,get:function(){this.dpa||(this.dpa=this.bz());return this.dpa;}}});c.kP=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aga={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Uga="CapabilityDetectorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.fia="ExtraPlatformInfoProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wga="CdnThroughputTracker";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.zma="ThroughputTrackerConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dha="DiagnosticsFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dma="TransitionLoggerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tma="VideoPlayerFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.tla="PlaybackFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ema="SegmentConfigFactorySymbol";},function(g,c,a){var f;function b(a,b,d,f,c,g){this.level=a;this.rl=b;this.timestamp=d;this.message=f;this.od=c;this.index=void 0===g?0:g;this.MPa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(c,"__esModule",{value:!0});f=a(4);b.prototype.tZ=function(a,b){var d;d=""+this.message;this.od.forEach(function(f){d+=f.bB(a,b);});return(this.timestamp.da(f.ja)/1E3).toFixed(3)+"|"+this.index+"|"+(this.MPa[this.level]||this.level)+"|"+this.rl+"| "+d;};c.wja=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.uha="DebouncerFactorySymbol";},function(g,c,a){var f,m;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(454);a=a(1);b.prototype.create=function(){return new f.lk();};m=b;m=g.__decorate([a.N()],m);c.INa=m;c.wP="EventSourceFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.wP="EventSourceFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jma="UserAgentUtilities";},function(g,c,a){var f,m,q;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(5);m=a(17);q=a(11);b.prototype.mp=function(){return this.Cjb()?q.ZMa:/widevine/i.test(this.config().Rd)?q.Kha:/fps/i.test(this.config().Rd)?"fairplay":q.I_;};b.prototype.Cjb=function(){return/clearkey/i.test(this.config().Rd);};pa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.K||(this.K=f.$.get(m.sd));return this.K;}}});c.Uja=new b();},function(g,c,a){var f,m,q,d;function b(a,b,d,f,c,g,h){this.debug=a;this.config=b;this.platform=d;this.AAa=f;this.debug.assert(c&&c!=m.I.qk,"There should always be a specific error code");this.errorCode=c||m.I.qk;g&&q.jf(g)?(this.ba=g.ba||g.Pc,this.Pd=g.Pd||g.Qg,this.B7=g.B7||g.XD,this.kb=g.kb||g.ND,this.fz=g.A7,this.cE=g.cE||g.ZAa||g.br,this.eU=g.eU||g.data,g.iM&&(this.iM=g.iM),this.Ci=g.Ci,this.method=g.method,this.fX=g.fX,this.alert=g.alert,this.u4=g.u4,this.debug.assert(!this.Ci||this.Ci==this.Pd)):(this.ba=g,this.Pd=h);this.stack=[this.errorCode];this.ba?this.stack.push(this.ba):this.Pd&&this.stack.push(m.G.qk);this.Pd&&this.stack.push(this.Pd);this.NT=this.platform.dE+this.stack.join("-");}Object.defineProperty(c,"__esModule",{value:!0});f=a(11);m=a(2);q=a(20);d=a(16);a(19);b.prototype.toString=function(){var a;a="[PlayerError #"+this.NT+"]";this.kb&&(a+=" "+this.kb);this.fz&&(a+=" (CustomMessage: "+this.fz+")");return a;};b.prototype.zfa=function(){var a,b;this.fz&&(a=["streaming_error"]);a||this.AAa.mp()!==f.I_||("80080017"==this.Pd&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Pd&&(a=["pause_timeout"]));a||this.AAa.mp()!==f.Kha||this.errorCode!==m.I.Qha&&this.errorCode!==m.I.Pha||(a=["no_cdm","platform_error","plugin_error"]);this.hkb()&&(a=["received_soad"]);b=this.meb();b&&(a=[b],this.fz=void 0);if(!a)switch(this.errorCode){case m.I.bQ:case m.I.MP:case m.I.TIa:case m.I.Gka:a=["pause_timeout"];break;case m.I.Zia:case m.I.$ia:a=this.ba?["platform_error"]:["multiple_tabs"];break;case m.I.QPa:case m.I.hVa:case m.I.kPa:case m.I.jPa:case m.I.mPa:a=["should_signout_and_signin"];break;case m.I.B0:case m.I.Jka:case m.I.Ika:case m.I.i1:case m.I.zSa:a=["platform_error","plugin_error"];break;case m.I.JSa:a=["no_cdm","platform_error","plugin_error"];break;case m.I.g1:a=this.ba?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case m.I.vP:case m.I.dQ:case m.I.Kka:switch(this.Pd){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case m.I.Hka:case m.I.f1:a=["unsupported_output"];}!a&&m.GNa(this.ba)&&(a=this.ba==m.G.lH?["geo"]:["internet_connection_problem"]);if(!a)switch(this.uGa(this.ba)){case m.G.P1:a=["should_upgrade"];break;case m.G.zka:a=["should_reset_device"];break;case m.G.yka:a=["should_reload_device"];break;case m.G.xka:a=["should_exit_device"];break;case m.G.DRa:case m.G.Kja:a=["should_signout_and_signin"];break;case m.G.ERa:a=["internet_connection_problem"];break;case m.G.Nka:case m.G.Lka:case m.G.Oka:case m.G.Mka:case m.G.kha:a=["platform_error","plugin_error"];break;case m.G.x_:case m.G.Eia:case m.G.Fia:a=["private_mode"];}a=a||[];a.push(this.platform.dE+this.errorCode);if(this.ba)switch(this.uGa(this.ba)){case m.G.Aka:a.push("incorrect_pin");break;default:a.push(""+this.ba);}a={display:{code:this.NT,text:this.fz},messageIdList:a,alert:this.alert,alertTag:this.u4};if(this.cE||this.ZAa)a.mslErrorCode=this.cE||this.ZAa||this.br;return a;};b.prototype.uGa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.hkb=function(){var a;a=d.ka(this.Pd)?this.Pd.toString():d.ce(this.Pd)?this.Pd:"";return this.cE===m.T0.M1&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.meb=function(){if(this.errorCode===m.I.Sx&&(this.ba===m.G.e1||this.ba===m.G.wka))return this.neb(this.ba===m.G.e1);};b.prototype.neb=function(a){var b,d,f;b=(this.config().browserInfo||{}).os||{};d=b.name;f=(b.version||"").split(".");b=parseInt(f&&f[0]);f=parseInt(f&&f[1]);switch(d){case"Windows":return 6>b||6===b&&1>f?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>f?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};c.VTa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ima="UrlFactorySymbol";},function(g,c,a){var f;function b(a){this.hZa=void 0===a?!1:a;this.Kd={0:[]};}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.add=function(a,b){var d;b=void 0===b?0:b;d=this.Kd[b];d?this.hZa&&-1!==d.indexOf(a)||d.push(a):this.Kd[b]=[a];};b.prototype.remove=function(a,b){this.ws(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.ws(a);};b.prototype.lw=function(){var a;a=this;return Object.keys(this.Kd).sort().reduce(function(b,d){return b.concat(a.Kd[d]);},[]);};b.prototype.ws=function(a,b){var d;d=this;Object.keys(this.Kd).forEach(function(f){var c;if(void 0===b||b===parseInt(f)){f=d.Kd[f];-1<(c=f.indexOf(a))&&f.splice(c,1);}});};f=b;f=g.__decorate([a.N()],f);c.Dla=f;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.MGb=function(){};c.dka="MseConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.yha="DecoderTimeoutPathologistSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.hha="CsvEncoderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.lma="StringUtilsSymbol";},function(g,c,a){(function(b){var V,ja,M,na,sa,N;function f(a,b){var d;d={Wda:[],vj:q};3<=arguments.length&&(d.depth=arguments[2]);4<=arguments.length&&(d.sD=arguments[3]);H(b)?d.Fea=b:b&&c.vYa(d,b);n(d.Fea)&&(d.Fea=!1);n(d.depth)&&(d.depth=2);n(d.sD)&&(d.sD=!1);n(d.Ysa)&&(d.Ysa=!0);d.sD&&(d.vj=g);return k(d,a,d.depth);}function g(a,b){return(b=f.byb[b])?"\u001b["+f.sD[b][0]+"m"+a+"\u001b["+f.sD[b][1]+"m":a;}function q(a){return a;}function d(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function k(a,b,f){var g,m,q,h,H;if(a.Ysa&&b&&O(b.EL)&&b.EL!==c.EL&&(!b.constructor||b.constructor.prototype!==b)){g=b.EL(f,a);l(g)||(g=k(a,g,f));return g;}if(g=p(a,b))return g;m=Object.keys(b);q=d(m);a.Fea&&(m=Object.getOwnPropertyNames(b));if(R(b)&&(0<=m.indexOf("message")||0<=m.indexOf("description")))return t(b);if(0===m.length){if(O(b))return a.vj("[Function"+(b.name?": "+b.name:"")+"]","special");if(T(b))return a.vj(RegExp.prototype.toString.call(b),"regexp");if(C(b))return a.vj(Date.prototype.toString.call(b),"date");if(R(b))return t(b);}g="";h=!1;H=["{","}"];x(b)&&(h=!0,H=["[","]"]);O(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");T(b)&&(g=" "+RegExp.prototype.toString.call(b));C(b)&&(g=" "+Date.prototype.toUTCString.call(b));R(b)&&(g=" "+t(b));if(0===m.length&&(!h||0==b.length))return H[0]+g+H[1];if(0>f)return T(b)?a.vj(RegExp.prototype.toString.call(b),"regexp"):a.vj("[Object]","special");a.Wda.push(b);m=h?u(a,b,f,q,m):m.map(function(d){return y(a,b,f,q,d,h);});a.Wda.pop();return B(m,g,H);}function p(a,b){if(n(b))return a.vj("undefined","undefined");if(l(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.vj(b,"string");if(G(b))return a.vj(""+b,"number");if(H(b))return a.vj(""+b,"boolean");if(null===b)return a.vj("null","null");}function t(a){return"["+Error.prototype.toString.call(a)+"]";}function u(a,b,d,f,c){for(var g=[],k=0,p=b.length;k<p;++k)Object.prototype.hasOwnProperty.call(b,String(k))?g.push(y(a,b,d,f,String(k),!0)):g.push("");c.forEach(function(c){c.match(/^\d+$/)||g.push(y(a,b,d,f,c,!0));});return g;}function y(a,b,d,f,c,g){var p,m;b=Object.getOwnPropertyDescriptor(b,c)||{value:b[c]};b.get?m=b.set?a.vj("[Getter/Setter]","special"):a.vj("[Getter]","special"):b.set&&(m=a.vj("[Setter]","special"));Object.prototype.hasOwnProperty.call(f,c)||(p="["+c+"]");m||(0>a.Wda.indexOf(b.value)?(m=null===d?k(a,b.value,null):k(a,b.value,d-1),-1<m.indexOf("\n")&&(m=g?m.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+m.split("\n").map(function(a){return"   "+a;}).join("\n"))):m=a.vj("[Circular]","special"));if(n(p)){if(g&&c.match(/^\d+$/))return m;p=JSON.stringify(""+c);p.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(p=p.substr(1,p.length-2),p=a.vj(p,"name")):(p=p.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),p=a.vj(p,"string"));}return p+": "+m;}function B(a,b,d){var f;f=0;return 60<a.reduce(function(a,b){f++;0<=b.indexOf("\n")&&f++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?d[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+d[1]:d[0]+b+" "+a.join(", ")+" "+d[1];}function x(a){return Array.isArray(a);}function H(a){return"boolean"===typeof a;}function G(a){return"number"===typeof a;}function l(a){return"string"===typeof a;}function n(a){return void 0===a;}function T(a){return U(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function U(a){return"object"===typeof a&&null!==a;}function C(a){return U(a)&&"[object Date]"===Object.prototype.toString.call(a);}function R(a){return U(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function O(a){return"function"===typeof a;}function r(a){return 10>a?"0"+a.toString(10):a.toString(10);}function ba(){var a,b;a=new Date();b=[r(a.getHours()),r(a.getMinutes()),r(a.getSeconds())].join(":");return[a.getDate(),sa[a.getMonth()],b].join(" ");}function ca(a,b){var d;if(!a){d=Error("Promise was rejected with a falsy value");d.reason=a;a=d;}return b(a);}V=Object.RNb||function(a){for(var b=Object.keys(a),d={},f=0;f<b.length;f++)d[b[f]]=Object.getOwnPropertyDescriptor(a,b[f]);return d;};ja=/%[sdj%]/g;c.format=function(a){if(!l(a)){for(var b=[],d=0;d<arguments.length;d++)b.push(f(arguments[d]));return b.join(" ");}for(var d=1,c=arguments,g=c.length,b=String(a).replace(ja,function(a){if("%%"===a)return"%";if(d>=g)return a;switch(a){case"%s":return String(c[d++]);case"%d":return Number(c[d++]);case"%j":try{return JSON.stringify(c[d++]);}catch(lb){return"[Circular]";}default:return a;}}),k=c[d];d<g;k=c[++d])b=null!==k&&U(k)?b+(" "+f(k)):b+(" "+k);return b;};c.r$a=function(a,d){var f;if("undefined"!==typeof b&&!0===b.SPb)return a;if("undefined"===typeof b)return function(){return c.r$a(a,d).apply(this,arguments);};f=!1;return function(){if(!f){if(b.ERb)throw Error(d);b.HRb?console.trace(d):console.error(d);f=!0;}return a.apply(this,arguments);};};M={};c.BMb=function(a){var d;n(na)&&(na=b.Vbb.fHb||"");a=a.toUpperCase();if(!M[a])if(new RegExp("\\b"+a+"\\b","i").test(na)){d=b.sQb;M[a]=function(){var b;b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b);};}else M[a]=function(){};return M[a];};c.EL=f;f.sD={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.byb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};c.isArray=x;c.Ajb=H;c.Ia=function(a){return null===a;};c.HOb=function(a){return null==a;};c.ka=G;c.ce=l;c.MOb=function(a){return"symbol"===typeof a;};c.T=n;c.Lya=T;c.jf=U;c.HL=C;c.XV=R;c.Nb=O;c.Iya=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};c.isBuffer=a(952);sa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");c.log=function(){console.log("%s - %s",ba(),c.format.apply(c,arguments));};c.bjb=a(951);c.vYa=function(a,b){if(b&&U(b))for(var d=Object.keys(b),f=d.length;f--;)a[d[f]]=b[d[f]];};h();h();N="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;c.ssb=function(a){function b(){for(var b,d,f=new Promise(function(a,f){b=a;d=f;}),c=[],g=0;g<arguments.length;g++)c.push(arguments[g]);c.push(function(a,f){a?d(a):b(f);});try{a.apply(this,c);}catch(lb){d(lb);}return f;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(N&&a[N]){b=a[N];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,N,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));N&&Object.defineProperty(b,N,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,V(a));};c.ssb.kMb=N;c.ILb=function(a){function d(){var g,k;function d(){return g.apply(k,arguments);}for(var f=[],c=0;c<arguments.length;c++)f.push(arguments[c]);g=f.pop();if("function"!==typeof g)throw new TypeError("The last argument must be of type Function");k=this;a.apply(this,f).then(function(a){b.kBa(d,null,a);},function(a){b.kBa(ca,a,d);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(d,Object.getPrototypeOf(a));Object.defineProperties(d,V(a));return d;};}.call(this,a(247)));},function(g,c,a){var f,m;function b(){this.Am={};this.id="$es$"+f.cK++;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.addListener=function(a,b,f){var d,c;d="$netflix$player$order"+this.id+"$"+a;if(this.Am){c=this.Am[a]?this.Am[a].slice():[];f&&(b[d]=f);0>c.indexOf(b)&&(c.push(b),c.sort(function(a,b){return(a[d]||0)-(b[d]||0);}));this.Am[a]=c;}};b.prototype.removeListener=function(a,b){if(this.Am&&this.Am[a]){for(var d=this.Am[a].slice(),f;0<=(f=d.indexOf(b));)d.splice(f,1);this.Am[a]=d;}};b.prototype.Mb=function(a,b,f){var d;if(this.Am){d=this.P8(a);for(a={jj:0};a.jj<d.length;a={jj:a.jj},a.jj++)f?function(a){return function(){var f;f=d[a.jj];setTimeout(function(){f(b);},0);};}(a)():d[a.jj].call(this,b);}};b.prototype.Ng=function(){this.Am=void 0;};b.prototype.on=function(a,b,f){this.addListener(a,b,f);};b.prototype.P8=function(a){return this.Am&&(this.Am[a]||(this.Am[a]=[]));};m=f=b;m.cK=0;m=f=g.__decorate([a.N()],m);c.lk=m;},function(g,c,a){var f,m,q,d;function b(a,b){this.is=a;this.Oh=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a(2);m=a(22);q=a(100);d=a(9);b.prototype.Mm=function(a,b,d){var f,c,g,k;f=this;if(b)if(d){c=d.VE;g=d.prefix;k=d.du;this.gw(b,function(b,d){if(!k||f.is.Nd(d))a[(g||"")+(c?b.toLowerCase():b)]=d;});}else this.gw(b,function(b,d){a[b]=d;});return a;};b.prototype.gw=function(a,b){for(var d in a)a.hasOwnProperty(d)&&b(d,a[d]);};b.prototype.Vv=function(a,b){if(a.length==b.length){for(var d=a.length;d--;)if(a[d]!=b[d])return!1;return!0;}return!1;};b.prototype.C6a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var d=a.length;d--;)if(a[d]!==b[d])return!1;return!0;};b.prototype.Re=function(a){var b,d,f;if(a){b=a.stack;d=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;d&&(a+="\nnumber:"+d);return a;}};b.prototype.bua=function(a,b){var d,f;a=a.target.keyStatuses.entries();for(d=a.next();!d.done;)f=d.value[0],d=d.value[1],b&&b(f,d),d=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.$va=function(a){return this.getFunctionName(a.constructor);};b.prototype.JBa=function(a){var b,d;b=this;d="";this.is.Ks(a)||this.is.uqa(a)?d=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.mm(a)?d=a:this.gw(a,function(a,f){d+=(d?", ":"")+"{"+a+": "+(b.is.tS(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.$va(a)+" "+d+"]";};b.prototype.createElement=function(a,b,f,c){var g;g=d.je.createElement(a);b&&(g.style.cssText=b);f&&(g.innerHTML=f);c&&this.gw(c,function(a,b){g.setAttribute(a,b);});return g;};b.prototype.Dcb=function(a,b){return function(d){return d[a]===b;};};b.prototype.CX=function(a){var b;b={};(a||"").split("&").forEach(function(a){var d;a=a.trim();d=a.indexOf("=");0<=d?b[decodeURIComponent(a.substr(0,d)).toLowerCase()]=decodeURIComponent(a.substr(d+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.Ke)),g.__param(1,f.l(q.Gx))],a);c.Kma=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ska="OneWayCounterFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zga="ClockConfigSymbol";},function(g,c){var a;Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.oza=0]="licenseStarted";a[a.PDa=1]="receivedLicenseChallenge";a[a.ODa=2]="receivedLicense";a[a.QDa=3]="receivedRenewalChallengeComplete";a[a.RDa=4]="receivedRenewalLicenseComplete";a[a.SDa=5]="receivedRenewalLicenseFailed";a[a.btb=6]="receivedIndivChallengeComplete";a[a.ctb=7]="receivedIndivLicenseComplete";a[a.$pa=8]="addLicenseComplete";a[a.bqa=9]="addRenewalLicenseComplete";a[a.cqa=10]="addRenewalLicenseFailed";}(a=c.Zp||(c.Zp={})));c.oab=function(b){switch(b){case a.oza:return"lg";case a.PDa:return"lc";case a.ODa:return"lr";case a.QDa:return"renew_lc";case a.RDa:return"renew_lr";case a.SDa:return"renew_lr_failed";case a.btb:return"ilc";case a.ctb:return"ilr";case a.$pa:return"ld";case a.bqa:return"renew_ld";case a.cqa:return"renew_ld_failed";default:return"unknown";}};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.PWa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";c.gia="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.$ha="EmeSessionFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Iha="DrmProviderSymbol";},function(g,c,a){var b;b=a(102);c.Fya=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,c,a){var b,f,m,q,d,k;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(468);m=a(102);g=a(77);q=a(76);c.jA=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&m.isArray(a[0])&&(a=a[0]);return function(b){return b.sg(new d(a));};};c.xpb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&m.isArray(a[0])&&(a=a[0]);b=a.shift();return new f.mia(b,null).sg(new d(a));};d=function(){function a(a){this.Eba=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Eba));};return a;}();k=function(a){function d(b,d){a.call(this,b);this.destination=b;this.Eba=d;}b(d,a);d.prototype.Kba=function(){this.mZ();};d.prototype.Nl=function(){this.mZ();};d.prototype.Vd=function(){this.mZ();};d.prototype.uc=function(){this.mZ();};d.prototype.mZ=function(){var a;a=this.Eba.shift();a?this.add(q.yu(this,a)):this.destination.complete();};return d;}(g.Ur);},function(g,c){c.HL=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,c,a){var b,f,m,q;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(76);g=a(77);c.bF=function(a,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return function(d){"number"===typeof b&&(f=b,b=null);return d.sg(new m(a,b,f));};};m=function(){function a(a,b,d){void 0===d&&(d=Number.POSITIVE_INFINITY);this.Vg=a;this.Tk=b;this.R5=d;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.Vg,this.Tk,this.R5));};return a;}();c.KGb=m;q=function(a){function d(b,d,f,c){void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b);this.Vg=d;this.Tk=f;this.R5=c;this.BE=!1;this.buffer=[];this.index=this.active=0;}b(d,a);d.prototype.Ih=function(a){this.active<this.R5?this.Z0a(a):this.buffer.push(a);};d.prototype.Z0a=function(a){var b,d;d=this.index++;try{b=this.Vg(a,d);}catch(y){this.destination.error(y);return;}this.active++;this.O2(b,a,d);};d.prototype.O2=function(a,b,d){this.add(f.yu(this,a,b,d));};d.prototype.uc=function(){this.BE=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};d.prototype.hA=function(a,b,d,f){this.Tk?this.e_a(a,b,d,f):this.destination.next(b);};d.prototype.e_a=function(a,b,d,f){var c;try{c=this.Tk(a,b,d,f);}catch(x){this.destination.error(x);return;}this.destination.next(c);};d.prototype.Nl=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Ih(b.shift()):0===this.active&&this.BE&&this.destination.complete();};return d;}(g.Ur);c.LGb=q;},function(g,c,a){var b;b=a(251);c.WJ=function(){return b.Qw(1);};},function(g,c,a){var m,q;function b(a){var b;b=a.value;a=a.Wf;a.closed||(a.next(b),a.complete());}function f(a){var b;b=a.kz;a=a.Wf;a.closed||a.error(b);}m=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};q=a(78);g=function(a){function d(b,d){a.call(this);this.nu=b;this.ha=d;}m(d,a);d.create=function(a,b){return new d(a,b);};d.prototype.ng=function(a){var d,c,g;d=this;c=this.nu;g=this.ha;if(null==g)this.ns?a.closed||(a.next(this.value),a.complete()):c.then(function(b){d.value=b;d.ns=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){q.root.setTimeout(function(){throw a;});});else if(this.ns){if(!a.closed)return g.zb(b,0,{value:this.value,Wf:a});}else c.then(function(f){d.value=f;d.ns=!0;a.closed||a.add(g.zb(b,0,{value:f,Wf:a}));},function(b){a.closed||a.add(g.zb(f,0,{kz:b,Wf:a}));}).then(null,function(a){q.root.setTimeout(function(){throw a;});});};return d;}(a(10).Aa);c.Fla=g;},function(g,c,a){var b,f,m,q,d,k,p,t,u,h,B,x;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(102);m=a(472);q=a(471);d=a(467);k=a(1053);p=a(101);t=a(1052);u=a(178);h=a(10);B=a(477);x=a(256);g=function(a){function c(b,d){a.call(this,null);this.tkb=b;this.ha=d;}b(c,a);c.create=function(a,b){if(null!=a){if("function"===typeof a[x.observable])return a instanceof h.Aa&&!b?a:new c(a,b);if(f.isArray(a))return new p.Cx(a,b);if(q.Jya(a))return new d.Fla(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new k.JPa(a,b);if(m.tya(a))return new t.nJa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};c.prototype.ng=function(a){var b,d;b=this.tkb;d=this.ha;return null==d?b[x.observable]().subscribe(a):b[x.observable]().subscribe(new B.rka(a,d,0));};return c;}(h.Aa);c.mia=g;},function(g,c,a){g=a(468);c.from=g.mia.create;},function(g,c,a){g=a(101);c.of=g.Cx.of;},function(g,c){c.Jya=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,c){c.tya=function(a){return a&&"number"===typeof a.length;};},function(g,c){c.Gqa=function(a,b){var t;for(var f=0,c=b.length;f<c;f++)for(var g=b[f],d=Object.getOwnPropertyNames(g.prototype),k=0,p=d.length;k<p;k++){t=d[k];a.prototype[t]=g.prototype[t];}};},function(g,c){c.SH=function(){return function(a){this.fyb=a;};}();},function(g,c,a){var b;b=a(474);g=function(){function a(){this.$N=[];}a.prototype.Fza=function(){this.$N.push(new b.SH(this.ha.now()));return this.$N.length-1;};a.prototype.Gza=function(a){var f;f=this.$N;f[a]=new b.SH(f[a].fyb,this.ha.now());};return a;}();c.nma=g;},function(g,c,a){var b,f,m,q,d,k,p;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(179);f=a(10);m=a(49);q=a(68);d=a(1065);a=function(a){function f(b,d){a.call(this);this.source=b;this.lZ=d;this.xv=0;this.oq=!1;}b(f,a);f.prototype.ng=function(a){return this.fV().subscribe(a);};f.prototype.fV=function(){var a;a=this.eS;if(!a||a.Bf)this.eS=this.lZ();return this.eS;};f.prototype.connect=function(){var a;a=this.gv;a||(this.oq=!1,a=this.gv=new q.cl(),a.add(this.source.subscribe(new k(this.fV(),this))),a.closed?(this.gv=null,a=q.cl.EMPTY):this.gv=a);return a;};f.prototype.iY=function(){return d.iY()(this);};return f;}(f.Aa);c.$ga=a;a=a.prototype;c.u6a={kA:{value:null},xv:{value:0,writable:!0},eS:{value:null,writable:!0},gv:{value:null,writable:!0},ng:{value:a.ng},oq:{value:a.oq,writable:!0},fV:{value:a.fV},connect:{value:a.connect},iY:{value:a.iY}};k=function(a){function d(b,d){a.call(this,b);this.vm=d;}b(d,a);d.prototype.Vd=function(b){this.Es();a.prototype.Vd.call(this,b);};d.prototype.uc=function(){this.vm.oq=!0;this.Es();a.prototype.uc.call(this);};d.prototype.Es=function(){var a,b;a=this.vm;if(a){this.vm=null;b=a.gv;a.xv=0;a.eS=null;a.gv=null;b&&b.unsubscribe();}};return d;}(g.LVa);(function(){function a(a){this.vm=a;}a.prototype.call=function(a,b){var d;d=this.vm;d.xv++;a=new p(a,d);b=b.subscribe(a);a.closed||(a.bp=d.connect());return b;};return a;}());p=function(a){function d(b,d){a.call(this,b);this.vm=d;}b(d,a);d.prototype.Es=function(){var a,b;a=this.vm;if(a){this.vm=null;b=a.xv;0>=b?this.bp=null:(a.xv=b-1,1<b?this.bp=null:(b=this.bp,a=a.gv,this.bp=null,!a||b&&a!==b||a.unsubscribe()));}else this.bp=null;};return d;}(m.Si);},function(g,c,a){var b,f,m,q,d;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(49);f=a(253);c.YPb=function(a,b){void 0===b&&(b=0);return function(d){return d.sg(new m(a,b));};};m=function(){function a(a,b){void 0===b&&(b=0);this.ha=a;this.Od=b;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.ha,this.Od));};return a;}();c.LHb=m;q=function(a){function c(b,d,f){void 0===f&&(f=0);a.call(this,b);this.ha=d;this.Od=f;}b(c,a);c.Jb=function(a){a.notification.observe(a.destination);this.unsubscribe();};c.prototype.Nda=function(a){this.add(this.ha.zb(c.Jb,this.Od,new d(a,this.destination)));};c.prototype.Ih=function(a){this.Nda(f.Notification.g6(a));};c.prototype.Vd=function(a){this.Nda(f.Notification.Gsa(a));};c.prototype.uc=function(){this.Nda(f.Notification.c6());};return c;}(g.Si);c.rka=q;d=function(){return function(a,b){this.notification=a;this.destination=b;};}();c.KHb=d;},function(g,c,a){var b,f,m,q,d,k,p;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(179);f=a(1070);m=a(68);q=a(477);d=a(480);k=a(479);a=function(a){function c(b,d,f){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this);this.ha=f;this.Gg=[];this.vXa=1>b?1:b;this.q1a=1>d?1:d;}b(c,a);c.prototype.next=function(b){var d;d=this.aoa();this.Gg.push(new p(d,b));this.Fpa();a.prototype.next.call(this,b);};c.prototype.ng=function(a){var b,f,c;b=this.Fpa();f=this.ha;if(this.closed)throw new d.MB();this.qL?c=m.cl.EMPTY:this.Bf?c=m.cl.EMPTY:(this.bu.push(a),c=new k.mma(this,a));f&&a.add(a=new q.rka(a,f));for(var f=b.length,g=0;g<f&&!a.closed;g++)a.next(b[g].value);this.qL?a.error(this.sfa):this.Bf&&a.complete();return c;};c.prototype.aoa=function(){return(this.ha||f.ph).now();};c.prototype.Fpa=function(){for(var a=this.aoa(),b=this.vXa,d=this.q1a,f=this.Gg,c=f.length,g=0;g<c&&!(a-f[g].time<d);)g++;c>b&&(g=Math.max(g,c-b));0<g&&f.splice(0,g);return f;};return c;}(g.Hj);c.lQ=a;p=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,d){a.call(this);this.ZN=b;this.Wf=d;this.closed=!1;}b(f,a);f.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.ZN;b=a.bu;this.ZN=null;!b||0===b.length||a.Bf||a.closed||(a=b.indexOf(this.Wf),-1!==a&&b.splice(a,1));}};return f;}(a(68).cl);c.mma=g;},function(g,c){var a;a=this&&this.__extends||function(a,f){function b(){this.constructor=a;}for(var c in f)f.hasOwnProperty(c)&&(a[c]=f[c]);a.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b());};g=function(b){function f(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(f,b);return f;}(Error);c.MB=g;},function(g,c){c.hw={e:{}};},function(g,c){c.Nb=function(a){return"function"===typeof a;};},function(g,c){c.jf=function(a){return null!=a&&"object"===typeof a;};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ika="NetworkMonitorConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.v1="QueryStringDataProviderSymbol";},function(g,c,a){var f,m;function b(a,b,f,c,g){this.version=a;this.vF=b;this.pGa=f;this.uj=c;this.xr=g;this.Cq=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);m=a(46);b.prototype.load=function(a){return this.tlb(a);};b.prototype.add=function(a){this.Cq.push(a);return this.kca();};b.prototype.remove=function(a,b){a=this.Vva(this.lp(a,b));return 0<=a?(this.Cq.splice(a,1),this.kca()):Promise.resolve();};b.prototype.update=function(a,b){b=this.Vva(this.lp(a,b));return 0<=b?(this.Cq[b]=a,this.kca()):Promise.resolve();};b.prototype.tlb=function(a){var b;b=this;this.vza||(this.vza=new Promise(function(d,c){function g(a){b.n$a().then(function(){c(a);})["catch"](function(){c(a);});}b.w9().then(function(a){b.storage=a;return b.storage.load(b.vF);}).then(function(f){var c;f=f.value;try{c=a(f);b.version=c.version;b.Cq=c.data;d();}catch(B){g(B);}})["catch"](function(a){a.ba!==f.G.av?c(a):d();});}));return this.vza;};b.prototype.kca=function(){var a,b,f,c,g;a=this;if(!this.pGa)return Promise.resolve();if(this.iZ){c=new Promise(function(a,d){b=a;f=d;});g=function(){a.iZ=c;a.oGa().then(function(){b();})["catch"](function(a){f(a);});};this.iZ.then(g)["catch"](g);return c;}return this.iZ=this.oGa();};b.prototype.oGa=function(){var a,d;a=this;d=this.xr();return new Promise(function(c,g){a.w9().then(function(b){return b.save(a.vF,d,!1);}).then(function(){c();})["catch"](function(a){g(b.azb(f.I.wSa,a));});});};b.prototype.n$a=function(){var a;a=this;return this.pGa?new Promise(function(b,f){a.w9().then(function(b){return b.remove(a.vF);}).then(function(){b();})["catch"](function(a){f(a);});}):Promise.resolve();};b.prototype.w9=function(){return this.storage?Promise.resolve(this.storage):this.uj.create();};b.prototype.lp=function(a,b){for(var d=0;d<this.Cq.length;++d)if(b(this.Cq[d],a))return this.Cq[d];};b.prototype.Vva=function(a){return a?this.Cq.indexOf(a):-1;};b.azb=function(a,b){var d;if(b.ba&&b.cause)return new m.qc(a,b.ba,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.Pc){d=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===d?void 0:d;return b;}return b instanceof Error?new m.qc(a,f.G.Bh,void 0,void 0,void 0,void 0,b.stack,b):new m.qc(a,f.G.qk,void 0,void 0,void 0,void 0,void 0,b);};c.aja=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Hha="DrmDataFactorySymbol";},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.cP=a;a.$Sa="PSK";a.xQa="MGK";a.xGb="MGK_WITH_FALLBACK";a.wGb="MGK_JWE";a.eGb="JWEJS_RSA";a.ija="JWK_RSA";a.fGb="JWK_RSAES";},function(g,c,a){var m;function b(a,b){this.Ye=b;this.Ut=Math.floor(a);this.display=this.Ut+" "+this.Ye.name;}function f(a,b,f){this.Ye=a;this.name=b;this.qm=f?f:this;m.Lm(this,"base");}Object.defineProperty(c,"__esModule",{value:!0});m=a(53);f.prototype.KK=function(a){return this.Ye==a.Ye;};f.prototype.toJSON=function(){return this.name;};c.wQ=f;b.prototype.da=function(a){return this.Ye.KK(a)?this.Ut:Math.floor(this.Ut*this.Ye.Ye/a.Ye);};b.prototype.QX=function(a){return this.Ye.KK(a)?this.Ut:this.Ut*this.Ye.Ye/a.Ye;};b.prototype.to=function(a){return new b(this.da(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.Ut,units:this.Ye.name};};b.prototype.add=function(a){return this.jsa(a);};b.prototype.Fd=function(a){return this.jsa(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.da(this.Ye.qm)*a,this.Ye.qm);};b.prototype.ul=function(a){return this.da(this.Ye.qm)-a.da(this.Ye.qm);};b.prototype.KK=function(a){return 0==this.ul(a);};b.prototype.Uya=function(){return 0==this.Ut;};b.prototype.Dya=function(){return 0>this.Ut;};b.prototype.Yjb=function(){return 0<this.Ut;};b.prototype.jsa=function(a,d){d=void 0===d?function(a){return a;}:d;return new b(this.da(this.Ye.qm)+d(a.da(this.Ye.qm)),this.Ye.qm);};c.cq=b;},function(g,c,a){var m;function b(a){return function(b){function d(d){return null!==d&&null!==d.target&&d.target.Qaa(a)(b);}d.GAa=new m.Metadata(a,b);return d;};}function f(a,b){a=a.fu;return null!==a?b(a)?!0:f(a,b):!1;}Object.defineProperty(c,"__esModule",{value:!0});g=a(35);m=a(65);c.qHa=f;c.GGa=b;c.dBa=b(g.Wu);c.xHa=function(a){return function(b){var d;return null!==b?(d=b.AJ[0],"string"===typeof a?d.Xe===a:a===b.AJ[0].Uj):!1;};};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(263);f=a(262);g=function(){function a(a){this.Fb=a;this.fI=new f.j_(this.Fb);this.b2=new b.fP(this.Fb);}a.prototype.when=function(a){return this.fI.when(a);};a.prototype.RO=function(){return this.fI.RO();};a.prototype.cr=function(a){return this.b2.cr(a);};return a;}();c.Hx=g;},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);f=a(104);m=a(65);q=a(1109);g=function(){function a(a,d,c,g){this.id=f.id();this.type=a;this.Xe=c;this.name=new q.rUa(d||"");this.qd=[];a=null;"string"===typeof g?a=new m.Metadata(b.Wu,g):g instanceof m.Metadata&&(a=g);null!==a&&this.qd.push(a);}a.prototype.Exa=function(a){for(var b=0,d=this.qd;b<d.length;b++)if(d[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.Exa(b.Xx);};a.prototype.wmb=function(a){return this.Qaa(b.Xx)(a);};a.prototype.G$=function(){return this.Exa(b.Wu);};a.prototype.K$=function(){return this.qd.some(function(a){return a.key!==b.pH&&a.key!==b.Xx&&a.key!==b.UP&&a.key!==b.UH&&a.key!==b.Wu;});};a.prototype.Gya=function(){return this.Qaa(b.qka)(!0);};a.prototype.Xfb=function(){return this.G$()?this.qd.filter(function(a){return a.key===b.Wu;})[0]:null;};a.prototype.Ceb=function(){return this.K$()?this.qd.filter(function(a){return a.key!==b.pH&&a.key!==b.Xx&&a.key!==b.UP&&a.key!==b.UH&&a.key!==b.Wu;}):null;};a.prototype.Qaa=function(a){var b;b=this;return function(d){var g;for(var f=0,c=b.qd;f<c.length;f++){g=c[f];if(g.key===a&&g.value===d)return!0;}return!1;};};return a;}();c.rQ=g;},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);f=a(35);m=a(65);q=a(91);g=function(){function a(a){this.HXa=a;}a.prototype.Qzb=function(){return this.HXa();};return a;}();c.J0=g;c.l=function(a){return function(d,c,g){var k;if(void 0===a)throw Error(b.tWa(d.name));k=new m.Metadata(f.pH,a);"number"===typeof g?q.XA(d,c,g,k):q.iO(d,c,k);};};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);c.Oya=function(a){return a instanceof RangeError||a.message===b.$Ua;};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);g=function(){function a(){}a.prototype.Zva=function(a){var f;f=Reflect.getMetadata(b.d1,a);a=Reflect.getMetadata(b.pma,a);return{lsa:f,QAb:a||{}};};a.prototype.vgb=function(a){return Reflect.getMetadata(b.qma,a)||[];};return a;}();c.Q0=g;},function(g,c,a){var b,f,m,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(90);f=a(1090);m=a(261);q=a(1085);d=a(1077);k=a(962);a=a(542);c.bd=new g.lP({RA:!0});k.ulb(c.bd);c.bd.load(f.platform);c.bd.load(q.config);m.CK.load(d.Hab);c.bd.load(a.F2a);c.bd.load(a.profile);c.bd.bind(b.cja).ii(c.bd);},function(g,c,a){var b;b=a(498);g.P=function(){return"function"===typeof Object.values?Object.values:b;};},function(g,c,a){var b,f,m;b=a(1125);f=a(1123);m=a(1119)("Object.prototype.propertyIsEnumerable");g.P=function(a){var d,c;a=f(a);d=[];for(c in a)b(a,c)&&m(a,c)&&d.push(a[c]);return d;};},function(g){var c;c=Object.prototype.toString;g.P=function(a){var b,f;b=c.call(a);f="[object Arguments]"===b;f||(f="[object Array]"!==b&&null!==a&&"object"===typeof a&&"number"===typeof a.length&&0<=a.length&&"[object Function]"===c.call(a.callee));return f;};},function(g,c,a){var f,m,q,d,k,p;function b(a,b){var c,g,h,u,l,n;c=2<arguments.length?arguments[2]:{};g=f(b);m&&(g=d.call(g,Object.getOwnPropertySymbols(b)));for(var t=0;t<g.length;t+=1){h=a;u=g[t];l=b[g[t]];n=c[g[t]];if(!(u in h)||"function"===typeof n&&"[object Function]"===q.call(n)&&n())p?k(h,u,{configurable:!0,enumerable:!1,value:l,writable:!0}):h[u]=l;}}f=a(1127);h();h();m="function"===typeof Symbol&&"symbol"===typeof Symbol("foo");q=Object.prototype.toString;d=Array.prototype.concat;k=Object.defineProperty;p=k&&function(){var a;a={};try{k(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a;}catch(y){return!1;}}();b.xRb=!!p;g.P=b;},function(g,c,a){var b,f,m,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(124);f=a(11);g=a(2);m=a(5);q=a(115);d=a(63);a=a(23);m.$.get(a.rf).register(g.I.Oia,function(a){var c,g;c=K._cad_global.videoPreparer;g=K._cad_global.playerPredictionModel;c&&K._cad_global.playerPredictionModel&&(k=m.$.get(q.Ala).create(g,c.Krb.bind(c)),K._cad_global.prefetchEvents=k,c.eh.on("deletedCacheItem",function(a){k.KJ(d.gd.JH[a.type],parseInt(a.movieId,10),a.reason);}),b.pl.addEventListener("cacheEvict",function(a){k.KJ(q.Ce.zj.gH,a.movieId,"ase_cacheEvict");k.KJ(q.Ce.zj.MEDIA,a.movieId,"ase_cacheEvict");}),b.pl.addEventListener("flushedBytes",function(){b.pl.MJ().forEach(function(a){k.KJ(q.Ce.zj.MEDIA,a.u,"ase_flushedBytes");},this);}),c.zo.addEventListener(c.zo.events.tma,function(a){k.K4a(d.gd.JH[a.type],a.u,a.reason);}),c.zo.addEventListener(c.zo.events.rma,function(a){k.H4a(d.gd.JH[a.type],a.u,a.reason);}),c.zo.addEventListener(c.zo.events.sma,function(a){k.J4a(d.gd.JH[a.type],a.u,a.reason);}),c.zo.addEventListener(c.zo.events.uma,function(a){k.M4a(d.gd.JH[a.type],a.u,a.reason);}));a(f.kd);});},function(g,c,a){var m,q,d,k,p,t,h,y,B,x;function b(a,b){this.di=a;this.Pj=b;}function f(a){this.L=a;this.reset();}m=a(182);q=a(181);c=a(267);d=a(266).config;k=c.ueb;p=c.deb;t=c.D$a;h=c.mpb;y=c.lpb;B=c.kpb;x=c.cva;f.prototype.constructor=f;f.prototype.reset=function(){this.apa=void 0;this.vi=[];this.Moa=this.Noa=!1;};f.prototype.update=function(a,b){var f;this.vi&&(this.vi=this.vi.filter(this.Rwb,this));if(!1===this.Noa){f=k(a.ya).slice(0,d.Zsa);0<f.length&&(this.bA(f,q.Ir.Ri),this.Noa=!0,this.vi=this.eB(f.concat(this.vi)));}!1===this.Moa&&(f=p(a.ya).slice(0,d.Zsa),0<f.length&&(this.bA(f,q.Ir.Ri),this.Moa=!0,this.vi=this.eB(f.concat(this.vi))));switch(b){case q.Er.hia:b=this.Nhb(a);break;case q.Er.Rla:b=this.Xhb(a);break;case q.Er.nQ:b=this.Yhb(a);break;case q.Er.HH:b=this.Thb(a);break;default:b=this.Khb(a);}this.apa=a;return b;};f.prototype.Nhb=function(a){a=h(a.ya,d.GEa,d.gsa);this.bA(a,q.Ir.Ri);return this.vi=this.eB(this.vi.concat(a));};f.prototype.Xhb=function(a){var b,f;this.L.log("handleScrollHorizontal");b=a.ya;a=h(b,d.IEa,d.hsa);f=t(b,this.apa.ya);b=b[f].list.slice(0,d.Iub);b.concat(a);this.bA(b,q.Ir.J1);return this.eB(b.concat(this.vi));};f.prototype.bA=function(a,b){a.forEach(function(a){if(void 0===a.Pv||a.Pv<b)a.Pv=b;void 0===a.tG&&(a.tG=m());void 0===a.dj&&(a.dj=m());});};f.prototype.Yhb=function(a){this.L.log("handleSearch");a=y(a.ya,d.bvb);this.bA(a,q.Ir.Tla);this.vi=a.concat(this.vi);return this.vi=this.eB(this.vi);};f.prototype.Thb=function(a){var f,c,g,k,m;this.L.log("handlePlayFocus: ",d.tL);f=a.direction;c=a.ya;a=[];g=x(c);if(void 0!==g.di)switch(a.push(g),f){case q.bq.Lla:for(f=1;f<d.tL;f++)a.push(new b(g.di,g.Pj+f));a.push(new b(g.di-1,g.Pj));a.push(new b(g.di+1,g.Pj));break;case q.bq.mja:for(f=1;f<d.tL;f++)a.push(new b(g.di,g.Pj-f));a.push(new b(g.di-1,g.Pj));a.push(new b(g.di+1,g.Pj));break;case q.bq.wWa:a.push(new b(g.di-1,g.Pj));for(f=1;f<=d.tL/2;f++)a.push(new b(g.di,g.Pj+f)),a.push(new b(g.di,g.Pj-f));break;case q.bq.tMa:for(a.push(new b(g.di+1,g.Pj)),f=1;f<=d.tL/2;f++)a.push(new b(g.di,g.Pj+f)),a.push(new b(g.di,g.Pj-f));}k=[];a.forEach(function(a){m=B(c,a.di,a.Pj);void 0!==m&&k.push(m);});this.bA(k,q.Ir.J1);return this.eB(k.concat(this.vi));};f.prototype.Khb=function(a){this.L.log("ModelOne: handleDefaultCase");a=h(a.ya,d.IEa,d.hsa);this.bA(a,q.Ir.J1);return this.eB(a.concat(this.vi));};f.prototype.Rwb=function(a){return a.Pv==q.Ir.Ri|a.Pv==q.Ir.Tla&m()-a.tG<d.xib;};f.prototype.eB=function(a){var b,d,f,c,g,k,m;b=[];d={};k=0;m=a.length;for(g=0;g<m;g++)f=a[g].wa,c=a[g],!1===f in d?(b.push(c),d[f]=k,k++):(f=b[d[f]],c.dj<f.dj&&(f.dj=c.dj),c.Pv>f.Pv&&(f.Pv=c.Pv),c.tG>f.tG&&(f.tG=c.tG));return b;};g.P=f;},function(g,c,a){var q,d,k,p,t,h,y;function b(a,b,d,f,c,g){this.u=this.wa=a;this.fe=b;this.Oc=d;g&&g.he&&(this.he=g.he);void 0!==f&&(this.qA=f);this.dj=c;this.$a=g;}function f(a,b,d,f,c){k(void 0!==f,"video preparer is null");k(void 0!==c,"ui preparer is null");this.L=b||console;this.L=b;this.sb=d;this.l1a=f;this.c1a=c;this.$oa=h.Dca;this.QC=[];this.X3=!1;this.tn=0;new y().on(h,"changed",m,this);this.reset();}function m(){this.L.log("config changed");h.Dca&&(this.$oa=h.Dca);h.sM!==this.CC&&(this.reset(),this.bub());}q=a(182);d=a(181);c=a(267);k=c.assert;p=c.cva;t=a(502);h=a(266).config;y=a(109).Mx;h.declare({Dca:["ppmConfig",{qDb:{HBa:0,GBa:2,EBa:0,FBa:5,LFa:0},BJb:{HBa:0,GBa:1,EBa:0,FBa:3,LFa:1E3},IDb:{HBa:0,GBa:1,EBa:0,FBa:3,LFa:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.I2=!0;this.CC=h.sM;this.L.log("create model: "+h.sM,h.GEa,h.gsa);switch(h.sM){case"modelone":this.CC=new t(this.L);break;default:this.CC=new t(this.L);}};f.prototype.bub=function(){var b,d;if(!1===this.X3){this.X3=!0;for(var a=0;a<this.QC.length;a++){this.L.log("PlayPredictionModel replay: ",JSON.stringify(this.QC[a]));b=this.Bsa(this.QC[a]);d=this.Iva(b);this.CC.update(b,d);this.I2=!1;}this.QC=[];}};f.prototype.update=function(a){var b,d,f;this.L.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.ya&&a.ya[0]){!1===this.X3&&this.QC.length<h.Mmb&&this.QC.push(a);b=this.Bsa(a);d=this.Iva(b);this.L.log("actionType",d);b="mlmodel"==h.sM?this.CC.update(a,d):this.CC.update(b,d);b=this.Hdb(b,h.wkb||1);this.L.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.tn&&(this.tn=q(),this.sb&&this.sb.qN&&this.sb.qN({KT:this.tn}));if(this.sb&&this.sb.iEa){f={KT:this.tn,offset:this.RU(),aDa:[]};b.forEach(function(a){f.aDa.push({Qp:a.wa});});f.YCa=JSON.stringify(a);f.ZCa=JSON.stringify(b);this.sb.iEa(f);}this.l1a.lu(b);this.c1a.lu(b);this.I2=!1;}};f.prototype.pub=function(){this.tn=0;};f.prototype.RU=function(){return q()-this.tn;};f.prototype.qN=function(){this.tn=q();this.sb&&this.sb.qN&&this.sb.qN({KT:this.tn});};f.prototype.Bsa=function(a){var b,f,c,g,k;b={};g=a.ya||[];k=function(a){var g,k;g={};f=d.qH.name.indexOf(a.context);g.context=0<=f?f:d.qH.Tr;g.rowIndex=a.rowIndex;g.requestId=a.requestId;g.list=[];c=a.list||[];c.forEach(function(a){k={wa:a.wa,Oc:a.Oc,index:a.index,qA:a.qA,EF:a.EF,list:a.list,$a:a.$a};void 0!==a.property&&(f=d.DB.name.indexOf(a.property),k.property=0<=f?f:d.DB.Tr);g.list.push(k);}.bind(this));b.ya.push(g);}.bind(this);void 0!==a.direction&&(f=d.bq.name.indexOf(a.direction),b.direction=0<=f?f:d.bq.Tr);void 0!==a.SK&&(b.xNb=a.SK.rowIndex,b.wNb=a.SK.$5a);b.SK=a.SK;b.ya=[];g.forEach(k);return b;};f.prototype.Iva=function(a){var b,f,c;b=a.direction||d.bq.Tr;f=a.SK;c=a.ya||[];!0===this.I2?a=d.Er.hia:!0===c.some(this.iib)?(a=d.Er.HH,this.nY(c,b,f)):a=c[0].context===d.qH.nQ?d.Er.nQ:b===d.bq.Lla||b===d.bq.mja?d.Er.Rla:d.Er.Tr;return a;};f.prototype.iib=function(a){return(a.list||[]).some(function(a){return a.property===d.DB.HH||a.property===d.DB.iha;});};f.prototype.nY=function(a,b,f){var c,g;this.L.log("reportPlayFocusEvent: ",b,f);c={};g=p(a);this.sb&&this.sb.nY&&(c.jNb=q(),c.direction=d.bq.name[b],f&&(c.rowIndex=f.rowIndex,c.K5=f.$5a),void 0!==g.di&&(c.requestId=a[g.di].requestId),this.sb.nY&&this.sb.nY(c));};f.prototype.Hdb=function(a,b){for(var d=a.length,f=[],c,g,k,m,p=0;p<d;p++){g=a[p];c=Math.floor(p/b)+1;if(void 0!==g.list){k=g.list;m=k.length;for(var t=0;t<Math.min(h.Y5a,m)&&!(k[t].dj=g.dj,this.aqa(k[t],c,f),f.length>=h.oAa);t++);}else this.aqa(g,c,f);if(f.length>=h.oAa)break;}return f;};f.prototype.aqa=function(a,d,f){var g,k;function c(a){a.he&&(a.$a||(a.$a={}),a.$a.he=a.he);return a.$a;}g=a.EF;void 0!==g&&g instanceof Array?g.forEach(function(g){void 0!==g.wa&&(k=c(g),f.push(new b(g.wa,d,g.Oc,g.qA,a.dj,k)));}):void 0!==g&&void 0!==g.wa&&(g=a.EF,k=c(g),f.push(new b(g.wa,d,g.Oc,g.qA,a.dj,k)));void 0!==a.wa&&(k=c(a),f.push(new b(a.wa,d,a.Oc,a.qA,a.dj,k)));};f.prototype.ow=function(a){var b;b=this.$oa;return a?b[a]:b;};g.P=f;},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(11);g=a(2);m=a(5);c=a(23);m.$.get(c.rf).register(g.I.Pia,function(d){var c,g;if(b.config.prb){c=m.qg("PlayerPredictionModel");K._cad_global.videoPreparer||(c.error("videoPreparer is not defined"),d(f.kd));g=a(503);c.log=c.trace.bind(c);q=new g({},c,{qN:function(a){K._cad_global.prefetchEvents.B$a(a.KT);},iEa:function(a){K._cad_global.prefetchEvents.Lrb(a);}},K._cad_global.videoPreparer,{lu:function(){}});K._cad_global.playerPredictionModel=q;c.info("ppm v2 initialized");}d(f.kd);});},function(g){g.P={iw:{sa:12E5,QL:9E5,qd:12E5},Ov:{sa:10,QL:10,qd:10},Nv:{sa:10240,QL:10240,qd:10240}};},function(g){function c(a){var b;b=[];return function m(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var d in a)if(a.hasOwnProperty(d)&&m(a[d]))return!0;}return!1;}(a);}g.P=function(a,b){var g;if(b&&c(a))return-1;b=[];a=[a];for(var f=0;a.length;){g=a.pop();if("boolean"===typeof g)f+=4;else if("string"===typeof g)f+=2*g.length;else if("number"===typeof g)f+=8;else if("object"===typeof g&&-1===b.indexOf(g)){b.push(g);for(var q in g)a.push(g[q]);}}return f;};},function(g,c,a){var d,k;function b(){return Object.create(null);}function f(a){this.log=a.log;this.Ja=a.Ja;this.cA=b();this.Promise=a.Promise;this.dt=a.dt;this.Lfa=a.Lfa;this.jh=a.jh||!1;this.iw=b();this.Ov=b();this.Nv=b();this.x0a(a);a.fE&&(this.fE=a.fE,d(this.fE,f.prototype));}function m(a){return"undefined"!==typeof a;}function q(a){var f;for(var b=0,d=arguments.length;b<d;){f=arguments[b++];if(m(f))return f;}}d=a(57);a(506);k=a(505);f.prototype.x0a=function(a){this.iw.manifest=q(a.J7,k.iw.sa);this.iw.ldl=q(a.I7,k.iw.QL);this.iw.metadata=q(a.mNb,k.iw.qd);this.Ov.manifest=q(a.k5,k.Ov.sa);this.Ov.ldl=q(a.j5,k.Ov.QL);this.Ov.metadata=q(a.GLb,k.Ov.qd);this.Nv.manifest=q(a.ELb,k.Nv.sa);this.Nv.ldl=q(a.DLb,k.Nv.QL);this.Nv.metadata=q(a.FLb,k.Nv.qd);};f.prototype.sV=function(a,b,d){this.hh("undefined"!==typeof a);this.hh("undefined"!==typeof b);return!!this.Sna(a,b,d).value;};f.prototype.Sna=function(a,b,d){var f,c;f={value:null,reason:"",log:""};c=this.cA[b];if("undefined"===typeof c)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof c[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(d=c[a][d?d:"DEFAULTCAPS"])&&d.value?this.YV(b,d.fh)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&d.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=d.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};f.prototype.getData=function(a,b,d){this.hh("undefined"!==typeof a);this.hh("undefined"!==typeof b);a=this.Sna(a,b,d);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Lfa?JSON.parse(this.Lfa(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};f.prototype.setData=function(a,d,f,c,g){var k;this.hh("undefined"!==typeof a);this.hh("undefined"!==typeof d);k=this.cA;g=g?g:"DEFAULTCAPS";k[d]||(k[d]=b(),Object.defineProperty(k[d],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(k[d],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));f=this.dt?this.dt(JSON.stringify(f),"gzip",!0):f;k=k[d];this.tZa(a,d,g,k);d={fh:this.Ja.getTime(),value:f,size:0,type:d,P6:c};k[a]=k[a]||b();k[a][g]=k[a][g]||b();k[a][g]=d;k.size+=0;k.numEntries++;this.fE&&this.emit("addedCacheItem",d);return d;};f.prototype.tZa=function(a,b,d,f){var c,g,k,m,p,t,q,h,u;c=this;g=f.numEntries;k=this.Ov[b];t=f[a]&&f[a][d];if(t&&t.value)m=a,p="promise_or_expired";else if(g>=k){h=Number.POSITIVE_INFINITY;Object.keys(f).every(function(a){var g;g=f[a]&&f[a][d];g&&g.value&&c.YV(b,g.fh)&&(u=a);g&&g.value&&g.fh<h&&(h=g.fh,q=a);return!0;});m=u||q;p="cache_full";}this.jh&&this.log.debug("makespace ",{maxCount:k,currentCount:f.numEntries,field:b,movieId:a,movieToBeRemoved:m});m&&(c.clearData(m,b,d,void 0,p),this.log.debug("removed from cache: ",m,b));};f.prototype.z5=function(a,b){var d,f;d=this;d.hh("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=d.cA[a];b&&Object.keys(b).forEach(function(b){b!=f&&d.clearData(b,a,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(a,b,d,f,c){var g;this.hh("undefined"!==typeof a);this.hh("undefined"!==typeof b);g=this.cA[b];b=g?g[a]:void 0;d=d?d:"DEFAULTCAPS";if(b&&b[d]){g.size-=b[d].size;g.numEntries--;if(g=b&&b[d])b[d]=void 0,!f&&g.P6&&g.P6();this.fE&&(a={creationTime:g.fh,destroyFn:g.P6,size:g.size,type:g.type,value:g.value,reason:c,movieId:a},this.emit("deletedCacheItem",a));}};f.prototype.flush=function(a){var d;this.hh("undefined"!==typeof a);d=this.cA;d[a]=b();d[a].numEntries=0;d[a].size=0;};f.prototype.YV=function(a,b){return this.Ja.getTime()-b>this.iw[a];};f.prototype.getStats=function(a,b,d){var f,c,g,k,p;f={};c=this;g=c.cA;k=m(a)&&m(b);p=d||"DEFAULTCAPS";Object.keys(g).forEach(function(d){var t,q;t=Object.keys(g[d]);q=g[d];t.forEach(function(g){!(g=q&&q[g]&&q[g][p])||!m(g.value)||g.value instanceof this.Promise||(f[d]=(f[d]|0)+1,c.YV(g.type,g.fh)&&(f[d+"_expired"]=(f[d+"_expired"]|0)+1),k&&g.fh>=a&&g.fh<b&&(f[d+"_delta"]=(f[d+"_delta"]|0)+1));});});return f;};f.prototype.Wc=function(a){var b,d,f,c;b=[];d=this;f=d.cA;c=a||"DEFAULTCAPS";Object.keys(f).forEach(function(a){var g,k;g=Object.keys(f[a]);k=f[a];g.forEach(function(f){var g,p;g=k&&k[f]&&k[f][c];g&&m(g.value)&&(p=d.YV(g.type,g.fh)?"expired":g.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:p,type:a,size:g.size}));});});return b;};f.prototype.vea=function(a,b){this.hh("undefined"!==typeof a);this.hh("undefined"!==typeof b);this.Nv[a]=b;};f.prototype.hh=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.jh))throw Error("Debug Assert Failed ");};g.P=f;},function(g,c,a){var f,m;function b(a,b,c,g,t,h,y){this.u=a;this.fe=b;this.type=c;this.id=++m;this.ep=g;this.status=f.Be.Sga;this.Qqb=void 0===t?!1:t;this.vBa=y;}Object.defineProperty(c,"__esModule",{value:!0});f=a(63);m=0;b.prototype.Nq=function(){var a;a={id:this.id,type:this.type,created:this.ep,status:this.status,movieId:this.u};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.Nl=function(a){this.vBa&&this.vBa(a);};c.sQ=b;},function(g,c,a){var q,d,k;function b(){}function f(a){this.log=a.log;this.Ja=a.Ja;this.uT=this.kK=0;this.ux=[];this.paused=!1;this.eZ=[];this.osa=[];this.DL=a.DL||b.fga;this.bd=a.bd;this.Ij=this.bd.get(d.P_);this.addEventListener=this.Ij.addListener.bind(this.Ij);this.events={tma:"taskstart",rma:"taskabort",sma:"taskfail",uma:"tasksuccess"};}function m(a){return a.Nq();}Object.defineProperty(c,"__esModule",{value:!0});g=a(146);q=a(63);d=a(67);b.XSa="prepend";b.fga="append";b.DOa="ignore";k=g.Ru;c.SVa=f;f.prototype.eqa=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.ux=this.dZa(a);this.kK=0;this.uT+=1;this.Jb();};f.prototype.dZa=function(a){var d,f;d=this.ux.filter(function(a){return a.Qqb&&a.status===q.Be.Sga;});f=this.DL;if(f===b.DOa)return[].concat(a);if(f===b.XSa)return d.concat(a);if(f===b.fga)return a.concat(d);};f.prototype.pause=function(){this.paused=!0;};f.prototype.Jb=function(){var a,b;if(this.kK===this.ux.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.kK,numberOfTasks:this.ux.length});else{a=this.$fb();b=this.uT;a.startTime=this.Ja.getTime();a.status=q.Be.Wla;this.Ij.Mb(this.events.tma,{u:a.u,type:a.type});this.eZ.push(a);a.kf(function(d){a.endTime=this.Ja.getTime();d?0<=[q.Be.Ix,q.Be.iP,q.Be.RG,q.Be.hP].indexOf(d.status)?(a.status=d.status,this.x3(a,this.events.rma,"cancelled task")):(a.status=q.Be.Nu,this.x3(a,this.events.sma,"task failed",d)):(a.status=q.Be.bma,this.x3(a,this.events.uma,"task succeeded"));this.osa.push(a);this.eZ.splice(this.eZ.indexOf(a),1);this.uT===b&&(this.kK++,this.Jb());}.bind(this));}};f.prototype.$fb=function(){return this.ux[this.kK];};f.prototype.x3=function(a,b,d,f){var c;c=a.Nq();f?this.log.warn(d,c,f):this.log.trace(d,c);this.Ij.Mb(b,{u:a.u,type:a.type,reason:a.status});a.Nl(c);};f.prototype.getStats=function(a,b,d){var f,c,g,p;f=this.osa.map(m);c=this.eZ.map(m);g=k.Nd(a)&&k.Nd(b);p={};if(k.Nd(d))return p.j6a=f.filter(function(a){return a.movieId===d;}),p;f.concat(c).forEach(function(d){var f;p[d.type+"_"+d.status]=(p[d.type+"_"+d.status]|0)+1;f=d.status==q.Be.Wla?d.startTime:d.endTime;g&&f>=a&&f<b&&(p[d.type+"_"+d.status+"_delta"]=(p[d.type+"_"+d.status+"_delta"]|0)+1);});return p;};},function(g,c,a){var f,m,q,d,k,p,t,h,y,B;function b(a){this.log=a.log;this.Ja=a.Ja;this.d9=a.d9;this.XU=a.XU;this.WU=a.WU;this.tE=a.tE;this.Rt=a.Rt;this.qK=a.qK;this.bd=a.bd;this.config=this.bd.get(p.sd)();this.sK=a.sK;this.rK=a.rK;this.cga=a.cga;this.Vba=a.Vba;this.Wba=a.Wba;this.FM=a.FM;this.M8=a.M8;this.jh=a.jh||!1;this.a4={};this.wR={};this.ZR={num_of_calls:0,num_of_movies:0};this.u5=a.u5;this.sba=a.sba;this.Pdb=a.Pdb;this.A8=a.A8;this.eh=new t({log:this.log,Ja:this.Ja,Promise:Promise,jh:this.jh,k5:a.k5,j5:a.j5,J7:a.J7,I7:a.I7,fE:h});this.zo=new f.SVa({log:this.log,Ja:this.Ja,DL:a.DL,bd:this.bd});this.lp=this.eh.getData.bind(this.eh);this.jx=this.eh.setData.bind(this.eh);this.qV=this.eh.sV.bind(this.eh);}Object.defineProperty(c,"__esModule",{value:!0});f=a(509);m=a(508);g=a(146);q=a(248);d=a(455);k=a(115);p=a(17);t=a(507);h=a(109).EventEmitter;y=g.Ru;B=new d.Kma(y,new q.h_());c.GWa=b;b.prototype.Uva=function(a){var b;b=this.eh.getData(a,"ldl");this.eh.clearData(a,"ldl",void 0,!0);return b;};b.prototype.lu=function(a,b){var d,f,c;d=this;a=a.map(function(a){a.$a=a.$a||{uJ:{CCa:!1},xh:0};y.ez(a.$a.xh)||(a.$a.xh=0);y.ez(a.Oc)&&(a.$a.U=a.Oc);return a;});f=a.map(function(a){return d.xna(a,b);}).reduce(function(a,b){return a.concat(b);},[]);c=f.map(function(a){return a.u+"-"+a.type;});this.log.trace("prepare tasks",c);this.zo.eqa(f);this.ZR.num_of_calls++;this.ZR.num_of_movies+=a.length;};b.prototype.Hrb=function(a,b){var d,f,c;d=this;f=a.map(function(a){return a.u+"";});a=a.map(function(a){a.$a=a.$a||{uJ:{CCa:!1},xh:0};a.$a.te=!0;a.$a.UAa=f;return d.xna(a,b);}).reduce(function(a,b){return a.concat(b);},[]);c=a.map(function(a){return a.u+"-"+a.type;});this.log.trace("predownload tasks",c);this.zo.eqa(a);};b.prototype.lAb=function(a,b){this.wR[a]||(this.wR[a]={});a=this.wR[a];a.bDa=(a.bDa|0)+1;a.dj=b;};b.prototype.getStats=function(a,b,d){var f;f=d&&this.wR[d]||{};f.ux=this.zo.getStats(a,b,d);f.cache=this.eh.getStats(a,b);f.Eva=B.Mm(this.M8(),this.ZR);return f||{};};b.prototype.xna=function(a,b){var d,f,c,g,k;a.he&&(a.$a.he=a.he);d=[];f=a.u;c=!!a.$a.te;this.lAb(f,a.dj);g=null;if(this.eh.sV(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{k=new m.sQ(f,a.fe,"manifest",this.Ja.getTime(),c,void 0,b);g=k.id;k.kf=this.d9.bind(this,f,a);d.push(k);}this.XU&&(this.eh.sV(f,"ldl")?this.jh&&this.log.trace("ldl exists in cache for "+f):(k=new m.sQ(f,a.fe,"ldl",this.Ja.getTime(),c,g,b),k.kf=this.XU.bind(this,f,a),d.push(k)));this.WU&&this.tE&&this.u5()&&(this.sba(f)?this.jh&&this.log.trace("headers/media exists in cache for "+f):(f=new m.sQ(a.u,a.fe,"getHeaders",this.Ja.getTime(),c,g,b),f.kf=this.WU.bind(this,a.u,a),d.push(f),b=new m.sQ(a.u,a.fe,"getMedia",this.Ja.getTime(),c,g,b),b.kf=this.tE.bind(this,a.u,a),d.push(b)));return d;};b.prototype.Whb=function(a){this.Wba(a);};b.prototype.Vhb=function(a){this.log.trace("task scheduler paused on playback created");this.zo.pause();this.sK&&this.eh.z5(a,["manifest"]);this.rK&&this.eh.z5(a,["ldl"]);this.Vba(a);};b.prototype.txa=function(){this.log.info("track changed, clearing all manifests from cache");this.eh.z5("none",["manifest"]);};b.prototype.Uhb=function(a){var b;b=this;this.qK?this.eh.clearData(a,"manifest"):this.eh.sV(a,"manifest")&&this.eh.getData(a,"manifest").then(function(d){d.isSupplemental||b.eh.clearData(a,"manifest");},function(d){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",d);});this.F5(a);this.FM();};b.prototype.F5=function(a){this.a4[a]=void 0;};b.prototype.F9=function(a){return this.a4[a];};b.prototype.Qsa=function(a){return this.a4[a]=this.cga();};b.prototype.Krb=function(){var a;a=[];a=this.eh.Wc().map(function(a){return{Qp:parseInt(a.movieId,10),state:a.state,Ls:a.type,size:a.size||void 0};});this.A8().map(function(b){2===b.qp?a.push({Qp:b.u,state:"cached",Ls:k.Ce.zj.gH,size:void 0}):b.cdb&&!b.Pkb&&a.push({Qp:b.u,state:"loading",Ls:k.Ce.zj.gH,size:void 0});b.gIa&&0<b.gIa&&b.Rqa&&0<b.Rqa?a.push({Qp:b.u,state:"cached",Ls:k.Ce.zj.MEDIA,size:void 0}):b.Crb&&!b.Brb&&a.push({Qp:b.u,state:"loading",Ls:k.Ce.zj.MEDIA,size:void 0});});return a;};b.prototype.vya=function(a){return a&&0<=a.indexOf("billboard");};},function(g,c,a){var b,f,m,q,d,k,p,t,h,y,B,x,H,G,l,n,T,U,C,R,O,r,ba,ca,V;Object.defineProperty(c,"__esModule",{value:!0});b=a(58);f=a(124);m=a(12);q=a(11);d=a(30);g=a(2);k=a(5);p=a(22);t=a(237);h=a(4);y=a(87);B=a(121);x=a(116);H=a(63);G=a(184);l=a(20);n=a(44);T=a(510);U=a(192);C=a(231);R=a(156);O=a(130);r=a(42);ba=a(61);c=a(23);ca=a(141);k.$.get(c.rf).register(g.I.Tia,function(a){var ea,ja,Fa,ya,ma,A,F,Xa,Q,W,Z,Ua,da,Y;function c(){var a,b,d;if(m.config.mo){a={};a.trigger=H.gd.WSa.uSa;b=ea.getTime();d=V.getStats(da,b);a.startoffset=da;da=a.endoffset=b;a.cache=JSON.stringify(d.cache);a.tasks=JSON.stringify(d.ux);a.general=JSON.stringify(d.Eva);b=k.$.get(r.mk);a=k.$.get(ba.Jo).wm("prepare","info",a);b.xc(a);}}function g(a,b,d){var c,g;g=a.video_tracks;g&&g.length&&g[0].streams&&g[0].streams.length&&(c=g[0].streams[0].content_profile);g=m.usa(b.he);c=m.tsa(!!a.choiceMap,!1,c);c=f.Tc.Ln(Object.assign(Object.assign({},g),c));return{u:d,fe:0,Jfb:function(){return{sa:a,ff:!1,gD:a.defaultTrackOrderList[0].audioTrackId};},config:c,te:!!b.te,UAa:b.UAa};}function u(a,b,d){V.lp(a,"ldl").then(function(a){d(null,a);})["catch"](function(f){F.trace("ldl not available in cache",f);V.lp(a,"manifest").then(function(f){var g,p,t,q;function c(b){F.warn("ldl is now invalid",b);q.close();V.jx(a,"ldl",void 0);V.F5(a);}if(V.qV(a,"ldl"))d({status:H.gd.Be.Ix});else if(f.hasDrmStreams)if(m.config.Ota&&Xa&&Xa!==a&&!b.force)d({status:H.gd.Be.iP});else if(m.config.Pta&&Q&&Q!==a&&!b.force)d({status:H.gd.Be.RG});else{Xa&&Xa!==a&&(W[a]=(W[a]|0)+1);Q&&Q!==a&&(Z[a]=(Z[a]|0)+1);g=f.video_tracks[0].prkDrmHeaders;p=f.video_tracks[0].drmHeader;t=(g?g:[p]).map(function(a){return k.rm(a.bytes);});q=S({cjb:"cenc",gua:F,fL:function(b){var d;d=[];b.Ph.forEach(function(a){d.push({sessionId:a.sessionId,dataBase64:k.Os(a.data)});});b={Ph:d,TT:[f.drmContextId],$h:H.gd.Asa(b.$h),fg:f.playbackContextId,ia:V.Qsa(a),Rf:f.Rf};F.trace("xid created ",{MovieId:a,xid:b.ia});return ya.Jy(b);},Ixb:void 0,Wbb:c,Xc:void 0,Mba:l.Le,Ja:ma});V.jx(a,"ldl",q,function(){q.close();});g=A.shift();k.log.trace("cached mediakeys count "+A.length);return q.create(m.config.Rd,g).then(function(){return q.kj(y.Cj.Su,t,!0);}).then(function(){d(null,q);})["catch"](function(a){c(a);d(a);});}else d({status:H.gd.Be.hP});})["catch"](function(a){F.warn("Manifest not available for ldl request",a);d({status:H.gd.Be.Ix});});});}function P(a,b,d){V.lp(a,"ldl").then(function(a){d(null,a);})["catch"](function(f){F.trace("ldl not available in cache",f);V.lp(a,"manifest").then(function(f){var g,p,t,q;function c(b,d){F.warn(b+" LDL is now invalid.",d);V.jx(a,"ldl",void 0);V.F5(a);}if(V.qV(a,"ldl"))d({status:H.gd.Be.Ix});else if(f.hasDrmStreams)if(m.config.Ota&&Xa&&Xa!==a&&!b.force)d({status:H.gd.Be.iP});else if(m.config.Pta&&Q&&Q!==a&&!b.force)d({status:H.gd.Be.RG});else{Xa&&Xa!==a&&(W[a]=(W[a]|0)+1);Q&&Q!==a&&(Z[a]=(Z[a]|0)+1);g=f.video_tracks[0].prkDrmHeaders;p=f.video_tracks[0].drmHeader;t=(g?g:[p]).map(function(a){return k.rm(a.bytes);});q=k.$.get(B.tP)().then(function(b){var d;d={type:y.Cj.Su,JV:t,context:{Rd:m.config.Rd},oh:{u:a,ia:V.Qsa(a),fg:f.playbackContextId,Ek:f.drmContextId,Rf:f.Rf}};return b.lu(d,k.$.get(ca.xH)());}).then(function(a){d(null,a);return a;})["catch"](function(a){c("Unable to prepare an EME session.",a);});V.jx(a,"ldl",q,function(){try{q.then(function(a){a.close().subscribe(void 0,function(a){c("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){c("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(Fe){c("Unable to cleanup LDL session, unexpected exception.",Fe);}});}else d({status:H.gd.Be.hP});})["catch"](function(a){F.warn("Manifest not available for ldl request",a);d({status:H.gd.Be.Ix});});});}function S(a){var b,d;b=new n.bh.Ju(a.gua,a.fL,a.Ixb,{jh:!1,IL:!1});d=k.$.get(x.SB);return n.bh.Lu(a.gua,a.cjb,a.Xc,{jh:!1,IL:!1,Mya:m.config.gi,$Ea:{FAa:m.config.ZEa,Nra:m.config.Tda},fx:b,pDa:m.config.Sca,Wa:void 0,DG:m.config.DG,hB:m.config.p7,onerror:a.Wbb,Mba:a.Mba,Ja:a.Ja,hrb:!1,GV:m.config.GV,Sqa:d.dK([]),hIa:d.jK([]),FE:m.config.FE});}ea={getTime:d.Lg,HNb:d.dT};ja=k.$.get(p.Ke);Fa=k.$.get(U.m1);ya=k.$.get(R.sH);ma=ea;A=[];F=k.qg("VideoPreparer");W={};Z={};if(!n.bh.Lu||!n.bh.Ju){Ua={};n.bh.Lu=Ua.Eb;n.bh.Ju=Ua.request;}F.info("instance created");V=new T.GWa({log:F,Ja:ea,cga:d.T5a,d9:function(a,b,d){var c;function f(){var b,d;ja.My(c)||(c={trackingId:c});b={Sa:c,wa:a,kE:H.gd.jn.Qka};F.trace("manifest request for:"+a);d=k.$.get(O.KH)();return Fa.Bm(F,d,b);}c=b.$a;F.trace("getManifest: "+a);m.config.y1a&&c&&c.sa&&!V.qV(a,"manifest")&&(!c.sa.clientGenesis||Date.now()-c.sa.clientGenesis<m.config.cDa)?(c.sa.GA=ea.getTime(),c.sa.NF=ea.getTime(),b=c.sa.runtime?k.$.get(C.O0).decode(c.sa):c.sa,V.jx(a,"manifest",b),d(null,b)):V.lp(a,"manifest").then(function(a){d(null,a);})["catch"](function(b){var c;F.trace("manifest not available in cache",b);if(V.qV(a,"manifest"))d({status:H.gd.Be.Ix});else{c=ea.getTime();b=f();V.jx(a,"manifest",b);b.then(function(b){b.GA=c;b.NF=ea.getTime();V.jx(a,"manifest",b);d(null,b);})["catch"](function(b){d(b);V.jx(a,"manifest",void 0);});}});},XU:m.config.$D?m.config.Wp?P:u:void 0,WU:function(a,b,d){var c;c=b.$a;V.lp(a,"manifest").then(function(b){b=g(b,c,a);f.pl.US(b,function(){d(null,{});});})["catch"](function(a){F.error("Exception in getHeaders",a);d(a);});},tE:function(a,b,d){var c;c=b.$a;V.lp(a,"manifest").then(function(m){var q,u,x;q=g(m,c,a);u=m.duration;m=k.$.get(t.k_).kqa({fB:h.Cb(m.bookmark),u:a,SM:h.Cb(u),Sa:c}).da(h.ja);k.$.get(p.Ke).wq(c.U)&&(m=c.U);q.Oc=m;if(Xa!=a||c.te||b.force){x=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(f.pl.removeEventListener("prebuffstats",x),d(null,{}));};f.pl.addEventListener("prebuffstats",x);f.pl.US(q);}else d({status:H.gd.Be.RG});})["catch"](function(a){F.error("Exception in getMedia",a);d(a);});},Rt:function(){return f.pl.Rt();},u5:function(){return m.config.$T;},sba:function(a){var b;b=!1;f.pl.MJ().forEach(function(d){d.u==a&&(b=!0);});return b;},A8:function(){return f.pl.MJ().map(function(a){var d,c;d=f.pl.xaa(a.u);c=d[b.Mc.Dj.AUDIO]&&d[b.Mc.Dj.AUDIO].data;d=d[b.Mc.Dj.VIDEO]&&d[b.Mc.Dj.VIDEO].data;return{u:a.u,qp:a.qp,Rqa:c&&c.length,gIa:d&&d.length,cdb:ja.wq(a.Pb.sU),Pkb:ja.wq(a.Pb.rW),Crb:ja.wq(a.Pb.CF),Brb:ja.wq(a.Pb.PX)};});},Vba:function(a){Xa=a;},Wba:function(a){Y&&(Y.E5(),c());Q=a;},FM:function(){Y&&Y.Bea();Q=Xa=void 0;},M8:function(){return{ldls_after_create:W,ldls_after_start:Z};},qK:m.config.qK,sK:m.config.sK,rK:m.config.rK,DL:m.config.Mrb,k5:m.config.Prb,j5:m.config.Nrb,J7:m.config.cDa,I7:m.config.Orb,jh:!1,bd:k.$});K._cad_global.videoPreparer=V;Ua=m.config.Pqb;da=ea.getTime();Ua&&(Y=new G.Ola(Ua,c),Y.Bea());a(q.kd);});},function(g,c,a){var b,f,m,q,d,k,p,t,h,y,B,x;Object.defineProperty(c,"__esModule",{value:!0});b=a(122);f=a(105);m=a(11);q=a(38);g=a(2);d=a(5);k=a(155);p=a(18);t=a(20);h=a(9);c=a(23);y=a(30);B=a(90);x=a(132);d.$.get(c.rf).register(g.I.Via,function(a){function c(a,b){function f(a){a=new k.WG(d.rm(a));a.se();return{Gw:a.CDa(),Nbb:a.CDa()};}return{encrypt:function(b,f){var c;b=t.ce(b)?d.FO(b):b;c=h.Xu.getRandomValues(new Uint8Array(16));q.qF(h.Mn.encrypt({name:"AES-CBC",iv:c},a,b)).then(function(a){var b,g;a=new Uint8Array(a);b=[];g=new k.WG(b);g.VO(2);g.wIa(c);g.wIa(a);a=d.Os(b);f({success:!0,encryptedDataAsn1Base64:a});},function(a){p.Ma(!1,"Encrypt error: "+a);f({success:!1});});},decrypt:function(b,c){b=f(b);q.qF(h.Mn.decrypt({name:"AES-CBC",iv:b.Gw},a,b.Nbb)).then(function(a){a=new Uint8Array(a);c({success:!0,text:d.MZ(a)});},function(a){p.Ma(!1,"Decrypt error: "+a);c({success:!1});});},hmac:function(a,f){a=t.ce(a)?d.FO(a):a;q.qF(h.Mn.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);f({success:!0,hmacBase64:d.Os(a)});},function(a){p.Ma(!1,"Hmac error: "+a);f({success:!1});});}};}b.yQ.pJ.mdx={getEsn:function(){return f.Sh.Pg;},createCryptoContext:function(a){var b;b=d.$.get(B.OH);d.$.get(x.AH)().then(function(f){var c,g;c=f.uM.getStateForMdx(b);g=c.cryptoContext;f=c.masterToken;c=c.userIdToken;f&&c?(p.Ma(g),f=["1",d.Os(JSON.stringify(f.toJSON())),d.Os(JSON.stringify(c.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:f,encrypt:function(a,b){a=t.ce(a)?d.FO(a):a;g.encrypt(a,{result:function(a){a=d.Os(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){p.Ma(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=d.rm(a);g.decrypt(a,{result:function(a){b({success:!0,text:d.MZ(a)});},timeout:function(){b({success:!1});},error:function(a){p.Ma(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=t.ce(a)?d.FO(a):a;g.sign(a,{result:function(a){b({success:!0,hmacBase64:d.Os(a)});},timeout:function(){b({success:!1});},error:function(a){p.Ma(!1,"Hmac error: "+a);b({success:!1});}});}}})):(p.Ma(!1,"Must login first"),a({success:!1}));});},createCryptoContextFromSharedSecret:function(a,b){var f;f=d.rm(a);a=f.subarray(32,48);f=f.subarray(0,32);if(16!=a.length||32!=f.length)throw Error("Bad shared secret");Promise.all([q.qF(h.Mn.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),q.qF(h.Mn.importKey("raw",f,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:c(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return y.H5();}};a(m.kd);});},function(g,c,a){var b,f,m,q,d,k,p,t,h;Object.defineProperty(c,"__esModule",{value:!0});g=a(122);b=a(11);f=a(12);m=a(56);c=a(8);q=a(5);d=a(42);k=a(96);p=a(18);t=a(20);h=a(9);K.netflix=K.netflix||{};p.Ma(!K.netflix.player);K.netflix.player={VideoSession:g.yQ,diag:{togglePanel:function(a,b){var d;d=[];if(!f.config||f.config.nN){switch(a){case"info":d=m.kn.map(function(a){return a.JX;});break;case"streams":d=m.kn.map(function(a){return a.KX;});break;case"log":d=[];}d.forEach(function(a){t.gc(b)?b?a.show():a.Ht():a.toggle();});}},addLogMessageSink:function(a){q.$.get(d.mk).addListener({kRb:function(){},mnb:function(b){a({data:b.data});}});}},log:q.qg("Ext"),LogLevel:c.oi,addLogSink:function(a,b){q.$.get(k.FB).jY(a,b);},getVersion:function(){return"6.0022.162.011";},isWidevineSupported:function(a){var f;function d(a){return function(b,d){return d.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.en,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.Wx,robustness:"SW_SECURE_CRYPTO"}]}];try{h.$k.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var c;c=f.getConfiguration();f=c.videoCapabilities||[];c=(c.audioCapabilities||[]).reduce(d(b.Wx),!1);f=f.reduce(d(b.en),!1);a(c&&f);})["catch"](function(){a(!1);});}catch(H){a(!1);}}};},function(g,c,a){var b,f,m,q,d,k,p,t,h,y;Object.defineProperty(c,"__esModule",{value:!0});g=a(23);c=a(2);b=a(8);f=a(79);m=a(151);q=a(11);d=a(12);k=a(5);p=a(124);t=a(56);h=a(122);y=a(188);k.$.get(g.rf).register(c.I.Wia,function(a){var g,u,B;function c(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):k.$.get(y.k1).yf(this.log,{},{fua:a,password:b}).then(function(){});}if(d.config.kcb){g=k.$.get(m.fQ);u=k.$.get(f.Vr);B=k.$.get(b.Bb).ub("Test");h.yQ.pJ.test={pboRequests:g.fx.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:t.kn,getPlayback:function(a){return t.kn.find(function(b){return b.ia===a;});},playgraphManager:{isNextSegmentReady:function(a,b){var d,f;return void 0!==(null===(f=null===(d=t.kn.find(function(b){return b.ia===a;}))||void 0===d?void 0:d.ob)||void 0===f?void 0:f.NU(b));}},aseManager:{cacheDestroy:function(){return p.pl.TS();}},device:{esn:K._cad_global.device.Pg,esnPrefix:u.tt,errorPrefix:u.dE},log:{info:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return B.info(a,d);},error:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return B.error(a,d);},warn:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return B.warn(a,d);},trace:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return B.trace(a,d);},log:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return B.log(a,d);},debug:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return B.debug(a,d);}},login:c};}a(q.kd);});},function(g,c,a){var b,f,m,q,d,k,p,t,h,y,B;Object.defineProperty(c,"__esModule",{value:!0});b=a(105);f=a(122);m=a(11);q=a(12);g=a(2);d=a(5);k=a(18);p=a(19);t=a(20);h=a(16);y=a(42);B=a(61);a=a(23);d.$.get(a.rf).register(g.I.Uia,function(a){var c,g;c=d.qg("NccpApi");g=p.S2a();f.yQ.pJ.nccp={getEsn:function(){return b.Sh.Pg;},getPreferredLanguages:function(){return q.config.ot.Gca;},setPreferredLanguages:function(a){k.Ma(h.isArray(a)&&t.Kz(a[0]));q.config.ot.Gca=a;},queueLogblob:function(a,b,f){var k;if(a&&b)if(b=b.toLowerCase(),g[b]){k=d.$.get(y.mk);a=d.$.get(B.Jo).wm(a,b,f);k.xc(a);}else c.warn("Invalid severity",{severity:b});},flushLogblobs:function(){d.$.get(y.mk).flush(!0);}};a(m.kd);});},function(g,c,a){var b,f,m,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(73);f=a(38);m=a(18);q=a(19);d=a(20);c.kLa=function(a,b){m.Ma(a);m.Ma(b);m.oK(b.Rbb,"endpointURL property is required");m.Ma(b.Bq);this.log=a;this.SCa=b;};c.kLa.prototype.ow=function(){var a,c,g;a=this;a.log.trace("Downloading config data.");c={browserInfo:JSON.stringify(a.SCa.Bq)};g=a.SCa.Rbb+"?"+f.EM(c);return new Promise(function(f,c){function k(b){var d;try{if(b.Z){d=new Uint8Array(b.content);return{Z:!0,config:JSON.parse(String.fromCharCode.apply(null,d)).core.initParams};}return{Z:!1,message:"Unable to download the config. "+b.kb,uL:b.Ci};}catch(T){return b=q.Re(T),a.log.error("Unable to download the config. Received an exception parsing response",{message:T.message,exception:b,url:g}),{Z:!1,kb:b,message:"Unable to download the config. "+T.message};}}function m(b,f,c){return f>c?(a.log.error("Config download failed, retry limit exceeded, giving up",d.cb({Attempts:f-1,MaxRetries:c},b)),!1):!0;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function t(g,h,u){b.Af.download(g,function(b){var x;b=k(b);if(b.Z)f(b);else{a.log.warn("Config download failed, retrying",d.cb({Attempt:h,WaitTime:x,MaxRetries:u},b));if(m(b,h+1,u))return x=q.zDa(1E3,1E3*Math.pow(2,Math.min(h-1,u))),p(x).then(function(){return t(g,h+1,u);});c(b);}});}return b.Af?t({url:g,responseType:3,withCredentials:!0,OD:"config-download"},1,3):Promise.reject({Z:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,c,a){var b,f,m,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(11);g=a(2);m=a(5);q=a(180);a=a(23);m.$.get(a.rf).register(g.I.Jia,function(a){b.config.Cdb&&m.$.get(q.pia).start();a(f.kd);});},function(g,c,a){var b,f,m,q,d,k,p,t,h,y,B,x,H,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(158);f=a(268);g=a(56);m=a(12);q=a(55);d=a(11);k=a(38);p=a(30);t=a(19);h=a(9);y=a(5);B=a(120);x=a(15);H=a(44);l=a(23);g.sla(g.nla,function(a){var ba,ca,V,ja,M,na;function c(b){b.newValue>=x.mb.LOADING&&(a.state.removeListener(c),r("type=openplay&sev=info&locstor="+h.Y0(n())),V=p.Lg(),G());}function g(){na("type=startplay&sev=info&outcome=success");}function u(){var d,f;d=a.Di;if(d){f="type=startplay&sev=error&outcome=error";d=b.Rwa(H.oNa,d);t.ad(d,function(a,b){f+="&"+h.Y0(a)+"="+h.Y0(b||"");});na(f);}else na("type=startplay&sev=info&outcome=abort");}function G(){var a,b;a=ja.shift();if(0<a){b=h.gn(a-(p.Lg()-V),0);ca=setTimeout(function(){r("type=startstall&sev=info&kt="+a);G();},b);}}function P(){na("type=startplay&sev=info&outcome=unload");}function n(){var a,b,d;try{b=""+p.dT();localStorage.setItem("player$test",b);d=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==d?"success":"mism";}catch(Ea){a="ex: "+Ea;}return a;}function r(b){b=M+"&soffms="+a.n9()+"&"+b;a.Hc&&Object.keys(a.Hc).length&&(b+="&"+k.EM(t.cb({},a.Hc,{prefix:"sm_"})));f.kzb("playback",b,ba);}ba=y.$.get(B.lB).host+m.config.Dfa;if(m.config.iHa&&ba&&m.config.jHa.playback){ja=m.config.lzb.slice();M="xid="+a.ia+"&pbi="+a.index+"&uiLabel="+(a.he||"");a.state.addListener(c);a.addEventListener(x.S.Ok,g);a.addEventListener(x.S.df,u);q.Ge.addListener(q.Fl,P,d.LB);na=function(b){var f;na=d.Le;f=y.$.get(l.rf);b+="&initstart="+f.startTime+"&initend="+f.endTime;r(b);clearTimeout(ca);a.removeEventListener(x.S.Ok,g);a.removeEventListener(x.S.df,u);q.Ge.removeListener(q.Fl,P);};}});},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(92);b=a(12);f=a(5);g.yH(function(a,c){var d,g,m,t;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,b.config.Hzb);g=d[c.he];if(b.config.Izb&&g){m={};t=f.Rg(a,"MediaStreamFilter");return{PK:"uiLabel",uu:function(a){if(a.lower&&a.height>g)return m[a.height]||(m[a.height]=!0,t.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:a.height}),c.In.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(g,c,a){var f,m,q,d;function b(a){var c,g;function b(f){f=f.s5a;a.removeEventListener(d.S.vba,b);try{m.bkb(f.data[0])&&(g=!0,a.ywb());c.trace("RA check",{HasRA:g});}catch(B){c.error("RA check exception",B);}}c=f.Rg(a,"RAF");a.addEventListener(d.S.vba,b);return{PK:"ra",uu:function(a){if(!g&&a.xp)return a=a.wf,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(c,"__esModule",{value:!0});g=a(92);f=a(5);m=a(269);q=a(44);d=a(15);q.Jla&&g.yH(b);c.JGb=b;},function(g,c,a){var f,m;function b(a,b){var d,c;d=m.Rg(a,"MSS");if(f.config.vnb)return{PK:"mss",uu:function(a){var f,g;if(a.lower&&2160<=a.height)a:{for(f=a;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===c){try{g=K.MSMediaKeys;c=g&&g.isTypeSupportedWithFeatures?"probably"===g.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(B){d.error("hasUltraHdDisplay exception");c=!0;}c||(d.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.In.set({reason:"microsoftScreenSize",height:a.height}));}return!c;}}};}Object.defineProperty(c,"__esModule",{value:!0});g=a(92);f=a(12);m=a(5);g.yH(b);c.IGb=b;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(92).yH(function(){return{PK:"op",uu:function(){}};});},function(g,c,a){var f,m,q,d,k,p,t,h,y;function b(a,b){var u,x,B,l,n,R,r,ea,ba,ca,V;function c(){var d;d=a.Qb.value===h.jb.Cc&&a.state.value===h.mb.jd&&a.u===b.u;V?d||(clearInterval(V),R=V=void 0):d&&(V=K.setInterval(g,1E3));}function g(){var b,f,c,g,k,m;b=a.We.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){f=d.Lg();c=a.Gi.tz();if(c){if(R&&2E3>f-R.time&&b===R.height){g=c-R.uab;k=x[b];k||(x[b]=k=[],b>ea&&(n.push(b),q.ZZ(n)));0<g&&!(ca&&ca<b)&&(ca=b);k.push(g);k.length>r&&k.shift();(k=l[b])||(l[b]=k={});m=k[g];k[g]=m?m+1:1;}R={time:f,uab:c,height:b};a.JX&&a.JX.cwb(x);}}}u=k.Rg(a,"DFF");x={};B=f.config.yab;l={};n=[];r=f.config.wab;ea=f.config.xab;ba=m.rQa;if(f.config.vab)return b.i7={Ydb:function(){var a;a={};l&&n.forEach(function(b){var d,f,c;d=l[b];if(d){f=0;c=0;y.ad(d,function(a,b){c+=p.de(a);f+=b;});a[b]=c/f;}});return a;},jL:function(a){var b;b={};a.forEach(function(a){b[a]={};});l&&(q.ZZ(a),n.forEach(function(d){var f,c,g,k;f=l[d];if(f){c=0;g=0;y.ad(f,function(a,b){c+=b;});k=Object.keys(f).map(Number);q.ZZ(k);for(var m=k.length-1,p=k[m],h=a.length-1;0<=h;h--){for(var u=a[h];p>=u&&0<=m;)(p=f[p])&&(g+=p),p=k[--m];b[u][d]=t.pi(g/c*100);}}}));return b;}},a.state.addListener(c),a.Qb.addListener(c),a.addEventListener(h.S.bo,c),{PK:"df",uu:function(a){var d,c,g,k;if(a.lower&&a.height>ea){a=a.height;a:{if(ca){d=n.length;for(var f=0;f<d;f++){c=n[f];if(c>=ca&&c<ba){g=x[c];if(k=g)b:{k=B.length;for(var m=g.length,p=0;p<k;p++)for(var t=B[p],q=t[0],t=t[1],h=0;h<m;h++)if(g[h]>=t&&0>=--q){k=!0;break b;}k=!1;}if(k&&ba!=c){u.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:c});b.In.set({reason:"droppedFrames",height:c});d=ba=c;break a;}}}ca=void 0;}d=ba;}a=a>=d;}else a=!1;return a;}};}Object.defineProperty(c,"__esModule",{value:!0});g=a(92);f=a(12);m=a(11);q=a(38);d=a(30);k=a(5);p=a(20);t=a(9);h=a(15);y=a(19);g.yH(b);c.HGb=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(5);a=a(337);a=g.$.get(a.sga);a;},function(g,c,a){var b,f,m,q,d,k,p,t,h,y,B,x,H,l,P;Object.defineProperty(c,"__esModule",{value:!0});b=a(158);f=a(11);m=a(12);q=a(56);d=a(30);g=a(2);k=a(5);p=a(117);t=a(9);h=a(50);y=a(16);B=a(42);x=a(61);a=a(23);P=k.$.get(a.rf);P.register(g.I.Lia,function(a){var g;function c(){var a,f,c,k;a=P.startTime;f={browserua:t.pk,browserhref:t.Z0.href,initstart:a,initdelay:P.endTime-a};(a=t.je.documentMode)&&(f.browserdm=""+a);"undefined"!==typeof K.nrdp&&K.nrdp.device&&(f.firmware_version=K.nrdp.device.firmwareVersion);y.Kz(m.config.Sua)&&(f.fesn=m.config.Sua);Object.assign(f,b.Ywa());c=t.Qr&&t.Qr.timing;c&&m.config.Slb.map(function(a){var b;b=c[a];b&&(f["pt_"+a]=b-d.U5a());});k=g.Bwa();Object.keys(k).forEach(function(a){return f["m_"+a]=k[a];});a=l.wm("startup","info",f,q.NH.d8);H.xc(a);}l=k.$.get(x.Jo);H=k.$.get(B.mk);g=k.$.get(p.jy);P.WL(function(){H.Sb();h.Jb(c);});a(f.kd);});},function(g,c,a){var b,f,m,h,d,k,p,t,u,y,B,x,H,l,P,n,T,U,C;Object.defineProperty(c,"__esModule",{value:!0});b=a(191);f=a(105);m=a(12);h=a(11);g=a(44);d=a(2);k=a(18);p=a(5);t=a(117);u=a(63);y=a(69);B=a(19);x=a(9);H=a(16);l=a(38);P=a(97);n=a(4);c=a(23);T=a(349);U={};C=p.$.get(c.rf);g.Jja&&C.register(d.I.Nia,function(a){var G,S,R,r,na,sa,N,ha,A,za,Fa,ya,ma,F;function c(b){b&&b.userList&&m.config.Pwb&&(b.userList=[]);r({esn:f.Sh.Pg,esnPrefix:f.Sh.tt,authenticationType:m.config.vJ,authenticationKeyNames:m.config.Xqa,systemKeyWrapFormat:m.config.xyb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ma,storeState:b,notifyMilestone:C.Xc.bind(C),log:N,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.G.NQa,MSL_READ_TIMEOUT:d.G.MQa}},{result:function(a){g(a);},timeout:function(){a({ba:d.G.Lja});},error:function(b){a(q(d.G.Lja,void 0,b));}});}function g(b){var c,g,t;function f(){ya&&p.$.get(y.Fr).create().then(function(a){return a.save(za,g,!1);})["catch"](function(a){N.error("Error persisting msl store",d.Ho(a));});}c=p.$.get(P.TB)(n.Cb(100));t=na.extend({init:function(a){this.Eoa=a;},getResponse:function(a,b,d){var f,c;b=this.Eoa;f=b.YAa.Af||f;a=H.Sya(a.body)?p.MZ(a.body):a.body;k.oK(a,"Msl should not be sending empty request");a={url:b.url,Bca:a,withCredentials:!0,OD:"nq-"+b.method,headers:b.headers};b=this.Eoa.timeout;a.iT=b;a.Fba=b;c=f.download(a,function(a){try{if(a.Z)d.result({body:a.content});else if(400===a.Ci&&a.kb)d.result({body:a.kb});else throw B.cb(new sa("HTTP error, SubCode: "+a.ba+(a.Ci?", HttpCode: "+a.Ci:"")),{cadmiumResponse:a});}catch(sd){d.error(sd);}});return{abort:function(){c.abort();}};}});A&&b.addEventHandler("shouldpersist",function(a){g=a.storeState;c.zb(f);});B.cb(U,{tOb:function(){Fa=!0;},send:function(a){function f(){var b,d;b=a.YAa;d={method:a.method,nonReplayable:a.zob,encrypted:a.cj,userId:a.RAb,body:a.body,timeout:2*a.timeout,url:new t(a),allowTokenRefresh:ya,sendUserAuthIfRequired:F,shouldSendUserAuthData:m.config.Uwb};b.fua?(d.email=b.fua,d.password=b.password||""):b.fzb?(d.token=b.fzb,d.mechanism=b.uPb,b.wba&&(d.netflixId=b.wba,d.secureNetflixId=b.dvb),b.Pca&&(d.profileGuid=b.Pca)):b.wba?(d.netflixId=b.wba,d.secureNetflixId=b.dvb):b.Xmb?(d.mdxControllerToken=b.Xmb,d.mdxPin=b.sPb,d.mdxNonce=b.rPb,d.mdxEncryptedPinB64=b.qPb,d.mdxSignature=b.tPb):Fa||b.useNetflixUserAuthData?d.useNetflixUserAuthData=!0:b.Pca&&(d.profileGuid=b.Pca);return d;}return new Promise(function(a,c){var g;g=f();b.send(g).then(function(b){Fa&&(Fa=!1);a({Z:!0,body:b.body});})["catch"](function(a){var f,g;if(a.error){f=a.error.cadmiumResponse&&a.error.cadmiumResponse.ba?a.error.cadmiumResponse.ba:b.isErrorReauth(a.error)?d.G.Kja:b.isErrorHeader(a.error)?d.G.GQa:d.G.FQa;g=b.getErrorCode(a.error);c(q(f,g,a.error));}else N.error("Unknown MSL error",a),a.Pc=a.subCode,c({ba:a.Pc?a.Pc:d.G.OQa});});});},uM:b});a(h.kd);p.$.get(T.S0).gob(U);}function q(a,b,d){var f,c,g,k;k={ba:a,cE:b};if(d){f=function(a){var b;a=a||""+d;if(d.stack){b=""+d.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(g=d.cadmiumResponse){if(c=g.Pd&&g.Pd.toString())g.Pd=c;g.ba=a;g.cE=b;g.kb=f(d.message);g.error={Pc:a,Qg:c,br:b,data:d.cause,message:d.message};return g;}f=f(d.errorMessage);c=B.de(d.internalCode)||B.de(d.error&&d.error.internalCode);g=void 0!==d.Ybb?l.JBa(d.Ybb):void 0;}f&&(k.kb=f);c&&(k.Pd=c);k.error={Pc:a,Qg:c.toString(),br:b,data:g,message:f};return k;}k.Ma(m.config);G=p.$.get(t.jy);S=u.gd.Ti;if(x.Xu&&x.Mn&&x.Mn.unwrapKey){try{R=K.netflix.msl;r=R.createMslClient;na=R.IHttpLocation;sa=R.MslIoException;}catch(lb){a({ba:d.G.HQa});return;}N=p.qg("Msl");ha=m.config.cob;A=m.config.eob;za=m.config.Gq?"mslstoretest":"mslstore";R=b.lG.qFa;Fa=m.config.Wib;ya=!R||R.Z;ma=p.rm(m.config.Gq?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");F=!!m.config.iea;p.$.get(y.Fr).create().then(function(b){ha?b.remove(za).then(function(){c();})["catch"](function(a){N.error("Unable to delete MSL store",d.Ho(a));c();}):A?b.load(za).then(function(a){G.mark(S.JQa);c(a.value);})["catch"](function(f){f.ba==d.G.av?(G.mark(S.LQa),c()):(N.error("Error loading msl store",d.Ho(f)),G.mark(S.KQa),b.remove(za).then(function(){c();})["catch"](function(b){a(b);}));}):c();})["catch"](function(b){N.error("Error creating app storage while loading msl store",d.Ho(b));a(b);});}else a({ba:d.G.IQa});});},function(g,c,a){var h,d,k,p;function b(a,b,c,g){var t,q,u;h.Ma(p.jf(a)&&!p.isArray(a));g=g||"";t="";q=a.hasOwnProperty(k.yj)&&a[k.yj];q&&d.ad(q,function(a,b){t&&(t+=" ");t+=a+'="'+m(b)+'"';});c=(b?b+":":"")+c;q=g+"<"+c+(t?" "+t:"");u=a.hasOwnProperty(k.Dr)&&a[k.Dr].trim&&""!==a[k.Dr].trim()&&a[k.Dr];if(u)return q+">"+m(u)+"</"+c+">";a=f(a,b,g+"  ");return q+(a?">\n"+a+"\n"+g+"</"+c+">":"/>");}function f(a,f,c){var g;h.Ma(p.jf(a)&&!p.isArray(a));c=c||"";g="";d.ad(a,function(a,k){var q;if("$"!=a[0])for(var t=d.Faa(k),h=0;h<t.length;h++)if(k=t[h],g&&(g+="\n"),p.jf(k))g+=b(k,f,a,c);else{q=(f?f+":":"")+a;g+=c+"<"+q+">"+m(k)+"</"+q+">";}});return g;}function m(a){if(p.ce(a))return d.f$(a);if(p.ka(a))return h.xT(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";h.Ma(!1,"Invalid xml value.");return"";}Object.defineProperty(c,"__esModule",{value:!0});h=a(18);d=a(19);k=a(125);p=a(16);c.POb=b;c.QOb=f;c.GRb=m;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(2);b=a(5);f=a(317);a=a(23);b.$.get(a.rf).register(g.I.Kia,function(a){b.$.get(f.Mha)().then(function(){a({Z:!0});})["catch"](function(f){b.log.error("error in initializing indexedDb debug tool",f);a({Z:!0});});});},function(g,c,a){var b,f,m,h,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(38);f=a(11);m=a(12);h=a(2);d=a(488);k=a(44);p=a(9);g=a(5);a=a(23);t=g.$.get(a.rf);k.Jja&&t.register(h.I.Xia,function(a){p.Mn&&p.Mn.generateKey&&p.Mn.importKey&&p.Mn.unwrapKey?!k.bh.jha&&m.config.vJ!=d.cP.$Sa&&m.config.vJ!=d.cP.xQa||p.X0?(t.Xc("wcs"),b.qF(p.Mn.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){t.Xc("wcdone");a(f.kd);},function(b){var d;b=""+b;0<=b.indexOf("missing crypto.subtle")?d=h.G.P1:0<=b.indexOf("timeout waiting for iframe to load")&&(d=h.G.OWa);a({ba:d,kb:b});})):a({ba:h.G.NWa}):a({ba:h.G.P1});});},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(12);a(11);g=a(5);a(96);a(196);a(2);a(97);a(4);a=a(23);g.$.get(a.rf);},function(g,c,a){var p,t,u,y,B;function b(a){var b,f;t.oK(a);if(u.ce(a)&&c.uPa.test(a)){b=a.split(".");if(4===b.length){for(var d=0;d<b.length;d++){f=u.de(b[d]);if(0>f||!B.Dw(f,0,255)||1!==b[d].length&&0===b[d].indexOf("0"))return;}return a;}}}function f(a){var d;d=0;if(b(a)===a)return a=a.split("."),d+=u.de(a[0])<<24,d+=u.de(a[1])<<16,d+=u.de(a[2])<<8,d+u.de(a[3]);}function m(a){var b;t.oK(a);if(u.ce(a)&&a.match(c.vPa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=h(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?d(a):b,a=b.length,8===a)){for(;a--;)if(!B.Dw(parseInt(b[a],16),0,p.sQa))return;return b.join(":");}}}function h(a){var b;a=f(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function d(a){var b,d,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);d=8-(b.length+a.length);if(1>d)return[];for(f=0;f<d;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function k(a){return-1<<32-a;}Object.defineProperty(c,"__esModule",{value:!0});p=a(11);t=a(18);u=a(20);y=a(9);B=a(16);c.uPa=/^[0-9.]*$/;c.vPa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;c.CB="0000000000000000";c.ZFb=b;c.VFb=f;c.$Fb=m;c.XFb=h;c.YFb=d;c.aGb=function(a,d,g){var p,h,t,q;p=b(a);h=m(a);t=b(d);q=m(d);if(!p&&!h||!t&&!q||p&&!t||h&&!q)return!1;if(a===p)return g=k(g),(f(a)&g)!==(f(d)&g)?!1:!0;if(a===h){a=a.split(":");d=d.split(":");for(p=y.Yx(g/c.CB.length);p--;)if(a[p]!==d[p])return!1;g%=c.CB.length;if(0!==g)for(a=parseInt(a[p],16).toString(2),d=parseInt(d[p],16).toString(2),a=c.CB.substring(0,c.CB.length-a.length)+a,d=c.CB.substring(0,c.CB.length-d.length)+d,p=0;p<g;p++)if(a[p]!==d[p])return!1;return!0;}return!1;};c.WFb=k;},function(g,c,a){var b,f,m,h,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);f=a(18);a(19);m=a(20);h=a(2);d=a(44);k=a(50);p=a(9);a(16);t=a(135);c.ZOb=function(a,c){var u,y,l;function g(a){var b;b=c;c=m.Le;b(a);}function q(a){var b,d,c,m;try{b=JSON.parse(a.data);d=b.method;c=b.success;m=b.payload;f.Ma("ready"==d);"ready"==d&&(y.removeEventListener("message",q),l.th(),k.Jb(function(){u.info("Plugin sent ready message");c?g({success:!0,pluginObject:y,pluginVersion:m&&m.version}):g({ba:h.G.Lka,Pd:b.errorCode});}));}catch(O){u.error("Exception while parsing message from plugin",O);g({ba:h.G.Mka});}}u=b.qg("Plugin");f.Ma(a);if(a){a=a[0].type;u.info("Injecting plugin OBJECT",{Type:a});y=m.createElement("OBJECT",d.bh.TSa,void 0,{type:a,"class":"netflix-plugin"});y.addEventListener("message",q);l=b.$.get(t.UB)(8E3,function(){u.error("Plugin load timeout");g({ba:h.G.Oka});});p.je.body.appendChild(y);l.st();}else g({ba:h.G.Nka});};c.aPb=function(){};c.$Ob=function(a){var d,f,c;d=b.qg("Plugin");f=1;c={};a.addEventListener("message",function(a){var b,f,g,k;try{b=JSON.parse(a.data);f=b.success;g=b.payload;k=c[b.idx];k&&(f?k({Z:!0,bLb:g}):k({Z:!1,ba:h.G.RSa,kb:b.errorMessage,Pd:b.errorCode}));}catch(U){d.error("Exception while parsing message from plugin",U);}},!1);return function(g,k,m){var q,u,x,y;function p(a){a.Z||d.info("Plugin called back with error",{Method:g},h.Ho(a));x.th();delete c[q];m(a);}try{q=f++;u={idx:q,method:g};u.argsObj=k||{};x=b.$.get(t.UB)(8E3,function(){d.error("Plugin never called back",{Method:g});delete c[q];m({ba:h.G.SSa});});x.st();y=JSON.stringify(u);c[q]=p;a.postMessage(y);}catch(O){d.error("Exception calling plugin",O);m({ba:h.G.USa});}};};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(5);c=a(96);a=a(196);g.$.get(c.FB).jY(a.Cja.IKa,function(a){var b,c;b=a.level;if(!K._cad_global.config||b<=K._cad_global.config.Wlb){a=a.tZ();c=K.console;1>=b?c.error(a):2>=b?c.warn(a):c.log(a);}});},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(20);f=a(9);c.NJb=function(a,b,d){for(d=(d-a.length)/b.length;0<d--;)a+=b;return a;};c.LJb=function(a,f,d){d=b.ce(d)?d:"...";return a.length<=f?a:a.substr(0,a.length-(a.length+d.length-f))+d;};c.MJb=function(a,b){var c;for(var d=1;d<arguments.length;++d);c=f.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof c[b]?c[b]:a;});};c.OJb=function(a){for(var b=a.length,d=new Uint16Array(b),f=0;f<b;f++)d[f]=a.charCodeAt(f);return d.buffer;};c.WRb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,f){b[f]=a.charCodeAt(0);});return b;};},function(g){function c(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}g.P={c6a:function(a,b,c){for(var d=0;d<a.length;d++)if(a[d]!==b[d])return c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},m6:function(a,b,c){var d;d={};d.displayTime=a.bj;d.duration=a.duration;d.originX=a.yX;d.originY=a.zX;d.sizeX=a.WY;d.sizeY=a.XY;d.imageData=b;d.id=a.Rq;d.rootContainerExtentX=c.tY;d.rootContainerExtentY=c.uY;return d;},Neb:function(a,b){return"o_"+a+"s_"+b;},eIa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},gc:function(a){return"undefined"!==typeof a;},avb:function(a,b){return a.some(function(a){return a.id===b;});},Bab:function(f,g){return f.filter(c.bind(null,g)).map(a).reduce(b,0);},eL:function(a,b){var f,d;f=Object.create({});for(d in a)f[d]=a[d];a instanceof Error&&(f.message=a.message,f.stack=a.stack);f.errorString=b;return f;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g){function c(a){this.buffer=a;this.position=0;}c.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Tj:function(){return this.buffer.length-this.position;},se:function(){return this.buffer[this.position++];},Dd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},oc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},ir:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},bda:function(){for(var a="",b;b=this.se();)a+=String.fromCharCode(b);return a;},Gb:function(){return this.oc(2);},Ka:function(){return this.oc(4);},hg:function(){return this.oc(8);},dY:function(){return this.oc(2)/256;},iN:function(){return this.oc(4)/65536;},nf:function(a){for(var b,f="";a--;)b=this.se(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},ex:function(){return this.nf(4)+"-"+this.nf(2)+"-"+this.nf(2)+"-"+this.nf(2)+"-"+this.nf(6);},jN:function(a){for(var b=0,f=0;f<a;f++)b+=this.se()<<(f<<3);return b;},AA:function(){return this.jN(4);},VO:function(a){this.buffer[this.position++]=a;},WZ:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},UO:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},iB:function(a,b){this.UO(a.Dd(b));}};g.P=c;},function(g,c,a){var C,R,r,ea,ba,ca;function b(a){C.call(this);this.yeb=p;this.zk=a.url;this.RI=a.request;this.HR=a.Oc||0;this.qR=a.jh;this.sb=a.la;this.Jj=this.Hh=null;this.lI={};this.hv=0;this.CI=a.bufferSize||4194304;this.q3={};this.Opa=a.version||1;a.key&&(this.zna=a.crypto,this.ty=this.zna.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.ho?this.Hh=a.ho:(this.Jd=a.offset,this.MC=a.size);}function f(){}function m(){}function h(a,b){var c,g,k,m,p,h,t,q;if(a)this.emit(ba.ERROR,ea.eL(a,ca.yQa));else try{if(2===this.Opa){g=new f();k=r.$ca(b)[0];m=k.pw("636F6D2E-6E65-7466-6C69-782E68696E66");p=k.pw("636F6D2E-6E65-7466-6C69-782E6D696478");g.IV=m.HS;g.fh=m.fh;g.io=m.io;g.u=m.u;g.tY=m.tY;g.uY=m.uY;g.language=m.Ikb;g.Fyb=m.hyb;g.startOffset=p.qvb;h=[];t=0;for(a=0;a<p.Za.length;a++){q=p.Za[a];b={};b.duration=q.duration;b.size=q.size;h.push(b);t+=b.duration;}g.entries=h;g.endTime=t;c=g;}else{h=new R(b);t=new f();t.identifier=h.ir(4);ea.assert("midx"===t.identifier);t.version=h.oc(4);ea.assert(0===t.version);t.IV=h.Dd(36);t.fh=h.hg();t.io=h.hg();t.u=h.hg();t.tY=h.Gb();t.uY=h.Gb();t.language=h.Dd(16);t.Fyb=h.Dd(16);t.startOffset=h.hg();t.ym=h.Gb();g=[];for(q=p=0;q<t.ym;q++)a={},a.duration=h.oc(4),a.size=h.Gb(),g.push(a),p+=a.duration;t.entries=g;t.endTime=p;c=t;}this.Hh=c;d.call(this);}catch(ya){this.emit(ba.ERROR,ea.eL(ya,ca.zQa));}}function d(){var a,b;a=this.Hh;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.zk,offset:b,size:a},this.emit(ba.AQa,this.Hh),this.RI(b,k.bind(this))):this.emit(ba.ERROR,ea.eL({},ca.GRa));}function k(a,b){var d,f,c,g;d=this;if(a)d.emit(ba.ERROR,ea.eL(a,ca.UUa));else{f=0;c=[];g=0;try{d.Hh.entries.forEach(function(a){var k,p,h,t,q,x,y;p=f;h=d.Hh.IV;t=d.sb;if(2===d.Opa){k=new m();q=r.$ca(b);k.entries=[];k.images=[];for(var u=0;u<q.length;u++)for(h=q[u],p=h.pw("636F6D2E-6E65-7466-6C69-782E73696478"),h=h.pw("636F6D2E-6E65-7466-6C69-782E73656E63"),t=0;t<p.qo.length;t++){x={};y=p.qo[t];x.bj=y.bj;x.duration=y.duration;x.yX=y.yX;x.zX=y.zX;x.WY=y.WY;x.XY=y.XY;x.Rq=y.Rq;x.DE=y.DE;if(y=h&&h.qo[t])x.bU={Gw:y.Gw.slice(0),mode:y.vua};k.entries.push(x);}}else{k=new R(b);q=new m();u=0;k.position=p;q.identifier=k.ir(4);ea.assert("sidx"===q.identifier);q.IV=k.Dd(36);ea.c6a(q.IV,h,t);q.duration=k.oc(4);q.ym=k.Gb();q.entries=[];for(q.images=[];u<q.ym;)p={},p.bj=k.oc(4),p.duration=k.oc(4),p.yX=k.Gb(),p.zX=k.Gb(),p.WY=k.Gb(),p.XY=k.Gb(),p.Rq=k.hg(),p.DE=k.oc(4),u++,q.entries.push(p);k=q;}c.push(k);a.Hea=k;k.Yca=g;k.gN=g+a.duration;g=k.gN;q=k.entries;q.length&&(k.startTime=q[0].bj,k.endTime=q[q.length-1].bj+q[q.length-1].duration);f+=a.size;});}catch(ha){d.emit(ba.ERROR,ea.eL(ha,ca.VUa));return;}d.Jj=c;d.emit(ba.WUa,this.Jj);a=t.call(d,d.HR,2);a.length?x.call(d,a,d.HR,function(a){a&&d.sb.error("initial sidx download failed");d.emit(ba.Ila);}):d.emit(ba.Ila);}}function p(a){var b,d,f,c,g;b=t.call(this,a,2);d=(d=this.Hh)?d.endTime:void 0;if(a>d)return[];f=this.lI.or;c=this.lI.index;d=[];c=ea.gc(c)&&this.Jj[c+1];if(!(c&&c.entries.length||f&&!(a>f.endTime)))return[];b.length&&x.call(this,b,a);f&&f.images.length&&(d=y(f,a,[],this.Hh));c&&c.images.length&&(b=y(c,a,d,this.Hh),d.push.apply(d,b));b=B(d);if(this.Jj&&0!=this.Jj.length){d=this.Jj[Math.floor(a/6E4)];if(!(d.Yca<=a&&a<=d.gN))a:{d=this.Jj.length;if(!this.Xbb){this.Xbb=!0;b:{try{g=String.fromCharCode.apply(String,this.Hh.language);break b;}catch(ha){}g="";}this.sb.error("bruteforce search for ",{movieId:this.Hh.u,packageId:this.Hh.io,lang:g});}for(g=0;g<d;g++)if(f=this.Jj[g],f.Yca<=a&&a<=f.gN){d=f;break a;}d=void 0;}g=d;}else g=void 0;if(d=g&&0<g.entries.length&&0===g.images.length)a:{d=g.entries.length;for(c=0;c<d;c++)if(f=g.entries[c],f.bj<=a&&f.bj+f.duration>=a){d=!0;break a;}d=!1;}return d?null:b;}function t(a,b){var d,g;d=[];if(a=u.call(this,a))this.lI=a;else return this.lI={},d;for(var f=0,c=this.Jj?this.Jj.length:0;f<b&&a.index+f<c;){g=this.Jj[a.index+f];g&&!g.images.length&&d.push(g);f++;}return d;}function u(a){var b,d,f,c,g,k,m;d=this.lI;f=d.or;c=d.index;g=this.Jj;this.hh(ea.gc(a));f&&(0===c&&a<=f.startTime?(m=!0,b=d):a>=f.startTime&&a<=f.endTime?(m=!0,b=d):(k=g[c-1],g=g[c+1],k&&a>k.endTime&&a<=f.startTime?(m=!0,b=d):g&&a>=f.endTime&&a<=g.endTime&&(m=!0,b={or:g,index:c+1})));if(!m)for(d=this.Hh.entries,f=d.length,c=0;c<f;c++)if(k=d[c].Hea,a<=k.startTime||a>k.startTime&&a<=k.endTime){b={or:d[c].Hea,index:c};break;}return b;}function y(a,b,d,f){var c,g,k,m,p,h;c=a.entries;g=c.length;k=[];p=0;if(!c.length)return k;for(;p<g;){m=c[p];if(m.bj<=b)m.bj+m.duration>=b&&k.push(ea.m6(m,a.images[p].data,f));else{h=k.length&&k[k.length-1]||d.length&&d[d.length-1];if(h&&h.bj>b&&h.bj!==m.bj)break;h.Rq!==m.Rq&&k.push(ea.m6(m,a.images[p].data,f));}p++;}return k;}function B(a){return a.map(function(b,d){b.duration+=ea.Bab(a.slice(d+1),b);return b;}).reduce(function(a,b){ea.avb(a,b.id)||a.push(b);return a;},[]);}function x(a,b,d){var f,c,g,k,m,p;f=this;c=a[0];g=a[a.length-1];0<c.entries.length&&(k=c.entries[0].Rq,m=c.entries[c.entries.length-1]);0<g.entries.length&&(ea.gc(k)||(k=g.entries[0].Rq),m=g.entries[g.entries.length-1]);if(k){c=m.Rq+m.DE-k;p=ea.Neb(k,c);f.q3[p]||(f.q3[p]=!0,H.call(f,a,b),f.RI({url:f.zk,offset:k,size:c},function(b,c){var g,m,h,t;setTimeout(function(){delete f.q3[p];},1E3);if(b)d&&d(b);else{g=new R(c);m=0;t=[];a.forEach(function(a){a.entries.forEach(function(b,d){var c,p;g.position=b.Rq-k;c={data:g.Dd(b.DE)};p=b.bU;p&&(c.Gw=p.Gw,c.vua=p.mode,h=!0,t.push(c));a.images[d]=c;!b.bU&&ea.eIa(a.images[d].data,f.hh.bind(f));m+=a.images[d].data.length;});});f.hv+=m;h?f.ty.then(function(a){return U.call(f,t,a);}).then(function(){d&&d(null);})["catch"](function(a){f.sb.error("decrypterror",a);d&&d({Z:!1});}):d&&d(null);}}));}else d&&d(null);}function H(a,b){var g,k,m,p,h,t;function d(){return{pts:b,hasEnoughSpace:g.hv+k<=g.CI,required:k,currentSize:g.hv,max:g.CI,currentIndex:u.call(g,b).index,sidxWithImages:n.call(g),newSidxes:a.map(function(a){return g.Jj.indexOf(a);})};}function f(a,b){g.qR&&!a&&g.sb.info("not done in iteration",b);}function c(a){var b,d,f;b=g.Jj[a];d=b.images&&b.images.length;if(0<d){f=l([b]);b.images=[];g.hv-=f;g.qR&&g.sb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:d});if(g.hv+k<=g.CI)return!0;}}g=this;k=l(a);g.sb.info("make space start:",d());if(!(g.hv+k<=g.CI)){m=u.call(g,b).index;p=!1;h=0;t=g.Jj.length-1;if(0>m){g.sb.error("inconsistent sidx index");return;}for(;!p&&h<m-2;)p=c(h),h++;for(f(p,1);!p&&t>m+2;)p=c(t),t--;for(f(p,2);!p&&h<m;)p=c(h),h++;for(f(p,3);!p&&t>m;)p=c(t),t--;f(p,4);p||g.sb.error("could not make enough space",{maxBuffer:this.CI});}g.sb.info("make space end",d());}function l(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.DE+a;},0);},0);}function n(){var a;a=[];this.Hh&&this.Hh.entries&&this.Hh.entries.reduce(function(b,d,f){var c;d=d.Hea;c=0;d&&d.images.length&&(a.push(f),c=d.images.reduce(function(a,b){return a+b.data.length;},0));return b+c;},0);return a.join(", ");}function S(a,b){return a&&a.Yca<=b&&a.gN>=b;}function T(a,b){var d,f,c,g,k,m;d=this;f=d.Hh;c=d.Jj;g=c&&c.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&c){if(0===g)return[];f=c[0].duration;if(ea.gc(f)&&0<f)f=Math.floor(a/f),k=f<g&&S(c[f],a)?c[f]:void 0;else for(d.qR&&d.sb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<g;f++){m=c[f];if(S(m,a)){k=m;break;}}if(ea.gc(k)){k=[];for(var p=function(d){var f;f=d.bj<=a&&a<=d.bj+d.duration;return a<=d.bj&&d.bj<=b||f;};f<g;){m=c[f];k=k.concat(m.entries.filter(p));if(b<m.gN)break;f++;}k=k.map(function(a){return ea.m6(a,null,d.Hh);});return B(k);}}}function U(a,b){var f,c;function d(a,b){var d,f;d=this;f=new Uint8Array(16);f.set(a.Gw);return d.zna.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));ea.eIa(a.data,d.hh.bind(d));});}f=this;try{c=[];a.forEach(function(a){a.Gw&&(a=d.call(f,a,b),c.push(a));});return(void 0).all(c);}catch(N){return f.sb.error("decrypterror",N),(void 0).reject(N);}}C=a(129).EventEmitter;R=a(537);r=a(310);ea=a(536);ba=b.events={AQa:"midxready",WUa:"sidxready",Ila:"ready",ERROR:"error"};ca=b.hNb={yQa:"midxdownloaderror",zQa:"midxparseerror",GRa:"nosidxfoundinmidx",UUa:"sidxdownloaderror",VUa:"sidxparseerror"};b.prototype=Object.create(C.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.Hh)this.sb.warn("midx was prefectched and provided"),d.call(this);else{a={url:this.zk,offset:this.Jd,size:this.MC,responseType:"binary"};this.sb.warn("downloading midx...");this.RI(a,h.bind(this));}};b.prototype.close=function(){};b.prototype.hh=function(a){this.qR&&ea.assert(a,this.sb);};b.prototype.tw=function(a,b){return T.call(this,a,b);};b.prototype.z9=function(a,b){return(a=this.tw(a,b))?a.length:a;};g.P=b;},function(g,c,a){var m;function b(a,b){return b.reduce(f.bind(this,a),[]);}function f(a,b,f){var d,c;d=f.displayTime-a;a=f.displayTime+f.duration-a;c=0<b.length?b[0].timeout:Infinity;return 0<d&&d<c?[{timeout:d,type:"showsubtitle",oe:f}]:d===c?b.concat([{timeout:d,type:"showsubtitle",oe:f}]):0<a&&a<c?[{timeout:a,type:"removesubtitle",oe:f}]:a===c?b.concat([{timeout:a,type:"removesubtitle",oe:f}]):b;}m=a(129).EventEmitter;c=a(270)({});a=function d(a,b,f){if(!(this instanceof d))return new d(a,b,f);m.call(this);this.ks=a;this.KYa=b;this.zs={};this.NC={};this.sb=f||console;this.JQ=!1;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.yk);Object.keys(a.zs).forEach(function(b){a.emit("removesubtitle",a.zs[b]);});a.zs={};};a.prototype.pause=function(){clearTimeout(this.yk);};a.prototype.Up=function(a,f){var d,c;d=this;c=d.ks();clearTimeout(this.yk);a=d.KYa(c);null!==a&&d.JQ&&(d.JQ=!1,d.emit("bufferingComplete"));f="number"===typeof f?f:0;Object.keys(d.zs).forEach(function(a){a=d.zs[a];a.displayTime<=c&&c<a.displayTime+a.duration||(delete d.zs[a.id],d.emit("removesubtitle",a));});Object.keys(d.NC).forEach(function(a){a=d.NC[a];c>=a.displayTime+a.duration&&delete d.NC[a.id];});null!==a&&0<a.length?(f=a.length,d.sb.info("found "+f+" entries for pts "+c),a.forEach(function(a){a.displayTime<=c&&c<a.displayTime+a.duration&&!d.zs[a.id]&&(d.emit("showsubtitle",a),d.zs[a.id]=a,delete d.NC[a.id]);}),f=a[a.length-1],d.zs[f.id]||d.NC[f.id]||(d.emit("stagesubtitle",f),d.NC[f.id]=f),f=b(c,a),0<f.length?d.QR(f[0].timeout):d.QR(2E4)):null===a?(a=250*Math.pow(2,f),2E3<a&&(a=2E3),d.sb.warn("checking buffer again in "+a+"ms"),d.JQ||(d.JQ=!0,d.emit("underflow")),d.QR(a,f+1)):d.QR(2E4);};a.prototype.QR=function(a,b){var d;d=this;d.sb.trace("Scheduling pts check.");d.yk=setTimeout(function(){d.Up(d.ks(),b);},a);};g.P=c(["function","function","object"],a);},function(g,c,a){var d,k,p;function b(a){var b;b=1;"dfxp-ls-sdh"===this.GR&&(b=a.sLb.length);this.sb.info("show subtitle called at "+this.ks()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.pv[this.pv.length-1].RY+=b;}function f(a){this.sb.info("remove subtitle called at "+this.ks()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function m(){this.sb.info("underflow fired by the subtitle timer");this.emit("underflow");}function h(){this.sb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}d=a(129).EventEmitter;k=a(539);c=a(270)();p=a(538);a=function u(a,c){var g,q;g=this;q=a.jh||!1;if(!(g instanceof u))return new u(a,c);d.call(g);g.sb=a.la||console;g.RI=a.request;g.ks=a.Vwa;g.yk=null;g.ss=!0;g.pv=[];g.GR=c.profile;g.zk=c.url;g.HR=c.Oc;g.M_a=c.Jrb;g.eYa=c.Pn;a={url:g.zk,request:g.RI,Oc:g.HR,xml:c.xml,Jrb:g.M_a,Pn:g.eYa,la:g.sb,jh:q,bufferSize:c.bufferSize,crypto:c.crypto,key:c.key,ho:c.ho};if("nflx-cmisc"===g.GR)a.offset=c.oM,a.size=c.SW,g.xd=new p(a);else if("nflx-cmisc-enc"===g.GR)a.version=2,a.offset=c.oM,a.size=c.SW,g.xd=new p(a);else throw Error("SubtitleManager: "+g.GR+" is an unsupported profile");g.xd.on("ready",function(){var a,d;a=!!c.J3a;g.sb.info("ready event fired by subtitle stream");g.emit("ready");d=g.xd.yeb.bind(g.xd);g.yk=new k(g.ks,d,g.sb);g.yk.on("showsubtitle",b.bind(g));g.yk.on("removesubtitle",f.bind(g));g.yk.on("underflow",m.bind(g));g.yk.on("bufferingComplete",h.bind(g));a&&(g.sb.info("autostarting subtitles"),setTimeout(function(){g.Up(g.ks());},10));});g.xd.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(d.prototype);a.prototype.start=function(){this.xd.start();};a.prototype.Up=function(a){this.ss&&(this.ss=!1,this.sb.info("creating a new subtitle interval at "+a),this.pv.push({U:a,RY:0}));null!==this.yk&&this.yk.Up(a);};a.prototype.stop=function(){var a;this.ks();this.sb.info("stop called");this.ss||this.pause();this.xd.removeAllListeners(["ready"]);null!==this.yk&&this.yk.stop();a=this.pv.reduce(function(a,b){a.SFa+=b.RY;a.Sn+=b.Iua;a.tjb.push(b);return a;},{SFa:0,Sn:0,tjb:[]});"object"===typeof this.xd&&this.xd.close();this.sb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.ks();if(this.ss)this.sb.warn("pause called on subtitle manager, but it was already paused!");else{this.sb.info("pause called at "+a);this.ss=!0;this.sb.info("ending subtitle interval at "+a);b=this.pv[this.pv.length-1];b.ga=a;b.ga<b.U&&(this.sb.warn("correcting for interval where endPts is smaller than startPts"),b.U=0<b.ga?b.ga-1:0);b.Iua=this.xd.z9(b.U,b.ga);this.sb.info("showed "+b.RY+" during this interval");this.sb.info("expected "+b.Iua+" for this interval");}null!==this.yk&&this.yk.pause();};a.prototype.tw=function(a,b){return this.xd.tw(a,b);};a.prototype.z9=function(a,b){return this.xd.z9(a,b);};a=c([{request:"function",Vwa:"function",la:"object"},"object"],a);g.P=a;},function(g,c,a){var f,m,h,d,k,p;function b(a,b,f,c){a=d.ke.call(this,a,void 0===c?"AppInfoConfigImpl":c)||this;a.config=b;a.xZ=f;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(40);h=a(34);d=a(36);k=a(29);a=a(236);da(b,d.ke);b.prototype.cgb=function(a){return""+this.xua+(this.xZ.Eea(a)?"/msl_v1":"");};b.prototype.kgb=function(a){return""+this.host+(this.xZ.Eea(a)?"/msl":"")+"/playapi";};pa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},xua:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.JK){case m.Mu.BVa:a="www.stage";break;case m.Mu.xma:a="www-qa.test";break;case m.Mu.eja:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},gra:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});p=b;g.__decorate([h.config(h.string,"apiEndpoint")],p.prototype,"endpoint",null);g.__decorate([h.config(h.string,"nqEndpoint")],p.prototype,"xua",null);g.__decorate([h.config(h.string,"bindService")],p.prototype,"gra",null);p=g.__decorate([f.N(),g.__param(0,f.l(k.Ui)),g.__param(1,f.l(m.Io)),g.__param(2,f.l(a.uQ)),g.__param(3,f.l(k.sB)),g.__param(3,f.optional())],p);c.hJa=p;},function(g,c,a){var b,f,m,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(541);f=a(120);g=a(1);m=a(90);h=a(17);c.F2a=new g.tc(function(a){a(f.lB).to(b.hJa).Y();});c.profile=new g.tc(function(a){a(m.OH).yG(function(a){return(a=a.tb.get(h.sd)())&&a.Gq?"browsertest":"browser";});});},function(g,c,a){var b,f,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);f=[b.I.ZOa,b.I.Sia,b.I.Qia,b.I.Ria,b.I.Xia,b.I.Mia,b.I.Kia,b.I.B0,b.I.Yia,b.I.Nia,b.I.WOa,b.I.XOa,b.I.Lia,b.I.Pu,b.I.Hia,b.I.Jia,b.I.Uia,b.I.Via,b.I.Wia,b.I.$Oa,b.I.bPa,b.I.fPa,b.I.dPa,b.I.cPa,b.I.aPa,b.I.ePa,b.I.Tia,b.I.Pia,b.I.Oia,b.I.Iia];(function(a){a.QRa=function(a){var c;for(var d={},f=0;f<a.length;f++){c=a[f];if(d[c.errorCode])return{errorCode:c.errorCode,ba:b.G.LIa};d[c.errorCode]=1;}};a.RRa=function(a){var c;for(var d=0;d<a.length;d++){c=a[d];if(-1===f.indexOf(c.errorCode))return{errorCode:c.errorCode,ba:b.G.MIa};}};}(m||(m={})));c.Yrb=function(a){return new Promise(function(b,c){var d;d=m.RRa(a);d&&c(d);(d=m.QRa(a))&&c(d);b(a.sort(function(a,b){return f.indexOf(a.errorCode)-f.indexOf(b.errorCode);}));});};},function(g,c,a){var f,m,h,d,k,p,t,u,y,B,x,H,l;function b(a,b,d,f,c,g){var k;k=this;this.Ni=a;this.config=d;this.ek=f;this.debug=c;this.qa=g;this.bHa=[];this.Hc={};this.log=b.ub("loadAsync");this.lmb=x.XNa(function(a){k.Ftb=!0;k.startTime=k.qa.kc().da(y.ja);k.load(k.bHa).then(function(){k.endTime=k.qa.kc().da(y.ja);a(l.kd);})["catch"](function(b){k.endTime=k.qa.kc().da(y.ja);a(b);});});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(117);m=a(2);h=a(543);d=a(63);k=a(1);p=a(8);t=a(17);u=a(64);y=a(4);B=a(88);x=a(271);H=a(24);l=a(11);b.prototype.WL=function(a){this.lmb(a);};b.prototype.register=function(a,b){this.debug.assert(!this.Ftb);this.bHa.push({zlb:this.b5a(b),errorCode:a});};b.prototype.Xc=function(a){this.debug.assert(void 0===this.Hc[a]);this.Hc[a]=this.qa.kc().da(y.ja);};b.prototype.load=function(a){var b;b=this;return h.Yrb(a).then(function(a){b.Ni.mark(d.gd.Ti.RIa);return a.reduce(function(a,d){return a.then(function(){return b.vlb(d);});},Promise.resolve()).then(function(){b.Ni.mark(d.gd.Ti.PIa);});});};b.prototype.vlb=function(a){var b,f;b=this;f=a.zlb;return this.ek.Ul(y.Cb(this.config().k3a),f())["catch"](function(f){b.log.error("Failed to load component "+a.errorCode,f);b.Ni.mark(d.gd.Ti.QIa);if(f instanceof u.qn)throw{ba:m.G.OIa,errorCode:a.errorCode};f.errorCode=f.errorCode||a.errorCode;f.ba=f.ba||m.G.NIa;throw f;});};b.prototype.b5a=function(a){return function(){return new Promise(function(b,d){a(function(a){a.Z?b():d(a);});});};};a=b;a=g.__decorate([k.N(),g.__param(0,k.l(f.jy)),g.__param(1,k.l(p.Bb)),g.__param(2,k.l(t.sd)),g.__param(3,k.l(u.cy)),g.__param(4,k.l(B.Kr)),g.__param(5,k.l(H.qf))],a);c.EJa=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(544);f=a(23);c.l3a=new g.tc(function(a){a(f.rf).to(b.EJa).Y();});},function(g,c,a){var f,m,h,d,k;function b(a){return m.ke.call(this,a,"PlaygraphConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(29);d=a(34);k=a(4);da(b,m.ke);pa.Object.defineProperties(b.prototype,{eDa:{configurable:!0,enumerable:!0,get:function(){return 2;}},dDa:{configurable:!0,enumerable:!0,get:function(){return k.bX(3);}},EO:{configurable:!0,enumerable:!0,get:function(){return!1;}},KZ:{configurable:!0,enumerable:!0,get:function(){return!1;}}});a=b;g.__decorate([d.config(d.yx,"prepareSegmentsUpfront")],a.prototype,"eDa",null);g.__decorate([d.config(d.Ug,"prepareSegmentsDuration")],a.prototype,"dDa",null);g.__decorate([d.config(d.Ld,"usePlaygraphForPostPlay")],a.prototype,"EO",null);g.__decorate([d.config(d.Ld,"usePlaygraphForSkipSegment")],a.prototype,"KZ",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.Ui))],a);c.XTa=a;},function(g,c,a){var f,m;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(148);b.prototype.Y8a=function(a){var c,g,h;for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];c=this;if(0===b.length)throw Error("Empty playgraph");g=new m.gQ().tea(this.FU(b[0]));b.reverse().forEach(function(a){var b;b=c.FU(a);g.Wo(b,Object.assign({wa:a,Vf:0},h?{On:h}:{}));h=b;});return g.Oj();};b.prototype.FU=function(a,b){return a+":[startPts:"+(void 0===b?0:b)+"]";};b.prototype.J2a=function(a,b){var d,f,c,g;d=void 0===d?this.FU(b.u,b.U):d;f=void 0===f?"pauseAtStart":f;c=this.Cfb(a);g=new m.gQ(a);g.Wo(d,{wa:b.u,Vf:b.U||0,yg:f});a=a.Za[c];b={};g.Wo(c,Object.assign({},a,{On:d,next:Object.assign({},a.next||{},(b[d]={},b))}));return g.Oj();};b.prototype.Cfb=function(a){for(var b=a.ih,f=b;f=a.Za[f].On;)b=f;return b;};a=b;a=g.__decorate([f.N()],a);c.ZTa=a;},function(g,c,a){var f,m;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);b.prototype.create=function(b,d,f){return new(a(272)).EWa(b,d,f);};m=b;m=g.__decorate([f.N()],m);c.gUa=m;},function(g,c,a){var f,m;function b(a,b,f){this.bk=a;this.gg=b;this.$l=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(4);m=a(274);b.prototype.Swb=function(){var a,b,c,g,h;a=this.$l.lBa;if(!a)return{result:m.Mo.EH};b=this.gg.Je;if(b.Mg===a.ib)return{result:m.Mo.R1,lIa:a};c=this.Igb(b,b.Mg,a.ib);if(!c)return{result:m.Mo.EH};g=c.duration;if(c.kt>=this.bk.eDa)return{result:m.Mo.EH};c=this.lwa(b.Mg);if(!c)return{result:m.Mo.EH};b=this.gg.gj().PU()||0;c=Math.max(0,c-b);g=c+g;h=this.bk.dDa.da(f.ja);if(g<=h)return{result:m.Mo.R1,lIa:a};a=g-h;return c<a?{result:m.Mo.EH}:{result:m.Mo.oja,Ai:b+a};};b.prototype.Igb=function(a,b,f){var g,k,c;b=a.iL(b);for(var d=0,c=0;b!==f&&void 0!==b;){d++;g=a.ij(b);k=this.lwa(b)||Infinity;c=c+(k-g.Vf);b=a.iL(b);}return b?{kt:d,duration:c}:void 0;};b.prototype.lwa=function(a){var b,c;b=this.gg.Je;c=b.Pgb(a);if(void 0!==c)return c;a=b.ij(a);if(a=this.gg.Dm(a.wa))return a.Eq.da(f.ja);};c.dUa=b;},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(148);b.prototype.pzb=function(a){var b;if(!this.gkb(a.Za))return a;b=new f.gQ().tea(a.ih);Object.keys(a.Za).forEach(function(d){d===a.ih?b.Wo(d,Object.assign(Object.assign({},a.Za[d]),{next:void 0,Og:void 0,On:void 0})):b.Wo(d,a.Za[d]);});return b.Oj();};b.prototype.gkb=function(a){var b;b=Object.keys(a).map(function(b){return a[b].wa;});return 1===new Set(b).size;};c.bUa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.ih,segments:a.J9a(b.Za)},void 0!==b.yg?{transitionType:b.yg}:{});};a.encode=function(b){return Object.assign({ih:b.initialSegment,Za:a.xbb(b.segments)},void 0!==b.transitionType?{yg:b.transitionType}:{});};a.DOb=function(a){return void 0!==a.ih&&void 0!==a.Za;};a.LOb=function(a){return void 0!==a.wa&&void 0!==a.Vf;};a.xbb=function(b){return Object.keys(b).reduce(function(f,c){f[c]=a.wbb(b[c]);return f;},{});};a.wbb=function(b){return Object.assign({wa:b.viewableId,Vf:b.startTimeMs},b.endTimeMs?{Og:b.endTimeMs}:{},b.defaultNext?{On:b.defaultNext}:{},b.transitionType?{yg:b.transitionType}:{},b.next?{next:a.ubb(b.next)}:{},b.transitionDelayZones?{sO:b.transitionDelayZones}:{});};a.ubb=function(b){return Object.keys(b).reduce(function(f,c){f[c]=a.vbb(b[c]);return f;},{});};a.vbb=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.transitionType?{yg:a.transitionType}:{});};a.J9a=function(b){return Object.keys(b).reduce(function(f,c){f[c]=a.I9a(b[c]);return f;},{});};a.I9a=function(b){return Object.assign({viewableId:b.wa,startTimeMs:b.Vf},b.Og?{endTimeMs:b.Og}:{},b.On?{defaultNext:b.On}:{},b.yg?{transitionType:b.yg}:{},b.next?{next:a.G9a(b.next)}:{},b.sO?{transitionDelayZones:b.sO}:{});};a.G9a=function(b){return Object.keys(b).reduce(function(f,c){f[c]=a.H9a(b[c]);return f;},{});};a.H9a=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.yg?{transitionType:a.yg}:{});};return a;}();c.YTa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){a&&(this.tea(a.ih),this.xwb(a.yg),this.swb(a.Za));}a.prototype.tea=function(a){this.ih=a;return this;};a.prototype.xwb=function(a){this.yg=a;};a.prototype.Wo=function(a,f){this.Za||(this.Za={});this.Za[a]=this.kta(f);return this;};a.prototype.swb=function(a){var b;b=this;this.Za={};Object.keys(a).forEach(function(f){return b.Wo(f,a[f]);});};a.prototype.Oj=function(){if(!this.Za)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ih)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Za[this.ih])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({ih:this.ih,Za:this.Za},this.yg?{yg:this.yg}:{});};a.prototype.kta=function(a){var b;b=this;return a&&"object"===typeof a?Object.keys(a).reduce(function(f,c){f[c]="object"===typeof a[c]?b.kta(a[c]):a[c];return f;},{}):a;};return a;}();c.gQ=g;},function(g,c,a){var f;function b(a){this.xR={};this.Pea={};this.ko=a;this.Mg=a.ih;}Object.defineProperty(c,"__esModule",{value:!0});f=a(148);b.prototype.LN=function(a){var f;for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];f=this;b.filter(function(a){return f.BN(a.ib);}).filter(function(a){a=a.zM;return!a||f.BN(a);}).forEach(function(a){f.xR[a.ib]=f.Pba(a.zM);});};b.prototype.Mqa=function(a){var b;b=this;a.filter(function(a){return b.BN(a);}).forEach(function(a){b.xR[a]=b.Pba(b.ij(a).On);});};b.prototype.Co=function(a,b){var d,c,g;d=this.ij(a);if(d&&d.next){c=new f.gQ(this.ko);g=Object.keys(d.next).reduce(function(a,f){a[f]=void 0===b[f]?d.next[f]:Object.assign({},d.next[f],{weight:b[f]});return a;},{});g=Object.assign({},d,{next:g});c.Wo(a,g);this.ko=c.Oj();}};b.prototype.BN=function(a,b){b=void 0===b?this.ko.Za:b;return a in b;};b.prototype.iL=function(a){return this.xR[a];};b.prototype.ij=function(a){return this.ko.Za[a];};b.prototype.Pgb=function(a){return void 0===this.Pea[a]?this.Pba(this.ij(a).Og):this.Pea[a];};b.prototype.kAb=function(a,b){this.Pea[a]=b;};b.prototype.Pba=function(a){return null===a?void 0:a;};pa.Object.defineProperties(b.prototype,{ko:{configurable:!0,enumerable:!0,get:function(){return this.K_a;},set:function(a){if(this.Mg&&!this.BN(this.Mg,a.Za))throw Error("Provided playgraphMap does not contain the current segmentId "+this.Mg);this.K_a=a;this.xR={};a=Object.keys(a.Za);this.Mqa(a);}},Mg:{configurable:!0,enumerable:!0,get:function(){return this.aYa;},set:function(a){if(!this.BN(a))throw Error("Provided currentSegmentId "+a+" does not exist in the current playgraph");this.aYa=a;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.ij(this.Mg);}}});c.fUa=b;},function(g,c,a){var f;function b(a){this.qj=a;this.Br={};this.Xba();}Object.defineProperty(c,"__esModule",{value:!0});f=a(275);b.prototype.Xba=function(){var a,b;a=this;b=this.qj.ko.Za;Object.keys(b).map(function(d){var c,g;d=b[d].wa;if(!a.Br[d]){c=void 0;g=new Promise(function(a){c=a;});a.Br[d]={state:f.No.mka,Xsb:g,yEa:c};}});this.DZ();};b.prototype.kV=function(a){return this.Br[a];};b.prototype.hwb=function(a){this.Br[a].state=f.No.kia;this.DZ();};b.prototype.gwb=function(a,b){a=this.Br[a];a.state=f.No.Error;a.error=b;a.yEa(!1);this.DZ();};b.prototype.uFa=function(a){a=this.Br[a];a.state=f.No.F_;a.yEa(!0);this.DZ();};b.prototype.$1a=function(a,b){this.Br[a].$a=b;};b.prototype.DZ=function(){var b;this.lBa=void 0;for(var a=this.qj.Mg;a=this.qj.iL(a);){b=this.yhb(a);if(this.Br[b].state===f.No.Error)break;if(this.Br[b].state===f.No.kia)break;if(this.Br[b].state===f.No.mka){this.lBa={wa:b,ib:a};break;}}};b.prototype.yhb=function(a){return this.qj.ko.Za[a].wa;};c.hUa=b;},function(g,c,a){var f,m,h,d,k,p,t,u,y;function b(a,b,f,c,g,h,t,q,u,l,n){var x;x=this;this.qa=b;this.WM=t;this.bk=q;this.Efa=u;this.ee=l;this.Jca=Promise.resolve();this.hva=!1;q.KZ&&(a=new p.bUa().pzb(a));this.Je=new k.fUa(a);this.$l=new d.hUa(this.Je);this.$l.uFa(this.Je.ca.wa);this.log=f.ub("PlaygraphManager");this.srb=new y.dUa(this.bk,this,this.$l);this.RAa=n.h6({k9:function(){return m.Cb(100);}},function(){return x.gj().PU()||0;});this.Lb=g.create();this.Np=c.Q8a(h);this.Hwb();}Object.defineProperty(c,"__esModule",{value:!0});f=a(15);m=a(4);h=a(275);d=a(554);k=a(553);p=a(550);t=a(2);u=a(274);y=a(549);b.prototype.J8=function(){return this.Je.ca;};b.prototype.Aeb=function(){return this.Je.Mg;};b.prototype.g9=function(){return this.Je.ko;};b.prototype.LN=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];this.Je.LN.apply(this.Je,[].concat(fa(b)));};b.prototype.P5a=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];this.Je.Mqa(b);};b.prototype.gAb=function(a){this.zFa(a);this.DF();};b.prototype.Co=function(a,b){this.Je.Co(a,b);};b.prototype.nxa=function(a,b){var d,c,g,k,p;if(a!==this.Je.Mg)throw Error("Invalid currentSegmentId");if(b!==this.Je.iL(a))throw Error("Invalid nextSegmentId");d=this.Je.ij(b);if(this.bk.KZ&&this.Je.ca.wa===d.wa)return Promise.resolve(this.gj().seek(d.Vf,f.bg.Zu,void 0));c=this.$l.kV(d.wa);g=this.gj().At();if(c.state!==h.No.F_){k=c.state===h.No.Error?c.error:this.ee(t.I.xSa,{kb:b});g.Chb({wa:d.wa,ib:b,Sa:c.$a||{}},k);g.En("Transition "+a+"->"+b+" error "+k.fz);return Promise.reject();}d=g.ob;if(!d)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");this.log.debug("going to next segment: "+a+" -> "+b);g.En("Transition "+a+"->"+b);p=g.Bt(b);p.Ym=this.qa.kc().da(m.ja);return(void 0!==d.NU(b)?this.Dhb(b,p.u):this.zN(b,p.u)).then(function(){g.rva(p.u);});};b.prototype.addListener=function(a,b,d){this.Lb.addListener(a,b,d);};b.prototype.removeListener=function(a,b){this.Lb.removeListener(a,b);};b.prototype.aV=function(){return this.Np.aV();};b.prototype.np=function(){return this.Np.np();};b.prototype.gj=function(){return this.Np.gj();};b.prototype.Wo=function(a){var b,d,c;b=this;if(this.bk.EO&&this.hva){this.log.info("Adding segment - movieId: "+a.u+", startPts: "+a.U+", logicalEnd: "+(""+a.Km));if(Object.keys(this.Je.ko.Za).find(function(d){return b.Je.ko.Za[d].wa===a.u;}))return a.Km&&(this.Je.kAb(this.Je.Mg,a.Km),this.$l.Xba()),null;this.gj().At().En("addSegment movieId: "+a.u+", startPts: "+a.U+", logicalEnd: "+a.Km);d=this.WM.J2a(this.Je.ko,a);this.zFa(d);this.$l.$1a(a.u,a.$a);this.DF();return this.$l.kV(a.u).Xsb;}this.log.info("Adding segment to SegmentManager - movieId: "+a.u+", startPts: "+a.U+", "+("logicalEnd: "+a.Km));d=this.Np.Wo(a);this.hva=!0;c=this.gj().At();c.addEventListener(f.S.DY,function(a){return b.Yba(a);});this.Jca=c.Qb.when(function(a){return a!==f.jb.cg;}).then(function(){});return d;};b.prototype.transition=function(a){if(this.bk.EO){a=this.Je.iL(this.Je.Mg);this.log.info("Transition initiated: "+this.Je.Mg+" -> "+a);if(a)return this.nxa(this.Je.Mg,a);this.log.error("Next segment is not defined");return Promise.reject();}return this.Np.transition(a);};b.prototype.close=function(a){return this.Np.close(a);};b.prototype.Dm=function(a){if(this.$l.kV(a).state==h.No.F_)return this.gj().At().Dm(a);};b.prototype.zFa=function(a){this.Je.ko=a;this.$l.Xba();};b.prototype.Hwb=function(){var a;a=this;this.Np.addListener(f.qb.loaded,function(){return a.DF();});this.addListener(f.PB.CN,function(){return a.Gpb();});this.Np.addListener(f.PB.CN,function(){return a.Lb.Mb(f.PB.CN);});Object.keys(f.qb).forEach(function(b){var d;d=f.qb[b];a.Np.addListener(d,function(b){return a.Lb.Mb(d,b);});});};b.prototype.zN=function(a,b){var d;d=this.g9().Za[a].Vf;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.gj().At().En("NO DATA "+a+", SEEKING "+d+", viewableId: "+b);return Promise.resolve(this.gj().seek(d,f.bg.Zu,a,!0));};b.prototype.Dhb=function(a,b){var d,c,g,k,m;d=this;c=this.gj().At();g=c.ob;if(!g)throw Error("No streaming session");k=new Promise(function(a){function b(){d.log.debug("Stopped ASE");g.removeEventListener("stop",b);a();}g.addEventListener("stop",b);});m=new Promise(function(a){function b(){d.log.debug("Repositioned");c.removeEventListener(f.S.no,b);a();}function k(){d.log.debug("Repositioning");c.removeEventListener(f.S.CA,k);g.stop();}c.addEventListener(f.S.CA,k);c.addEventListener(f.S.no,b);});k=Promise.all([k,m]).then(function(){if(!g.$s(a,!1,!0))return c.En("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),d.zN(a,b);c.fireEvent(f.S.jX,{Mg:d.Je.Mg,zM:a});});m=g.bK(void 0,this.g9().Za[a].Vf,a);this.log.debug("Calling seek on internal player to "+m);this.gj().seek(m,f.bg.RB,a,!0);return k;};b.prototype.Gpb=function(){var a;a=this.gj().getError();a?this.Lb.Mb(f.qb.h5,a):(this.Lb.Mb(f.qb.Tqa),this.Lb.Mb(f.qb.tJ),this.Lb.Mb(f.qb.aB),this.Lb.Mb(f.qb.wG),this.Lb.Mb(f.qb.tO),this.Lb.Mb(f.qb.h5));};b.prototype.Yba=function(a){var b,d,f;b=a.metrics;if(b){d=this.gj().At();f=d.Bt(a.segmentId);b=d.Bt(b.srcsegment);this.Efa.nsb(a,f,b);}};b.prototype.DF=function(){var a,b;a=this;if(this.aV()){this.RAa.cancel();b=this.srb.Swb();b.result===u.Mo.oja?this.RAa.observe(b.Ai,function(){a.DF();}):b.result===u.Mo.R1&&this.Rrb(b.lIa);}};b.prototype.Rrb=function(a){var d,c,g,k,m,p,h;function b(a){a.u===m&&(d.Je.Mg=c,d.DF(),k.removeEventListener(f.S.bo,b),d.Lb.Mb(f.PB.CN));}d=this;c=a.ib;g=this.Je.ij(c);k=this.gj().At();a=Object.assign(this.$l.kV(a.wa).$a||{},{U:g.Vf,ga:g.Og,Yh:!1,AZ:Date.now(),fW:!0});m=k.m4({wa:g.wa,ib:c,Sa:a});p=k.Dm(m);this.log.debug("Creating new playback xid: "+p.ia+", movieId: "+p.u);k.addEventListener(f.S.bo,b);h="pauseAtStart"!==g.yg;this.$l.hwb(g.wa);k.En("queueManifest",p.ib);this.Jca=a=this.Jca.then(function(){return k.Hsb(m,h);}).then(function(){k.En("queueManifest done",p.ib);d.$l.uFa(g.wa);})["catch"](function(a){k.En("queueManifest error "+a.fz,p.ib);d.$l.gwb(g.wa,a);throw a;});a.then(function(){return d.DF();});};c.aUa=b;},function(g,c,a){var f,m,h,d,k,p,t,u,y,B,x,H,l,n;function b(b,d,f,c,g,k,m,p,h,t,q){this.qa=b;this.Sf=d;this.pvb=c;this.G7=g;this.bk=k;this.WM=m;this.Efa=h;this.ee=t;this.Sw=q;d=a(44).Lo;this.nvb=f.ow(!1,"6.0022.162.011",b.id,d,p);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(555);h=a(8);d=a(24);k=a(157);p=a(439);t=a(244);u=a(17);y=a(443);B=a(183);x=a(436);H=a(59);l=a(245);b.prototype.create=function(a){return new m.aUa(a,this.qa,this.Sf,this.pvb,this.G7,this.nvb,this.WM,this.bk,this.Efa,this.ee,this.Sw);};n=b;n=g.__decorate([f.N(),g.__param(0,f.l(d.qf)),g.__param(1,f.l(h.Bb)),g.__param(2,f.l(p.ema)),g.__param(3,f.l(t.C1)),g.__param(4,f.l(y.wP)),g.__param(5,f.l(k.hQ)),g.__param(6,f.l(B.iQ)),g.__param(7,f.l(u.sd)),g.__param(8,f.l(x.Dma)),g.__param(9,f.l(H.bl)),g.__param(10,f.l(l.R0))],n);c.$Ta=n;},function(g,c,a){var b,f,m,h,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(276);f=a(556);m=a(273);h=a(548);d=a(183);k=a(547);p=a(546);t=a(157);c.gg=new g.tc(function(a){a(b.wla).to(f.$Ta).Y();a(m.xla).to(h.gUa).Y();a(d.iQ).to(k.ZTa).Y();a(t.hQ).to(p.XTa).Y();});},function(g,c,a){var f,m,h,d,k,p,t,u,y,B;function b(a,b,f,c,g){f=u.eP.call(this,f,c,g)||this;f.config=a;f.Ac=b;f.log=m.Rg(f.j,"LegacyLicenseBroker");f.Rd=f.config().Rd;f.config().Sca?d.akb()?f.LZ=!0:f.log.error("Promise based eme requested but platform does not support it",{browserua:k.pk}):f.LZ=!1;return f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(2);m=a(5);h=a(116);d=a(38);k=a(9);p=a(1);t=a(195);u=a(277);y=a(87);da(b,u.eP);b.prototype.Fsa=function(a){var b;b=void 0===b?this.j:b;return new this.QM.Ju(a,function(a){return b.$J.fL(a);},function(a){return b.$J.release(a);},{jh:!1,IL:!1});};b.prototype.fK=function(b,d){var c,g,k,p,t,q;d=void 0===d?this.j:d;c=this;p=a(30).Lg;this.QM.Ju||this.Md(f.I.Sx,f.G.fNa);k=m.Rg(d,"Eme");g=this.Fsa(k);t=m.$.get(h.SB);q=t.dK(d.Uc.value.bc);t=t.jK(d.Yf.value.bc);return this.QM.Lu(k,b,function(a){return d.Xc(a);},{jh:!1,IL:!1,Mya:this.config().gi,$Ea:{FAa:this.config().ZEa,Nra:this.config().Tda},Ja:{getTime:p},fx:g,pDa:this.LZ,Wa:this.yb.Wa,DG:this.config().DG,hB:this.config().p7,onerror:function(a,b,d){return c.Md(a,b,d);},Mba:function(a){return c.nV(a);},hrb:!0,GV:this.config().GV,Sqa:q,hIa:t,FE:this.config().FE});};b.prototype.OA=function(a){var b;b=this;return this.LZ?new Promise(function(d,c){if(b.yb.Wa)b.yb.Wa.setMediaKeys(a).then(function(){d();})["catch"](function(a){var d;d=b.lxa(a);c({Z:!1,code:f.I.h1,Pc:d.ba,Qg:d.Pd,kb:d.kb,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.Dua=function(a){return{code:a.code,subCode:a.Pc,extCode:a.Qg,edgeCode:a.XD,message:a.message,errorDetails:a.kb,errorData:a.eU,state:a.state};};b.prototype.uea=function(a,b,d){var c,g;function f(){g.oN()["catch"](function(a){c.log.error("Unable to set the license",c.Dua(a));a.cause&&a.cause.kb&&(a.kb=a.kb?a.kb+a.cause.kb:a.cause.kb);c.Md(a.code,a,a.Qg);});}d=void 0===d?this.j:d;c=this;g=d.xf;this.log.info("Setting the license");d=b?function(){return Promise.resolve();}:function(){return g.kj(c.a9(),a);};return(b?function(){return g.aLb(c.yb.Wa);}:function(){return g.create(c.Rd).then(function(){return Promise.resolve();});})().then(function(){return c.config().yFa?c.OA(g.Kk):Promise.resolve();}).then(d).then(function(){return c.config().yFa?Promise.resolve():c.OA(g.Kk);}).then(function(){c.log.info("license set");c.U7();c.yb.rIa.then(function(){c.config().Jw&&(b||c.config().TK)&&(c.hEa=K.setTimeout(f,c.config().Jw));});})["catch"](function(a){c.log.error("Unable to set the license",c.Dua(a));a.cause&&a.cause.kb&&(a.kb=a.kb?a.kb+a.cause.kb:a.cause.kb);if(b)throw Error(a&&a.message?a.message:"failed to set license");c.Md(a.code,a,a.Qg);});};b.prototype.zCa=function(){return Promise.resolve();};b.prototype.Uba=function(a){var d;function b(){var b;d.j.xf=d.fK(a.initDataType);b=[];d.j.Jp.forEach(function(a){b.push(m.rm(a));});d.uea(b);}d=this;this.log.trace("Received event: "+a.type);this.SL||(this.SL=!0,this.QM.Lu?this.j.Jp?this.config().$D&&this.config().mo&&this.Ac()?this.Ac().Uva(this.j.u).then(function(a){d.j.xf=a;return a.eSb.then(function(){var b;b=[];d.j.Jp.forEach(function(a){b.push(m.rm(a));});return d.uea(b,!0).then(function(){var b;if(a.WLb)d.Md(f.I.jNa);else{b=m.Rg(d.j,"Eme");a.SRb({log:b,$Pb:function(a){return d.j.Xc(a);}},{fx:d.Fsa(b),onerror:function(a,b,f){return d.Md(a,b,f);}});(b=a.pQb)&&d.nV(b);d.j.zw(a.Hc||{});d.j.Qv="videopreparer";}});});})["catch"](function(a){d.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Md(f.I.GSa)):this.Md(f.I.Sx,f.G.gNa));};b.prototype.lEa=function(a){var b;a=void 0===a?this.j:a;a.xf=this.fK("cenc");b=[];a.Jp.forEach(function(a){b.push(m.rm(a));});return this.uea(b,!1,a);};b.prototype.a9=function(){return this.config().TK?y.Cj.Su:y.Cj.ln;};pa.Object.defineProperties(b.prototype,{QM:{configurable:!0,enumerable:!0,get:function(){return a(44).bh;}},gA:{configurable:!0,enumerable:!0,get:function(){return this.LZ?"encrypted":this.yb.N_+"needkey";}}});B=b;g.__decorate([t.sW],B.prototype,"QM",null);g.__decorate([t.sW],B.prototype,"gA",null);B=g.__decorate([p.N()],B);c.TPa=B;},function(g,c,a){var f,m,h,d,k,p,t,u,y,B;function b(a,b,d,f,c,g,k,p){f=u.eP.call(this,f,c,g)||this;f.config=a;f.we=b;f.Ac=d;f.VD=k;f.gba=p;f.log=m.Rg(f.j,"LicenseBroker");f.SL=new Set();f.CAa=!1;return f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(2);m=a(5);h=a(11);d=a(458);k=a(4);p=a(1);t=a(195);u=a(277);y=a(87);B=a(15);da(b,u.eP);b.prototype.Uba=function(){var a,b;a=this;b=this.j.ca;this.SL.has(b.u)||(this.SL.add(b.u),(this.config.$D&&this.we.mo&&this.Ac()?this.Efb():Promise.reject())["catch"](function(){return a.mEa(b);}).then(function(){return a.Fqa(b);})["catch"](function(d){return a.Eqa(b,d);})["catch"](function(b){return a.Md(b.code,b,b.Qg,a.j);}));};b.prototype.Efb=function(){var a,b;a=this;b=this.j.ca;return this.Ac().Uva(b.u).then(function(d){a.iDa(d,b);b.Qv="videopreparer";a.gba.OA(d.Kk);return d.D4().pO();})["catch"](function(b){a.log.warn("eme not in cache",b);throw b;});};b.prototype.rdb=function(a){var b;b={};a.forEach(function(a){b[d.oab(a.Anb)]=a.time.da(k.ja);});return b;};b.prototype.Phb=function(a,b){this.log.trace("Key status",{viewable:a.u,keyId:m.Os(b.Hw),status:b.value});};b.prototype.iDa=function(a,b){var d,f,c;d=this;b.xf=a;f={next:function(a){d.Phb(b,a);},error:h.Le,complete:h.Le};c={next:function(a){d.Md(a.code,a,a.Qg,d.j);},error:h.Le,complete:h.Le};a.Bkb().subscribe(f);(a=a.LK())&&a.subscribe(c);};b.prototype.Fqa=function(a){var b;this.log.info("Successfully applied license for xid: "+a.ia+", viewable: "+a.u+", segment: "+a.ib);b=a.xf;b&&b.jaa&&this.nV(b.jaa);this.zw(a);this.OA();};b.prototype.Eqa=function(a,b){this.zw(a);throw b;};b.prototype.zw=function(a){a.xf&&a.zw(this.rdb(a.xf.Hc));};b.prototype.mEa=function(a){var b,d;b=this;d={next:function(d){b.SL.add(a.u);b.nV(d);},error:h.Le,complete:h.Le};return this.VD().then(function(f){var c;c={type:b.a9(),JV:a.Jp.map(function(a){return m.rm(a);}),context:{Rd:b.config.Rd,Wa:b.yb.Wa},oh:{u:a.u,ia:a.ia,fg:a.fg,Ek:a.Ek,Rf:a.sa.Rf}};f.UL().subscribe(d);return f.kj(c,b.gba).Jq(function(d){b.iDa(d,a);b.j.fireEvent(B.S.VL,{u:a.u});return d.D4();}).pO();});};b.prototype.OA=function(){var a;a=this;if(this.CAa)this.log.trace("Media Keys already set");else{this.CAa=!0;try{this.yb.Wa?this.yb.Wa.setMediaKeys(this.j.xf.Kk).then(function(){a.U7();})["catch"](function(b){b=a.lxa(b);a.Md(f.I.h1,b,b.Pd,a.j);}):this.U7();}catch(H){this.Md(f.I.h1,H,void 0,this.j);}}};b.prototype.zCa=function(){var a,b;a=this;b=this.j.ca.xf;return b?this.VD().then(function(d){return new Promise(function(f){d.Jxb(b,a.gba).Jq(function(a){return a.M2a();}).Jq(function(b){a.log.trace("Fulfilled the last secure stop");a.we.gi&&a.j.Qt.CY({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.we.gi&&a.j.Qt.CY({success:b.Z,ErrorCode:b.code,ErrorSubCode:b.Pc,ErrorExternalCode:b.Qg,ErrorEdgeCode:b.XD,ErrorDetails:b.ND});f();},complete:function(){f();}});});}):Promise.resolve();};b.prototype.lEa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.mEa(a).then(function(){return b.Fqa(a);})["catch"](function(d){return b.Eqa(a,d);});};b.prototype.a9=function(){return this.we.TK?y.Cj.Su:y.Cj.ln;};pa.Object.defineProperties(b.prototype,{gA:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}},Rd:{configurable:!0,enumerable:!0,get:function(){return this.config.Rd;}}});a=b;g.__decorate([t.sW],a.prototype,"gA",null);a=g.__decorate([p.N()],a);c.WPa=a;},function(g,c,a){var f,m,h,d,k,p,t,u,y;function b(a,b,d,f,c,g){this.VD=a;this.we=b;this.ee=d;this.config=f;this.jM=c;this.Ac=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(121);h=a(559);d=a(558);k=a(52);p=a(59);t=a(17);u=a(141);a=a(107);b.prototype.create=function(a,b,f){return a?new h.WPa(this.config(),this.we,this.Ac,this.ee,b,f,this.VD,this.jM()):new d.TPa(this.config,this.Ac,this.ee,b,f);};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(m.tP)),g.__param(1,f.l(k.bm)),g.__param(2,f.l(p.bl)),g.__param(3,f.l(t.sd)),g.__param(4,f.l(u.xH)),g.__param(5,f.l(a.VB))],y);c.VPa=y;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(291);f=a(560);c.Vj=new g.tc(function(a){a(b.rja).to(f.VPa);});},function(g,c,a){var f,m,h,d,k;function b(a){return m.ke.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(29);d=a(34);k=a(40);da(b,m.ke);b.prototype.Eea=function(a){var b,d;b=this.Wfa;d=this.qqa;switch(a){case k.Vu.jQ:return b;case k.Vu.yla:return b&&!d;case k.Vu.SRa:return!1;}};pa.Object.defineProperties(b.prototype,{Wfa:{configurable:!0,enumerable:!0,get:function(){return!0;}},qqa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});a=b;g.__decorate([d.config(d.Ld,"usesMsl")],a.prototype,"Wfa",null);g.__decorate([d.config(d.Ld,"allowRequestsWithoutMsl")],a.prototype,"qqa",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.Ui))],a);c.jWa=a;},function(g,c,a){var f,m,h,d,k;function b(a,b,d){this.receiver=b;this.Af=d;this.log=a.ub("SslTransport");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(4);h=a(8);d=a(151);a=a(94);b.prototype.send=function(a,b){var d,f;d=this;f={url:a.url.href,OD:"nq-"+a.tl,Bca:JSON.stringify(b),iT:a.timeout.da(m.ja),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){d.Af.download(f,function(d){d.Z?a(d):b(d);});}).then(function(f){f={status:"success",body:f.content};d.receiver.IF({command:a.tl,inputs:b,outputs:f});return f;})["catch"](function(f){var c;if(!f.error)throw f.Pc=f.ba||f.Pc,d.receiver.IF({command:a.tl,inputs:b,outputs:f}),f;c=f.error;c.gx=f.gx;d.log.error("Error sending SSL request",{subCode:c.Pc,data:c.content,message:c.message});d.receiver.IF({command:a.tl,inputs:b,outputs:c});throw c;});};b.prototype.W5=function(){return{};};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(h.Bb)),g.__param(1,f.l(d.fQ)),g.__param(2,f.l(a.Tx))],k);c.AVa=k;},function(g,c,a){var f,m,h,d,k,p,t;function b(a,b,d,f){var c;c=this;this.dA=b;this.receiver=d;this.profile=f;this.log=a.ub("MslTransport");this.dA().then(function(a){return c.tba=a;});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(8);h=a(132);d=a(4);k=a(151);a=a(90);p={license:!0};b.prototype.send=function(a,b){var f,c;f=this;c={YAa:Object.assign({Af:a.Af,log:a.log,profile:this.profile},a.g4a),method:a.tl,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.da(d.ja),RAb:this.profile,MQb:!p[a.tl],zob:!!p[a.tl],cj:!0,uN:a.Fda,headers:a.headers};return this.dA().then(function(d){return d.send(c).then(function(d){f.receiver.IF({command:a.tl,inputs:b,outputs:d});return d;})["catch"](function(d){var c;if(!d.error)throw d.Pc=d.ba||d.Pc,f.receiver.IF({command:a.tl,inputs:b,outputs:d}),d;c=d.error;c.gx=d.gx;f.log.error("Error sending MSL request",{mslCode:c.br,subCode:c.Pc,data:c.data,message:c.message});f.receiver.IF({command:a.tl,inputs:b,outputs:c});throw c;});});};b.prototype.W5=function(){var a;return{userTokens:null===(a=this.tba)||void 0===a?void 0:a.uM.getUserIdTokenKeys()};};t=b;t=g.__decorate([f.N(),g.__param(0,f.l(m.Bb)),g.__param(1,f.l(h.AH)),g.__param(2,f.l(k.fQ)),g.__param(3,f.l(a.OH))],t);c.ARa=t;},function(g,c,a){var b,f,m,h,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(236);f=a(306);m=a(564);h=a(563);d=a(562);k=a(40);c.uzb=new g.tc(function(a){a(b.uQ).to(d.jWa).Y();a(f.eka).to(m.ARa);a(f.hma).to(h.AVa);a(f.Ema).Ef(function(a){return function(d){var c;return a.tb.get(b.uQ).Eea((c=null===d||void 0===d?void 0:d.dob,null!==c&&void 0!==c?c:k.Vu.jQ))?a.tb.get(f.eka):a.tb.get(f.hma);};});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.rTa="PboPingCommandSymbol";},function(g,c,a){var f,m,h,d,k;function b(a){return d.li.call(this,a,m.I.vSa,1,h.si.ping,h.Cg.Nr,h.si.ping)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);d=a(70);a=a(48);da(b,d.li);b.prototype.yf=function(a,b,d){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw f.Un(a);});};b.prototype.Bm=function(){return Promise.reject(Error("Links are unsupported with ping"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.al))],k);c.qTa=k;},function(g,c,a){var f,m,h,d,k;function b(a){return d.li.call(this,a,m.I.LJa,2,h.si.bind,h.Cg.Nr,h.si.bind)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);d=a(70);a=a(48);da(b,d.li);b.prototype.yf=function(a,b,d){var f;f=this;return this.send(a,"/bindDevice",b,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw f.Un(a);});};b.prototype.Bm=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.al))],k);c.cTa=k;},function(g,c,a){var f,m,h,d,k;function b(a){return d.li.call(this,a,m.I.dSa,2,h.si.mCa,h.Cg.Nr,h.si.mCa)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);d=a(70);a=a(48);da(b,d.li);b.prototype.yf=function(a,b,d){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw f.Un(a);});};b.prototype.Bm=function(){return Promise.reject(Error("Links are unsupported with pair"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.al))],k);c.oTa=k;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.pTa="PboPairCommandSymbol";},function(g,c,a){var f,m,h,d,k;function b(a){return d.li.call(this,a,m.I.KJa,2,h.si.bind,h.Cg.Nr,h.si.bind)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);d=a(70);a=a(48);da(b,d.li);b.prototype.yf=function(a,b,d){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,d).then(function(a){return a.result;})["catch"](function(a){throw f.Un(a);});};b.prototype.Bm=function(){return Promise.reject(Error("Links are unsupported with bind"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.al))],k);c.bTa=k;},function(g,c,a){var f,m,h,d,k,p,t,u,y;function b(a,b,d,f,c,g,k,m,p){this.Mf=a;this.Af=b;this.pj=d;this.U$a=f;this.CE=c;this.CAb=g;this.yT=k;this.hub=m;this.$v=p;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(120);h=a(95);d=a(304);k=a(307);p=a(118);t=a(94);u=a(447);y=a(67);a=a(81);b=g.__decorate([f.N(),g.__param(0,f.l(m.lB)),g.__param(1,f.l(t.Tx)),g.__param(2,f.l(h.by)),g.__param(3,f.l(k.Vka)),g.__param(4,f.l(p.EB)),g.__param(5,f.l(u.Ima)),g.__param(6,f.l(y.XG)),g.__param(7,f.l(d.gla)),g.__param(8,f.l(a.Iu))],b);c.eTa=b;},function(g,c,a){var f,m,h,d,k,p;function b(a){return h.Fo.call(this,a,m.I.nNa,d.cm.IK,3,p.Cg.GB)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(123);d=a(75);k=a(48);p=a(41);da(b,h.Fo);b.prototype.RS=function(a){return Object.assign(Object.assign({},h.Fo.prototype.RS.call(this,a)),{action:a.action});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.al))],a);c.BNa=a;},function(g,c,a){var f,m,h,d,k,p;function b(a){return h.Fo.call(this,a,m.I.Ula,d.cm.splice,1,p.Cg.GB)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(123);d=a(75);k=a(48);p=a(41);da(b,h.Fo);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.al))],a);c.zVa=a;},function(g,c,a){var f,m,h,d,k,p;function b(a){return h.Fo.call(this,a,m.I.I0,d.cm.ML,1,p.Cg.GB)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(123);d=a(75);k=a(48);p=a(41);da(b,h.Fo);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.al))],a);c.KPa=a;},function(g,c,a){var f,m,h,d,k,p;function b(a){return h.Fo.call(this,a,m.I.Yla,d.cm.stop,3,p.Cg.P0)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(123);d=a(75);k=a(48);p=a(41);da(b,h.Fo);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.al))],a);c.FVa=a;},function(g,c,a){var f,m,h,d,k,p;function b(a){return h.Fo.call(this,a,m.I.aVa,d.cm.start,3,p.Cg.Nr)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(123);d=a(75);k=a(48);p=a(41);da(b,h.Fo);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.al))],a);c.DVa=a;},function(g,c,a){var f,m,h;function b(a,b){this.pc=a;this.Ps=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(21);a=a(39);b.prototype.nzb=function(a){var b,d;b=this;d=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.pc.CX(a.substring(a.indexOf("?")+1));});return{Z:!0,ic:a.map(function(a,b){return{id:a.sessionId,Iw:d[b].drmlicensecontextid,TE:d[b].licenseid};}),Il:a.map(function(a){return{data:b.Ps.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.rzb=function(a){return{Z:!0,response:{data:a.reduce(function(a,b){var d;d=b.secureStopResponseBase64;(b=b.sessionId)&&d&&(a[b]=d);return a;},{})}};};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(m.$e)),g.__param(1,f.l(a.Aj))],h);c.kTa=h;},function(g,c,a){var f,m,h;function b(a){this.Ja=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(45);h=a(4);b.prototype.mzb=function(a){var b;b=this.Ja.ef.da(h.nn);return{inputs:a.Ph.map(function(d){return{sessionId:d.sessionId,clientTime:b,challengeBase64:d.dataBase64,xid:a.ia.toString(),mdxControllerEsn:a.hM};}),sza:"standard"===a.$h.toLowerCase()?"license":"ldl"};};b.prototype.qzb=function(a){var b,d,f,c;b=this;d=a.evb||{};f=[];c=a.ic.map(function(c){var g;f.push(c.id);g=d[c.id];delete d[c.id];return{url:b.tra(c.Iw,c.TE),echo:"sessionId",params:{sessionId:c.id,secureStop:g,secureStopId:g?c.TE:void 0,xid:a.ia.toString()}};});Object.keys(d).forEach(function(f){c.push({url:b.tra(a.ic[0].Iw),echo:"sessionId",params:{sessionId:f,secureStop:d[f],secureStopId:void 0,xid:a.ia.toString()}});});return c;};b.prototype.tra=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.kk))],a);c.jTa=a;},function(g,c,a){var f,m,h,d,k;function b(a){return d.li.call(this,a,m.I.PUa,3,h.si.kj,h.Cg.P0,h.si.kj)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);d=a(70);a=a(48);da(b,d.li);b.prototype.yf=function(a,b){var d;d=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;d.Rra(a);return a;})["catch"](function(a){throw d.Un(a);});};b.prototype.Bm=function(){return Promise.reject(Error("Links are unsupported with release"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.al))],k);c.yTa=k;},function(g,c,a){var f,m,h,d,k;function b(a){return d.li.call(this,a,m.I.Sx,3,h.si.kj,h.Cg.Nr,h.si.kj)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);d=a(70);a=a(48);da(b,d.li);b.prototype.yf=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.Bm=function(a,b,d){var f;f=this;b=b.b9(d.sza).href;return this.send(a,b,d.inputs,"sessionId","license"===d.sza?h.Cg.Nr:h.Cg.GB).then(function(a){a=a.result;f.Rra(a);f.x5a(a);return a;})["catch"](function(a){throw f.Un(a);});};b.prototype.x5a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.al))],k);c.aTa=k;},function(g,c,a){var f,m,h,d,k,p,t,u,y,B,x,l,G,n,S,T;function b(a,b,d,f,c,g,k){a=y.li.call(this,a,m.I.MANIFEST,3,h.si.sa,h.Cg.Nr,h.si.sa)||this;a.platform=b;a.config=d;a.yT=f;a.j5a=c;a.irb=g;a.Jk=k;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);d=a(445);k=a(5);p=a(17);t=a(63);u=a(67);a(159);y=a(70);B=a(48);x=a(232);l=a(415);G=a(303);n=a(103);S=a(79);T=a(40);da(b,y.li);b.prototype.yf=function(a,b){var d;d=this;return this.hcb(b).then(function(f){return d.send(a,"/"+d.name,f,void 0,d.Bgb(b.kE),void 0,b.kE===t.jn.A1?T.Vu.yla:T.Vu.jQ);}).then(function(a){return a.result;})["catch"](function(a){throw d.Un(a);});};b.prototype.Bm=function(a,b,d){return this.yf(a,d).then(function(a){b.yS(a.links);a.Rf=b;return a;});};b.prototype.hcb=function(a){var b,f,c,g,m,p,h,q;b=this;f=a.Sa;c=Object.assign({},f.uJ,f.Vm);g={};m=a.wa;g[m]={unletterboxed:!!c.preferUnletterboxed};p=this.config().LAb?30:25;h=k.oE();q=this.config().Wp?this.Jk.Seb():Promise.resolve(d.Uja.mp());return Promise.all([h.Xgb(),h.Ygb(),h.uE(),h.kL(),this.leb(a.ia),q]).then(function(d){var k,h,q,u,y;k=Q(d);h=k.next().value;q=k.next().value;d=k.next().value;u=k.next().value;y=k.next().value;k=k.next().value;h=(h||[]).concat(q||[]).concat(b.config().zu).concat(["BIF240","BIF320"]).filter(Boolean);q=u&&void 0!==u.SUPPORTS_SECURE_STOP?!!u.SUPPORTS_SECURE_STOP:void 0;u=u?u.DEVICE_SECURITY_LEVEL:void 0;d={type:"standard",viewableId:m,profiles:h,flavor:t.gd.L6a(a.kE),drmType:k,drmVersion:p,usePsshBox:!0,isBranching:!!a.Sa.Yh,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().vyb,imageSubtitleHeight:x.H1.l9(),uiVersion:b.context.pj.yO,uiPlatform:b.context.pj.zZ,clientVersion:b.platform.version,supportsPreReleasePin:b.config().ot.pyb,supportsWatermark:b.config().ot.qyb,showAllSubDubTracks:b.config().ot.Zwb||!!c.showAllSubDubTracks,packageId:b.hgb(f),deviceSupportsSecureStop:q,deviceSecurityLevel:u,videoOutputInfo:d,titleSpecificData:g,preferAssistiveAudio:!!c.assistiveAudioPreferred,preferredTextLocale:c.preferredTextLocale,preferredAudioLocale:c.preferredAudioLocale,isUIAutoPlay:!!c.isUIAutoPlay,challenge:y,isNonMember:b.context.pj.KE,pin:f.BCa,desiredVmaf:b.config().IAb?b.config().z$a:b.config().A$a};f.Jua&&(d.extraParams=f.Jua);return d;});};b.prototype.hgb=function(a){if(this.config().ZX.enabled){if(void 0!==a.io)return a.io;if(void 0!==this.config().ZX.io)return Number(this.config().ZX.io);}};b.prototype.Bgb=function(a){switch(a){case t.jn.ln:case t.jn.uMa:return h.Cg.Nr;case t.jn.Hla:case t.jn.A1:return h.Cg.P0;case t.jn.Qka:return h.Cg.GB;}};b.prototype.leb=function(a){var b;b=this;return this.j5a.Xva().then(function(d){var f;f=a&&b.irb.ngb(a);f&&f.om("cad");return d;});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(B.al)),g.__param(1,f.l(S.Vr)),g.__param(2,f.l(p.sd)),g.__param(3,f.l(u.XG)),g.__param(4,f.l(l.Nga)),g.__param(5,f.l(G.s1)),g.__param(6,f.l(n.Uu))],a);c.nTa=a;},function(g,c,a){var f,m,h,d,k;function b(a){return d.li.call(this,a,m.I.PPa,1,h.si.Iza,h.Cg.GB,h.si.Iza)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);d=a(70);a=a(48);da(b,d.li);b.prototype.yf=function(a,b){var d;d=this;return this.send(a,"/"+this.name,b).then(function(a){return a.result;})["catch"](function(a){throw d.Un(a);});};b.prototype.Bm=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.al))],k);c.mTa=k;},function(g,c,a){var b,f,m,h,d,k,p,t,u,y,B,x,l,G,n,S,T,U,C,r,O,ea,ba,ca,V,ja,M,na,A,N;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(339);f=a(583);m=a(192);h=a(582);d=a(327);k=a(581);p=a(325);t=a(580);u=a(324);y=a(579);B=a(323);x=a(578);l=a(75);G=a(577);n=a(576);S=a(46);T=a(2);U=a(575);C=a(574);r=a(573);O=a(48);ea=a(572);ba=a(188);ca=a(571);V=a(570);ja=a(569);M=a(343);na=a(568);A=a(567);N=a(566);c.a6a=new g.tc(function(a){a(O.al).to(ea.eTa);a(b.ala).to(f.mTa);a(ba.k1).to(ca.bTa);a(M.Tka).to(na.cTa);a(V.pTa).to(ja.oTa);a(m.m1).to(h.nTa);a(d.Ska).to(k.aTa);a(p.fla).to(t.yTa);a(u.Yka).to(y.jTa);a(B.Zka).to(x.kTa);a(l.ima).to(G.DVa);a(l.jma).to(n.FVa);a(l.kja).to(U.KPa);a(l.gma).to(C.zVa);a(l.bia).to(r.BNa);a(N.rTa).to(A.qTa);a(l.O_).Ef(function(a){return function(b){switch(b){case l.cm.start:return a.tb.get(l.ima);case l.cm.stop:return a.tb.get(l.jma);case l.cm.ML:return a.tb.get(l.kja);case l.cm.splice:return a.tb.get(l.gma);case l.cm.IK:return a.tb.get(l.bia);}throw new S.qc(T.I.kSa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,c,a){var f;function b(a,b,d,f){this.S6=a;this.debug=b;this.qa=d;this.j=f;this.BX=[];this.cX={};this.W6={};this.V7=!1;this.MJa=7.8125;}Object.defineProperty(c,"__esModule",{value:!0});f=a(4);a(15);a(16);a(73);b.prototype.register=function(a,b){this.debug.assert(!(0<=this.BX.indexOf(a)),"panel already registered");this.cX[a]=b;this.BX.push(a);};b.prototype.CBa=function(a){var b;b=this;this.W6[a]=!0;this.V7||(this.V7=!0,setTimeout(function(){return b.$cb();},0));};b.prototype.Sfb=function(a){return(a=this.cX[a])?a():void 0;};b.prototype.S8=function(){var a;a=this.j.JX;return a?a.S8():[];};b.prototype.addEventListener=function(a,b){this.S6.addListener(a,b);this.cX[a]&&this.CBa(a);};b.prototype.removeEventListener=function(a,b){this.S6.removeListener(a,b);};b.prototype.getTime=function(){return this.qa.kc().da(f.ja);};b.prototype.$cb=function(){this.V7=!1;for(var a=this.BX.length,b;a--;)b=this.BX[a],this.W6[b]&&(this.W6[b]=!1,this.S6.Mb(b+"changed",{getModel:this.cX[b]}));};c.JMa=b;},function(g,c,a){var f,m,h,d,k,p,t;function b(a,b,d,c,g,m,q,l,n){var u;u=this;this.Bzb=a;this.j=b;this.id=d;this.height=c;this.width=g;this.Yqb=m;this.Zqb=q;this.size=l;this.fd=n;this.type=f.Bg.Ifa;this.su=!0;this.state=k.rn.YP;this.tg={};this.JS={};this.msb=function(a){if(a.Z)try{u.data=u.Bzb.parse(a.content);u.state=k.rn.LOADED;u.log.trace("TrickPlay parsed",{Images:u.data.images.length},u.tg);u.j.fireEvent(p.S.tO);}catch(R){u.state=k.rn.vka;u.log.error("TrickPlay parse failed.",R);}else u.state=k.rn.YP,u.log.error("TrickPlay download failed.",t.Ho(a),u.tg);};this.log=h.Rg(b,"TrickPlay");}Object.defineProperty(c,"__esModule",{value:!0});f=a(74);m=a(12);h=a(5);d=a(73);k=a(301);p=a(15);t=a(2);b.prototype.gfb=function(a){if(this.data&&(a=Math.floor(a/this.data.Vn.$Ga),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.Vn.$Ga,height:this.height,width:this.width,pixelAspectHeight:this.Yqb,pixelAspectWidth:this.Zqb};};b.prototype.dV=function(){switch(this.state){case k.rn.LOADED:return"downloaded";case k.rn.LOADING:return"loading";case k.rn.rH:return"downloadfailed";case k.rn.vka:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.thb();a?(this.state=k.rn.LOADING,this.cab(a)):this.su=!1;};b.prototype.Wc=function(){return this.state;};b.prototype.thb=function(){var a,b,d;a=this;b=Object.keys(this.fd).find(function(b){return(a.JS[a.fd[b]]||0)<=m.config.xzb;});if(b){d=this.fd[b];d in this.JS?this.JS[d]++:this.JS[d]=1;return{url:d,Uv:b};}};b.prototype.cab=function(a){this.log.trace("Downloading",a.url,this.tg);a={responseType:d.BV,Xb:this.E8(a.Uv),url:a.url,track:this};this.j.CV.download(a,this.msb);};b.prototype.E8=function(a){return this.j.aj.find(function(b){return b&&b.id===a;});};c.lWa=b;},function(g,c,a){var f,m,h;function b(a,b){this.config=a;this.j=b;this.Lt=!1;this.baa=0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(15);m=a(4);h=a(93);b.prototype.Yfb=function(a,b,c,g){var d,k,p,h,t;c=void 0===c?this.j.ib:c;g=void 0===g?!1:g;d=b===f.bg.RB;k=this.j.wwa(c);g=this.Y4a(d?a:this.L5a(a,c),g,c,k);d?(a=g,g=this.j.ob.et(k,g,c)):a=this.j.ob.bK(k,g,c);b===f.bg.oH&&(this.j.lra=g);p=this.Ws(a,b);h=(b===f.bg.Zu||b===f.bg.pQ)&&!this.j.Nya;h=(d=d||p||h)?a:g;if(this.j.ku){t=this.config().xX;this.j.xxa(h,t)||b!==f.bg.Zu||(h=this.j.ku.da(m.ja)-t-1E3,d?(a=h,g=this.j.ob.et(k,h,c)):(a=this.j.ob.bK(k,h,c),g=h));}return{xM:h,Ai:g,qrb:a,Ws:p};};b.prototype.Y4a=function(a,b,f,c){a=this.Zjb()||b?Math.round(a):this.Rgb(a,f,c);this.config().Uda&&(a+=this.config().Uda);return a;};b.prototype.Ws=function(a,b){return b===f.bg.RB||this.j.Sa.Yh&&this.Lt?!1:(b=this.j.ob)&&b.Ws(a)||!1;};b.prototype.Zjb=function(){return this.j.Sa.Yh?!0:"boolean"===typeof this.j.Sa.YM?this.j.Sa.YM:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?this.config().YM&&this.config().Erb:this.config().YM;};b.prototype.L5a=function(a,b){b=this.j.Bt(b).Eq.da(m.ja)-this.config().CBb;return h.Sr(a,0,b);};b.prototype.Rgb=function(a,b,f){var d;d=this.j.Sa.Yh?this.config().dua:this.config().pt;return this.j.ob.Cra(a,f,d,b);};c.oVa=b;},function(g,c,a){var f,m,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(155);a=a(1);b.prototype.parse=function(a){var b,d;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);d=new m.WG(b);a=this.jqb(d);b=this.lqb(d,b,a);return{Vn:a,images:b};};b.prototype.jqb=function(a){var b,d,c,g;if(a.Tj()<this.mub())throw Error("array buffer too short");f.Dja.forEach(function(b){if(b!=a.se())throw Error("BIF has invalid magic.");});b=a.AA();if(b>f.VERSION)throw Error("BIF version in unsupported");d=a.AA();if(0==d)throw Error("BIF has no frames.");c=a.AA();g=a.Dd(f.Kla);return{version:b,bpb:d,$Ga:c,oub:g};};b.prototype.lqb=function(a,b,f){var g,k;for(var d=[],c=0;c<=f.bpb;c++){k={timestamp:a.AA(),offset:a.AA()};void 0!=g&&d.push(b.subarray(g.offset,k.offset));g=k;}return d;};b.prototype.mub=function(){return f.Dja.length+4+4+4+f.Kla;};h=f=b;h.Dja=[137,66,73,70,13,10,26,10];h.VERSION=0;h.Kla=44;h=f=g.__decorate([a.N()],h);c.oWa=h;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Hma="TrickPlayParserSymbol";},function(g,c,a){var f,m;function b(a,b,c,g,m,h,y,B,x,l,G){this.index=a;this.u=b;this.ib=c;this.Sa=g;this.ia=m;this.Ql=h;this.taa=y;this.E6a=x;this.IAa=G;this.Uc=new f.Rc(null);this.Yf=new f.Rc(null);this.zc=new f.Rc(null);this.$i=new f.Rc(null);this.wr=new f.Rc(void 0);this.ze=new f.Rc(null);this.Mj=new f.Rc(null);this.Uf=new f.Rc(null);this.We=new f.Rc(null);this.Zb=new f.Rc(void 0);this.In=new f.Rc(null);this.Rv=this.Qv="notcached";this.background=!1;B&&(this.ze.set(B.ze.value),this.Mj.set(B.Mj.value));this.Pl=l(this);this.qca=this.IAa.Etb(this.ia,this.Ql);}Object.defineProperty(c,"__esModule",{value:!0});f=a(187);m=a(4);b.prototype.Xc=function(a){this.qca.om(a);};b.prototype.zw=function(a){var b;b=this;Object.keys(a).forEach(function(d){b.qca.om(d,m.Cb(a[d]-b.Ql.da(m.ja)));});};b.prototype.nX=function(){this.IAa.Stb(this.ia);};pa.Object.defineProperties(b.prototype,{he:{configurable:!0,enumerable:!0,get:function(){return this.Sa.he;}},Ek:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Ek;}},Gn:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Gn;}},Zm:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Zm;}},Cu:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Cu;}},ik:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.ik;}},fg:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.fg;}},Ew:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Ew;}},Jp:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Jp;}},aj:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.aj;}},SX:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.SX;}},Eq:{configurable:!0,enumerable:!0,get:function(){return this.p2&&0<this.p2.da(m.ja)?this.p2:m.Cb(this.sa?this.sa.duration:0);},set:function(a){this.p2=a;}},xh:{configurable:!0,enumerable:!0,get:function(){return this.Sa.xh||0;}},t6:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.jT?this.jT:void 0===this.Zb.value?null:this.E6a(this.Zb.value,this.ib);}},yD:{configurable:!0,enumerable:!0,get:function(){return this.sa&&this.sa.cdnResponseData?this.sa.cdnResponseData.pbcid:void 0;}},NA:{configurable:!0,enumerable:!0,get:function(){return this.sa&&this.sa.cdnResponseData?this.sa.cdnResponseData.sessionABTestCell:void 0;}},Hc:{configurable:!0,enumerable:!0,get:function(){return this.qca.Hc;}}});c.PTa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.kla="PlayTimeTrackerFactorySymbol";},function(g,c,a){var m,h,d,k,p,t,u,y;function b(a,b,d,f,c){var g;g=this;this.ak=a;this.config=d;this.Ea=f;this.debug=c;this.MX=[];this.Ep=[];this.sca=[];this.Qy={};this.Sta=!1;this.yJ={};this.E$=0;this.log=b.ub("PlayTimeTracker");this.startTime=this.ak.Zb.value;this.zW=this.config().w1a;this.SO();this.Qy.abrdel=0;this.zW.forEach(function(a){a="abrdel"+a;g.yJ[a]=0;g.Qy[a]=0;});}function f(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(1);h=a(8);d=a(17);k=a(90);a(4);p=a(22);t=a(88);u=a(11);y=a(19);f.prototype.encode=function(a){return{key:a.key,downloadableId:a.Zc,bitrate:a.R,vmaf:a.Bc,duration:a.duration,metric:a.nM,cdnId:a.Uv};};f.prototype.decode=function(a){return{key:a.key,Zc:a.downloadableId,R:a.bitrate,Bc:a.vmaf,duration:a.duration,nM:a.metric,Uv:a.cdnId};};b.prototype.lL=function(){var a;this.TN(this.ak.Zb.value);a=0;this.Ep.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};b.prototype.Tdb=function(){this.TN(this.ak.Zb.value);return{audio:this.dL(this.MX,this.hwa),video:this.dL(this.Ep,this.hwa)};};b.prototype.lgb=function(){var a;a={total:this.lL(),audio:this.dL(this.MX,this.SU),video:this.dL(this.Ep,this.SU),timedtext:this.dL(this.sca,this.SU)};this.debug.assert(!(!a.audio||!a.video));return a;};b.prototype.Ova=function(){var a,b;this.TN(this.ak.Zb.value);a=this.z8(this.Ep,this.eeb);try{b=this.Pva(a);}catch(H){return this.log.warn("Failed to calc average bitrate."),null;}this.Qy.abrdel=Math.round(b);return this.Qy.abrdel;};b.prototype.Xdb=function(){var a,b;this.TN(this.ak.Zb.value);a=this.z8(this.Ep,this.zhb);try{b=this.Pva(a);}catch(H){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};b.prototype.Wdb=function(){var a,b;a=this;if(!this.Sta){b=this.lL();this.zW.forEach(function(d){var f,c,g;if(0===a.yJ["abrdel"+d]&&b>d*u.nk){f=0;c=0;g=0;a.Ep.some(function(a){f+=a.stream.R*(a.endTime-a.startTime);c+=a.endTime-a.startTime;g=a.stream.R;if(c>d*u.nk)return!0;});f&&(a.yJ["abrdel"+d]=Math.round((f-g*(c-d*u.nk))/(d*u.nk)));}});0!==this.yJ["abrdel"+this.zW[this.zW.length-1]]&&(this.Sta=!0);y.ad(this.yJ,function(b,d){a.Qy[b]=0===d?a.Qy.abrdel:d;});}return this.Qy;};b.prototype.Q1a=function(a){this.E$+=a;};b.prototype.jib=function(){return!!(this.Ep[0]&&this.Ep[0].stream&&this.Ea.Nd(this.Ep[0].stream.Bc));};b.prototype.SO=function(){var a;a=this;this.ak.Uf.addListener(function(b){a.CD=a.Mra(a.CD,a.MX,b.newValue);});this.ak.We.addListener(function(b){a.FD=a.Mra(a.FD,a.Ep,b.newValue);});this.ak.$i.addListener(this.qpb.bind(this));};b.prototype.Sob=function(a,b){this.TN(a);this.startTime=b;this.FD=this.CD=void 0;this.ED&&(this.ED.startTime=this.startTime);};b.prototype.qpb=function(a){this.cN(this.ED,this.sca,this.ak.Zb.value);this.ED=a.newValue?{track:a.newValue,startTime:this.ak.Zb.value,endTime:k.Vx}:void 0;};b.prototype.TN=function(a){a&&this.CD&&this.FD&&(a=Math.min(a,this.CD.endTime,this.FD.endTime),this.cN(this.CD,this.MX,a),this.CD.startTime=a,this.cN(this.FD,this.Ep,a),this.FD.startTime=a,this.ED&&(this.cN(this.ED,this.sca,a),this.ED.startTime=a),this.startTime=a);};b.prototype.Mra=function(a,b,d){a&&this.cN(a,b,Math.min(a.endTime,this.ak.Zb.value));if(d&&d.stream)return a=d.Kn,b=d.stream,{Xb:d.Xb,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};b.prototype.cN=function(a,b,d){a&&d&&d>=a.startTime&&(a={Xb:a.Xb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:d},(d=b[b.length-1])&&d.track===a.track&&d.stream===a.stream&&d.Xb===a.Xb&&d.endTime===a.startTime?d.endTime=a.endTime:b.push(a));};b.prototype.z8=function(a,b){var d,f;d=this;f={};return a.reduce(function(a,c){var g,k,m;g=b.bind(d,c)();k=g.key;c=c.endTime-c.startTime;m=f[k];m?m.duration+=c:(delete g.key,m=g,m.duration=c,a.push(m),f[k]=m);return a;},[]);};b.prototype.dL=function(a,b){return this.z8(a,b).map(function(a){return new f().encode(a);});};b.prototype.SU=function(a){var b,d,f;f=a.stream;f?(a=f.Zc,b=f.R,d=f.Bc):a=a.track.Zc;return{key:a+"$"+(b||0),Zc:a,R:b,Bc:d};};b.prototype.hwa=function(a){var b;b=this.SU(a);a=a.Xb.id;return Object.assign({},b,{key:b.key+"$"+a,Uv:a});};b.prototype.eeb=function(a){a=(a=a.stream)?a.R:0;return{key:a,nM:a};};b.prototype.zhb=function(a){a=(a=a.stream)?a.Bc:0;return{key:a,nM:a};};b.prototype.Pva=function(a){var b,d,f;b=this;d=0;a.forEach(function(a){if(b.Ea.Nd(a.duration)&&b.Ea.Nd(a.nM))d+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!d)return 0;f=0;a.forEach(function(a){f+=a.nM*a.duration/d;});return f;};a=b;a=g.__decorate([m.N(),g.__param(1,m.l(h.Bb)),g.__param(2,m.l(d.sd)),g.__param(3,m.l(p.Ke)),g.__param(4,m.l(t.Kr))],a);c.GTa=a;},function(g,c,a){var f,m,h,d,k,p;function b(a){var b,c;b=this;this.j=a;this.vpb=function(){var a;h.Ge.removeListener(h.I9,b.XBa);a=b.Wn.np();a&&a.parentNode&&a.parentNode.removeChild(a);};this.Zba=function(a){b.Wn.ewb(a.newValue);};this.Jpb=function(a){b.Wn.jwb(a.newValue?a.newValue.HE:void 0);};this.XBa=function(){b.Wn.MF();};this.Wn=new k.$Va(d.config.vfa,a.zc.value?a.zc.value.HE:void 0);c=a.IG;m.Ma(.1<c.width/c.height);this.Wn.Yvb(c.width/c.height);a.pf.appendChild(this.Wn.np());a.wr.addListener(this.Zba);a.zc.addListener(this.Jpb);a.addEventListener(p.S.df,this.vpb,f.LB);h.Ge.addListener(h.I9,this.XBa);}Object.defineProperty(c,"__esModule",{value:!0});f=a(11);m=a(18);h=a(55);d=a(12);k=a(286);p=a(15);b.prototype.Aea=function(a){this.Wn.Aea(a);};b.prototype.D9=function(){return this.Wn.D9();};b.prototype.yea=function(a){this.Wn.yea(a);};b.prototype.B9=function(){return this.Wn.B9();};b.prototype.zea=function(a){this.Wn.zea(a);};b.prototype.C9=function(){return this.Wn.C9();};c.bWa=b;},function(g,c,a){var f,m,h,d,k,p,t,u,y;function b(a,b,d,f,c){var g,m;a=k.TH.call(this,b,a,a,"1",{0:d},[{id:0,name:"custom"}],"xx",f||a,p.gq.OB,"primary",(g=null===c||void 0===c?void 0:c.profile,null!==g&&void 0!==g?g:"custom"),(m=null===c||void 0===c?void 0:c.ho,null!==m&&void 0!==m?m:{}),!1,!1,null===c||void 0===c?void 0:c.HE)||this;a.j=b;a.url=d;a.options=c;a.Ar=null===c||void 0===c?void 0:c.Ar;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(56);f=a(12);m=a(55);h=a(5);d=a(20);k=a(230);p=a(171);t=a(73);u=a(106);y=a(15);g.sla(g.ola,function(a){var c;function b(b){var f;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==u.Or.OVa){f=d.createElement("INPUT",void 0,void 0,{type:"file"});f.addEventListener("change",function(){var b,d,g;b=f.files[0];if(b){d=b.name;c.info("Loading file",{FileName:d});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.Ao.i4("nourl",d,{content:g.result});});}});f.click();}}c=h.Rg(a,"TimedTextCustomTrack");f.config.u6&&(c.info("Loading url",{Url:f.config.u6}),a.Ao.i4(f.config.u6,"custom"));m.Ge.addListener(m.yz,b);a.addEventListener(y.S.df,function(){m.Ge.removeListener(m.yz,b);});});da(b,k.TH);b.B8a=function(a,d,f,c){var g;g="custom"+b.qjb++;return new b(g,a,d,f,c);};b.prototype.Vta=function(){var a;a=this;return new Promise(function(b,d){var f,c;if(null===(f=a.options)||void 0===f?0:f.content)b(a.options.content);else if(a.url){c={responseType:t.Txa,url:a.url,track:a,Xb:null,OD:"tt-"+a.Bk};a.j.CV.download(c,function(f){f.Z?b(f.content):(f.reason="downloadfailed",f.url=c.url,f.track=a,d(f));});}});};c.ZVa=b;b.qjb=0;},function(g,c){function a(a,b,f){this.start=a;this.track=b;this.UA=f;this.end=void 0;this.UA=Array.isArray(f)?f:[];}function b(a,b,f){this.log=a;this.hB=b;this.cb=f.cb;this.hh=f.hh||function(){};this.current=void 0;this.Zca=[];this.orphans=[];}function f(a){var b;b=!1;a.reduce(function(a,d){a[d]=(a[d]|0)+1;1<a[d]&&(b=!0);return a;},Object.create(null));return b;}function m(a,b){return f(a)?(b.error("duplicates in entries"),a.filter(function(a,b,d){return d.indexOf(a)===b;})):a;}function h(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(c,"__esModule",{value:!0});b.prototype.C1a=function(a,b){this.gBa(a,b,"activating");};b.prototype.p9a=function(a){this.v7(a,"de-activating");};b.prototype.gBa=function(b,f,c){var d;d=[];this.current&&this.v7(b,"close current for new");this.orphans.length&&(d.push(this.orphans),this.orphans=[]);this.current=new a(b,f,d);this.hB&&this.log.trace("new range: "+c,this.cb({},this.current));};b.prototype.v7=function(a,b){this.current&&(this.current.end=a,this.Zca.push(this.current),this.hB&&this.log.trace("end range: "+b,this.cb({},this.current||{})),this.current=void 0);};b.prototype.RHa=function(a){this.current?this.current.UA.push(a):this.orphans.push(a);};b.prototype.y9=function(b){var d,f,c;d=this;f=d.Zca.slice(0);if(d.current&&"undefined"!=typeof b){c=new a(d.current.start,d.current.track,d.current.UA);c.end=b;f.push(c);}b=f.reduce(function(a,b){var f,c,g,k;if(!b.track)return a;f=b.track.Zc;c=b.track.tw(b.start,b.end);if(!c)return a;g=m(b.UA,d.log);a[f]?(k=a[f],k.expected+=c.length,k.missed+=c.length-g.length):(k={},k.dlid=f,k.bcp47=b.track.Bk,k.profile=b.track.profile,k.expected=c.length,k.missed=c.length-g.length,k.startPts=b.track.Sgb(),a[f]=k);return a;},{});b=h(b);d.hB&&d.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.Ggb=function(b){var d,f,c,g,h;d=this;f=d.Zca.slice(0);c=0;g=0;d.current&&"undefined"!=typeof b&&(h=new a(d.current.start,d.current.track,d.current.UA),h.end=b,f.push(h));f.forEach(function(a){var b,f;if(a.track){if(a.end<a.start){d.hh("negative range",a);a.hx=0;return;}b=m(a.UA,d.log);f=a.track.tw(a.start,a.end);a.Sn=f?f.map(function(a){return a.id;}):[];a.hx=f?0===f.length?100:100*b.length/f.length:0;}else a.hx=100;b=a.end-a.start;c+=b;g+=a.hx*b;});h=c?Math.round(g/c):100;d.log.trace("qoe score "+h+", at pts: "+b);d.hB&&(b=f.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.hx),lang:a.track?a.track.Bk:"none","actual  ":a.UA.join(" "),expected:(a.Sn||[]).join(" ")};}),d.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return h;};c.NVa=b;},function(g,c,a){var f,m,h,d,k,p,t,u,y,B,x,l,G,n;function b(a){var d;d=this;this.j=a;this.efa=this.bBa=0;this.df=this.Rl=!1;this.uN=0;this.wG=function(){var a,b;a=d.Cd();d.sY();d.Vsa&&(d.log.info("Deactivating",d.Vsa),d.px.p9a(d.Cd()));d.j.$i.set(null);d.$A.wFa(d.entries=void 0);d.Vra();b=d.j.zc.value;b&&b.KL()&&!b.$V()&&(b=null);b&&d.j.Qb.value!==l.jb.cg&&d.px.C1a(a,b);b?(d.log.info("Activating",b),d.j.hk.set(l.Gf.Zf),d.Rl||d.j.Xc("tt_start"),b.getEntries().then(d.pE)["catch"](d.pE)):d.j.hk.set(l.Gf.jd);d.Vsa=b;d.CG();};this.mfa=function(){d.Rl&&(d.$A.start(),d.j.Qb.value!==l.jb.Cc&&d.$A.stop());};this.CG=function(){var a;d.j.state.value===l.mb.jd&&d.j.Qb.value!==l.jb.cg&&(d.entries?a=d.$A.Jdb():d.j.zc.value&&(a=b.Axb[d.j.zc.value.Wc()]));a&&x.gc(a.startTime)&&(d.bBa++,d.efa+=d.$A.Hwa()-a.startTime,d.bra=Math.ceil(d.efa/(d.bBa+0)));d.j.wr.set(a);};this.Cd=function(){return d.j.h9();};this.Ipb=function(a){d.fireEvent(b.axb,a);a&&a.id&&d.px.RHa(a.id);d.log.trace("showsubtitle",d.exa(a));};this.Epb=function(a){d.fireEvent(b.Wtb,a);d.log.trace("removesubtitle",d.exa(a));};this.Ol=function(){d.log.warn("imagesubs buffer underflow",d.j.zc.value.tg);d.j.hk.set(l.Gf.Zf);};this.rpb=function(){d.log.info("imagesubs buffering complete",d.j.zc.value.tg);d.j.hk.set(l.Gf.jd);};this.RBa=function(){d.Rl&&d.Pf&&d.Pf.Up(d.Cd());};this.UBa=function(a){d.Pf&&d.Pf.LN&&d.Pf.LN(a.Mg,a.zM);};this.YBa=function(a){d.Pf&&d.Pf.Co&&d.Pf.Co(a.ib,a.uAb);};this.uX=function(){d.Rl=!0;B.Jb(function(){d.Pf?d.Pf.Up(d.Cd()):d.mfa();d.CG();});};this.FM=function(){d.entries=void 0;d.Vra();d.$A.stop();d.CG();d.df=!0;d.sY();};this.Zba=function(a){(a=a.newValue)&&x.gc(a.id)&&d.px.RHa(a.id);};this.Bpb=function(a){d.oAb(a.newValue,a.oldValue);d.mfa();};this.pE=function(a){var b,f;if(!d.df){b=a.track;f=!1;if(b==d.j.zc.value)if(b.Sq)if(a.Z)d.sY(),d.Pf=b.Pf,d.Wza("addListener"),d.log.info("Activated",b),d.j.$i.set(b),d.Rl?B.Jb(function(){d.Pf.Up(d.Cd());}):d.Pf.pause();else{if(f=!!(d.uN<h.config.sAa))d.BEa=setTimeout(d.CEa.bind(d,b),h.config.VGa);d.log.error("Failed to activate img subtitle",{retry:f},a,b);}else{if(f=a.entries)d.sY(),d.$A.wFa(d.entries=f),d.log.info("Activated",b),d.j.$i.set(b);else{if(f=!!(d.uN<h.config.sAa))d.BEa=setTimeout(d.CEa.bind(d,b),h.config.VGa);d.log.error("Failed to activate",{retry:f},y.Ho(a),b);}d.CG();}d.Rl||d.j.Xc(a.Z?"tt_comp":"tt_err");a.Z?(h.config.KEa?setTimeout(function(){d.j.hk.set(l.Gf.jd);},h.config.KEa):d.j.hk.set(l.Gf.jd),b.Sq||d.CG()):a.uq?d.log.warn("aborted timed text track loading"):h.config.ucb?(b=k.$.get(n.bl),d.j.Md(b(y.I.nPa,{kb:a.track?a.track.tg:{}}))):(d.log.error("ignore subtitle initialization error",a),d.j.hk.set(l.Gf.jd));}};this.Lb=new m.lk();this.px=new p.NVa(k.Rg(a,"SubtitleTracker"),h.config.ebb,{cb:u.cb,hh:t.Ma});this.log=k.Rg(a,"TimedTextManager");this.$A=new f.cWa(this.Cd,this.CG);this.j.zc.addListener(this.wG);h.config.Arb?(this.j.addEventListener(l.S.Ok,this.uX),this.wG()):(this.j.hk.set(l.Gf.jd),this.j.addEventListener(l.S.Ok,function(){d.Rl=!0;d.wG();}));this.j.Qb.addListener(this.Bpb);this.j.addEventListener(l.S.qfa,this.mfa);this.j.wr.addListener(this.Zba);this.j.addEventListener(l.S.df,this.FM);}Object.defineProperty(c,"__esModule",{value:!0});g=a(230);f=a(290);m=a(72);h=a(12);d=a(38);k=a(5);p=a(595);t=a(18);u=a(19);y=a(2);B=a(50);x=a(16);l=a(15);G=a(594);n=a(59);b.prototype.addEventListener=function(a,b,d){this.Lb.addListener(a,b,d);};b.prototype.removeEventListener=function(a,b){this.Lb.removeListener(a,b);};b.prototype.fireEvent=function(a,b,d){this.Lb.Mb(a,b,d);};b.prototype.i4=function(a,b,f){var c;c=G.ZVa.B8a(this.j,a,b,f);this.j.ik.push(c);this.j.Gn.forEach(function(a){d.mJa(a.ik,c);});this.j.zc.set(c);this.j.fireEvent(l.S.aB);};b.prototype.Wgb=function(a){return this.px.Ggb(a);};b.prototype.y9=function(a){return this.px.y9(a);};b.prototype.hV=function(){var a,b;a=this.j.oO;b=h.config.WGa.characterSize;b={size:h.config.wfa.characterSize||b};a&&(b.visibility=a.D9(),b.CJ=a.B9(),b.co=a.C9());return b;};b.prototype.vwb=function(a){h.config.wfa.characterSize=a;a=this.j.zc.value;!a||a.KL()||a.Sq||a.getEntries().then(this.pE)["catch"](this.pE);};b.prototype.oAb=function(a,b){a===l.jb.Cc||a==l.jb.ah?b!==l.jb.Cc&&b!==l.jb.ah&&((b=this.j.zc.value)&&b.KL()&&!b.$V()||this.px.gBa(this.Cd(),b,"presentingstate:"+a)):a!==l.jb.cg&&a!==l.jb.$p||this.px.v7(this.Cd(),"presentingstate:"+a);};b.prototype.sY=function(){this.uN=0;clearTimeout(this.BEa);};b.prototype.Vra=function(){this.Pf&&(this.Pf.stop(),this.Wza("removeListener"));this.Pf=void 0;};b.prototype.Wza=function(a){this.Pf&&(this.Pf[a]("showsubtitle",this.Ipb),this.Pf[a]("removesubtitle",this.Epb),this.Pf[a]("underflow",this.Ol),this.Pf[a]("bufferingComplete",this.rpb),"addListener"===a?(this.j.addEventListener(l.S.Nn,this.RBa),this.j.addEventListener(l.S.jX,this.UBa),this.j.addEventListener(l.S.Co,this.YBa)):(this.j.removeEventListener(l.S.Nn,this.RBa),this.j.removeEventListener(l.S.jX,this.UBa),this.j.removeEventListener(l.S.Co,this.YBa)));};b.prototype.exa=function(a){return{currentPts:this.Cd(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.CEa=function(a){this.uN++;a.getEntries().then(this.pE)["catch"](this.pE);};c.aWa=b;c={};b.Axb=(c[g.TH.Xla.LOADING]={bPb:!0},c[g.TH.Xla.rH]={ut:!0},c);b.axb="showsubtitle";b.Wtb="removesubtitle";},function(g,c,a){var d,k,p,t,u,y,B,x,l,G,n,S,r,U,C,R,O,ea,ba,ca,V,ja,M,na,A,N;function b(a){var b;b=this;this.j=a;this.rIa=Promise.resolve();this.N_=K.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Av=[];this.Ij=new y.lk();this.Ana=this.X1=0;this.SQ=[];this.nb=l.Rg(this.j,"MediaElementASE");this.qpa=C.Le;this.v2=!1;this.sf={};this.qI={};this.TU=this.UQ(function(){var a;if(b.Wa){a=b.iR();return a?a.totalVideoFrames:b.Wa.webkitDecodedFrameCount;}});this.tz=this.UQ(function(){var a;if(b.Wa){a=b.iR();return a?a.droppedVideoFrames:b.Wa.webkitDroppedFrameCount;}});this.aL=this.UQ(function(){var a;if(b.Wa){a=b.iR();return a&&a.corruptedVideoFrames;}});this.UU=this.UQ(function(){var a;if(b.Wa){a=b.iR();return a&&O.pi(a.totalFrameDelay*C.nk);}});this.ooa=function(){return b.Ij.Mb(ca.ri.qza);};this.Vj=l.$.get(ba.rja).create(u.config.Wp,this,this.j);u.config.Jw&&(this.rIa=new Promise(function(a){b.qpa=a;b.j.addEventListener(M.S.df,a);}));this.nb.trace("Created Media Element");this.addEventListener=this.Ij.addListener;this.removeEventListener=this.Ij.removeListener;this.Wa=f(this.j.IG);this.sourceBuffers=this.Av;}function f(a){var b,d;b=l.$.get(V.Xma).zgb();a=a.width/a.height*b.height;d=(b.width-a)/2;return u.config.zwb?C.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+d+"px;top:0px"):C.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(a){a.preventDefault();return!1;}function h(a,b){var d,f,c;d=a.target;d=d&&d.error;f=a.errorCode;c=d&&d.code;C.gc(c)||(c=f&&f.code);f=d&&d.msExtendedCode;C.gc(f)||(f=d&&d.systemCode);C.gc(f)||(f=a.systemCode);a=C.cb({},{code:c,systemCode:f},{du:!0});b={ba:b(c),kb:R.Tza(a)};try{d&&d.message&&(b.iM=d.message);}catch(ma){}f=C.de(f);ea.ka(f)&&(b.Pd=l.cra(f,4));return{eE:b,Olb:a};}Object.defineProperty(c,"__esModule",{value:!0});d=a(58);k=a(149);p=a(59);t=a(11);u=a(12);y=a(72);B=a(55);x=a(38);l=a(5);G=a(2);n=a(18);S=a(93);r=a(456);U=a(19);C=a(20);R=a(186);O=a(9);ea=a(16);ba=a(291);ca=a(185);V=a(314);ja=a(4);M=a(15);na=a(135);A=!!(O.CH&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);N=A&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||O.BH);b.prototype.bL=function(a){try{this.Wa&&(this.Ana=this.Wa.currentTime);}catch(Ea){this.nb.error("Exception while getting VIDEO.currentTime",Ea);a&&this.hC(G.I.KSa,Ea);}return O.pi(this.Ana*C.nk);};b.prototype.seek=function(a){var b;n.Ma(!this.jm);this.mpa();b=this.bL(!0);if(!u.config.z2a&&O.vH(b-a)<=this.Vda)this.nb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Vda});else try{this.nb.trace("Setting video elements currentTime",{From:S.Dh(b),To:S.Dh(a)});this.jm={};this.Wa.currentTime=a/C.nk;this.Ij.Mb(ca.ri.Nn);}catch(za){this.nb.error("Exception while setting VIDEO.currentTime",za);this.hC(G.I.LSa,za);}};b.prototype.Hgb=function(){return!!this.jm;};b.prototype.addSourceBuffer=function(a){var b,f;b=C.de(this.X1.toString()+this.Av.length.toString());b={sourceId:this.X1,QS:b};try{f=new k.Vja(this.j,a,this.Jf,b,this.nb);this.Av.push(f);a==t.uH&&f.b8&&f.b8.addListener(this.qpa);return f;}catch(Fa){f=C.Re(Fa);this.nb.error("Unable to add source buffer.",{error:f});b=l.$.get(p.bl);this.j.Md(b(G.I.i1,{ba:a===d.Mc.Dj.AUDIO?C.G.Hja:C.G.Ija,kb:f}));}};b.prototype.o4=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.Ij.Mb(ca.ri.aGa);return!0;};b.prototype.removeSourceBuffer=function(a){this.Av=this.Av.filter(function(b){return!x.ksa(a,b);});this.Jf.removeSourceBuffer(a);};b.prototype.endOfStream=function(){u.config.m5&&this.Jf.endOfStream();};b.prototype.yl=function(a){this.Av=[];a&&a.bQb();return!0;};b.prototype.Xvb=function(a){this.X1=a;};b.prototype.Fwa=function(){if(this.Jf)return ja.Drb(this.Jf.duration);};b.prototype.lwb=function(a){this.Jf&&(this.Jf.duration=a.QX(ja.nn));};b.prototype.K$a=function(){var a;if(!this.v2&&this.Wa&&2<=this.Wa.readyState){a=this.Wa.webkitDecodedFrameCount;if(void 0===a||0<a||u.config.vBb)this.v2=!0;}return this.v2;};b.prototype.open=function(){var a,b,d;a=this;this.j.addEventListener(M.S.RFa,function(b){return a.z_a(b);});if(A){if(this.j.Ew){if(!N){this.fm(G.I.Ika);return;}if(O.BH&&O.BH.isTypeSupported&&this.Vj.Rd)try{if(!O.BH.isTypeSupported(this.Vj.Rd,"video/mp4")){this.Y0a(function(b){a.fm(G.I.g1,b);});return;}}catch(Fa){this.hC(G.I.g1,Fa);return;}}try{this.Jf=new O.CH();}catch(Fa){this.hC(G.I.ASa,Fa);return;}try{this.zk=URL.createObjectURL(this.Jf);}catch(Fa){this.hC(G.I.BSa,Fa);return;}try{this.Vj.T1a(this.ooa);this.Jf.addEventListener("sourceopen",function(b){return a.Poa(b);});this.Jf.addEventListener(this.N_+"sourceopen",function(b){return a.Poa(b);});this.Wa.addEventListener("error",this.sf.error=function(b){return a.FC(b);});this.Wa.addEventListener("seeking",this.sf.seeking=function(){return a.y_a();});this.Wa.addEventListener("seeked",this.sf.seeked=function(){return a.p3();});this.Wa.addEventListener("timeupdate",this.sf.timeupdate=function(){return a.A_a();});this.Wa.addEventListener("loadstart",this.sf.loadstart=function(){return a.HI();});this.Wa.addEventListener("volumechange",this.sf.volumechange=function(b){return a.B_a(b);});this.Wa.addEventListener(this.Vj.gA,this.sf[this.Vj.gA]=function(b){return a.u_a(b);});b=this.j.pf;d=b.lastChild;d?b.insertBefore(this.Wa,d):b.appendChild(this.Wa);u.config.Jta&&this.Wa.addEventListener("contextmenu",m);this.Wa.src=this.zk;B.Ge.addListener(B.nL,this.qI[B.nL]=function(){return a.Ooa();});this.Ooa();}catch(Fa){this.hC(G.I.CSa,Fa);}}else this.fm(G.I.Jka);};b.prototype.close=function(){var b;function a(){b.zk&&(b.mpa(),B.Ge.removeListener(B.nL,b.qI[B.nL]),b.NXa());}b=this;this.Wa.removeEventListener(this.Vj.gA,this.sf[this.Vj.gA]);this.Wa.removeEventListener("error",this.sf.error);this.Wa.removeEventListener("seeking",this.sf.seeking);this.Wa.removeEventListener("seeked",this.sf.seeked);this.Wa.removeEventListener("timeupdate",this.sf.timeupdate);this.Wa.removeEventListener("loadstart",this.sf.loadstart);this.Wa.removeEventListener("volumechange",this.sf.volumechange);this.Vj.Otb(this.ooa);u.config.Wp?this.Vj.zCa().then(function(){return a();}):a();this.Vj.hEa&&clearTimeout(this.Vj.hEa);};b.prototype.u_a=function(a){return this.Vj.Uba(a);};b.prototype.iR=function(){if(this.Wa)return this.Wa.getVideoPlaybackQuality&&this.Wa.getVideoPlaybackQuality()||this.Wa.videoPlaybackQuality||this.Wa.playbackQuality;};b.prototype.z0a=function(){var a;a=this.j.Di;return(a=a&&a.errorCode)&&0<=[G.I.bQ,G.I.MP].indexOf(a);};b.prototype.NXa=function(){var a;a=!1;u.config.Xrb&&this.z0a()&&(a=!0);u.config.R5a&&!a&&(this.Wa.removeAttribute("src"),this.Wa.load&&this.Wa.load());URL.revokeObjectURL(this.zk);u.config.Jta&&this.Wa.removeEventListener("contextmenu",m);!a&&this.Wa&&this.j.pf.removeChild(this.Wa);this.Wa=this.Jf=void 0;this.zk="";};b.prototype.Ooa=function(){!0===O.je.hidden?this.SQ.forEach(function(a){a.refresh();a.qxb();}):this.SQ.forEach(function(a){a.refresh();a.Gxb();});};b.prototype.UQ=function(a){var b;b=l.$.get(r.ska)(a);this.SQ.push(b);return function(){b.refresh();return b.veb();};};b.prototype.hC=function(a,b){var d,f;d={ba:C.G.Bh,kb:C.Re(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(d.Pd=f);}catch(ya){}b=l.$.get(p.bl);this.j.Md(b(a,d));};b.prototype.mpa=function(){this.SQ.forEach(function(a){a.refresh();});};b.prototype.FYa=function(){return this.Wa&&this.Wa.msGraphicsTrustStatus;};b.prototype.fm=function(a,b,d){var f;f=l.$.get(p.bl);this.j.Md(f(a,b,d));};b.prototype.Y0a=function(a){var d,f;function b(f){b=C.Le;d.th();a(f);}d=l.$.get(na.UB)(500,function(){b();});d.st();try{f=this.j.ze.value.Vn.GPb.children.filter(function(a){return"pssh"==a.type&&a.pab==t.XMa;})[0];new O.BH(this.Vj.Rd).createSession("video/mp4",f.raw,null).addEventListener(this.N_+"keyerror",function(a){a=h(a,G.dia);b(a.eE);});}catch(ya){b();}};b.prototype.z_a=function(a){var b,f,c,g,k,m,h;if(this.Wa){a=a.MO;b=this.FYa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Wa.readyState;a.currentTime=""+this.Wa.currentTime;a.pbRate=""+this.Wa.playbackRate;}catch(ob){}for(var b=this.Av.length,d;b--;){d=this.Av[b];f="";d.type==t.M0?f="audio":d.type==t.uH&&(f="video");C.cb(a,d.MU(),{prefix:f});u.config.Xab&&this.j.Di&&t.uH==d.type&&(f=C.PN(d.J8()),3E3>(f.data&&f.data.length)&&(f.data=U.N6a(f.data).join(),C.cb(a,f,{prefix:d.type})));}this.Jf&&(b=this.Jf.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(u.config.Plb)try{c=this.j.xf;g=c&&c.Akb;if(g){k=g.expiration;isNaN(k)||(a.exp=k);m=g.keyStatuses.entries();if(m.next){h=m.next().value;h&&(a.keyStatus=h[1]);}}}catch(ob){}}};b.prototype.Poa=function(a){this.C0a||(this.C0a=!0,this.Ij.Mb(ca.ri.bGa,a));};b.prototype.y_a=function(){this.nb.trace("Video element event: seeking");this.jm?this.jm.gpb=!0:(this.nb.error("unexpected seeking event"),u.config.wcb&&this.fm(G.I.QSa));};b.prototype.p3=function(){this.nb.trace("Video element event: seeked");this.jm?(n.Ma(this.jm.gpb),this.jm.fpb=!0,this.Gpa()):(this.nb.error("unexpected seeked event"),u.config.vcb&&this.fm(G.I.PSa));};b.prototype.A_a=function(){this.jm&&(this.jm.ipb=!0,this.Gpa());this.Ij.Mb(ca.ri.Nn);};b.prototype.HI=function(){this.nb.trace("Video element event: loadstart");};b.prototype.B_a=function(a){this.nb.trace("Video element event:",a.type);try{this.j.volume.set(this.Wa.volume);this.j.muted.set(this.Wa.muted);}catch(Ea){this.nb.error("error updating volume",Ea);}};b.prototype.FC=function(a){a=h(a,G.HNa);this.nb.error("Video element event: error",a.Olb);this.fm(G.I.ISa,a.eE);};b.prototype.Gpa=function(){this.jm&&this.jm.fpb&&this.jm.ipb&&(this.jm=void 0,this.Ij.Mb(ca.ri.AN));};pa.Object.defineProperties(b.prototype,{Vda:{configurable:!0,enumerable:!0,get:function(){return u.config.ixb;}}});c.fRa=b;},function(g,c,a){var p,t,u,y,B,x,l,G,n,S,r,U,C,R,O,ea,ba,ca;function b(a,b,d){this.rl=a;this.K9=b;this.prefix=d;a=U(a,b,d);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function f(){this.Bta=p.gp.Bta.bind(p.gp);this.oT=p.gp.oT.bind(p.gp);this.RD=p.gp.RD;this.KB="NDA";}function m(){}function h(){}function d(){return n?n:"0.0.0.0";}function k(a){a({eCa:0,gO:0,Pxa:0,Rua:0});}p=a(150);f.prototype.set=function(a,b){y[a]=b;B.save(a,b);};f.prototype.get=function(a,b){if(y.hasOwnProperty(a))return y[a];G.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");B.load(a,function(d){d.Z?(y[a]=d.data,b&&b(d.data)):y[a]=void 0;});};f.prototype.remove=function(a){B.remove(a);};f.prototype.clear=function(){G.info("WARNING: Calling unimplemented function Storage.clear()");};m.prototype.now=function(){return x();};m.prototype.fa=function(){return l();};m.prototype.qba=function(a){return a+x()-l();};m.prototype.Oba=function(a){return a+l()-x();};c=a(109).EventEmitter;a(57)(c,h.prototype);b.prototype.Nsa=function(a){var d;d=[];this.prefix&&Array.isArray(this.prefix)?d.push.apply(d,[].concat(fa(this.prefix))):this.prefix&&d.push(this.prefix);d.push(a);return new b(this.rl,this.K9,d);};C=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.P=function(a){t=a.rA;U=a.qg;B=a.storage;y=a.SE;x=a.bgb;S=a.gL;r=a.zL;l=a.getTime;G=a.T2a;R=a.Ej;ca=a.Wr;O=a.uB;ea=a.SourceBuffer;ba=a.MediaSource;n=a.yOb;u=a.$y;return{name:"cadmium",$y:u,rA:t,gL:S,zL:r,storage:new f(),Storage:f,time:new m(),events:new h(),console:new b("JS-ASE",void 0,"default"),Console:b,options:{},Promise:C,Ej:R,uB:O,nRa:ea,MediaSource:ba,Wr:ca,Ll:{name:d},memory:{mfb:k},Sj:a.Sj};};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);f=a(73);c.nUa=function(){b.qg("ProbeDownloader");return{XK:function(a){f.Af.esb({url:a.url,bsb:a});}};}();},function(g,c,a){var f,m,h,d,k,p,t;function b(){var a;a=new m.lk();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Mb.bind(this);this.MR=p++;this.nb=h.qg("ProbeRequest");this.bpa=f.nUa;d.Ma(void 0!==this.bpa);this.Lf=c.Wr.cc.UNSENT;}Object.defineProperty(c,"__esModule",{value:!0});f=a(599);m=a(72);h=a(5);d=a(18);k=a(20);p=0;(function(){function a(){return JSON.stringify({url:this.zk,id:this.MR,affected:this.CQ,readystate:this.Lf});}k.cb(b.prototype,{Nl:function(a){a.affected=this.CQ;a.probed={requestId:this.MR,url:this.zk,Db:this.VI,groupId:this.jR};this.emit(c.Wr.Hd.FH,a);},Nba:function(a){this.F0a=a.httpcode;a.affected=this.CQ;a.probed={requestId:this.MR,url:this.zk,Db:this.VI,groupId:this.jR};this.emit(c.Wr.Hd.ay,a);},open:function(a,b,d,f){if(!a)return!1;this.zk=a;this.CQ=b;this.VI=d;this.Lf=c.Wr.cc.OPENED;this.pZa=f;this.bpa.XK(this);return!0;},ec:function(){return!0;},hj:function(){return this.MR;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Lf;},set:function(){}},status:{get:function(){return this.F0a;}},url:{get:function(){return this.zk;}},YKb:{get:function(){return this.CQ;}},Klb:{get:function(){return this.pZa;}}});}());(function(a){a.Hd={FH:"pr0",ay:"pr1"};a.cc={UNSENT:0,OPENED:1,$u:2,DONE:3,Nu:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(t||(t={})));c.Wr=Object.assign(b,t);},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.WKa||(c.WKa={});g[g.eSa=0]="PAUSE";g[g.yUa=1]="RESUME";g[g.ADb=2]="CAPTIONS_ON";g[g.zDb=3]="CAPTIONS_OFF";g[g.BDb=4]="CAPTION_LANGUAGE_CHANGED";g[g.tCb=5]="AUDIO_LANGUAGE_CHANGED";g[g.dHb=6]="NEXT_EP";g[g.lIb=7]="PREV_EP";g[g.Zu=8]="SEEK";g[g.Yla=9]="STOP";c.VKa="CastInteractionTrackerSymbol";},function(g,c,a){var f,m,h,d,k,p,t,u,y,B,x,l,G,n,S,r,U,C,R,O,ea,ba,ca;function b(a,b,d,f,c,g,k,m,h,p,t,q,u,y,x,B,l,H,G,n,P){this.CE=a;this.eD=b;this.qa=d;this.Ja=f;this.Z3a=c;this.pfa=g;this.Laa=k;this.Maa=m;this.AW=h;this.Ac=p;this.ee=t;this.bk=q;this.Ry=u;this.rca=y;this.Jaa=x;this.Cqb=B;this.Hfa=l;this.ai=H;this.Qc=G;this.$S=n;this.nJ=P;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(118);m=a(1);h=a(97);d=a(23);k=a(24);p=a(45);t=a(300);u=a(414);y=a(399);B=a(336);x=a(107);l=a(59);G=a(157);n=a(86);S=a(237);r=a(193);U=a(192);C=a(130);R=a(601);O=a(302);ea=a(42);ba=a(21);b.prototype.create=function(b,d,f,c,g){return new(a(299)).LTa(b,d,c,g,this.CE,f,this.qa,this.eD,this.Ja,this.Laa,this.Z3a,this.pfa,this.Maa,this.AW,this.Ac,this.ee,this.bk,this.Ry,this.rca,this.Jaa,this.Cqb,this.Hfa,this.ai,this.Qc,void 0,this.$S);};ca=b;ca=g.__decorate([m.N(),g.__param(0,m.l(f.EB)),g.__param(1,m.l(d.rf)),g.__param(2,m.l(k.qf)),g.__param(3,m.l(p.kk)),g.__param(4,m.l(t.Ega)),g.__param(5,m.l(h.TB)),g.__param(6,m.l(u.Pja)),g.__param(7,m.l(y.Qja)),g.__param(8,m.l(B.Aja)),g.__param(9,m.l(x.VB)),g.__param(10,m.l(l.bl)),g.__param(11,m.l(G.hQ)),g.__param(12,m.l(S.k_)),g.__param(13,m.l(r.t1)),g.__param(14,m.l(U.m1)),g.__param(15,m.l(C.KH)),g.__param(16,m.l(O.Gma)),g.__param(17,m.l(ea.mk)),g.__param(18,m.l(ba.$e)),g.__param(19,m.l(R.VKa)),g.__param(19,m.optional()),g.__param(20,m.l(n.$O)),g.__param(20,m.optional())],ca);c.KTa=ca;},function(g,c){function a(a){this.j=a;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.QHa=function(){var a;a=this.j.Xl&&this.j.Xl.Tb.get()||{};a.Wg&&(this.j.Wg=a.Wg.Ca);a.Da&&(this.j.Da=a.Da.Ca);};a.prototype.El=function(){-1===this.j.Da&&this.QHa();return this.j.Da;};a.prototype.S4a=function(a){-1!==this.j.Wg&&-1!==this.j.Da||this.QHa();return-1===this.j.Wg||-1===this.j.Da?Number.MAX_VALUE:this.j.Wg+8*a/this.j.Da;};c.ZJa=a;},function(g,c,a){var f,m,h,d,k,p;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(15);m=a(301);h=a(24);d=a(1);k=a(4);a=a(17);b.prototype.aE=function(a){var b;a.uO={};if(!a.NE()&&a.Cu&&0<a.Cu.length&&(a.Bu=this.twa(a),a.Bu)){b=this.Gwb(a);b()||(a.addEventListener(f.S.Ok,b),a.ze.addListener(b));}};b.prototype.Gwb=function(a){var d;function b(){var c,g;if(!a.ze.value||!a.dZ)return!1;c=a.Bu;g=c.Wc();return g===m.rn.LOADING?!1:g!==m.rn.LOADED&&c.su?(c=d.nhb(a))?(a.uO.offset=d.app.kc().da(k.ja),a.Bu=c,c.download(),!0):!1:(a.removeEventListener(f.S.Ok,b),a.ze.removeListener(b),!1);}d=this;return b;};b.prototype.nhb=function(a){var b,d;b=this.config();d=a.Pl.lL()<b.zzb;b=(a.ze.value?a.ze.value.R:0)>b.yzb;return this.Fgb(a,d&&b);};b.prototype.Fgb=function(a,b){if(b&&(b=this.twa(a),this.Xwa(a,b.size)))return a.uO.qEa="h",b;b=this.Hfb(a);if(this.Xwa(a,b.size))return a.uO.qEa="l",b;};b.prototype.Xwa=function(a,b){var d,f;d=this.config();f=Math.min(a.qJ(),a.KO());return a.X3a.S4a(b)*(1+.01*d.p2a[2])<f*d.Czb;};b.prototype.twa=function(a){return a.Cu[a.Cu.length-1];};b.prototype.Hfb=function(a){return a.Cu[0];};p=b;p=g.__decorate([d.N(),g.__param(0,d.l(h.qf)),g.__param(1,d.l(a.sd))],p);c.nWa=p;},function(g,c,a){var m,h,d,k;function b(a,b,d,f){this.ia=a;this.lub=b;this.la=d;this.app=f;this.Hc={};}function f(a,b){this.Sf=a;this.app=b;this.qd={};this.la=a.ub("PlaybackMilestoneStoreImpl");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(1);h=a(8);d=a(24);k=a(4);f.prototype.Etb=function(a,d){this.qd[a]&&this.la.warn("registerPlayback: xid "+a+" already registered, overriding");d=(d?d:this.app.kc()).da(k.ja);this.la.trace("registerPlayback: xid "+a+" at "+d);this.qd[a]=new b(a,d,this.la,this.app);return this.qd[a];};f.prototype.ngb=function(a){this.qd[a]||this.la.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.qd[a];};f.prototype.Stb=function(a){this.la.trace("removePlayback: xid "+a);delete this.qd[a];};a=f;a=g.__decorate([m.N(),g.__param(0,m.l(h.Bb)),g.__param(1,m.l(d.qf))],a);c.OTa=a;b.prototype.om=function(a,b){b=b?b.da(k.ja):this.app.kc().da(k.ja)-this.lub;this.la.trace("addMilestone: xid "+this.ia+" "+a+" at "+b);this.Hc[a]=b;};},function(g,c,a){var b,f,m,h,d,k,p,t,u,y,B,x,l,G,n,S,r,U,C,R,O,ea,ba,ca;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(303);f=a(605);m=a(400);h=a(302);d=a(604);k=a(300);p=a(603);t=a(435);u=a(438);y=a(602);B=a(592);x=a(17);l=a(24);G=a(88);n=a(22);S=a(8);r=a(591);U=a(193);C=a(590);R=a(589);O=a(588);ea=a(281);ba=a(587);ca=a(67);c.j=new g.tc(function(c){c(b.s1).to(f.OTa).Y();c(m.Fma).Ef(function(b){var d;d=b.tb;return function(b,f,c,g,k,m,h,p){return new(a(586)).lWa(d.get(R.Hma),b,f,c,g,k,m,h,p);};});c(R.Hma).to(O.oWa).Y();c(h.Gma).to(d.nWa).Y();c(u.tla).to(y.KTa).Y();c(t.Dha).Ef(function(b){var d;d=b.tb;return function(b){return new(a(585)).JMa(d.get(ca.Cha),d.get(G.Kr),d.get(l.qf),b);};});c(k.Ega).Ef(function(){return function(a){return new p.ZJa(a);};});c(r.kla).Ef(function(a){var b;b=a.tb;return function(a){return new B.GTa(a,b.get(S.Bb),b.get(x.sd),b.get(n.Ke),b.get(G.Kr));};});c(U.t1).Ef(function(a){var d;d=a.tb;return function(a,f,c,g,k,m,h,p,t){return new C.PTa(a,f,c,g,k,m,h,p,t,d.get(r.kla),d.get(b.s1));};});c(ea.dma).Ef(function(a){return function(b){var d;d=a.tb.get(x.sd);return new ba.oVa(d,b);};});});},function(g,c,a){var f,m;function b(){this.ZN=new m.Hj();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(139);b.prototype.IF=function(a){this.ZN.next(a);};pa.Object.defineProperties(b.prototype,{fx:{configurable:!0,enumerable:!0,get:function(){return this.ZN;}}});a=b;a=g.__decorate([f.N()],a);c.xTa=a;},function(g,c,a){var f,m,h;function b(a,b){this.$v=b;this.log=a.ub("Pbo");this.links={};}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(8);a=a(81);b.prototype.yS=function(a){a&&(this.links=Object.assign(Object.assign({},this.links),a));};b.prototype.b9=function(a){return this.links[a];};b.prototype.S1a=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.$v().Pg;a="drmContextId="+a.drmContextId;this.yS({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(m.Bb)),g.__param(1,f.l(a.Iu))],h);c.lTa=h;},function(g,c,a){var m,h;function b(a,b,f,c,g,m,h){this.version=a;this.url=b;this.id=f;this.languages=c;this.$a=g;this.Dab=m;this.dob=h;}function f(a){this.pj=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(1);a=a(95);f.prototype.create=function(a,f,c,g,m){return new b(this.pj.version,f,a,this.pj.languages,c,g,m);};h=f;h=g.__decorate([m.N(),g.__param(0,m.l(a.by))],h);c.zTa=h;b.prototype.toJSON=function(){return{version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.$a,echo:this.Dab};};},function(g,c,a){var f,m,h,d,k,p;function b(a,b,d){a=m.ke.call(this,a,"PboConfigImpl")||this;a.config=b;a.G2a=d;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(29);d=a(34);k=a(17);a=a(120);da(b,m.ke);pa.Object.defineProperties(b.prototype,{yO:{configurable:!0,enumerable:!0,get:function(){return this.config().ot.yO||"";}},zZ:{configurable:!0,enumerable:!0,get:function(){return this.config().ot.zZ||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},dCa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().ot.Gca;}},KE:{configurable:!0,enumerable:!0,get:function(){return!1;}},Wmb:{configurable:!0,enumerable:!0,get:function(){return!0;}},Ymb:{configurable:!0,enumerable:!0,get:function(){return!0;}},nFa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.G2a.gra,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.oFa);}},oFa:{configurable:!0,enumerable:!0,get:function(){return{};}},VDa:{configurable:!0,enumerable:!0,get:function(){return!1;}},e$:{configurable:!0,enumerable:!0,get:function(){return 10;}},gqa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});p=b;g.__decorate([d.config(d.string,"uiVersion")],p.prototype,"yO",null);g.__decorate([d.config(d.string,"uiPlatform")],p.prototype,"zZ",null);g.__decorate([d.config(d.yx,"pboVersion")],p.prototype,"version",null);g.__decorate([d.config(d.string,"pboOrganization")],p.prototype,"dCa",null);g.__decorate([d.config(d.cfa,"pboLanguages")],p.prototype,"languages",null);g.__decorate([d.config(d.Ld,"hasLimitedPlaybackFunctionality")],p.prototype,"KE",null);g.__decorate([d.config(d.Ld,"mdxBindUsingNodeQuark")],p.prototype,"Wmb",null);g.__decorate([d.config(d.Ld,"mdxPairUsingNodeQuark")],p.prototype,"Ymb",null);g.__decorate([d.config(d.object(),"pboCommands")],p.prototype,"nFa",null);g.__decorate([d.config(d.object(),"pboCommandsOverride")],p.prototype,"oFa",null);g.__decorate([d.config(d.Ld,"pboRecordHistory")],p.prototype,"VDa",null);g.__decorate([d.config(d.yx,"pboHistorySize")],p.prototype,"e$",null);g.__decorate([d.config(d.Ld,"pboAddXEsnHeader")],p.prototype,"gqa",null);p=g.__decorate([f.N(),g.__param(0,f.l(h.Ui)),g.__param(1,f.l(k.sd)),g.__param(2,f.l(a.lB))],p);c.fTa=p;},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);b.ekb=function(a){var b,d;b=a&&a.code;d=a&&(a.ba||a.Pc);a=a.Qg!==f.z0.Rka;d=!!d&&d>=f.G.nH&&d<=f.G.lH&&a;return!("RETRY"!==b&&"FAIL"!==b)||d;};b.Mfb=function(a){var b,d;d=null===(b=null===a||void 0===a?void 0:a.gx)||void 0===b?void 0:b.maxRetries;return"number"===typeof d?d:"FAIL"===(null===a||void 0===a?void 0:a.code)?1:void 0;};c.Wka=b;},function(g,c,a){var h,d,k,p,t,u,y,B,x,l,G,n,S,r,U;function b(a){this.config=a;this.ct=[];}function f(a,b,d){this.qa=a;this.zG=b;this.context=d;this.startTime=this.qa.kc();}function m(a,d,f,c,g,k,m,h,p){this.pHa=d;this.json=f;this.qa=c;this.YK=g;this.Xca=k;this.ha=m;this.Lb=p;this.log=a.ub("Pbo");h.VDa&&(this.ct=new b(h));this.zG=this.pHa();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);d=a(4);k=a(306);p=a(8);t=a(37);u=a(24);y=a(40);B=a(136);x=a(33);l=a(305);G=a(95);n=a(67);S=a(15);r=a(41);U=a(611);m.prototype.send=function(a,b){var d;d=new f(this.qa,this.zG,a);this.ct&&this.ct.append(d);return this.gea(a,b,d);};m.prototype.gea=function(a,b,d){var f;f=this;return new Promise(function(c,g){f.su(a,b).then(function(a){var b,k;f.Gvb(a);b=Q(f.ZAb(a));k=b.next().value;b=b.next().value;k&&(f.X5a(d),c(a));b&&(f.esa(d,b),g(b));})["catch"](function(a){var b;b=f.esa(d,a);a.kb&&(a.kb=[a.kb," ",b].join(""));g(a);});});};m.prototype.Gvb=function(a){(a=a.serverTime)&&this.Lb.Mb(S.fja.mFa,d.Cb(a));};m.prototype.ZAb=function(a){var b;b=a.result;if("deviceCommand"in a){a=a.deviceCommand;this.log.trace("Received device command '"+a+"'");switch(a){case"reset":b="RESET_DEVICE";break;case"reload":b="RELOAD_DEVICE";break;case"exit":b="EXIT_DEVICE";break;default:b="FAIL",this.log.error("Unhandled device command '"+a+"'");}return[,{code:b,detail:{message:"Server sent device action to '"+a+"' device"}}];}if(b)return[b,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};m.prototype.qqb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(O){throw{oA:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{oA:!0,code:"FAIL",message:"There is no result property on the response"};}throw{oA:!0,code:"FAIL",message:"There is no body property on the response"};};m.prototype.p3a=function(a,b,d){var f;f=this;this.rAb(b,a);this.zG=this.pHa(d);return this.zG.send(b,d).then(function(a){return{su:!1,result:f.qqb(a.body)};})["catch"](function(d){var c,g;g=(c=U.Wka.Mfb(d))?Math.min(c,b.Fda):b.Fda;return f.QY(b,d,a,g)?(c=f.X4a(d,a,g),f.log.warn("Method failed, retrying",Object.assign({Method:b.tl,Attempt:a+1,WaitTime:c,MaxRetries:g},f.C6(d))),Promise.resolve({su:!0,Od:c,error:d})):Promise.resolve({su:!1,error:d});});};m.prototype.rAb=function(a,b){var d;d=a.url.searchParams;d.set(r.w1.HUa,(b+1).toString());d.set(r.w1.Cg,a.tda.toString());d.set(r.w1.JUa,a.sda);};m.prototype.su=function(a,b,d){var f;d=void 0===d?0:d;f=this;return this.p3a(d++,a,b).then(function(c){if(c.su)return f.pBb(c.Od).then(function(){return f.su(a,b,d);});if(c.error)throw c.error;if(void 0===c.result)throw{pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return c.result;});};m.prototype.QY=function(a,b,d,f){var c;c=this.YK.AEa||U.Wka.ekb(b);if(c&&d<f)return!0;c?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.tl,Attempt:d+1,MaxRetries:f},this.C6(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.tl},this.C6(b)));return!1;};m.prototype.X4a=function(a,b,f){return a&&a.gx&&void 0!==a.gx.retryAfterSeconds?d.ei(a.gx.retryAfterSeconds):d.Cb(this.Xca.ADa(1E3,1E3*Math.pow(2,Math.min(b-1,f))));};m.prototype.pBb=function(a){var b;b=this;return new Promise(function(f){b.ha.Xg(a||d.Ze,f);});};m.prototype.C6=function(a){return l.Ujb(a)?a:{message:a.message,subCode:a.Pc,extCode:a.Qg,mslCode:a.br,data:a.data};};m.prototype.X5a=function(a){a.dfa();};m.prototype.esa=function(a,b){var d;a.ut(b);if(this.ct)try{d=this.json.stringify(this.ct);this.log.error("PBO command history",d);return d;}catch(ea){}return"";};a=m;a=g.__decorate([h.N(),g.__param(0,h.l(p.Bb)),g.__param(1,h.l(k.Ema)),g.__param(2,h.l(t.Rx)),g.__param(3,h.l(u.qf)),g.__param(4,h.l(y.Io)),g.__param(5,h.l(B.kQ)),g.__param(6,h.l(x.Eg)),g.__param(7,h.l(G.by)),g.__param(8,h.l(n.S_))],a);c.hTa=a;f.prototype.dfa=function(){this.Z=!0;this.elapsedTime=this.qa.kc().Fd(this.startTime);};f.prototype.ut=function(a){this.Z=!1;this.elapsedTime=this.qa.kc().Fd(this.startTime);this.cyb=a.Pc||a.subCode;this.lcb=a.Qg||a.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var a;a=Object.assign({success:this.Z,method:this.context.tl,startTime:this.startTime.da(d.ja),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.ja):"in progress"},this.zG.W5());return this.Z?a:Object.assign(Object.assign(Object.assign({},a),this.zG.W5()),{subcode:this.cyb,extcode:this.lcb});};b.prototype.append=function(a){this.ct.push(a);0<this.config.e$&&this.ct.length>this.config.e$&&this.ct.shift();};b.prototype.toJSON=function(){return this.ct;};},function(g,c,a){var b,f,m,h,d,k,p,t,u,y;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(307);f=a(612);m=a(95);h=a(610);d=a(304);k=a(609);p=a(130);t=a(608);u=a(151);y=a(607);c.zqb=new g.tc(function(a){a(m.by).to(h.fTa).Y();a(b.Vka).to(f.hTa).Y();a(p.$ka).to(t.lTa);a(p.KH).Ef(function(a){return function(){return a.tb.get(p.$ka);};});a(d.gla).to(k.zTa).Y();a(u.fQ).to(y.xTa).Y();});},function(g,c,a){var f,m,h,d,k;function b(a){return m.ke.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(34);m=a(36);h=a(1);d=a(29);k=a(4);da(b,m.ke);pa.Object.defineProperties(b.prototype,{PAa:{configurable:!0,enumerable:!0,get:function(){return k.Cb(5E3);}},aCa:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E3);}},bCa:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E3);}}});a=b;g.__decorate([f.config(f.Ug,"minDecoderBufferMilliseconds")],a.prototype,"PAa",null);g.__decorate([f.config(f.Ug,"optimalDecoderBufferMilliseconds")],a.prototype,"aCa",null);g.__decorate([f.config(f.Ug,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"bCa",null);a=g.__decorate([h.N(),g.__param(0,h.l(d.Ui))],a);c.yRa=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(449);f=a(614);c.aob=new g.tc(function(a){a(b.dka).to(f.yRa).Y();});},function(g,c,a){var f,m,h,d,k,p,t,u;function b(a,b,f,c,g,k){function m(d,m){this.track=d;this.label=m;this.Lf=u.Kb.cc.UNSENT;this.ve=0;this.oo=[];this.requestId=k.az().toString();this.Ea=f;this.log=b.ub("MediaRequest");this.config=a;this.Lb=new t.lk();"notification"===this.label?this.config().iz&&(this.Ik=c):this.Ik=g;}function h(d,m){this.requestId=k.az().toString();this.Ea=f;this.log=b.ub("MediaRequest");this.config=a;this.Lb=new t.lk();this.label=m;"notification"===this.label?this.config().iz&&(this.Ik=c):this.Ik=g;this.BL=this.IJ=this.JJ=void 0;this.track=d;this.SS=this.url=this.responseType=void 0;this.Lf=u.Kb.cc.UNSENT;this.Yj=this.gE=this.Uh=this.status=void 0;this.Qk=this.ve=0;this.connect=this.Y7=this.Xy=this.Lw=this.Y$=this.Nc=this.X7=this.Ue=this.JC=void 0;this.oo=[];this.ep=!1;}m.prototype.addEventListener=function(a,b,d){this.Lb.addListener.call(this,a,b,d);};m.prototype.removeEventListener=function(a,b){this.Lb.removeListener.call(this,a,b);};m.prototype.emit=function(a,b,d){this.Lb.Mb.call(this,a,b,d);};m.prototype.Oob=function(a){this.Lf===u.Kb.cc.OPENED&&(this.BL=!0,this.Ue=this.Nc=a.timestamp,this.Lf=u.Kb.cc.$u,this.emit(u.Kb.Hd.oka,a));};m.prototype.Lba=function(a){var b;if(this.Lf<u.Kb.cc.dy){this.oo=[];b=a.timestamp-this.Ue;!this.Vb&&0<b&&(this.connect=!0,this.oo.push(b));!0===this.config().Nib?this.X7=a.timestamp:this.X7=this.Nc=a.timestamp;this.Lf=u.Kb.cc.dy;this.emit(u.Kb.Hd.nka,a);}};m.prototype.Rob=function(a){this.Lf===u.Kb.cc.dy&&(this.Y$=this.Nc=a.timestamp,a.newBytes=a.bytesLoaded-this.ve,this.ve=a.bytesLoaded,this.Ea.Nd(this.Y$)&&this.emit(u.Kb.Hd.pka,a));};m.prototype.Nl=function(a){-1<[u.Kb.cc.$u,u.Kb.cc.dy].indexOf(this.Lf)&&(this.BL=!1,this.Nc=a.timestamp,this.Lf=u.Kb.cc.DONE,a.newBytes=this.wh-this.ve,this.ve=this.wh,this.Ea.Nd(this.Xy)&&(this.Nc=this.Xy,0===a.newBytes&&(this.Y$=this.Xy)),this.Ea.Nd(this.Lw)&&(this.Ue=this.Lw),this.JC=a.response,this.emit(u.Kb.Hd.FH,a));};m.prototype.Job=function(a){this.BL=!1;this.emit(u.Kb.Hd.WRa,a);};m.prototype.Nba=function(a){this.Nc=a.timestamp;this.status=a.httpcode;this.Uh=a.errorcode;this.gE=u.Kb.Ku.name[this.Uh];this.Yj=a.nativecode;this.emit(u.Kb.Hd.ay,a);this.BL=!1;};m.prototype.open=function(a,b,d,f,c,g,k){this.SA=!1;this.SS=b;this.url=a;this.responseType=d;if(!this.url)return!1;this.Lf=u.Kb.cc.OPENED;this.Ik.XK(this,b,k);return!0;};m.prototype.ec=function(){-1!==[u.Kb.cc.OPENED,u.Kb.cc.$u,u.Kb.cc.dy].indexOf(this.Lf)&&this.abort();return!0;};m.prototype.Ura=function(){this.JC=void 0;this.vD&&(this.vD.response=void 0,this.vD.cadmiumResponse.content=void 0);this.i$=void 0;};m.prototype.eO=function(a){this.url=a;return!0;};m.prototype.abort=function(){this.Lf=u.Kb.cc.NG;this.Ik.Iy(this);return!0;};m.prototype.pause=function(){};m.prototype.getResponseHeader=function(){return null;};m.prototype.getAllResponseHeaders=function(){return"";};m.prototype.mN=function(){};m.prototype.hj=function(){return this.requestId;};m.prototype.toString=function(){var a;a={requestId:this.hj(),segmentId:this.ib,isHeader:this.Vb,ptsStart:this.ou,ptsOffset:this.Rm,responseType:this.responseType,duration:this.mt,readystate:this.Lf};this.stream&&(a.bitrate=this.stream.R);return JSON.stringify(a);};m.prototype.toJSON=function(){return this.toString();};m.prototype.hhb=function(){var a,b;if(this.config().bIa&&d.Qr&&d.Qr.getEntriesByType&&(!this.Ea.Nd(this.Lw)||!this.Ea.Nd(this.Xy)&&this.Ea.Nd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.JJ+"-"+this.IJ+"*");b=new RegExp(a);a=d.Qr.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ea.Nd(a)&&(0<a.startTime&&(this.Lw=a.startTime,0<a.requestStart&&(this.Lw=Math.max(this.Lw,a.requestStart))),0<a.responseStart&&(this.Y7=a.responseStart),0<a.responseEnd&&(this.Xy=a.responseEnd));}};m.prototype.dkb=function(){return this.Ea.Nd(this.Lw)&&this.Ea.Nd(this.Xy)&&this.Ea.Nd(this.Y7);};pa.Object.defineProperties(m.prototype,{wh:{configurable:!0,enumerable:!0,get:function(){return this.SS.end-this.SS.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.IJ-this.JJ+1;}},Bxa:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},Vb:{configurable:!0,enumerable:!0,get:function(){return!this.Hz;}},response:{configurable:!0,enumerable:!0,get:function(){return this.JC;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Lf;},set:function(){}}});Object.getOwnPropertyNames(m.prototype).forEach(function(a){Object.defineProperty(h.prototype,a,Object.getOwnPropertyDescriptor(m.prototype,a));});this.Ej=Object.assign(h,u.Kb);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(8);h=a(17);d=a(9);k=a(22);p=a(309);t=a(72);u=a(152);a=a(118);b=g.__decorate([f.N(),g.__param(0,f.l(h.sd)),g.__param(1,f.l(m.Bb)),g.__param(2,f.l(k.Ke)),g.__param(3,f.l(p.tka)),g.__param(4,f.l(p.Yja)),g.__param(5,f.l(a.EB))],b);c.kRa=b;},function(g,c,a){var f,m,h,d,k,p,t,u,y,B,x,l;function b(a,b,d,f,c,g,k){this.qa=a;this.YK=b;this.config=d;this.Af=c;this.dnb=g;this.Sra=k;this.log=f.ub("MediaRequestDownloader");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(58);m=a(1);h=a(8);d=a(94);k=a(312);p=a(74);t=a(152);u=a(24);y=a(4);B=a(311);x=a(40);a=a(17);b.prototype.XK=function(a,b,d){var g,k,m;function c(){a.removeEventListener(t.Kb.Hd.ay,c);a.OK?a.OK++:a.OK=1;a.OK>=g.config().N7.length&&(a.OK=g.config().N7.length-1);setTimeout(function(){g.XK(a,b,d);},g.config().N7[a.OK]);}g=this;a.JOb=!0;k={url:a.url,responseType:this.Af.xUa.JJa,withCredentials:!1,OD:a.M===f.Mc.Fa.AUDIO?"audio":"video",offset:b.start,length:a.wh,track:{type:a.M===f.Mc.Fa.AUDIO?p.Bg.audio:p.Bg.video},stream:{Zc:a.oa,R:a.R},Xb:a.Db,zp:a,Tf:a.Vb?void 0:this.Sra.parse.bind(this.Sra),TY:d,Ar:this.YK.Ar};k=this.dnb.download(k,function(b){b.Z&&a.readyState!==t.Kb.cc.DONE&&a.readyState!==t.Kb.cc.NG&&(a.readyState!==t.Kb.cc.Nu&&a.readyState===t.Kb.cc.$u&&(a.readyState=t.Kb.cc.dy,a.Lba({mediaRequest:a,readyState:a.readyState,timestamp:g.yt(),connect:!1})),a.readyState=t.Kb.cc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:g.yt(),cadmiumResponse:b,response:b.content},a.vD=b,a.Nl(b));});if(a.Vb){m={mediaRequest:a,readyState:a.readyState,timestamp:this.yt(),connect:!1};a.Lba(m);}a.addEventListener(t.Kb.Hd.ay,c);a.i$=k.abort;};b.prototype.Iy=function(a){try{a.i$();}catch(P){this.log.warn("exception aborting request");}};b.prototype.yt=function(){return this.qa.kc().da(y.ja);};l=b;l=g.__decorate([m.N(),g.__param(0,m.l(u.qf)),g.__param(1,m.l(x.Io)),g.__param(2,m.l(a.sd)),g.__param(3,m.l(h.Bb)),g.__param(4,m.l(d.Tx)),g.__param(5,m.l(k.Wja)),g.__param(6,m.l(B.Xga))],l);c.lRa=l;},function(g,c,a){var f,m,h;function b(a,b){this.Af=b;this.log=a.ub("OpenConnectSideChannel");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(8);a=a(94);b.prototype.XK=function(a,b,f){this.Af.bxb({url:a.url,Xub:f});};b.prototype.Iy=function(a){try{a.i$();}catch(k){this.log.warn("exception aborting request");}};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(m.Bb)),g.__param(1,f.l(a.Tx))],h);c.cSa=h;},function(g){function c(a){this.buffer=a;this.position=0;}c.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Tj:function(){return this.buffer.length-this.position;},se:function(){return this.buffer[this.position++];},Dd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},oc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},ir:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},bda:function(){for(var a="",b;b=this.se();)a+=String.fromCharCode(b);return a;},Gb:function(){return this.oc(2);},Ka:function(){return this.oc(4);},hg:function(){return this.oc(8);},dY:function(){return this.oc(2)/256;},iN:function(){return this.oc(4)/65536;},nf:function(a){for(var b,f="";a--;)b=this.se(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},ex:function(){return this.nf(4)+"-"+this.nf(2)+"-"+this.nf(2)+"-"+this.nf(2)+"-"+this.nf(6);},jN:function(a){for(var b=0,f=0;f<a;f++)b+=this.se()<<(f<<3);return b;},AA:function(){return this.jN(4);},VO:function(a){this.buffer[this.position++]=a;},WZ:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},UO:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},iB:function(a,b){this.UO(a.Dd(b));}};g.P=c;},function(g,c,a){var f,m,h,d,k,p;function b(a,b){this.config=a;this.log=b.ub("ChunkMediaParser");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(155);h=a(8);d=a(11);k=a(17);p=a(310).$ca;b.prototype.parse=function(a){var c,g,k;a=new Uint8Array(a);for(var b=p(a),f=0;f<b.length;f+=2){c=b[f];if("moof"!==c.type||"mdat"!==b[f+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:c.type,nextBoxType:b[f+1].type}),Error("data is not moof-mdat box pairs");if(this.config().BBb&&"moof"==c.type){g=c.pw("traf/saio");k=c.pw("traf/"+d.iKa);g&&k&&(c=k.K3a.byteOffset-c.raw.byteOffset,g.MEa[0]!==c&&(this.log.error("Repairing bad SAIO",{saioOffsets:g.MEa[0],auxDataOffsets:c}),this.Vpb(g,c)));}}return a.buffer;};b.prototype.Vpb=function(a,b){var d;d=new m.WG(a.raw);d.seek(a.size-a.Xv);a=d.oc(1);d.oc(3)&1&&(d.Ka(),d.Ka());a=1<=a?8:4;d.Ka();d.WZ(b,a);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.sd)),g.__param(1,f.l(h.Bb))],a);c.eLa=a;},function(g,c,a){var f,m,h,d,k,p,t,u,y,B;function b(a,b,d,f,c,g){this.nJ=a;this.Af=d;this.Ea=f;this.qa=c;this.config=g;this.log=b.ub("MediaHttp");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(152);m=a(86);h=a(2);d=a(8);k=a(1);p=a(94);t=a(22);u=a(24);y=a(4);a=a(17);b.prototype.yt=function(){return this.qa.kc().da(y.ja);};b.prototype.wBa=function(a,b){a.Oob({mediaRequest:a,timestamp:b});};b.prototype.SBa=function(a){var b;b=a.mediaRequest.zp;b.readyState=f.Kb.cc.dy;a=a.connect?a:{timestamp:this.yt(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.Lba(a);};b.prototype.tX=function(a){this.wBa(a.mediaRequest.zp,a.timestamp);};b.prototype.vX=function(a){var b,d;b=a.mediaRequest.zp;d=a.bytes;"undefined"!==typeof b&&(b.readyState===f.Kb.cc.$u&&this.SBa(a),this.Ea.Jg(d)&&(a.mediaRequest=b,a.timestamp=this.yt(),d>b.ve&&(a.newBytes=d-b.ve,a.bytesLoaded=d,b.Rob(a))));};b.prototype.pF=function(a){var b,d,c,g;b=a.mediaRequest;d=a.errorcode;c=a.httpcode;g=f.Kb.Ku;if("undefined"!==typeof b&&(b=b.zp,"undefined"!==typeof b&&b.readyState!==f.Kb.cc.Nu))if(d===h.G.Ou)b.readyState=f.Kb.cc.NG,a.mediaRequest=b,a.readyState=b.readyState,b.Job(a);else{b.readyState=f.Kb.cc.Nu;switch(d){case h.G.nH:c=g.n_;break;case h.G.x0:c=g.u0;break;case h.G.kH:c=400<c&&500>c?g.KP:500<=c?g.w0:g.u0;break;case h.G.lH:c=g.v0;break;case h.G.jH:c=g.Pga;break;case h.G.mH:c=g.LP;break;case h.G.Qx:c=g.LP;break;case h.G.t0:c=g.zia;break;case h.G.wia:c=g.KP;break;case h.G.vMa:c=g.v0;break;default:c=g.LP;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=c;a.nativecode=d;b.Nba(a);}};b.prototype.Sba=function(a,b){var d,c;d=b.request.zp;if(d)if(b.Z){if(a.j&&d.readyState!==f.Kb.cc.DONE){switch(d.readyState){case f.Kb.cc.NG:return;case f.Kb.cc.$u:this.SBa({mediaRequest:b.request});}d.readyState=f.Kb.cc.DONE;if(!d.Vb){c={mediaRequest:d,readyState:d.readyState,timestamp:this.yt(),cadmiumResponse:b};a.j.Bfa+=1;d.hhb();d.dkb()&&(a.j.Bda+=1,b.Xj.xg=Math.ceil(d.Y7),b.Xj.Vl=Math.ceil(d.Xy),b.Xj.requestTime=Math.floor(d.Lw));d.vD=c;d.Nl(c);}}}else d.readyState!==f.Kb.cc.NG&&(a={mediaRequest:b.request,timestamp:this.yt(),errorcode:b.ba,httpcode:b.Ci},this.pF(a));};b.prototype.download=function(a,b){var d,c;d=this;b=this.Af.download(a,b);if(a.zp){c=a.zp;-1<[f.Kb.cc.OPENED,f.Kb.cc.Nu].indexOf(c.readyState)&&(c.readyState=f.Kb.cc.$u,this.config().fnb?b.kwb(function(a){d.tX(a);}):this.wBa(c,this.yt()));}b.Tpa(function(b){d.Sba(a,b);});b.rwb(function(a){d.vX(a);});b.fwb(function(a){d.pF(a);});return b;};B=b;B=g.__decorate([k.N(),g.__param(0,k.l(m.$O)),g.__param(1,k.l(d.Bb)),g.__param(2,k.l(p.Tx)),g.__param(3,k.l(t.Ke)),g.__param(4,k.l(u.qf)),g.__param(5,k.l(a.sd))],B);c.gRa=B;},function(g,c,a){var f,m,h,d,b;function b(a){function b(b,f){this.K=b;this.vk=f;this.O7=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.nb=a.ub("DownloadTrack");}b.prototype.yl=function(){this.kS=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.kS+" config: "+JSON.stringify(this.K);};b.prototype.toJSON=function(){return"Download Track id:"+this.kS+" config: "+JSON.stringify(this.K);};b.prototype.UDa=function(a){this.K.connections!==a.connections&&(this.K=a);};b.prototype.Hm=function(){return 1<this.K.connections?!0:!1;};pa.Object.defineProperties(b.prototype,{ab:{configurable:!0,enumerable:!0,get:function(){return this.kS;}},ep:{configurable:!0,enumerable:!0,get:function(){return void 0===this.kS;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},rA:{configurable:!0,enumerable:!0,get:function(){return this.nb;}},Ik:{configurable:!0,enumerable:!0,get:function(){return this.vk.Ik;}}});this.uB=Object.assign(b,new h.RMa());}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(8);h=a(153);d=a(129).EventEmitter;b=g.__decorate([f.N(),g.__param(0,f.l(m.Bb))],b);c.QMa=b;},function(g,c,a){var b,f,m,h,d,k,p,t,u,y,B;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(153);f=a(622);m=a(312);h=a(621);d=a(311);k=a(620);p=a(309);t=a(618);u=a(617);y=a(308);B=a(616);c.yq=new g.tc(function(a){a(b.Gha).to(f.QMa).Y();a(m.Wja).to(h.gRa).Y();a(d.Xga).to(k.eLa).Y();a(p.tka).to(t.cSa).Y();a(p.Yja).to(u.lRa).Y();a(y.Xja).to(B.kRa).Y();});},function(g,c,a){var f,m,h,d,k;function b(a){return m.ke.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(29);d=a(34);k=a(4);da(b,m.ke);pa.Object.defineProperties(b.prototype,{gFa:{configurable:!0,enumerable:!0,get:function(){return!0;}},vaa:{configurable:!0,enumerable:!0,get:function(){return k.bX(5);}}});a=b;g.__decorate([d.config(d.Ld,"sendPrefetchEventLogs")],a.prototype,"gFa",null);g.__decorate([d.config(d.Ug,"logsInterval")],a.prototype,"vaa",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.Ui))],a);c.jUa=a;},function(g,c,a){var f,m,h;function b(a,b){this.Ea=b;this.la=a.ub("PlayPredictionDeserializer");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(8);a=a(22);b.prototype.y$a=function(a){var b;b=this;try{return{direction:a.direction,Ykb:a.layoutHasChanged,Hub:a.rowInteractionIndex,ya:a.lolomos.map(function(a){return b.u$a(a);})};}catch(p){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.u$a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.t$a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Jub:a.rowSegment};};b.prototype.t$a=function(a){var b,d;b={Oc:a.pts,property:a.property,wa:a.viewableId,index:a.index};d=a.preplay;this.Ea.Nd(d)&&(b.EF=this.x$a(d));a=a.params;this.Ea.Nd(a)&&(b.$a=this.zta(a));return b;};b.prototype.x$a=function(a){var b;b={Oc:a.pts,wa:a.viewableId,qA:a.pipelineNum,index:a.index};a=a.params;this.Ea.Nd(a)&&(b.$a=this.zta(a));return b;};b.prototype.zta=function(a){return{he:a.uiLabel,xh:a.trackingId,Vm:a.sessionParams};};b.prototype.Ata=function(a){var b;b=this;try{return a.map(function(a){return b.v$a(a);});}catch(p){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.v$a=function(a){var b,d;d=a.params;this.Ea.Nd(d)&&(b=this.w$a(d));return{u:a.movieId,fe:a.priority,force:a.force,$a:b,he:a.uiLabel,NRb:a.uiExpectedStartTime,MRb:a.uiExpectedEndTime,dj:a.firstTimeAdded};};b.prototype.w$a=function(a){var b,d;b=void 0;d=a.sessionParams;this.Ea.Nd(d)&&(b=d);return{uJ:this.s$a(a.authParams),Vm:b,xh:a.trackingId,U:a.startPts,sa:a.manifest,Yh:a.isBranching};};b.prototype.s$a=function(a){return{CCa:(a||{}).pinCapableClient};};b.prototype.Jvb=function(a){var b,d;try{b="";this.Ea.Nd(a.YCa)&&(b=JSON.stringify(this.Mvb(JSON.parse(a.YCa))));d="";this.Ea.Nd(a.ZCa)&&(d=JSON.stringify(this.Nvb(JSON.parse(a.ZCa))));return{dest_id:a.KT,offset:a.offset,predictions:a.aDa.map(this.Pvb,this),ppm_input:b,ppm_output:d,prepare_type:a.zQb};}catch(t){this.la.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Pvb=function(a){return{title_id:a.Qp};};b.prototype.Mvb=function(a){return{direction:a.direction,layoutHasChanged:a.Ykb,rowInteractionIndex:a.Hub,lolomos:a.ya.map(this.Lvb,this)};};b.prototype.Lvb=function(a){return{context:a.context,list:a.list.map(this.Kvb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Jub};};b.prototype.Kvb=function(a){var b,d;this.Ea.Nd(a.EF)&&(b=this.Qvb(a.EF));this.Ea.Nd(a.$a)&&(d=this.kea(a.$a));return{preplay:b,pts:a.Oc,viewableId:a.wa,params:d,property:a.property,index:a.index};};b.prototype.Qvb=function(a){var b;this.Ea.Nd(a.$a)&&(b=this.kea(a.$a));return{pts:a.Oc,viewableId:a.wa,params:b,pipelineNum:a.qA,index:a.index};};b.prototype.kea=function(a){return{uiLabel:a.he,trackingId:a.xh,sessionParams:a.Vm};};b.prototype.Nvb=function(a){return a.map(this.Ovb,this);};b.prototype.Ovb=function(a){var b;this.Ea.Nd(a.$a)&&(b=this.kea(a.$a));return{movieId:a.u,priority:a.fe,params:b,uiLabel:a.he,firstTimeAdded:a.dj,viewableId:a.wa,pts:a.Oc};};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(m.Bb)),g.__param(1,f.l(a.Ke))],h);c.FTa=h;},function(g,c,a){var m,h,d,k,p,t,u,y,B;function b(a,b,d,f,c,g,k,m){this.ai=a;this.aA=b;this.ha=d;this.Zw=c;this.config=g;this.D8=k;this.pca=m;this.aY=[];this.X$=[];this.Hca={};this.la=f.ub("PrefetchEvents");}function f(a,b,d,f,c,g){this.ai=a;this.aA=b;this.ha=d;this.Sf=f;this.config=c;this.pca=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(115);h=a(1);d=a(4);k=a(42);p=a(61);t=a(33);u=a(8);y=a(313);a=a(194);f.prototype.create=function(a,d){return new b(this.ai,this.aA,this.ha,this.Sf,a,this.config,d,this.pca);};B=f;B=g.__decorate([h.N(),g.__param(0,h.l(k.mk)),g.__param(1,h.l(p.Jo)),g.__param(2,h.l(t.Eg)),g.__param(3,h.l(u.Bb)),g.__param(4,h.l(y.zla)),g.__param(5,h.l(a.r1))],B);c.kUa=B;b.prototype.K4a=function(a,b,d){this.Rz(m.Ce.Lx.rKa,a,b,void 0,d);};b.prototype.M4a=function(a,b,d){this.Rz(m.Ce.Lx.sKa,a,b,void 0,d);};b.prototype.J4a=function(a,b,d){this.Rz(m.Ce.Lx.qKa,a,b,void 0,d);};b.prototype.H4a=function(a,b,d){this.Rz(m.Ce.Lx.oKa,a,b,void 0,d);};b.prototype.KJ=function(a,b,d){this.Rz(m.Ce.Lx.pKa,a,b,void 0,d);};b.prototype.jrb=function(a){this.Rz(m.Ce.Lx.tSa,void 0,a);};b.prototype.Rl=function(a,b,d,f,c,g,k){this.uS()&&(this.Rz(m.Ce.Lx.bVa,void 0,a),this.Tlb(a,b,d,f,c,g,k),this.mva(),this.Cza());this.$jb(a)&&this.qub();};b.prototype.B$a=function(a){a={dest_id:a,cache:this.jea(this.D8())};this.HN("destiny_start",a);};b.prototype.Lrb=function(a){(a=this.pca.Jvb(a))?this.HN("destiny_prepare",a):this.la.error("failed to serialize prepare event");};b.prototype.mva=function(){0<this.aY.length&&this.uS()&&(this.HN("destiny_events",{dest_id:this.Zw.tn,events:this.aY}),this.aY=[]);this.AY&&(this.AY.cancel(),this.AY=void 0);this.zua();};b.prototype.Cza=function(){var a;if(this.L4a()&&this.uS()){a=this.D8();this.X$=a;a={dest_id:this.Zw.tn,offset:this.Zw.RU(),cache:this.jea(a)};this.HN("destiny_cachestate",a);}this.zY&&(this.zY.cancel(),this.zY=void 0);this.yua();};b.prototype.update=function(a){var b;b=this;a.ya.forEach(function(a){a.list.forEach(function(a){b.Hca[a.wa]=!0;});});};b.prototype.$jb=function(a){return this.Hca[a];};b.prototype.L4a=function(){var a,b,d;a=this;b=this.D8();if(b.length!==this.X$.length)return!0;d=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.X$[f])&&(d=!0);}catch(T){a.la.error("Failed to stringify cachedTitle",T);}});return d;};b.prototype.Rz=function(a,b,d,f,c){this.uS()&&(a={offset:this.Zw.RU(),event_type:a,title_id:d,asset_type:b,size:f,reason:c},this.aY.push(a),this.zua(),this.yua());};b.prototype.zua=function(){this.AY||(this.AY=this.ha.Xg(this.config.vaa,this.mva.bind(this)));};b.prototype.yua=function(){this.zY||(this.zY=this.ha.Xg(this.config.vaa,this.Cza.bind(this)));};b.prototype.Tlb=function(a,b,f,c,g,k,h){var p;p=[];f&&p.push({Qp:a,Ls:m.Ce.zj.iga,state:m.Ce.ZO.gP});c&&p.push({Qp:a,Ls:m.Ce.zj.Sx,state:m.Ce.ZO.gP});g&&p.push({Qp:a,Ls:m.Ce.zj.gH,state:m.Ce.ZO.gP});(0<k.da(d.ja)||0<h.da(d.ja))&&p.push({Qp:a,Ls:m.Ce.zj.MEDIA,state:m.Ce.ZO.gP,A3a:k.da(d.ja),lBb:h.da(d.ja)});a={dest_id:this.Zw.tn,offset:this.Zw.RU(),xid:b,cache:this.jea(p)};this.HN("destiny_playback",a);};b.prototype.HN=function(a,b){this.config.gFa&&(a=this.aA.wm(a,"info",b),this.ai.xc(a));};b.prototype.jea=function(a){return a.map(function(a){return{title_id:a.Qp,state:a.state,asset_type:a.Ls,size:a.size,audio_ms:a.A3a,video_ms:a.lBb};});};b.prototype.uS=function(){return 0!==this.Zw.tn;};b.prototype.qub=function(){this.Zw.pub();this.Hca={};};},function(g,c,a){var b,f,m,h,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(115);f=a(626);m=a(194);h=a(625);d=a(624);k=a(313);p=a(107);c.Ac=new g.tc(function(a){a(k.zla).to(d.jUa).Y();a(b.Ala).to(f.kUa).Y();a(m.r1).to(h.FTa).Y();a(p.VB).Ef(function(){return function(){return K._cad_global.videoPreparer;};});});},function(g,c,a){var f,m,h,d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(9);h=a(195);b.prototype.zgb=function(){var a;a=K.devicePixelRatio||1;return{width:this.t3.TLa||m.Rr.width*a,height:this.t3.SLa||m.Rr.height*a};};pa.Object.defineProperties(b.prototype,{t3:{configurable:!0,enumerable:!0,get:function(){return a(44).bh;}}});d=b;g.__decorate([h.sW],d.prototype,"t3",null);d=g.__decorate([f.N()],d);c.SWa=d;},function(g,c,a){var f,m;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(146);b.prototype.compare=function(a,b){var d;d=[];this.N5(a,b,"",d);return d;};b.prototype.N5=function(a,b,f,c){var d;d=this;if(m.Ru.Ks(a))m.Ru.Ks(b)&&a.length===b.length?a.forEach(function(g,k){d.N5(a[k],b[k],f+"["+k+"]",c);}):c.push({a:a,b:b,path:f});else if(m.Ru.My(a)&&null!=a)if(m.Ru.My(b)&&null!=b){for(var g in a)this.N5(a[g],b[g],f+"."+g,c);for(var k in b)k in a||void 0===b[k]||c.push({a:void 0,b:b[k],path:f+"."+k});}else c.push({a:a,b:b,path:f});else a!==b&&c.push({a:a,b:b,path:f});};a=b;a=g.__decorate([f.N()],a);c.YRa=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ZRa="ObjectComparerSymbol";},function(g,c,a){var f,m,h,d;function b(a){this.location=a;m.Lm(this,"location");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(53);h=a(37);a=a(1);b.CX=function(a){var b,c,g;b={};if(0<a.length){a=a.split("&");for(var d=0;d<a.length;d++){c=a[d].trim();g=c.indexOf("=");0<=g?b[decodeURIComponent(c.substr(0,g).replace(f.Pka,"%20"))]=decodeURIComponent(c.substr(g+1).replace(f.Pka,"%20")):b[c.toLowerCase()]="";}}return b;};pa.Object.defineProperties(b.prototype,{Gsb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.CX(this.wDa);}},wDa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.eN)return this.eN;this.eN=this.location.search.substr(1);a=this.eN.indexOf("#");0<=a&&(this.eN=this.wDa.substr(0,a));return this.eN;}}});d=f=b;d.Pka=/[+]/g;d=f=g.__decorate([a.N(),g.__param(0,a.l(h.tja))],d);c.qUa=d;},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Hva=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.Hva(a);});};f=b;f=g.__decorate([a.N()],f);c.CWa=f;},function(g,c,a){var f,m,h,d,k,p;function b(a,b){this.is=a;this.json=b;m.Lm(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);m=a(53);h=a(37);d=a(1);k=a(22);p=a(140);b.prototype.HDa=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.x4(a);});};b.prototype.ada=function(a){var b;b=this;return f.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.bJ(a);});};b.prototype.Ka=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.wq(a);});};b.prototype.Rsb=function(a){var b;b=this;return f.read(a,function(a){return parseFloat(a);},function(a){return b.is.Jg(a);});};b.prototype.GDa=function(a,b){return f.read(a,function(a){return f.Kcb(a,b);},function(a){return void 0!==a;});};b.prototype.dda=function(a,b){return f.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.IDa=function(a){var b,d;b=void 0===b?function(){return!0;}:b;d=this;try{return f.read(a,function(a){return d.json.parse(decodeURIComponent(a));},function(a){return d.is.My(a)&&b(a);});}catch(B){return new p.hn();}};b.prototype.Dd=function(a,b,d){var c,g;d=void 0===d?1:d;c=this;a=a.trim();g=b instanceof Function?b:this.U8a(b,d);b=a.indexOf("[");d=a.lastIndexOf("]");if(0!=b||d!=a.length-1)return new p.hn();a=a.substring(b+1,d);try{return f.nqb(a).map(function(a){a=g(c,f.YAb(a));if(a instanceof p.hn)throw a;return a;});}catch(H){return H instanceof p.hn?H:new p.hn();}};b.prototype.U8a=function(a,b){var d;b=void 0===b?1:b;d=this;return function(c,g){c=f.ggb(a);return 1<b?d.Dd(g,a,b-1):c(d,g);};};b.Kcb=function(a,b){var f;for(var d in b){f=parseInt(d);if(b[f]==a)return f;}};b.read=function(a,b,d){a=b(a);return void 0!==a&&d(a)?a:new p.hn();};b.ggb=function(a){switch(a){case"int":return function(a,b){return a.HDa(b);};case"bool":return function(a,b){return a.ada(b);};case"uint":return function(a,b){return a.Ka(b);};case"float":return function(a,b){return a.Rsb(b);};case"string":return function(a,b){return a.dda(b);};case"object":return function(a,b){return a.IDa(b);};}};b.nqb=function(a){var h;for(var b=[["[","]"]],d=[],f=0,c=0,g=0,k=[],m={};c<a.length;m={"char":m["char"]},++c){m["char"]=a.charAt(c);h=void 0;","==m["char"]&&0==g?(d.push(a.substr(f,c-f)),f=c+1):(h=b.find(function(a){return function(b){return b[0]==a["char"];};}(m)))?(++g,k.push(h)):0<k.length&&k[k.length-1][1]==m["char"]&&(--g,k.pop());}if(f!=c)d.push(a.substr(f,c-f));else if(f==c&&0<f)throw new p.hn();return d;};b.YAb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new p.hn();return a.substring(1,a.length-1);}return a;};a=f=b;a=f=g.__decorate([d.N(),g.__param(0,d.l(k.Ke)),g.__param(1,d.l(h.Rx))],a);c.KVa=a;},function(g,c,a){var b,f,m,h,d,k,p,t,u,y;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(633);f=a(632);m=a(631);h=a(140);d=a(485);k=a(338);p=a(630);t=a(629);u=a(314);y=a(628);c.Qc=new g.tc(function(a){a(h.G1).to(b.KVa).Y();a(d.v1).to(m.qUa).Y();a(k.Lma).to(f.CWa).Y();a(p.ZRa).to(t.YRa).Y();a(u.Xma).to(y.SWa).Y();});},function(g,c,a){var f,m;function b(a){this.wob=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(315);a=a(1);b.prototype.ewa=function(){var a;a=this.wob.getDeviceId();return new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};m=b;m=g.__decorate([a.N(),g.__param(0,a.l(f.kka))],m);c.qLa=m;},function(g,c,a){var b,f,m,h,d;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(315);f=a(344);m=a(345);h=a(635);d=a(9);c.crypto=new g.tc(function(a){a(m.fha).to(h.qLa).Y();a(b.kka).ii(d.Xu);a(f.gha).ii(d.X0);});},function(g,c,a){var f,m,h,d,k,p,t,u;function b(a,b,d){var f;f=p.qQ.call(this,a,b,"network")||this;f.yT=d;f.PT=k.B_.SQa;f.Gmb=30;f.Kpb=function(a){f.PT=a.target.value;f.refresh();};f.tpb=function(){f.data={};f.refresh();};f.HEa=function(a){a=JSON.stringify(f.data[f.PT][Number(a.target.id)].value,null,4);u.s_.a6(a);};return f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(21);h=a(22);d=a(67);k=a(159);p=a(318);t=a(106);u=a(197);da(b,p.qQ);b.prototype.Sb=function(){var a;a=this;if(this.Yn)return Promise.resolve();K.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==t.Or.CRa&&a.toggle();});this.data={};this.yT.addListener(k.wha.gTa,function(b){var d;a.data[b.type]||(a.data[b.type]=[]);d=a.data[b.type];d.length===a.Gmb&&d.shift();d.push(b);b.type===a.PT&&a.refresh();});this.Yn=!0;return Promise.resolve();};b.prototype.fj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.p9=function(a,b,d){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';d=this.ura.Oj(d);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+f+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+d+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.A9=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.fj(),b=this.data[this.PT]||[],d=0;d<b.length;++d)a+=this.p9(d,b[d].name,b[d].value);return a+"</table>";};b.prototype.bwa=function(){var a;a=this.pc.createElement("button",p.TG,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.tpb;return[a,this.g9a(),this.Z8a()];};b.prototype.g9a=function(){var a;a=this.pc.createElement("select",p.TG,Object.keys(k.B_).reduce(function(a,b){b=k.B_[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.Kpb;return a;};b.prototype.Z8a=function(){var a,b,d,f;a=this;b=this.pc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.$M;b.onchange=function(){return a.ezb();};d=this.pc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.pc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(d);return f;};b.prototype.YDa=function(){return Promise.resolve(this.A9());};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.$e)),g.__param(1,f.l(h.Ke)),g.__param(2,f.l(d.XG))],a);c.qHb=a;},function(g,c,a){var h,d,k,p,t,u,y,l,x,n,G,P,S,r,U,C;function b(a,b,d,f,c,g,k,h,p,t){var q;q=this;this.Ja=a;this.app=b;this.pc=d;this.ha=f;this.Vk=c;this.config=g;this.$v=k;this.pfa=h;this.r9a=p;this.uj=t;this.Gyb=function(){q.PHa.zb(function(){q.update();});};this.clear=function(){q.entries=[];q.update();};this.MAa=function(){q.Ed.ME=!q.Ed.ME;q.Mw&&q.Rw&&(q.Ed.ME?(q.Mw.style.display="inline-block",q.Rw.style.display="none"):(q.Rw.style.display="inline-block",q.Mw.style.display="none"));q.QA(!1);};this.Zlb=function(a){var b;q.entries.push(a);b=q.config.UE;0<=b&&q.entries.length>b&&q.entries.shift();void 0===q.Ed.Xs[a.rl]&&(q.Ed.Xs[a.rl]=!0,q.QA(!1));q.Ed.Im&&!q.KGa?q.Gyb():q.PHa.zb();};this.aab=function(){m.download("all",q.entries.map(function(a){return a.tZ(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Yn=!1;this.Ed={Im:!1,ME:!0,OT:!0,saa:n.oi.A0,Xs:{}};this.PHa=this.pfa(y.ei(1));this.Ecb=this.r9a(y.Cb(250));this.entries=[];}function f(a){var b;this.elements=[];b=document.createElementNS(f.dO,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function m(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);d=a(21);k=a(97);p=a(441);t=a(33);u=a(45);y=a(4);l=a(24);x=a(81);n=a(8);G=a(96);P=a(196);S=a(316);r=a(69);U=a(106);C=a(197);m.download=function(a,b){return m.bfb(a).then(function(a){return m.chb(a,b.join("\r\n")).then(function(a){return m.$$a(a.filename,a.text);});});};m.bfb=function(a){return new Promise(function(b,d){var f,c,g,k,m,h,p;try{f=new Date();c=f.getDate().toString();g=(f.getMonth()+1).toString();k=f.getFullYear().toString();m=f.getHours().toString();h=f.getMinutes().toString();p=f.getSeconds().toString();1===c.length&&(c="0"+c);1===g.length&&(g="0"+g);1===m.length&&(m="0"+m);1===h.length&&(h="0"+h);1===p.length&&(p="0"+p);b(k+g+c+m+h+p+"."+a+".log");}catch(N){d(N);}});};m.chb=function(a,b){return new Promise(function(d,f){try{d({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(ca){f(ca);}});};m.$$a=function(a,b){var d;try{d=document.createElement("a");d.setAttribute("href",b);d.setAttribute("download",a);d.style.display="none";document.body.appendChild(d);d.click();document.body.removeChild(d);return Promise.resolve();}catch(ba){return Promise.reject(ba);}};f.prototype.gG=function(){var a;a=document.createElementNS(f.dO,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};f.prototype.hG=function(a,b,d){var c;c=document.createElementNS(f.dO,"path");c.setAttribute("d",a);b&&c.setAttribute("fill",b);d&&c.setAttribute("fill-rule",d);this.addElement(c);return this;};f.prototype.VN=function(a,b,d,c,g){var k;g=void 0===g?"#000000":g;k=document.createElementNS(f.dO,"rect");k.setAttribute("x",a.toString());k.setAttribute("y",b.toString());k.setAttribute("height",d.toString());k.setAttribute("width",c.toString());g&&k.setAttribute("fill",g);this.addElement(k);return this;};f.prototype.wxb=function(){var a;a=document.createElementNS(f.dO,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.Oj=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};pa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},cz:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});f.dO="http://www.w3.org/2000/svg";b.prototype.Sb=function(){var a;a=this;this.Gk||(this.Gk=new Promise(function(b){K.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==U.Or.LPa?a.toggle():b.keyCode==U.Or.E&&C.s_.a6(a.$v().Pg));});a.Vk.jY(P.Cja.VLa,a.Zlb);b();}));return this.Gk;};b.prototype.show=function(){document.body&&(this.element||(this.z8a(),this.Yn=!0),!this.Ed.Im&&this.element&&(document.body.appendChild(this.element),this.Ed.Im=!0,this.update(!0)));};b.prototype.Ht=function(){this.Yn&&this.Ed.Im&&this.element&&(document.body.removeChild(this.element),this.Ed.Im=!1);};b.prototype.toggle=function(){this.Ed.Im?this.Ht():this.show();this.QA(!1);};b.prototype.z8a=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.vx=this.e9a());a.appendChild(this.f9a());a.appendChild(this.u8a());this.element=a;}catch(ea){console.error("Unable to create the log console",ea);}};b.prototype.e9a=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.KGa=!0;a.update();a.vx&&(a.vx.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.KGa=!1;a.update();a.vx&&(a.vx.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.f9a=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.O8a());a.appendChild(this.I8a());a.appendChild(this.D8a());a.appendChild(this.h9a());a.appendChild(this.x8a());a.appendChild(this.T8a());a.appendChild(this.R8a());a.appendChild(this.F8a());a.appendChild(this.y8a());return a;};b.prototype.u8a=function(){var a,b,d,f,c,g;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");d=this.createElement("div","padding:2px");f=this.createElement("select",this.Mq(22,160,1,2),"<option>Select categories</option>");c=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(d);b.appendChild(c);d.appendChild(f);d.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;d.addEventListener("click",function(){g?c.style.display="none":(c.innerHTML="",["all","none"].concat(Object.keys(a.Ed.Xs).sort()).forEach(function(b){c.appendChild(a.v8a(b,d));}),c.style.display="block");g=!g;});return b;};b.prototype.v8a=function(a,b){var d,f,c;d=this;f=this.createElement("label","display: block;margin:1px");f.htmlFor=a;c=this.createElement("input","margin:1px");c.type="checkbox";c.id=a;c.checked=this.Ed.Xs[a];c.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(d.Ed.Xs).forEach(function(b){d.Ed.Xs[b]="all"===a;}),b.click()):d.Ed.Xs[a]=!d.Ed.Xs[a];d.QA(!0);});f.appendChild(c);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};b.prototype.O8a=function(){var a,b;a=this;b=this.createElement("select",this.Mq(22,NaN,1,2),'<option value="'+n.oi.ERROR+'">Error</option>'+('<option value="'+n.oi.O1+'">Warn</option>')+('<option value="'+n.oi.A0+'">Info</option>')+('<option value="'+n.oi.vma+'">Trace</option>')+('<option value="'+n.oi.jc+'">Debug</option>'));b.value=this.Ed.saa.toString();b.addEventListener("change",function(b){a.Ed.saa=parseInt(b.target.value);a.QA(!0);},!1);return b;};b.prototype.I8a=function(){var b,d;function a(a){return b.Ecb.zb(function(){var d;d=a.target.value;b.Ed.filter=d?new RegExp(d):void 0;b.QA(!0);});}b=this;d=this.createElement("input",this.Mq(14,150,1,2));d.value=this.Ed.filter?this.Ed.filter.source:"";d.title="Filter (RegEx)";d.placeholder="Filter (RegEx)";d.addEventListener("keydown",a,!1);d.addEventListener("change",a,!1);return d;};b.prototype.D8a=function(){var a,b,d,f;a=this;b=this.createElement("div",this.Mq(NaN,NaN));d=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");d.id="details";d.type="checkbox";d.title="Details";d.checked=this.Ed.OT;d.addEventListener("change",function(b){a.Ed.OT=b.target.checked;a.QA(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(d);b.appendChild(f);return b;};b.prototype.h9a=function(){var a,b,d;a=this;b=this.createElement("button",this.Mq());d=new f("0 0 24 24").gG().wxb().end().hG("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.cz,"nonzero").end().end().Oj();b.appendChild(d);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.x8a=function(){var a,b;a=this.createElement("button",this.Mq());b=new f("0 0 24 24").gG().VN(0,0,24,24,f.background).end().hG("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.cz).end().end().Oj();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.T8a=function(){var a;this.Rw=this.createElement("button",this.Mq());this.Rw.style.display=this.Ed.ME?"none":"inline-block";a=new f("0 0 24 24").gG().VN(0,0,24,24,f.background).end().hG("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.cz,"nonzero").end().end().Oj();this.Rw.addEventListener("click",this.MAa,!1);this.Rw.appendChild(a);this.Rw.setAttribute("title","Shrink the log console");return this.Rw;};b.prototype.R8a=function(){var a;this.Mw=this.createElement("button",this.Mq());this.Mw.style.display=this.Ed.ME?"inline-block":"none";a=new f("0 0 24 24").gG().VN(4,4,16,16,f.background).end().hG("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.cz,"nonzero").end().end().Oj();this.Mw.addEventListener("click",this.MAa,!1);this.Mw.appendChild(a);this.Mw.setAttribute("title","Expand the log console");return this.Mw;};b.prototype.F8a=function(){var a,b;a=this.createElement("button",this.Mq());b=new f("0 0 26 26").gG().VN(0,0,24,24,f.background).end().hG("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.cz,"nonzero").end().end().Oj();a.appendChild(b);a.addEventListener("click",this.aab,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.y8a=function(){var a,b,d;a=this;b=this.createElement("button",this.Mq());d=new f("0 0 24 24").gG().VN(0,0,24,24,f.background).end().hG("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.cz,"nonzero").end().end().Oj();b.appendChild(d);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.QA=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.nN&&Promise.resolve(this.B4a()+this.cfb().join("\r\n")).then(function(d){b.element&&b.vx&&(b.vx.value=d,b.element.style.cssText=b.Ed.ME?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ha.Xg(y.Ze,function(){b.vx.scrollTop=b.vx.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.cfb=function(){var a,b;a=this;b=[];this.entries.forEach(function(d){(d.level||d.level)<=a.Ed.saa&&a.Ed.Xs[d.rl]&&(d=d.tZ(!a.Ed.OT,!a.Ed.OT),a.Ed.filter&&!a.Ed.filter.test(d)||b.push(d));});return b;};b.prototype.B4a=function(){var a;a=this.$v();return"Version: 6.0022.162.011 \n"+((a?"Esn: "+a.Pg:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ja.ef.da(y.nn)+", Start: "+this.app.Qz.da(y.nn)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,d,f){return this.pc.createElement(a,b,d,f);};b.prototype.Mq=function(a,b,d,c){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===d?0:d)+"px solid "+f.cz+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(c?"border-radius:"+c+"px;":"");};a=b;a.Oxb="logDxDisplay";a=g.__decorate([h.N(),g.__param(0,h.l(u.kk)),g.__param(1,h.l(l.qf)),g.__param(2,h.l(d.$e)),g.__param(3,h.l(t.Eg)),g.__param(4,h.l(G.FB)),g.__param(5,h.l(S.vja)),g.__param(6,h.l(x.Iu)),g.__param(7,h.l(k.TB)),g.__param(8,h.l(p.uha)),g.__param(9,h.l(r.Fr))],a);c.cQa=a;},function(g,c,a){var f,m,h,d,k;function b(a,b){a=h.ke.call(this,a,"LogDisplayConfigImpl")||this;a.Pn=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);m=a(34);h=a(36);d=a(29);a=a(144);da(b,h.ke);pa.Object.defineProperties(b.prototype,{nN:{configurable:!0,enumerable:!0,get:function(){return!0;}},UE:{configurable:!0,enumerable:!0,get:function(){return this.Pn.UE;}},Eza:{configurable:!0,enumerable:!0,get:function(){return-1;}}});k=b;g.__decorate([m.config(m.Ld,"renderDomDiagnostics")],k.prototype,"nN",null);g.__decorate([m.config(m.C$,"logDisplayMaxEntryCount")],k.prototype,"UE",null);g.__decorate([m.config(m.C$,"logDisplayAutoshowLevel")],k.prototype,"Eza",null);k=g.__decorate([f.N(),g.__param(0,f.l(d.Ui)),g.__param(1,f.l(a.LH))],k);c.bQa=k;},function(g,c,a){var f,m;function b(){this.Yda="";this.mIa=[[],[]];this.V=[[],[]];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a(4);m=a(86);b.prototype.downloadRequest=function(a){var b;""===this.Yda&&(this.Yda=a.ib);if(!a.Vb){b=this.Zyb(a);this.V[a.M].push(b);this.mIa[a.M].forEach(function(a){a.WKb(b);});}};b.prototype.Zyb=function(a){return{id:a.hj(),ib:a.ib,M:a.M,Ai:a.Ai,startTime:a.ou,endTime:a.GF,offset:a.Rm,JJ:a.JJ,IJ:a.IJ,duration:a.mt,R:a.R,state:m.xga.Xta,Fp:!1,sOb:!1,Bxa:!1,VMb:m.wga.waiting};};b.prototype.update=function(a){this.mIa[a.M].forEach(function(b){b.RRb(a);});};pa.Object.defineProperties(b.prototype,{ib:{configurable:!0,enumerable:!0,get:function(){return this.Yda;}}});a=b;a=g.__decorate([f.N()],a);c.oJa=a;},function(g,c,a){var f,m;function b(a){this.V$a=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(319);b.prototype.Sb=function(){var a;a=this;this.Gk||(this.Gk=new Promise(function(b,f){var d;d=[];a.V$a.forEach(function(a){d.push(a.Sb());});Promise.all(d).then(function(){b();})["catch"](function(a){f(a);});}));return this.Gk;};m=b;m=g.__decorate([f.N(),g.__param(0,f.eA(a.Lha))],m);c.aNa=m;},function(g,c){function a(a){this.is=a;this.zkb="#881391";this.Vxb="#C41A16";this.n4a=this.$ob="#1C00CF";this.ujb="#D79BDB";this.Pzb=this.Xob="#808080";}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Oj=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.rw=function(a,f){return'<font color="'+((void 0===f?0:f)?this.ujb:this.zkb)+'">'+a+": </font>";};a.prototype.Lva=function(a,f){f=f||"";a=""+('<li><a href="#">'+this.rw(a)+"Array["+f.length+"]</a>");a+="<ul>";for(var b=0;b<f.length;++b)a+=this.getValue(b.toString(),f[b]);a+=this.getValue("length",f.length,!0);return a+"</ul></li>";};a.prototype.Owa=function(a,f){var b,c,d;b=this;if(f instanceof CryptoKey)return this.xeb(a,f);c=Object.keys(f);d="";d=d+('<li><a href="#">'+("~~NONAME~~"!==a?this.rw(a):"")+"Object</a>");d=d+"<ul>";c.forEach(function(a){d=a.startsWith("$")?d+b.getValue(a,"REMOVED"):d+b.getValue(a,f[a]);});d+="</ul>";return d+="</li>";};a.prototype.xeb=function(a,f){a=""+('<li><a href="#">'+this.rw(a)+"CryptoKey</a>");a=a+"<ul>"+this.Owa("algorithm",f.algorithm);a+=this.Qva("extractable",f.extractable);a+=this.dxa("type",f.type);a+=this.Lva("usages",f.usages);return a+"</ul></li>";};a.prototype.egb=function(a,f,c){return'<li><a href="#">'+this.rw(a,void 0===c?!1:c)+('<font color="'+this.$ob+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.Qva=function(a,f,c){return'<li><a href="#">'+this.rw(a,void 0===c?!1:c)+('<font color="'+this.n4a+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.dxa=function(a,f,c){128<f.length&&(f=f.substr(0,128)+"...");return'<li><a href="#">'+this.rw(a,void 0===c?!1:c)+('<font color="'+this.Vxb+'">"'+f+'"</font>')+"</a></li>";};a.prototype.dgb=function(a){return'<li><a href="#">'+this.rw(a)+('<font color="'+this.Xob+'">null</font>')+"</a></li>";};a.prototype.shb=function(a,f){f="undefined"===typeof f?"":f.toString();255<f.length&&(f=f.substr(0,255)+"...");return'<li><a href="#">'+this.rw(a)+('<font color="'+this.Pzb+'">'+f+"</font>")+"</a></li>";};a.prototype.getValue=function(a,f,c){c=void 0===c?!1:c;return null===f?""+this.dgb(a):this.is.Ks(f)?""+this.Lva(a,f):this.is.My(f)?""+this.Owa(a,f):this.is.mm(f)?""+this.dxa(a,f,c):this.is.Jg(f)?""+this.egb(a,f,c):this.is.bJ(f)?""+this.Qva(a,f,c):""+this.shb(a,f);};c.kWa=a;},function(g,c,a){var f,h,q,d,k,p,t;function b(a,b,d){var f;f=k.qQ.call(this,a,b,"idb")||this;f.uj=d;f.HEa=function(a){f.o$a(a.target.id).then(function(){return f.refresh();});};f.upb=function(){f.O5a().then(function(){return f.refresh();});};f.Dpb=function(){f.refresh();};f.wpb=function(){f.P6a();};return f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);q=a(22);d=a(174);k=a(318);p=a(106);t=a(197);da(b,k.qQ);b.prototype.Sb=function(){var a;a=this;if(this.Yn)return Promise.resolve();K.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==p.Or.BOa&&a.toggle();});return this.uj.create().then(function(b){a.storage=b;a.Yn=!0;});};b.prototype.fj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.p9=function(a,b,d){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';d=this.ura.Oj({name:b,data:d});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+d+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.A9=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.fj(),d=Object.keys(a),f=0;f<d.length;++f)b+=this.p9(f,d[f],a[d[f]]);return b+"</table>";};b.prototype.bwa=function(){var a,b,d;a=this.pc.createElement("button",k.TG,"Clear",{"class":this.prefix+"-display-btn"});b=this.pc.createElement("button",k.TG,"Refresh",{"class":this.prefix+"-display-btn"});d=this.pc.createElement("button",k.TG,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.upb;b.onclick=this.Dpb;d.onclick=this.wpb;return[a,b,d];};b.prototype.Alb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.Zxa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.Zxa;});};b.prototype.o$a=function(a){return this.storage.remove(a);};b.prototype.O5a=function(){return this.storage.removeAll();};b.prototype.YDa=function(){var a;a=this;return this.Alb().then(function(b){return a.A9(b);});};b.prototype.P6a=function(){var a;a=JSON.stringify(this.Zxa,null,4);t.s_.a6(a);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.$e)),g.__param(1,f.l(q.Ke)),g.__param(2,f.l(d.D0))],a);c.bGb=a;},function(g,c,a){var f,h,q,d,k,p,t,u;function b(a){return function(){return new Promise(function(b,d){var f;f=a.tb.get(h.Nha);f.Sb().then(function(){b(f);})["catch"](function(a){d(a);});});};}Object.defineProperty(c,"__esModule",{value:!0});g=a(1);f=a(319);a(643);h=a(317);q=a(641);d=a(86);k=a(640);p=a(316);t=a(639);u=a(638);a(637);c.Cab=new g.tc(function(a){a(p.vja).to(t.bQa).Y();a(f.Lha).to(u.cQa);a(d.$O).to(k.oJa).Y();a(h.Nha).to(q.aNa).Y();a(h.Mha).qO(b);});},function(g,c,a){var q,d,k,p;function b(){}function f(a){this.Eqb=a;}function h(a){this.Gqb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);q=a(1);d=a(198);k=a(46);p=a(2);h.prototype.Xp=function(a){a.map(this.Gqb.Xp);};a=h;a=g.__decorate([q.N(),g.__param(0,q.l(d.ela))],a);c.sTa=a;f.prototype.Xp=function(a){this.Eqb.Xp(a.data);};a=f;a=g.__decorate([q.N(),g.__param(0,q.l(d.bla))],a);c.tTa=a;b.prototype.Xp=function(a){var b;a.ia&&"string"===typeof a.ia?a.href&&"string"===typeof a.href?a.profileId&&"string"===typeof a.profileId||(b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new k.qc(p.I.Pu,p.G.Gu,void 0,void 0,void 0,b,void 0,a.ia);};d=b;d=g.__decorate([q.N()],d);c.wTa=d;},function(g,c,a){var f,h,q;function b(a,b){this.UJ=b;this.log=a.ub("PboEventSenderImpl");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(75);h=a(8);a=a(1);b.prototype.hea=function(a,b){var d;d=this.UJ(f.cm.start);return this.Gua(d,a,b);};b.prototype.jFa=function(a){var b;b=this;return this.UJ(f.cm.stop).yf(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.GN=function(a,b,f){a=this.UJ(a);return this.Gua(a,b,f);};b.prototype.Gua=function(a,b,f){var d;d=this;return a.Bm(this.log,b.sa.Rf,f).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};q=b;q=g.__decorate([a.N(),g.__param(0,a.l(h.Bb)),g.__param(1,a.l(f.O_))],q);c.iTa=q;},function(g,c,a){var f,h,q,d,k,p;function b(a,b){a=h.ke.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);q=a(29);d=a(34);k=a(4);a=a(40);da(b,h.ke);pa.Object.defineProperties(b.prototype,{vF:{configurable:!0,enumerable:!0,get:function(){return this.config.Gq?"unsentplaydatatest":"unsentplaydata";}},eea:{configurable:!0,enumerable:!0,get:function(){return!0;}},eFa:{configurable:!0,enumerable:!0,get:function(){return k.Cb(1E4);}},lca:{configurable:!0,enumerable:!0,get:function(){return k.Cb(4E3);}},Zya:{configurable:!0,enumerable:!0,get:function(){return k.bX(1);}},$ya:{configurable:!0,enumerable:!0,get:function(){return k.ei(30);}}});p=b;g.__decorate([d.config(d.string,"playdataPersistKey")],p.prototype,"vF",null);g.__decorate([d.config(d.Ld,"sendPersistedPlaydata")],p.prototype,"eea",null);g.__decorate([d.config(d.Ug,"playdataSendDelayMilliseconds")],p.prototype,"eFa",null);g.__decorate([d.config(d.Ug,"playdataPersistIntervalMilliseconds")],p.prototype,"lca",null);g.__decorate([d.config(d.Ug,"heartbeatCooldown")],p.prototype,"Zya",null);g.__decorate([d.config(d.Ug,"keepAliveWindow")],p.prototype,"$ya",null);p=g.__decorate([f.N(),g.__param(0,f.l(q.Ui)),g.__param(1,f.l(a.Io))],p);c.RTa=p;},function(g,c,a){var q,d,k,p,t,u,y,l,x,n,G,P,S,r;function b(a,b,d,c,g,k,h,m){this.config=a;this.ha=d;this.zr=c;this.Dp=g;this.LX=k;this.ee=h;this.Nz=Promise.resolve();this.closed=!1;this.log=b.ub("PlaydataServices");this.sA=[];this.active=new Set();this.Cub=new f(a,m);}function f(a,b){this.config=a;this.Ja=b;}function h(a,b,d,f,c,g){this.log=a;this.ha=b;this.ak=d;this.Dp=f;this.zr=c;this.crb=g;this.Nua=this.NJ=!1;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);q=a(1);d=a(4);k=a(8);p=a(33);t=a(243);u=a(322);y=a(15);l=a(321);x=a(2);n=a(199);G=a(320);P=a(131);S=a(45);a=a(59);h.prototype.dX=function(a,b){var f;function d(){var a;a=f.Dp.create(f.ak);f.zr.Rfa(a)["catch"](function(a){var b;b=f.Nua?k.oi.O1:k.oi.ERROR;f.Nua=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.zr.a2a(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.po=f.ha.Mda(a,d);})["catch"](function(c){f.log.error("Unable to add playdata",{error:c,playdata:new n.n1().encode(b)});f.po=f.ha.Mda(a,d);});};h.prototype.stop=function(a){var b,d;b=this;if(this.NJ)return Promise.resolve();this.po&&this.po.cancel();d=this.Dp.create(this.ak);return this.zr.Rfa(d)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.ak.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",d),Promise.resolve();b.log.trace("Sending final playdata to the server",d);return b.crb.jFa(d);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",d),b.zr.dEa(d);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",d.u);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.NJ=!0;this.po&&this.po.cancel();this.zr.Rfa(this.Dp.create(this.ak));};pa.Object.defineProperties(f.prototype,{c5a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ja.ef;return!this.Nz||0<=a.Fd(this.Nz).ul(this.config.$ya)?(this.Nz=a,!0):!1;}}});c.sIb=f;b.prototype.Sb=function(){var a;a=this;this.Gk||(this.log.trace("Starting playdata services"),this.Gk=this.zr.Usb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.Gk;};b.prototype.close=function(){this.closed=!0;this.sA.forEach(function(a){a.dX.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.vF&&b.eea?this.zvb(a):Promise.resolve();};b.prototype.txb=function(a){this.closed||this.uxb(a);};b.prototype.mGa=function(a){var b,d,f;b=this;if(this.closed)return Promise.resolve();d=this.Dp.create(a);this.active["delete"](d.ia);a=Q(P.gu(function(a){return a.key===d.ia;},this.sA));f=a.next().value;this.sA=a.next().value;return Promise.all(f.map(function(a){a.nGa=!0;return a.dX.stop(b.config.eea);})).then(function(){});};b.prototype.uX=function(a,b){var d,f;d=this;f=a.ca;this.gGa(f,b);this.hea(f,a.aK)["catch"](function(a){d.log.error("Start command failed",{playdata:a.xF,error:a.kz});});this.rxb(a);};b.prototype.uxb=function(a){var b;b=this;a.addEventListener(y.S.bo,function(d){var f;if(void 0!==d.TX){f=a.Dm(d.TX);b.mGa(f);d.Gz||new Promise(function(b){var d;if(a.Fp.value)b();else{d=function(f){f.newValue&&(b(),a.Fp.removeListener(d));};a.Fp.addListener(d);}}).then(function(){return b.uX(a,"online");});}});a.addEventListener(y.S.Ok,function(){b.uX(a,"online");});a.background||a.addEventListener(y.S.VL,function(d){d=a.Dm(d.u);b.gGa(d,"online");});a.addEventListener(y.S.df,function(){b.Hxb();});a.addEventListener(y.S.dIa,function(){b.Fvb(a.ca)["catch"](function(b){(b=b.uca)&&a.Md(b);});});a.zc.addListener(function(){a.Sa.X6?b.log.trace("stickiness is disabled for timedtext"):b.iFa(a.ca);});a.Uc.addListener(function(){a.Sa.X6?b.log.trace("stickiness is disabled for audio"):b.iFa(a.ca)["catch"](function(b){(b=b.uca)&&a.Md(b);});});};b.prototype.gGa=function(a,b){var d,f;a.Xc("pdb");if(this.config.lca.Yjb()){d=this.Dp.create(a);f=d.ia;this.sA.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",d):(this.log.info("Starting to collect "+b+" playdata",d),this.active.add(f),this.sA.push({key:f,dX:this.Tfb(a,d),SA:!1,nGa:!1}));}};b.prototype.zvb=function(a){var b,d,f,c;b=this;d=this.zr.xF.filter(function(a){return!b.active.has(a.ia);});f=void 0;c=void 0;a&&Infinity===a?f=d:(d=Q(P.gu(function(b){return b.u===a;},d)),f=d.next().value,c=d.next().value);c&&0<c.length&&this.ha.Xg(this.config.eFa,function(){b.hFa(c);});return f&&0!==f.length?this.hFa(f):Promise.resolve();};b.prototype.hFa=function(a){var d;function b(a){return d.LX.jFa(a).then(function(){return d.Rtb(a);});}d=this;return a.reduce(function(a,d){return a.then(function(){return b(d);});},Promise.resolve());};b.prototype.Rtb=function(a){var b;b=this;return this.zr.dEa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.Tfb=function(a,b){a=new h(this.log,this.ha,a,this.Dp,this.zr,this.LX);a.dX(this.config.lca,b);return a;};b.prototype.hea=function(a,b){var d,f;d=this;f=this.Dp.J8a(a,b);return this.LX.hea(a,f).then(function(){d.sA.filter(function(b){return b.key===a.ia.toString();}).forEach(function(a){a.SA=!0;});})["catch"](function(a){throw{xF:f,kz:a};});};b.prototype.Fvb=function(a){return this.Cub.c5a?this.GN(G.l1.ML,a,x.I.I0):Promise.resolve();};b.prototype.iFa=function(a){return this.GN(G.l1.splice,a,x.I.Ula);};b.prototype.GN=function(a,b,d){var c;function f(a){var b;b=c.sA.filter(function(b){return b.key===a.ia.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.nGa||!b.SA;},!1);}c=this;return f(b)?this.Nz:this.Nz=this.Nz["catch"](function(){return Promise.resolve();}).then(function(){var d;if(f(b))return Promise.resolve();d=c.Dp.create(b);return c.LX.GN(a,b,d);}).then(function(a){return a;})["catch"](function(f){var g;c.log.error("Failed to send event",{eventKey:a,xid:b.ia,error:f});f.A7?g=c.ee(d,f):f.br===x.T0.M1&&(g=c.ee(d,f));throw{kz:f,uca:g};});};b.prototype.rxb=function(a){this.Twb(a)&&this.Uea(this.zfb(a.ca),a);};b.prototype.Uea=function(a,b){var d;d=this;this.C5();this.T$=this.ha.Xg(a,function(){d.C5();d.GN(G.l1.ML,b.ca,x.I.I0).then(function(){d.Uea(a,b);})["catch"](function(f){var c;c=f.kz;(f=f.uca)&&b.Md(f);c.br===x.T0.M1&&d.Uea(a,b);});});};b.prototype.Hxb=function(){this.C5();};b.prototype.Twb=function(a){return a.state.value==y.mb.jd;};b.prototype.C5=function(){this.T$&&(this.T$.cancel(),this.T$=void 0);};b.prototype.zfb=function(a){return a.Sa.U9?d.Cb(a.Sa.U9):this.config.Zya;};r=b;r=g.__decorate([q.N(),g.__param(0,q.l(l.ula)),g.__param(1,q.l(k.Bb)),g.__param(2,q.l(p.Eg)),g.__param(3,q.l(u.Uka)),g.__param(4,q.l(t.o1)),g.__param(5,q.l(G.Xka)),g.__param(6,q.l(a.bl)),g.__param(7,q.l(S.kk))],r);c.vTa=r;},function(g,c,a){var q,d,k,p,t,u,y,l,x,n;function b(){}function f(){}function h(a,d,f,c,g){var h;h=this;this.is=a;this.uj=d;this.config=f;this.$v=c;this.Fqb=g;this.xr=function(){return new b().encode({version:h.version,data:h.xF});};this.wAb=function(a){a=h.vAb(a);h.Fqb.Xp(a);return a;};this.vAb=function(a){if(h.is.ml(a))return h.zAb(a);if(void 0!=a.version&&h.is.Jg(a.version)&&1==a.version)return h.AAb(a);if(void 0!=a.version&&h.is.Jg(a.version)&&2==a.version)return new b().decode(a);if(a.version&&h.is.Jg(a.version))throw new t.qc(k.I.Pu,k.G.Mga,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new t.qc(k.I.Pu,k.G.Gu,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.wo=new u.aja(2,this.config().RCa,""!==this.config().RCa&&0<this.config().mrb,this.uj,this.xr);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);q=a(1);d=a(17);k=a(2);p=a(22);t=a(46);u=a(486);y=a(69);l=a(81);x=a(199);a=a(198);h.prototype.Usb=function(){return this.wo.load(this.wAb)["catch"](function(a){throw new t.qc(k.I.Pu,a.ba||a.Pc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.a2a=function(a){return this.wo.add(a);};h.prototype.dEa=function(a){return this.wo.remove(a,function(a,b){return a.ia===b.ia;});};h.prototype.Rfa=function(a){return this.wo.update(a,function(a,b){return a.ia===b.ia;});};h.prototype.toString=function(){return JSON.stringify(this.xr(),null,"  ");};h.prototype.THa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.$v().Pg:"";};h.prototype.Tfa=function(a){return a.map(function(a){return{Zc:a.downloadableId,duration:a.duration};});};h.prototype.UHa=function(a){return a?{total:a.playTimes.total,audio:this.Tfa(a.playTimes.audio||[]),video:this.Tfa(a.playTimes.video||[]),text:this.Tfa(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.zAb=function(a){var b,d,f;b=this;a=JSON.parse(a);d={type:"online",href:this.THa(a.playbackContextId),ia:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,TJ:a.timestamp,KN:a.playback?1E3*a.playback.startEpoch:-1,Zz:a.mediaId,RM:this.UHa(a.playback),ab:"",Vm:{},profileId:a.accountKey};f=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.uj.create().then(function(a){a.save(b.config().zK,f,!1);});if(""===d.href||""===d.ia)throw new t.qc(k.I.Pu,k.G.Gu);return{version:2,data:[d]};};h.prototype.AAb=function(a){var b;b=this;if(!a.playdata||!this.is.Ks(a.playdata))throw new t.qc(k.I.Pu,k.G.Gu,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,href:b.THa(a.playbackContextId),ia:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,TJ:a.timestamp,KN:a.playback?1E3*a.playback.startEpoch:-1,Zz:a.mediaId,RM:b.UHa(a.playback),ab:"",Vm:{},profileId:a.profileId};});}(a.playdata)};};pa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.wo.version;}},xF:{configurable:!0,enumerable:!0,get:function(){return this.wo.Cq;}}});n=h;n=g.__decorate([q.N(),g.__param(0,q.l(p.Ke)),g.__param(1,q.l(y.Fr)),g.__param(2,q.l(d.sd)),g.__param(3,q.l(l.Iu)),g.__param(4,q.l(a.cla))],n);c.dTa=n;f.prototype.encode=function(a){var b;b=new x.n1();return a.map(b.encode);};f.prototype.decode=function(a){var b;b=new x.n1();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new f().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new f().decode(a.data)};};},function(g,c,a){var f,h,q,d,k,p,t,u,y,l,x,n;function b(a){return function(){return a.tb.get(f.dla).Sb();};}Object.defineProperty(c,"__esModule",{value:!0});g=a(1);f=a(154);h=a(243);q=a(199);d=a(322);k=a(649);p=a(648);t=a(321);u=a(647);y=a(320);l=a(646);x=a(198);n=a(645);c.xF=new g.tc(function(a){a(t.ula).to(u.RTa).Y();a(h.o1).to(q.uTa).Y();a(d.Uka).to(k.dTa).Y();a(f.dla).to(p.vTa).Y();a(f.eQ).qO(b);a(y.Xka).to(l.iTa).Y().RO();a(x.ela).to(n.wTa).Y();a(x.bla).to(n.sTa).Y();a(x.cla).to(n.tTa).Y();});},function(g,c,a){var f,h,q,d,k,p;function b(a,b,d,f,c){this.B1a=a;this.Gtb=b;this.pEa=f;this.zEa=c;this.la=d.ub("LicenseProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(8);q=a(327);a(326);d=a(325);k=a(324);a=a(323);b.prototype.Jy=function(a){var b,d;b=this;d=this.pEa.mzb(a);return this.B1a.Bm(this.la,a.Rf,d).then(function(a){a.map(function(a){return a.XOb;});return b.zEa.nzb(a);})["catch"](function(a){b.la.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a){var b;b=this;a=this.pEa.qzb(a);return this.Gtb.yf(this.la,a).then(function(a){return b.zEa.rzb(a);})["catch"](function(a){b.la.error("PBO release license failed",a);return Promise.reject(a);});};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(q.Ska)),g.__param(1,f.l(d.fla)),g.__param(2,f.l(h.Bb)),g.__param(3,f.l(k.Yka)),g.__param(4,f.l(a.Zka))],p);c.XPa=p;},function(g,c,a){var f,h,q,d,k,p,t,u;function b(a,b,d,f){this.pc=a;this.Ps=b;this.TAb=d;this.uW=f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);q=a(39);d=a(99);k=a(142);p=a(87);t=a(459);a=a(156);b.prototype.kj=function(a){var b;b=this;return this.pc.Vv(a.Ph[0].data[0],[8,4])?Promise.resolve({ic:[{id:"ddd",Iw:"cert",TE:void 0}],Il:[{sessionId:"ddd",data:new Uint8Array(this.Ps.decode(t.PWa))}]}):this.pc.Vv(a.Ph[0].data[0],this.TAb.decode("certificate"))?Promise.resolve({ic:[{id:"ddd",Iw:"cert",TE:void 0}],Il:[{sessionId:"ddd",data:new Uint8Array(this.Ps.decode(t.gia))}]}):this.uW.Jy(this.vdb(a)).then(function(a){return b.wdb(a);});};b.prototype.release=function(a){var b;b=this;return this.uW.release(this.xdb(a)).then(function(d){return b.ydb(d,a);});};b.prototype.vdb=function(a){var b,d;b=this;d=a.Ph.map(function(a){return a.data.map(function(d){return{sessionId:a.sessionId,dataBase64:b.Ps.encode(d)};});});return{ia:a.ia,fg:a.fg,TT:a.TT,$h:p.pza(a.$h),hp:k.bn[a.hp],Ph:d.reduce(function(a,b){return a.concat(b);},[]),hM:a.hM,Rf:a.Rf};};b.prototype.xdb=function(a){var b;b={};a.Ph&&a.ic[0].id&&(b[a.ic[0].id]=this.Ps.encode(a.Ph[0]));return a&&a.Ph?{ia:a.ia,ic:a.ic,evb:b}:{ia:a.ia,ic:a.ic};};b.prototype.wdb=function(a){return{ic:a.ic,Il:a.Il};};b.prototype.ydb=function(a,b){return a&&a.response&&a.response.data&&b.ic[0].id&&(a=a.response.data[b.ic[0].id])?{response:this.Ps.decode(a)}:{};};u=b;u=g.__decorate([f.N(),g.__param(0,f.l(h.$e)),g.__param(1,f.l(q.Aj)),g.__param(2,f.l(d.ky)),g.__param(3,f.l(a.sH))],u);c.VMa=u;},function(g,c,a){var b,f,h,q;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(461);f=a(652);h=a(156);q=a(651);c.wsb=new g.tc(function(a){a(b.Iha).to(f.VMa).Y();a(h.sH).to(q.XPa).Y();});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.iPb=function(a){return a;};c.mmb=function(a){return a;};c.jPb=function(a){return Object.assign({},a);};},function(g,c,a){var f,h,q,d,k,p,t,u,y;function b(a,b,d){this.Ja=a;this.FBb=b;this.performance=d;h.Lm(this,"performance");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(53);q=a(654);d=a(47);k=a(37);p=a(45);t=a(1);u=a(331);y=a(4);b.prototype.get=function(a,b,c){var g;g=this;return new Promise(function(k,h){var m,p,t;try{m=g.FBb.create();"withCredentials"in m||h(Error("Missing CORS support"));m.open("GET",a,!0);b&&(m.withCredentials=!0);c&&(m.timeout=c.da(y.ja));p=g.Ja.ef;t=void 0;m.onreadystatechange=function(){var b;switch(m.readyState){case XMLHttpRequest.HEADERS_RECEIVED:t=g.Ja.ef.Fd(p);break;case XMLHttpRequest.DONE:b=g.Ja.ef.Fd(p),b={body:m.responseText,status:m.status,headers:f.kqb(m.getAllResponseHeaders()),cd:g.Qfb(a,d.aa(m.responseText.length),b,t)};k(b);}};m.send();}catch(R){h(R);}});};b.kqb=function(a){var b,f,c;b={};a=a.split("\r\n");for(var d=0;d<a.length;d++){f=a[d];c=f.indexOf(": ");0<c&&(b[f.substring(0,c).toLowerCase()]=f.substring(c+2));}return b;};b.prototype.Qfb=function(a,b,f,c){b={size:b,duration:f,ufa:c};if(!this.performance||!this.performance.getEntriesByName)return b;f=this.performance.getEntriesByName(a);if(0==f.length&&(f=this.performance.getEntriesByName(a+"/"),0==f.length))return b;a=f[f.length-1];b=q.mmb(b);a.Y9a&&(b.size=d.aa(a.Y9a));0<a.duration?b.duration=y.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=y.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.Nta=y.timestamp(a.domainLookupEnd-a.domainLookupStart),b.nfa=y.timestamp(a.connectEnd-a.connectStart),b.ufa=y.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.yfa=y.timestamp(0):void 0!==a.secureConnectionStart&&(f=a.connectEnd-a.secureConnectionStart,b.yfa=y.timestamp(f),b.nfa=y.timestamp(a.connectEnd-a.connectStart-f)));return b;};a=f=b;a=f=g.__decorate([t.N(),g.__param(0,t.l(p.kk)),g.__param(1,t.l(u.Yma)),g.__param(2,t.l(k.q1)),g.__param(2,t.optional())],a);c.zOa=a;},function(g,c,a){var f,h,q,d,k;function b(a,b){this.is=a;this.json=b;h.Lm(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(53);q=a(37);d=a(4);a=a(22);b.prototype.parse=function(a){var f;a=this.json.parse(a);if(!this.is.c4(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.cJ(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.cJ(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Ks(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.cJ(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Ks(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.ml(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.My(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){f=a.urls[b];if(!this.is.c4(f))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.mm(f.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.mm(f.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Csb:a.pulses,tDa:a.pulse_delays?a.pulse_delays.map(d.Cb):[],Bsb:d.Cb(a.pulse_timeout),Yya:a.next?d.Cb(a.next):void 0,fd:a.urls,uaa:a.logblob,context:a.ctx};};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.Ke)),g.__param(1,f.l(q.Rx))],k);c.UNa=k;},function(g,c,a){var f,h,q,d,k,p;function b(a,b){this.ai=a;this.aA=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);q=a(47);d=a(4);k=a(42);a=a(61);b.prototype.pN=function(a){a=this.aA.wm("ftlProbeError","info",f.zBb({url:a.url,sc:a.status,pf_err:a.nca},a));this.ai.xc(a);};b.zBb=function(a,b){b.cd&&(b=b.cd,f.vq(a,"d",b.duration),f.vq(a,"dns",b.Nta),f.vq(a,"tcp",b.nfa),f.vq(a,"tls",b.yfa),f.vq(a,"ttfb",b.ufa),a.sz=b.size.da(q.Hr));return a;};b.vq=function(a,b,f){f&&(a[b]=f.da(d.ja));return a;};p=f=b;p=f=g.__decorate([h.N(),g.__param(0,h.l(k.mk)),g.__param(1,h.l(a.Jo))],p);c.EUa=p;},function(g,c,a){var f,h,q,d,k,p;function b(a,b){this.ai=a;this.aA=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);q=a(47);d=a(4);k=a(42);a=a(61);b.prototype.pN=function(a){a=this.aA.wm(a.uaa,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return f.ABb({d:a.cd.duration.da(d.ja),sc:a.status,sz:a.cd.size.da(q.Hr),via:a.dBb,cip:a.I5a,err:a.kz},a);})};})});this.ai.xc(a);};b.ABb=function(a,b){f.vq(a,"dns",b.cd.Nta);f.vq(a,"tcp",b.cd.nfa);f.vq(a,"tls",b.cd.yfa);f.vq(a,"ttfb",b.cd.ufa);return a;};b.vq=function(a,b,f){f&&(a[b]=f.da(d.ja));return a;};p=f=b;p=f=g.__decorate([h.N(),g.__param(0,h.l(k.mk)),g.__param(1,h.l(a.Jo))],p);c.FUa=p;},function(g,c,a){var f,h,q,d,k,p,t,u;function b(a,b,d,f,c,g,k){this.config=a;this.Wxa=b;this.ha=d;this.Tf=f;this.dub=c;this.oda=g;this.xkb=0;this.la=k.ub("FTL");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);q=a(4);d=a(33);k=a(8);p=a(329);t=a(328);a=a(180);b.prototype.start=function(){this.config.enabled&&!this.po&&(this.po=this.ha.Xg(this.config.eGa,this.SF.bind(this)));};b.prototype.stop=function(){this.po&&(this.po.cancel(),this.po=void 0);};b.prototype.SF=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.xkb++;this.$gb(b).then(function(b){return Promise.all(b.fd.map(function(d){return a.aib(b,d.url,d.name);})).then(function(d){0<d.length&&a.dub.pN({data:d,context:b.context,uaa:b.uaa});}).then(function(){return b;});}).then(function(b){a.po&&(b.Yya?a.po=a.ha.Xg(b.Yya,a.SF.bind(a)):a.stop());})["catch"](function(b){return a.la.error("FTL run failed",b);});};b.prototype.$gb=function(a){var b;b=this;return this.Wxa.get(a,!1).then(function(d){var f;if(200!=d.status||null==d.body)return b.oda.pN({url:a,status:d.status,nca:"FTL API request failed",cd:d.cd}),Promise.reject(Error("FTL API request failed: "+d.status));f=b.Tf.parse(d.body);return f instanceof Error?(b.oda.pN({url:a,status:4,nca:"FTL Probe API JSON parsing error",cd:d.cd}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(d){d instanceof Error&&(b.oda.pN({url:a,status:0,nca:d.message}),b.la.error("FTL API call failed",d.message));return Promise.reject(d);});};b.prototype.aib=function(a,b,d){var c;c=this;return new Promise(function(g,k){var l;for(var h,m,p,t=[],u={},y=0;y<a.Csb;u={Od:u.Od,Uca:u.Uca},++y){u.Od=y<a.tDa.length?a.tDa[y]:q.Ze;u.Uca=""+b+(-1===b.indexOf("?")?"?":"&")+"pulse="+(y+1);l=function(b){return function(){return new Promise(function(d,g){c.ha.Xg(b.Od,function(){f.fsb(c.Wxa,b.Uca,a.Bsb).then(function(a){function b(a,b,d){a||(a=d.headers[b]);return a;}h=b(h,"via",a);m=b(m,"x-ftl-probe-data",a);p=b(p,"x-ftl-error",a);d({status:a.status,cd:a.cd,dBb:h||"",I5a:m||"",kz:p||""});})["catch"](function(a){g(a);});});});};}(u);t.push(0<y?t[y-1].then(l):l());}Promise.all(t).then(function(a){g({url:b,name:d,data:a});})["catch"](function(a){k(a);});});};b.fsb=function(a,b,d){return a.get(b,!1,d).then(function(a){return Object.assign({},a);});};u=f=b;u=f=g.__decorate([h.N(),g.__param(0,h.l(a.oia)),g.__param(1,h.l(t.Bia)),g.__param(2,h.l(d.Eg)),g.__param(3,h.l(p.nia)),g.__param(4,h.l(a.Qla)),g.__param(5,h.l(a.Pla)),g.__param(6,h.l(k.Bb))],u);c.WNa=u;},function(g,c,a){var b,f,h,q,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(659);f=a(658);h=a(657);q=a(656);d=a(655);k=a(329);p=a(328);t=a(180);c.Bdb=new g.tc(function(a){a(t.pia).to(b.WNa).Y();a(t.Qla).to(f.FUa).Y();a(t.Pla).to(h.EUa).Y();a(k.nia).to(q.UNa).Y();a(p.Bia).to(d.zOa).Y();});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.xq=a;}a.prototype.AM=function(){var a,f,c;a=this.xq.wfb();f=this.xq.xfb();c=this.xq.yfb();if("number"===typeof a&&"number"===typeof f&&"number"===typeof c)return(c-a)/f;};return a;}();c.PRa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,f){this.xq=a;this.AM=f;}a.prototype.sea=function(a){return this.xq.sea(a);};a.prototype.El=function(){return this.xq.El();};a.prototype.agb=function(){return this.AM.AM();};return a;}();c.ORa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.yza=a;}a.prototype.sea=function(a){try{this.yza.setItem("gtp",JSON.stringify(a));}catch(f){return!1;}return!0;};a.prototype.swa=function(){var a;try{a=this.yza.getItem("gtp");if(a)return JSON.parse(a);}catch(f){}};a.prototype.El=function(){var a;a=this.swa();if(a&&a.tp)return a.tp.a;};a.prototype.wfb=function(){var a;a=this.Y8();if(a)return a.p25;};a.prototype.xfb=function(){var a;a=this.Y8();if(a)return a.p50;};a.prototype.yfb=function(){var a;a=this.Y8();if(a)return a.p75;};a.prototype.Y8=function(){var a;a=this.swa();if(a&&(a=a.iqr))return a;};return a;}();c.tga=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(663);f=a(662);h=a(661);c["default"]=function(a){var d;a=new b.tga(a);d=new h.PRa(a);return new f.ORa(a,d);};},function(g,c,a){var f,h,q,d;function b(a,b,d){this.config=a;this.Jlb=b;this.Tb=d;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(484);h=a(1);q=a(175);a=a(330);b.prototype.f6=function(){if(this.config.ZHa)return this.Tb(this.Jlb());};d=b;d=g.__decorate([h.N(),g.__param(0,h.l(f.ika)),g.__param(1,h.l(q.hka)),g.__param(2,h.l(a.jka))],d);c.NRa=d;},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};f=b;f=g.__decorate([a.N()],f);c.UWa=f;},function(g,c,a){var b,f,h,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(666);f=a(94);h=a(331);q=a(665);d=a(200);k=a(330);p=a(664);c.sob=new g.tc(function(a){a(h.Yma).to(b.UWa).Y();a(f.Tx).yG(function(){return K._cad_global.http;});a(d.ZP).to(q.NRa).Y();a(k.jka).ii(p["default"]);});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bmb=function(a,b){var d,k;if(0!==a.length){if(1===a.length)return a[0];for(var f=a[0],c=b(f),g=1;g<a.length;g++){d=a[g];k=b(d);k>c&&(f=d,c=k);}return f;}};},function(g,c,a){var f;function b(a,b,d){a=f.G_.call(this,a,b)||this;a.Uv=d;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(334);da(b,f.G_);c.YKa=b;},function(g,c,a){var f,h,q,d,k,p,t,u,y,l,x,n,G,P,S,r,U,C;function b(a,b,d,f,c,g,k,h,m,p,t,q,u,y,l,x){this.QGa=a;this.aT=b;this.ai=d;this.fba=f;this.L7=c;this.pj=g;this.Qc=k;this.ST=h;this.Af=m;this.config=p;this.Ac=t;this.Ja=q;this.qa=u;this.platform=y;this.YL=l;this.bk=x;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(242);h=a(433);q=a(42);d=a(21);k=a(425);p=a(238);t=a(95);u=a(1);y=a(335);l=a(333);x=a(94);n=a(17);G=a(45);P=a(24);S=a(79);r=a(61);U=a(107);a=a(157);b.prototype.create=function(a,b,d){return new y.jQa(a,b,d,this.QGa,this.aT,this.ai,this.fba,this.L7,this.pj,this.Qc,this.ST,this.Af,this.config,this.Ac,this.Ja,this.qa,this.platform,this.YL,this.bk);};C=b;C=g.__decorate([u.N(),g.__param(0,u.l(f.K1)),g.__param(1,u.l(h.Wga)),g.__param(2,u.l(q.mk)),g.__param(3,u.l(k.Sja)),g.__param(4,u.l(p.eia)),g.__param(5,u.l(t.by)),g.__param(6,u.l(d.$e)),g.__param(7,u.l(l.Fha)),g.__param(8,u.l(x.Tx)),g.__param(9,u.l(n.sd)),g.__param(10,u.l(U.VB)),g.__param(11,u.l(G.kk)),g.__param(12,u.l(P.qf)),g.__param(13,u.l(S.Vr)),g.__param(14,u.l(r.Jo)),g.__param(15,u.l(a.hQ))],C);c.iQa=C;},function(g,c,a){var f,h,q;function b(a){this.Sh=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(47);a=a(81);b.prototype.Rlb=function(){var a;a=this.Sh()?this.Sh().Pg.length:40;return h.aa(a+33);};q=b;q=g.__decorate([f.N(),g.__param(0,f.l(a.Iu))],q);c.gQa=q;},function(g,c,a){var h,q,d,k,p,t,u,y,l;function b(a,b,d,f,c,g,h,m,p,t){this.platform=b;this.r6=d;this.type=f;this.severity=c;this.timestamp=g;this.data=h;this.qa=m;this.data.type=f;this.data.sev=c;this.data.devmod=this.platform.MT;this.data.clver=this.platform.version;a&&a.Bq&&(a.Bq.os&&(this.data.osplatform=a.Bq.os.name,this.data.osver=a.Bq.os.version),this.data.browsername=a.Bq.name,this.data.browserver=a.Bq.version);a.L$&&(this.data.tester=!0);a.ww&&!this.data.groupname&&(this.data.groupname=a.ww);a.pD&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.pD:a.pD);a.dB&&(this.data.uigroupname=a.dB);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.qa.Gfb();this.data.uniqueLogId=p.Hva();this.data.appId=this.qa.id;t&&(a=this.qa.kc(),this.data.soffms=a.Fd(t.Ql).da(k.ja),this.data.mid=this.data.mid||t.u,this.data.lvpi=t.taa,this.data.uiLabel=t.he,f="startup"===f?"playbackxid":"xid",this.data[f]="xid"===f&&this.data.xid||t.ia,t.NA&&(f=t.NA,(t=t.NA.split("."))&&1<t.length&&"S"!==t[0][0]&&(f="SABTest"+t[0]+".Cell"+t[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}function f(a,b,d,f,c,g){this.Ja=a;this.r6=b;this.config=d;this.qa=f;this.VAb=c;this.platform=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(47);q=a(1);d=a(45);k=a(4);p=a(451);t=a(40);u=a(24);y=a(338);a=a(79);f.prototype.wm=function(a,d,f,c){return new b(this.config,this.platform,this.r6,a,d,this.Ja.ef,f,this.qa,this.VAb,c);};l=f;l=g.__decorate([q.N(),g.__param(0,q.l(d.kk)),g.__param(1,q.l(p.hha)),g.__param(2,q.l(t.Io)),g.__param(3,q.l(u.qf)),g.__param(4,q.l(y.Lma)),g.__param(5,q.l(a.Vr))],l);c.fQa=l;pa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.yra||(this.yra=h.aa(this.r6.encode(this.data).length));return this.yra;}}});},function(g,c,a){var f,h,q,d,k,p,t;function b(a,b){a=p.ke.call(this,a,"PboConfigImpl")||this;a.config=b;a.Hmb=f.aa(5E5);a.Bvb=h.bX(1);a.lAa=f.aa(1E6);return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(47);h=a(4);q=a(1);d=a(17);k=a(34);p=a(36);a=a(29);da(b,p.ke);pa.Object.defineProperties(b.prototype,{k4:{configurable:!0,enumerable:!0,get:function(){return this.config().k4;}},QFa:{configurable:!0,enumerable:!0,get:function(){return[];}},PFa:{configurable:!0,enumerable:!0,get:function(){return["MslTransport","Pbo","LogblobSender"];}}});t=b;g.__decorate([k.config(k.object(),"shedLogblobTypes")],t.prototype,"QFa",null);g.__decorate([k.config(k.Lj("string"),"shedDebugTypes")],t.prototype,"PFa",null);t=g.__decorate([q.N(),g.__param(0,q.l(a.Ui)),g.__param(1,q.l(d.sd))],t);c.$Pa=t;},function(g,c,a){var f,h,q;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(201);q=a(47);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.Rlb());}).reduce(function(a,b){return a.add(b);},q.aa(0));};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.yja))],a);c.hQa=a;},function(g,c,a){var h,q,d,k,p,t,u,y,l,x,n;function b(a,b,d,f,c,g,k,h){this.qa=a;this.platform=d;this.Sh=f;this.json=c;this.pc=g;this.pj=k;this.Xlb=h;q.Lm(this,"json");this.la=b.ub("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);q=a(53);d=a(37);k=a(4);p=a(21);t=a(24);u=a(79);y=a(81);l=a(8);x=a(339);a=a(95);b.prototype.send=function(a){var b;b=this;return new Promise(function(d,c){var g;try{g=a.reduce(function(a,d){a.entries.push(b.P8a(d));return a;},new f());d(b.Gdb(g));}catch(C){b.la.error(C.message);c(C);}}).then(function(a){return b.gea(a);});};b.prototype.P8a=function(a){return this.pc.Mm(this.pc.Mm({},a.data),{esn:this.Sh().Pg,sev:a.severity,type:a.type,lver:this.platform.Hza,jssid:this.qa.id,devmod:this.platform.MT,jsoffms:a.timestamp.Fd(this.qa.Qz).da(k.ja),clienttime:a.timestamp.da(k.ja),client_utc:a.timestamp.da(k.nn),uiver:this.pj.yO});};b.prototype.Gdb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(U){for(var d={},f=0;f<a.entries.length;d={YN:d.YN,oe:d.oe},++f){d.oe=Object.assign({},a.entries[f]);try{this.json.stringify(d.oe);}catch(C){d.YN=void 0;this.pc.gw(d.oe,function(a){return function(d,f){try{b.json.stringify(f);}catch(ba){a.YN=ba.message;a.oe[d]=a.YN;}};}(d));d.oe.stringifyException=d.YN;d.oe.originalType=d.oe.type;d.oe.type="debug";d.oe.sev="error";}}return this.json.stringify(a);}};b.prototype.gea=function(a){var b;b=this;return this.Xlb.yf(this.la,{logblobs:a}).then(function(){})["catch"](function(a){b.la.error("PBO logblob failed",a);return Promise.reject(a);});};n=b;n=g.__decorate([h.N(),g.__param(0,h.l(t.qf)),g.__param(1,h.l(l.Bb)),g.__param(2,h.l(u.Vr)),g.__param(3,h.l(y.Iu)),g.__param(4,h.l(d.Rx)),g.__param(5,h.l(p.$e)),g.__param(6,h.l(a.by)),g.__param(7,h.l(x.ala))],n);c.kQa=n;},function(g,c,a){var h,q,d,k,p,t,u;function b(a){this.MC=d.Ze;this.g3=[];this.oq=this.lR=!1;this.jna=0;a&&(this.MC=a.size,this.g3=a.lj,a instanceof b&&(this.jna=a.q3a+1));}function f(a,b,d,f){this.nnb=a;this.config=b;this.Sf=d;this.json=f;q.Lm(this,"json");this.la=this.Sf.ub("MessageQueue");this.Zo=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);q=a(53);d=a(47);k=a(201);p=a(8);t=a(37);a=a(42);f.prototype.l4=function(a){var b,d;0===this.Zo.length&&this.Zo.push(this.N8());if(a=this.Egb(a)){b=this.nnb.measure([a]);d=this.Zo[this.Zo.length-1];0<d.size.add(b).ul(this.config.lAa)&&(d=this.N8(),this.Zo.push(d));d.l4(a);}};f.prototype.aeb=function(){var a;a=this.Zo.filter(function(a){return a.e5a;});this.Zo.push(this.N8());a.forEach(function(a){return a.smb();});return a;};f.prototype.G1a=function(a){a.wp||this.Zo.unshift(new b(a));};f.prototype.Ktb=function(a){a=this.Zo.indexOf(a);0<=a&&this.Zo.splice(a,1);};f.prototype.Egb=function(a){try{return{data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(H){var b,d;b={};d=a.data.debugMessage;d&&"string"===typeof d&&(b.originalDebugMessage=d);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.la.error("JSON.stringify error: "+H.message,b);}};f.prototype.N8=function(){return new b();};pa.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Zo.reduce(function(a,b){return a.add(b.size);},d.Ze);}}});u=f;u=g.__decorate([h.N(),g.__param(0,h.l(k.zja)),g.__param(1,h.l(a.L0)),g.__param(2,h.l(p.Bb)),g.__param(3,h.l(t.Rx))],u);c.sRa=u;b.prototype.dfa=function(){this.lR=!1;this.oq=!0;};b.prototype.ut=function(){this.lR=!1;};b.prototype.l4=function(a){this.g3.push(a);this.MC=this.MC.add(a.size);};b.prototype.smb=function(){this.lR=!0;};pa.Object.defineProperties(b.prototype,{q3a:{configurable:!0,enumerable:!0,get:function(){return this.jna;}},size:{configurable:!0,enumerable:!0,get:function(){return this.MC;}},lj:{configurable:!0,enumerable:!0,get:function(){return this.g3;}},e5a:{configurable:!0,enumerable:!0,get:function(){return 0<this.lj.length&&!1===this.lR;}},wp:{configurable:!0,enumerable:!0,get:function(){return this.oq;}}});},function(g,c,a){var f,h,q,d,k,p,t,u,y,l,x;function b(a,b,d,f,c,g,k){this.config=a;this.json=b;this.ha=d;this.Nlb=f;this.mM=g;this.yT=k;this.dW=this.Yn=!1;this.listeners=[];h.Lm(this,"json");this.la=c.ub("LogBatcher");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(53);q=a(37);d=a(342);k=a(33);p=a(8);t=a(42);u=a(341);y=a(2);l=a(67);a(159);x=a(340);b.prototype.Sb=function(){this.Yn=!0;};b.prototype.xc=function(a){var b;b=this;this.Vwb(a)||(0<a.size.ul(this.config.Hmb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.mnb(a);}),this.mM.l4(a),this.ha.zb(function(){b.Zcb();})));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.dW?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(d,f){b.la.trace("Flushing",p.sP);b.th();b.ha.zb(function(){b.dea(a).then(function(){d();})["catch"](function(a){f(a);});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.dea=function(a){var b,d;a=void 0===a?!1:a;b=this;if(!this.Yn)return this.la.trace("LogBatcher is not initialized"),Promise.resolve();if(this.dW)return this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve();d=this.mM.aeb();if(0===d.length&&!a)return this.la.trace("No logblobs to send"),Promise.resolve();this.th();this.listeners.forEach(function(){});a=Promise.resolve();for(var f={},c=Q(d),g=c.next();!g.done;f={V4:f.V4},g=c.next())f.V4=g.value,a=a.then(function(a){return function(){return b.Avb(a.V4);};}(f));return a.then(function(){return b.st();})["catch"](function(a){d.filter(function(a){return!a.wp;}).forEach(function(a){return a.ut();});b.st();throw Error("Send failure. "+a);});};b.prototype.Avb=function(a){var b;b=this;this.la.trace("Sending batch: "+a.size,p.sP);return Promise.resolve(this.mM.Ktb(a)).then(function(){return b.Nlb.send(a.lj);}).then(function(){return a.dfa();})["catch"](function(d){b.la.warn("Failed to send batch of logblobs.",d,p.sP);a.ut();b.Lwb(d)&&b.mM.G1a(a);b.Wwb(d)&&(b.dW=!0);throw d;});};b.prototype.Lwb=function(a){return a.Qg===y.z0.Rka?!1:this.config.k4;};b.prototype.Wwb=function(a){return a.Pc===y.G.ria||a.Pc===y.G.jH||a.Pc===y.G.nH?!0:!1;};b.prototype.Zcb=function(){var a;a=this;0<this.mM.size.ul(this.config.lAa)?this.dea()["catch"](function(b){return a.la.warn("Failed to send log messages on size threshold. "+b);}):this.st();};b.prototype.th=function(){this.Mz&&(this.Mz.cancel(),this.Mz=void 0);};b.prototype.st=function(){this.Mz||(this.Mz=this.ha.Xg(this.config.Bvb,this.cu.bind(this)));};b.prototype.cu=function(){var a;a=this;this.dW=!1;this.th();this.dea()["catch"](function(b){return a.la.warn("Failed to send log messages on timer. "+b);});};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(P){}return b;};b.prototype.Vwb=function(a){return 0<=this.config.QFa.indexOf(a.type)?!0:a.type===x.Ae.debug?0<=this.config.PFa.indexOf(a.data.debugCategory):!1;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(t.L0)),g.__param(1,f.l(q.Rx)),g.__param(2,f.l(k.Eg)),g.__param(3,f.l(d.Bja)),g.__param(4,f.l(p.Bb)),g.__param(5,f.l(u.$ja)),g.__param(6,f.l(l.XG))],a);c.aQa=a;},function(g,c,a){var f,h,q,d,k,p,t;function b(a,b,d,c){var g;g=this;this.$lb=a;this.YL=b;this.config=c;this.hda=[];this.$lb.jY(f.EIa,this.Qhb.bind(this));d().then(function(a){var b;b=c().ot.mdb;g.Lmb=b?t.oi[b.toUpperCase()]:t.oi.ERROR;g.ai=a;g.Evb();});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);q=a(17);d=a(96);k=a(42);p=a(61);t=a(8);b.prototype.Qhb=function(a,b){this.ai?this.xDa(a,b):this.hda.push([a,b]);};b.prototype.Evb=function(){var a,b;a=this;b=this.hda;this.hda=[];b.forEach(function(b){a.xDa(b[0],b[1]);});};b.prototype.xDa=function(a,b){var d;if(this.ai&&this.Owb(a)){d={debugMessage:a.message,debugCategory:a.rl};a.od.forEach(function(a){return d=Object.assign(Object.assign({},d),a.value);});d=Object.assign(Object.assign({},d),{prefix:"debug"});a=this.YL.wm("debug",t.oi[a.level].toLowerCase(),d,b);this.ai.xc(a);}};b.prototype.Owb=function(a){var b;b=this.Lmb;return void 0!==b&&a.level<=b&&!a.od.find(function(a){return a.KK(t.sP);});};a=f=b;a.EIa="adaptorAll";a=f=g.__decorate([h.N(),g.__param(0,h.l(d.FB)),g.__param(1,h.l(p.Jo)),g.__param(2,h.l(k.uja)),g.__param(3,h.l(q.sd))],a);c.iJa=a;},function(g,c,a){var b,f,h,q,d,k,p,t,u,y,l,x,n,G,P,S,r,U,C,R,O,ea;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(132);f=a(678);h=a(677);q=a(676);d=a(675);k=a(674);p=a(17);t=a(673);u=a(672);y=a(671);l=a(33);x=a(81);n=a(337);G=a(341);P=a(342);S=a(61);r=a(201);U=a(42);C=a(336);R=a(670);O=a(333);ea=a(332);c.Ylb=new g.tc(function(a){a(U.mk).to(h.aQa).Y();a(G.$ja).to(q.sRa).Y();a(P.Bja).to(d.kQa).Y();a(r.zja).to(k.hQa).Y();a(U.L0).to(t.$Pa).Y();a(S.Jo).to(u.fQa).Y();a(r.yja).to(y.gQa).Y();a(C.Aja).to(R.iQa).Y();a(O.Fha).to(ea.PMa).Y();a(n.sga).to(f.iJa).Y();a(U.uja).qO(function(a){return function(){return a.tb.get(b.AH)().then(function(b){return new Promise(function(d){var c,g,k;function f(){g()&&k()&&b.uM?d(a.tb.get(U.mk)):c.zb(f);}c=a.tb.get(l.Eg);g=a.tb.get(p.sd);k=a.tb.get(x.Iu);c.zb(f);});});};});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.HMa=function(a,b,f){this.Pg=a;this.tt=b;this.D7=f;};},function(g,c,a){var f,h,q,d,k,p,t,u,y,l,x,n,G;function b(a,b,d,f,c,g,k,h,m,p){this.Gta=a;this.uj=b;this.Ea=f;this.q6=c;this.Fc=g;this.debug=k;this.UAb=h;this.p6=m;this.Bqb=p;this.M_=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=d.ub("Device");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(2);h=a(22);q=a(680);d=a(8);k=a(348);p=a(39);t=a(88);u=a(21);y=a(1);l=a(69);x=a(345);n=a(344);a=a(343);b.prototype.Kua=function(a){try{return a.match(this.M_)[2];}catch(S){}};b.prototype.Mua=function(a){try{return a.match(this.M_)[1];}catch(S){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(d,c){b.uj.create().then(function(g){var h,m,p,t,u,y;function k(a){b.Ea.ml(a)&&b.Ea.ml(h)?(m=new q.HMa(a,h,p),d(m)):c({ba:f.G.kha});}h=a.tt;if(a.K8)p="bind_device",b.Bqb.yf(b.log,{}).then(function(a){k(a.esn);})["catch"](function(a){c(a);});else if(a.w8){u=a.Pg;if(b.Ea.ml(u)){y=b.Mua(u);y!=a.tt&&b.log.error("esn prefix from ui is different",{ui:y,cad:a.tt,ua:a.userAgent});}else a.qaa&&b.log.error("esn from ui is missing");g.load(a.Hta).then(function(a){t=a.value;b.Ea.ml(t)&&(b.Ea.ml(u)?(a=b.Kua(u),p=a===t?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):p="storage_esn_not_in_config",k(h+t));})["catch"](function(d){var t;function m(){g.save(a.Hta,t,!1).then(function(){k(h+t);})["catch"](function(a){c(a);});}d.ba===f.G.av?(b.Ea.ml(a.Pg)?(t=b.Kua(a.Pg),b.Ea.ml(t)?p="config_since_not_in_storage":(p="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Pg),t=b.Gta.Fva())):(p="generated_since_not_in_config_and_storage",t=b.Gta.Fva()),m()):c(d);});}else a.H$a&&b.q6&&b.q6.getKeyByName?b.q6.getKeyByName(a.D3a).then(function(a){a=a.id;if(b.Ea.mm(a))a=String.fromCharCode.apply(void 0,b.Fc.decode(a)),b.debug.assert(""!=a),h=b.Mua(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){c({ba:f.G.x_,kb:b.UAb.Re(a)});}):a.G$a&&b.p6&&b.p6.ewa?b.p6.ewa().then(function(a){var d;a=String.fromCharCode.apply(void 0,a);d=h+a;b.debug.assert(b.M_.test(a));k(d);})["catch"](function(){c({ba:f.G.x_});}):k();})["catch"](function(a){c(a);});});};G=b;G=g.__decorate([y.N(),g.__param(0,y.l(k.Aha)),g.__param(1,y.l(l.Fr)),g.__param(2,y.l(d.Bb)),g.__param(3,y.l(h.Ke)),g.__param(4,y.l(n.gha)),g.__param(5,y.l(p.Aj)),g.__param(6,y.l(t.Kr)),g.__param(7,y.l(u.$e)),g.__param(8,y.l(x.fha)),g.__param(9,y.l(a.Tka))],G);c.IMa=G;},function(g,c,a){var f,h,q,d,k,p;function b(a,b){this.Ja=a;this.Xca=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(45);h=a(4);q=a(136);d=a(347);k=a(53);a=a(1);b.prototype.Fva=function(){for(var a="",b=this.Ja.ef.da(h.ja),f=6;f--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.Xca.ADa(new d.Nla(0,31,k.apb))];return a;};p=b;p=g.__decorate([a.N(),g.__param(0,a.l(f.kk)),g.__param(1,a.l(q.kQ))],p);c.GMa=p;},function(g,c,a){var b,f,h,q,d;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(81);f=a(348);h=a(682);q=a(346);d=a(681);c.Sh=new g.tc(function(a){a(b.Iu).Ef(function(){return function(){return K._cad_global.device;};});a(q.Bha).to(d.IMa).Y();a(f.Aha).to(h.GMa).Y();});},function(g,c,a){var f;function b(){var a;a=this;this.ready=!1;this.fob=new Promise(function(b){a.uub=b;});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.gob=function(a){this.ready||(this.uub(a),this.ready=!0);};b.prototype.isReady=function(){return this.ready;};f=b;f=g.__decorate([a.N()],f);c.zRa=f;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(349);f=a(684);h=a(132);c.dA=new g.tc(function(a){a(b.S0).to(f.zRa).Y();a(h.AH).qO(function(a){return function(){return a.tb.get(b.S0).fob;};});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.d9a=function(a,b,f){return{Vwa:function(){return a.h9();},la:b,request:f,jh:!1};};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(13);c.v6a={ar:["minInitVideoBitrate",-Infinity],mba:["minHCInitVideoBitrate",-Infinity],Wt:["maxInitVideoBitrate",Infinity],qM:["minInitAudioBitrate",-Infinity],pM:["minHCInitAudioBitrate",-Infinity],cM:["maxInitAudioBitrate",Infinity],TW:["minAcceptableVideoBitrate",-Infinity],Bnb:["minAllowedVideoBitrate",-Infinity],xmb:["maxAllowedVideoBitrate",Infinity],Cnb:["minAllowedVmaf",-Infinity],ymb:["maxAllowedVmaf",Infinity],XN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],rM:["minRequiredBuffer",2E4],YW:["minRequiredAudioBuffer",0],mj:["minPrebufSize",5800],bNb:["enableNewBufferingComplete",!0],wda:["requireDownloadDataAtBuffering",!1],xda:["requireSetupConnectionDuringBuffering",!1],fda:["rebufferingFactor",1],fo:["maxBufferingTime",2E3],Ufa:["useMaxPrebufSize",!0],Ow:["maxPrebufSize",4E4],Xaa:["maxRebufSize",Infinity],scb:["fastRebufferRecoveryThreshold",Infinity],rcb:["fastRebufferRecoverBwThrehold",3E3],LV:["initialBitrateSelectionCurve",null],hya:["initSelectionLowerBound",-Infinity],iya:["initSelectionUpperBound",Infinity],pZ:["throughputPercentForAudio",15],S4:["bandwidthMargin",0],U4:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],V3a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Ys:76376,scale:18862.4,gamma:3.0569}],T4:["bandwidthMarginContinuous",!1],W3a:["bandwidthMarginForAudio",!0],jfa:["switchConfigBasedOnInSessionTput",!0],T5:["conservBandwidthMargin",20],XJ:["conservBandwidthMarginTputThreshold",6E3],U5:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],CGa:["switchAlgoBasedOnHistIQR",!1],sx:["switchConfigBasedOnThroughputHistory","iqr"],Waa:["maxPlayerStateToSwitchConfig",-1],yaa:["lowEndMarkingCriteria","iqr"],C0:["IQRThreshold",.5],d$:["histIQRCalcToUse","simple"],Yo:["bandwidthManifold",{curves:[{min:.05,max:.82,Ys:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Ys:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Yt:["maxTotalBufferLevelPerSession",0],Rxa:["highWatermarkLevel",3E4],eHa:["toStableThreshold",3E4],uZ:["toUnstableThreshold",0],Oea:["skipBitrateInUpswitch",!1],aga:["watermarkLevelForSkipStart",8E3],W9:["highStreamRetentionWindow",9E4],zaa:["lowStreamTransitionWindow",51E4],Y9:["highStreamRetentionWindowUp",5E5],Baa:["lowStreamTransitionWindowUp",1E5],X9:["highStreamRetentionWindowDown",6E5],Aaa:["lowStreamTransitionWindowDown",0],V9:["highStreamInfeasibleBitrateFactor",.5],St:["lowestBufForUpswitch",9E3],xW:["lockPeriodAfterDownswitch",15E3],Daa:["lowWatermarkLevel",15E3],Tt:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Eaa:["lowestWaterMarkLevelBufferRelaxed",!1],hba:["mediaRate",1.5],MW:["maxTrailingBufferLen",15E3],rJ:["audioBufferTargetAvailableSize",262144],LO:["videoBufferTargetAvailableSize",1048576],uAa:["maxVideoTrailingBufferSize",8388608],fAa:["maxAudioTrailingBufferSize",393216],kU:["fastUpswitchFactor",3],P7:["fastDownswitchFactor",3],dM:["maxMediaBufferAllowed",27E4],CPb:["minMediaBufferLen",1E4],Zq:["maxMediaBufferAllowedInBytes",0],Lea:["simulatePartialBlocks",!0],UFa:["simulateBufferFull",!0],V5:["considerConnectTime",!0],S5:["connectTimeMultiplier",1],Nza:["lowGradeModeEnterThreshold",12E4],Oza:["lowGradeModeExitThreshold",9E4],hAa:["maxDomainFailureWaitDuration",3E4],eAa:["maxAttemptsOnFailure",18],Hua:["exhaustAllLocationsForFailure",!0],nAa:["maxNetworkErrorsDuringBuffering",20],Raa:["maxBufferingTimeAllowedWithNetworkError",6E4],Qua:["fastDomainSelectionBwThreshold",2E3],OGa:["throughputProbingEnterThreshold",4E4],PGa:["throughputProbingExitThreshold",34E3],zza:["locationProbingTimeout",1E4],Uua:["finalLocationSelectionBwThreshold",1E4],MGa:["throughputHighConfidenceLevel",.75],NGa:["throughputLowConfidenceLevel",.4],naa:["locationStatisticsUpdateInterval",6E4],Llb:["locationSelectorPersistFailures",!0],oua:["enablePerfBasedLocationSwitch",!1],pPb:["maxRateMaxFragmentGroups",4500],oca:["pipelineScheduleTimeoutMs",2],Xt:["maxPartialBuffersAtBufferingStart",2],nba:["minPendingBufferLen",3E3],Nw:["maxPendingBufferLen",6E3],$ab:["enableNginxRateLimit",!1],kX:["nginxSendingRate",4E4],cbb:["enableRequestPacingToken",!1],gnb:["mediaRequestPacingSpeed",2],y$:["initialMediaRequestToken",2E4],FW:["maxActiveRequestsSABCell100",2],JW:["maxPendingBufferLenSABCell100",500],tEa:["resetActiveRequestsAtSessionInit",!0],Nab:["enableCpr",!1],G5:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],Yaa:["maxStreamingSkew",2E3],zmb:["maxBufferOccupancyForSkewCheck",Infinity],EAb:["useBufferOccupancySkipBack",!0],Vaa:["maxPendingBufferPercentage",10],Yz:["maxRequestsInBuffer",120],wV:["headerRequestSize",4096],nib:["headerCacheEstimateHeaderSize",!1],Aba:["neverWipeHeaderCache",!1],cIa:["useSidxInfoFromManifestForHeaderRequestSize",!1],jU:["fastPlayHeaderRequestSize",0],Xz:["maxRequestSize",0],gF:["minRequestSize",65536],VW:["minBufferLenForHeaderDownloading",1E4],YFa:["smartHeaderPreDownloading",!1],dQb:["onlyAllowPtsUpdatePolling",!1],Nnb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],rY:["reserveForSkipbackBufferMs",15E3],Qba:["numExtraFragmentsAllowed",2],jo:["pipelineEnabled",!0],ZE:["maxParallelConnections",3],ZFa:["socketReceiveBufferSize",0],KS:["audioSocketReceiveBufferSize",32768],JG:["videoSocketReceiveBufferSize",65536],T9:["headersSocketReceiveBufferSize",32768],Jwb:["shareDownloadTracks",!0],oba:["minTimeBetweenHeaderRequests",void 0],FZ:["updatePtsIntervalMs",1E3],b5:["bufferTraceDenominator",0],kD:["bufferLevelNotifyIntervalMs",2E3],jua:["enableAbortTesting",!1],Spa:["abortRequestFrequency",8],afa:["streamingStatusIntervalMs",2E3],BF:["prebufferTimeLimit",6E4],WW:["minBufferLevelForTrackSwitch",2E3],bbb:["enablePenaltyForLongConnectTime",!1],jca:["penaltyFactorForLongConnectTime",2],waa:["longConnectTimeThreshold",200],p4:["additionalBufferingLongConnectTime",2E3],q4:["additionalBufferingPerFailure",8E3],lN:["rebufferCheckDuration",6E4],nua:["enableLookaheadHints",!1],Jza:["lookaheadFragments",2],iz:["enableOCSideChannel",!0],Nca:["probeRequestTimeoutMilliseconds",3E4],DQb:["probeRequestConnectTimeoutMilliseconds",8E3],$P:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],KHa:["updateDrmRequestOnNetworkFailure",!0],gAa:["maxDiffAudioVideoEndPtsMs",1E3],oPb:["maxAudioFragmentOverlapMs",80],m$a:["deferAseHeaderCache",!1],uta:["deferAseScheduling",!1],Oyb:["timeBeforeEndOfStreamBufferMark",6E3],Taa:["maxFastPlayBufferInMs",2E4],Saa:["maxFastPlayBitThreshold",2E8],Amb:["maxBufferingCompleteBufferInMs",Infinity],UW:["minAudioMediaRequestSizeBytes",0],$W:["minVideoMediaRequestSizeBytes",0],dF:["minAudioMediaRequestDuration",0],iF:["minVideoMediaRequestDuration",0],fF:["minMediaRequestDuration",0],Enb:["minAudioMediaRequestDurationCache",0],Qnb:["minVideoMediaRequestDurationCache",0],Zab:["enableMultiFragmentRequest",!1],EG:[["useHeaderCache","usehc"],!0],IZ:[["useHeaderCacheData","usehcd"],!0],CT:["defaultHeaderCacheSize",4],H6:["defaultHeaderCacheDataCount",4],I6:["defaultHeaderCacheDataPrefetchMs",0],P9:["headerCacheMaxPendingData",6],Q9:["headerCachePriorityLimit",5],Lxa:["headerCacheAdoptBothAV",!1],KAb:["usePipelineForBranchedAudio",!0],E5a:["childBranchBatchedAmount",1E4],aX:["minimumTimeBeforeBranchDecision",2E3],Pmb:["maxRequestsToAttachOnBranchActivation",void 0],QAa:["minimumJustInTimeBufferLevel",3E3],Vab:["enableJustInTimeAppends",!1],lua:["enableDelayedSeamless",!1],tLb:["branchEndPtsIntervalMs",250],Oib:["ignorePtsJustBeforeCurrentSegment",!1],jAa:["maxFragsForFittableOnBranching",300],wqb:["pausePlaylistAtEnd",!0],F1a:["adaptiveParallelTimeoutMs",1E3],YD:["enableAdaptiveParallelStreaming",!1],a5:["bufferThresholdToSwitchToSingleConnMs",45E3],Z4:["bufferThresholdToSwitchToParallelConnMs",35E3],Kab:["enableAPSForBranching",!1],TZ:["waitForPendingConnAdaptation",!1],yba:["networkFailureResetWaitMs",2E3],xba:["networkFailureAbandonMs",6E4],LW:["maxThrottledNetworkFailures",5],oZ:["throttledNetworkFailureThresholdMs",200],Caa:["lowThroughputThreshold",400],H7:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],dmb:["lowThroughputThresholdBuffering",-1],Fnb:["minBufferingThroughputConfidence",g.ie.HAVE_NOTHING],Nyb:["timeAtEachBitrateRoundRobin",1E4],Gub:["roundRobinDirection","forward"],Hhb:["hackForHttpsErrorCodes",!1],Eib:["httpsConnectErrorAsPerm",!1],VAa:["mp4ParsingInNative",!1],Nf:["enableManagerDebugTraces",!1],Yza:["managerDebugMessageInterval",1E3],Xza:["managerDebugMessageCount",20],yBa:["notifyManifestCacheEom",!0],GK:["enableUsingHeaderCount",!1],$Fa:["sourceBufferInOrderAppend",!0],mr:["requireAudioStreamToEncompassVideo",!1],oqa:["allowAudioToStreamPastVideo",!1],Csa:["countGapInBuffer",!1],pqa:["allowCallToStreamSelector",!1],pra:["bufferThresholdForAbort",2E4],jZ:["ase_stream_selector","optimized"],N4:["audiostreamSelectorAlgorithm","selectaudioadaptive"],x$:["initBitrateSelectorAlgorithm","default"],d5:["bufferingSelectorAlgorithm","default"],y6:["ase_ls_failure_simulation",""],w6:["ase_dump_fragments",!1],x6:["ase_location_history",0],z6:["ase_throughput",0],eta:["ase_simulate_verbose",!1],Td:["stallAtFrameCount",void 0],Oaa:["marginPredictor","simple"],DAb:["useBackupUnderflowTimer",!0],TRb:["useManifestDrmHeader",!0],URb:["useOnlyManifestDrmHeader",!0],zba:["networkMeasurementGranularity","video_location"],qob:["netIntrStoreWindow",36E3],PPb:["minNetIntrDuration",8E3],yYa:["fastHistoricBandwidthExpirationTime",10368E3],XYa:["bandwidthExpirationTime",5184E3],xYa:["failureExpirationTime",86400],Woa:["historyTimeOfDayGranularity",4],tYa:["expandDownloadTime",!0],FZa:["minimumMeasurementTime",500],EZa:["minimumMeasurementBytes",131072],O_a:["throughputMeasurementTimeout",2E3],N_a:["initThroughputMeasureDataSize",262144],qZa:["historicBandwidthUpdateInterval",2E3],DZa:["minimumBufferToStopProbing",1E4],UKb:["throughputPredictor","ewma"],Rda:["secondThroughputEstimator","slidingwindow"],WEa:["secondThroughputMeasureWindowInMs",3E5],TKb:["throughputMeasureWindow",5E3],VKb:["throughputWarmupTime",5E3],SKb:["throughputIQRMeasureWindow",1E3],xKb:["IQRBucketizerWindow",15E3],kAa:["maxIQRSamples",100],LAa:["minIQRSamples",5],PKb:["connectTimeHalflife",10],IKb:["responseTimeHalflife",10],HKb:["historicThroughputHalflife",14400],GKb:["historicResponseTimeHalflife",100],FKb:["historicHttpResponseTimeHalflife",100],Aia:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],Foa:["minReportedNetIntrDuration",4E3],RKb:["throughputBucketMs",500],BKb:["bucketHoltWintersWindow",2E3],nYa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],uYa:["experimentalFilter",["throughput-wssl"]],G2:["filterDefinitionOverrides",{}],cYa:["defaultFilter","throughput-ewma"],q0a:["secondaryFilter","throughput-sw"],nC:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],mua:["enableHudsonFieldTest",!1],qua:["enableWsslEstimate",!1],$aa:["maxWsslRequestSize",131072],Zaa:["maxWsslRequestRatio",.2],xIa:["wsslAggregationMethod","max"],k$:["hudsonTitles",["81127954","70125931"]],Nmb:["maxPartialBuffersAtHudson",1],oX:["numberOfChunksPerSegment",4],Byb:["targetContentLatency",1E4],ARb:["targetLongContentLatency",3E4],Wnb:["minimumTimeDelay",1],FK:["enableSessionHistoryReport",!0],m7:["earlyStageEstimatePeriod",1E4],jza:["lateStageEstimatePeriod",3E4],IW:["maxNumSessionHistoryStored",10],ZW:["minSessionHistoryDuration",3E5],pib:["highAndStableModelName","baseline"],r7:["enableHighAndStablePredictor",!1],XW:["minNumSessionHistory",5],nLb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],yV:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],qib:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],wS:["addHeaderDataToNetworkMonitor",!0],Vea:["startMonitorOnLoadStart",!1],pda:["reportFailedRequestsToNetworkMonitor",!1],GX:["periodicHistoryPersistMs",0],yY:["saveVideoBitrateMs",0],wM:["needMinimumNetworkConfidence",!0],X4:["biasTowardHistoricalThroughput",!1],Qlb:["logMemoryUsage",!1],Mxa:["headerCacheTruncateHeaderAfterParsing",!0],s3a:["audioFragmentDurationMilliseconds",null],fBb:["videoFragmentDurationMilliseconds",null],Hp:["probeServerWhenError",!0],Js:["allowSwitchback",!0],xA:["probeDetailDenominator",100],HW:["maxDelayToReportFailure",300],jJ:["allowParallelStreaming",!1],enb:["mediaPrefetchDisabled",!1],KAa:["minBufferLevelToAllowPrefetch",5E3],pt:["editVideoFragments",!1],WT:["editAudioFragments",!0],Yub:["seamlessAudio",!1],Zub:["seamlessAudioProfiles",[]],$ub:["seamlessAudioProfilesAndTitles",{}],Qda:["seamlessAudioMaximumSyncError",void 0],CL:["insertSilentFrames",0],pya:["insertSilentFramesOnExit",void 0],oya:["insertSilentFramesOnEntry",void 0],nya:["insertSilentFramesForProfile",void 0],ndb:["forceDiscontinuityAtTransition",!0],rx:["supportAudioResetOnDiscontinuity",void 0],qx:["supportAudioEasingOnDiscontinuity",void 0],zq:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],Gab:["editCompleteFragments",!0],Snb:["minimumAudioFramesPerFragment",1],Ny:["applyProfileTimestampOffset",!1],Xo:["applyProfileStreamingOffset",!0],oDa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],DAa:["mediaSourceSupportsNegativePts",!1],eF:["minAudioPtsGap",void 0],u3a:["audioOverlapGuardSampleCount",2],pua:["enableRecordJSBridgePerf",!1],G0:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Lyb:["throughputThresholdSelectorParam",0],BAb:["upswitchDuringBufferingFactor",2],A2a:["allowUpswitchDuringBuffering",!1],xsa:["contentOverrides",void 0],X5:["contentProfileOverrides",void 0],c$:["hindsightDenominator",0],b$:["hindsightDebugDenominator",0],sL:["hindsightAlgorithmsEnabled",["htwbr"]],zV:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],Bqa:["appendMediaRequestOnComplete",!1],QO:["waitForDrmToAppendMedia",!1],j8:["forceAppendHeadersAfterDrm",!1],kN:["reappendRequestsOnSkip",!1],B6:["declareBufferingCompleteAtSegmentEnd",!1],Xq:["maxActiveRequestsPerSession",void 0],kaa:["limitAudioDiscountByMaxAudioBitrate",!1],A4:["appendFirstHeaderOnComplete",!0],kZ:["strictBufferCapacityCheck",!1],oJ:["aseReportDenominator",0],G4:["aseReportIntervalMs",3E5],Ffa:["translateToVp9Draft",!1],qG:["switchableAudioProfiles",[]],v3a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],EGa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],x3a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],tAa:["maxStartingVideoVMAF",110],hF:["minStartingVideoVMAF",1],fJ:["activateSelectStartingVMAF",!1],FY:["selectStartingVMAFTDigest",-1],VF:["selectStartingVMAFMethod","fallback"],cFa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],uF:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],P$a:["disablePtsStartsEvent",!0],gda:["recordFirstFragmentOnSubBranchCreate",!0],xAa:["mediaCacheConvertToBinaryData",!1],dba:["mediaCacheSaveOneObject",!1],cAa:["markRequestActiveOnFirstByte",!1],VT:["earlyAppendSingleChildBranch",!0],FG:["useNativeDataViewMethods",!0],w4:["alwaysNotifyEOSForPlaygraph",!1],FAb:["useCorrectDrainingAmounts",!0],s7:["enableNewAse",!1],JZ:["useNewApi",!1],rrb:["playgraphImmediateTransitionDistance",3E3],q4a:["branchDistanceThreshold",6E4]};c.Pn=c.v6a;},function(g,c,a){var h,q;function b(){this.qs=this.mI=this.fR=this.tR=this.cR=null;}function f(a){this.K=a;this.ys=[];this.sn=new b();this.AI();}h=a(6);a(13);a(14);q=a(3);new q.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Sd=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.cR=a.ens,this.tR=a.lns,this.fR=a.fns,this.mI=a.d,this.qs=a.t,b=!0);return b;};b.prototype.Wc=function(){var a;if(h.Ia(this.cR)||h.Ia(this.tR)||h.Ia(this.fR)||h.Ia(this.mI)||h.Ia(this.qs))return null;a={d:this.mI,t:this.qs};a.ens=this.cR;a.lns=this.tR;a.fns=this.fR;return a;};b.prototype.get=function(){var a,b;a=this.Wc();if(a){b=new Date(this.qs);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};f.prototype.AI=function(){var a;a=q.storage.get("sth");a&&this.Sd(a);};f.prototype.Sd=function(a){var d,f;d=null;f=this.K;a.forEach(function(a){var f;f=new b();f.Sd(a)?(d=!0,this.ys.push(f)):h.Ia(d)&&(d=!1);},this);this.ys=this.ys.filter(function(a){return a.mI>=f.ZW;});this.ys.sort(function(a,b){return a.qs-b.qs;});return h.Ia(d)?!0:d;};f.prototype.K2=function(){var a;a=[];this.ys.forEach(function(b){a.push(b.Wc());},this);return a;};f.prototype.save=function(){var a,f,c;a=this.K2();f=this.K;c=this.sn.Wc();c&&c.d>=f.ZW&&(a.push(c),this.ys.push(this.sn));a.length>f.IW&&(a=a.slice(a.length-f.IW,a.length));this.sn=new b();a&&q.storage.set("sth",a);};f.prototype.reset=function(){this.sn=new b();};f.prototype.Beb=function(){return this.sn.get();};f.prototype.Ogb=function(){return this.ys.length+1;};f.prototype.J1a=function(a){this.sn.cR=a;this.sn.qs=q.time.fa();};f.prototype.U1a=function(a){this.sn.tR=a;this.sn.qs=q.time.fa();};f.prototype.O1a=function(a,b){this.sn.fR=a;this.sn.qs=q.time.fa();this.sn.mI=b;};g.P=f;},function(g,c,a){var f,h,q,d;function b(a){var b;b=nrdp.Sh.tRb.match(/android-(\d*)/);b?23<b[1]?(a.rx=!1,a.qx=!1,a.zq=void 0):(b=nrdp.Sh.KIb.YLb.platform.tQb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.rx=!0,a.qx=!1,a.zq=void 0):(a.rx=!1,a.qx=!1,a.zq=[]):(a.rx=!1,a.qx=!1,a.zq=[]):(a.rx=!1,a.qx=!1,a.zq=[]);}f=a(7).assert;a(66);h=a(3);q=h.Ej;d=h.nRa;g.P=function(){var a,c,g;new h.Console("ASEJSMONKEY","media|asejs");if(!h.Ej.wc){a=function(a){this.yZa=a;};c=d.prototype.appendBuffer;h.MediaSource.wc||(h.MediaSource.wc={});"undefined"!==typeof nrdp&&nrdp.$Kb&&(b(h.MediaSource.wc),h.MediaSource.wc.dsa=!1,h.MediaSource.wc.aBa=!1);h.Ej.wc={QF:{gga:!0,gy:!0,gka:!0}};Object.defineProperty(q.prototype,"_response",{get:function(){return this.I0a||this.bYa;},set:function(a){this.bYa=a;}});g=q.prototype.open;q.prototype.open=function(b,d,f,c,k,h,m){1===f&&(this.I0a=new a(this));return g.call(this,b,d,f,c,k,h,m);};q.prototype.mN=function(){this.JC=void 0;};d.prototype.appendBuffer=function(b){if(b instanceof ArrayBuffer)return c.call(this,b);if(b instanceof a)return this.CS(b.yZa);f(!1);};}};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(126);g=function(){function a(a){this.console=a;this.yy=[];this.tv=[];b.jc&&this.console.trace("Received pending adoption "+this.fx.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.yy.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fx:{get:function(){return this.tv;},enumerable:!0,configurable:!0}});a.prototype.tmb=function(a){a=this.tv.indexOf(a);-1!==a&&(b.jc&&this.console.trace("Marking request attached"),this.yy[a].uya=!0,this.uHa(a));};a.prototype.umb=function(a){a=this.tv.indexOf(a);-1!==a&&(b.jc&&this.console.trace("Marking request completed"),this.yy[a].wp=!0,this.uHa(a));};a.prototype.Utb=function(a){var b,d;b=this;d=[];this.tv.forEach(function(b,f){a(b)&&d.unshift(f);});d.forEach(function(a){b.tv.splice(a,1);b.yy.splice(a,1);});};a.prototype.push=function(a){this.tv.push(a);this.yy.push({uya:!1,wp:!1});b.jc&&this.console.trace("Pushing pending request, "+this.length+" total");};a.prototype.zz=function(){return 0<this.length;};a.prototype.uHa=function(a){var f;f=this.yy[a];f.uya&&f.wp&&(f=this.tv[a],this.tv.splice(a,1),this.yy.splice(a,1),b.jc&&this.console.trace("Removing request, "+this.length+" left"),0===this.length&&b.jc&&this.console.trace("Removing last request, contentEndPts: "+f.uf));};return a;}();c.eJa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(3).Promise;g=function(){function a(a,b,d){this.U2a=a;this.k3=b;this.$Xa=d;this.Ona={};this.reset();}a.prototype.Zs=function(){var a,b;a=this;b=this.U2a.filter(function(b){return!b.Bjb(a.$Xa());});0===b.length&&this.R2?this.QZa():b.forEach(function(b){if(!a.Ona[b.M])b.once("requestAppended",function(){a.Ona[b.M]=!1;a.Zs();});});};a.prototype.reset=function(){var a;a=this;this.R2=!1;new b(function(b){a.QZa=b;}).then(function(){return a.k3();});};a.prototype.vmb=function(){this.R2||(this.R2=!0,this.Zs());};return a;}();c.STa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.rpa=a;}Object.defineProperties(a.prototype,{GL:{get:function(){return this.eZa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.rpa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bub:{get:function(){var a;a=this;return this.rpa.then(function(){return a;});},enumerable:!0,configurable:!0}});a.prototype.cancel=function(){this.eZa=!0;};a.prototype.Sba=function(a,f){var b;b=this;this.result.then(function(c){b.GL?f&&f(c):a(c);});return this;};return a;}();c.hWa=g;},function(g,c,a){var b,f,h,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(26);h=a(26);q=a(3);d=a(692);g=function(){var z2l;z2l=2;while(z2l!==13){switch(z2l){case 2:a.prototype.LA=function(a,d){var G2l,c,g,k,m,p,t,q,l,l2l,o2l,s2l,U2l,E2l,x2l,w2l,g2l,L2l,q2l,D2l,j2l,H2l,X2l;G2l=2;while(G2l!==49){l2l=" pl";l2l+="ayer";l2l+="St";l2l+="ate";l2l+=": ";o2l=" media.c";o2l+="ur";o2l+="rentP";o2l+="ts:";o2l+=" ";s2l=" curre";s2l+="nt ";s2l+="manifest: ";U2l=" ma";U2l+="nifestI";U2l+="ndex:";U2l+=" ";E2l="s";E2l+="e";E2l+="e";E2l+="k";E2l+=": ";x2l="s";x2l+="eekDe";x2l+="layed";w2l="seekF";w2l+="aile";w2l+="d";g2l="after ";g2l+="seekin";g2l+="g, playerState no longer STARTING: ";L2l="s";L2l+="e";L2l+="e";L2l+="k";q2l="p";q2l+="tschan";q2l+="ged";D2l="see";D2l+="kD";D2l+="elayed";j2l="se";j2l+="ekF";j2l+="ailed";H2l="seek";H2l+=", no";H2l+=" manifest at manife";H2l+="stInd";H2l+="ex:";X2l="s";X2l+="eek";X2l+="D";X2l+="el";X2l+="ayed";switch(G2l){case 26:G2l=this.$s(this.ta.ma.q9(d),!1,!0)?25:24;break;case 11:G2l=d!=this.ta.Vc.O.Pa?10:24;break;case 42:G2l=this.ta.X.Pya()?41:40;break;case 17:G2l=!this.ta.sna(d)?16:26;break;case 51:this.uv={Pa:d,Ai:a},this.ta.emit(X2l);G2l=49;break;case 35:G2l=k.O.pe.ff?34:30;break;case 34:G2l=!this.ta.mS(k.O.Pa+1)?33:29;break;case 28:this.ta.ma.wyb(a,d);G2l=44;break;case 30:a=m,g=a+this.ta.ma.zd;G2l=29;break;case 38:this.ta.C3(!0);q=this.ta.ma.Ib.XS(a).HF;k.Gba();l=this.ta.ma.Ib;h.ag.forEach(function(a){var C2l,b;C2l=2;while(C2l!==4){switch(C2l){case 2:b=l.Gc(a);c.bb(a)&&c.R_a(b,q[a]);C2l=4;break;}}});G2l=52;break;case 43:h.ag.forEach(function(a){var Q2l;Q2l=2;while(Q2l!==5){switch(Q2l){case 2:c.ta.qq[a].reset(!0);c.ta.De[a].reset(!0);Q2l=5;break;}}});G2l=42;break;case 23:G2l=m.length?22:51;break;case 22:m=this.ta.Fn?this.ta.jk?Math.min(m[0].U,m[1].U):m[0].U:m[1].U;G2l=21;break;case 50:this.L.warn(H2l,d),this.ta.emit(j2l);G2l=49;break;case 13:!k.O.pe.gM&&0<d&&(g=this.ta.bK(d,a));this.ta.X.Sd(f.pa.Zr);G2l=11;break;case 44:G2l=(m=this.ta.Vc.O.Pa===d&&!this.gZa(d)&&a===k.U)?43:38;break;case 29:this.ta.X.Sd(f.pa.Dg);G2l=28;break;case 16:this.uv={Pa:d,Ai:a};this.ta.emit(D2l);return;break;case 25:return;break;case 7:b.T(d)&&(d=this.ta.Vc.O.Pa);this.ta.ma.uEa();G2l=14;break;case 41:return this.ta.emit(q2l,g),this.ta.emit(L2l),this.eJ(d),a=m&&this.ta.Ta.ds()?100:0,this.ta.WR(1,a),this.ta.Lh(),g;break;case 24:m=this.ta.ma.Ib.RK(k.ga||Infinity,k.O);G2l=23;break;case 40:this.L.warn(g2l+this.ta.X.Wc());this.ta.emit(w2l);G2l=49;break;case 21:G2l=a>m?35:29;break;case 33:this.uv={Pa:k.O.Pa+1,Ai:a};this.ta.emit(x2l);return;break;case 52:this.ta.TI();G2l=42;break;case 2:c=this;null===(g=this.noa)||void 0===g?void 0:g.cancel();k=this.ta.K;m=this.ta.X.Cd();g=a;k.Nf&&this.Kf.Hi(E2l+a+U2l+d+s2l+this.ta.Vc.O.Pa+o2l+m+l2l+this.ta.X.Wc());G2l=7;break;case 14:G2l=(k=this.ta.zf(d))?13:50;break;case 10:d<this.ta.Vc.O.Pa&&k.O.pe.replace&&(k.O.pe.replace=!1);p=this.ta.Vc;t=this.ta.ma.Ib;h.ag.forEach(function(a){var t2l;t2l=2;while(t2l!==1){switch(t2l){case 2:(a=t.Gc(a))&&c.ta.vpa(a,p.Uw);t2l=1;break;}}});G2l=17;break;}}};a.prototype.seek=function(a,d){var k2l,f;k2l=2;while(k2l!==8){switch(k2l){case 2:f=a;b.T(d)&&(d=this.ta.Vc.O.Pa);k2l=4;break;case 4:this.ta.ma.uEa();this.ta.zf(d).O.pe.gM||this.ta.zC||(f=this.ta.et(d,a));return this.LA(f,d);break;}}};a.prototype.$s=function(a,b,d){var f2l,c,b2l,J2l;f2l=2;while(f2l!==8){b2l="s";b2l+="e";b2l+="e";b2l+="k";J2l="ptsch";J2l+="a";J2l+="nged";switch(f2l){case 5:f2l=b?4:3;break;case 2:c=this.ta.ma.$s(a,b);f2l=5;break;case 4:return c;break;case 3:c?(this.ta.X.Sd(f.pa.Zr),(a=this.ta.ma.ck.children[a])&&this.ta.emit(J2l,a.mc),this.ta.X.Sd(f.pa.Dg),this.ta.emit(b2l),a&&this.eJ(a.O.Pa),this.ta.WR(1),this.ta.Lh(),this.ta.Ta.ds()):d||(a=this.ta.ma.Kgb(a),this.LA(a));return c;break;}}};a.prototype.gZa=function(a){var N2l;N2l=2;while(N2l!==1){switch(N2l){case 4:return+ +this.ta.zf(a).mJ;break;N2l=1;break;case 2:return!!this.ta.zf(a).mJ;break;}}};z2l=3;break;case 3:a.prototype.eJ=function(a){var i2l,b;i2l=2;while(i2l!==3){switch(i2l){case 2:b=this;a=this.ta.zf(a);a.mJ||(a.mJ=!0,h.ag.forEach(function(a){var F2l;F2l=2;while(F2l!==1){switch(F2l){case 2:b.ta.De[a].resume();F2l=1;break;}}}),this.ta.TI());i2l=3;break;}}};a.prototype.R_a=function(a,b){var h2l,d,f,c;h2l=2;while(h2l!==6){switch(h2l){case 9:h2l=(null===(f=this.ta.kg)||void 0===f?0:f.zz())?8:7;break;case 8:this.ta.kg.fx.forEach(function(a){var y2l;y2l=2;while(y2l!==1){switch(y2l){case 2:d.ta.Iy(a,!1);y2l=1;break;case 4:d.ta.Iy(a,~2);y2l=9;break;y2l=1;break;}}}),this.ta.kg=void 0;h2l=7;break;case 2:d=this;c=a.M;a.PA(b);h2l=3;break;case 3:a.rub();h2l=9;break;case 7:this.ta.yK.lpa(c,a.Xd.O);h2l=6;break;}}};a.prototype.E2=function(){var a2l,a,b;a2l=2;while(a2l!==9){switch(a2l){case 2:a2l=1;break;case 1:a2l=this.uv?5:9;break;case 5:a=this.uv.Ai;b=this.uv.Pa;this.ta.zf(b)&&(this.uv=void 0,this.LA(a,b));a2l=9;break;}}};z2l=7;break;case 7:a.prototype.Mi=function(a){var S2l,c,g,k;S2l=2;function b(d,f){var c2l,O2l;c2l=2;while(c2l!==5){O2l="sk";O2l+="ip: unexpected behaviour - a non-presenting";O2l+=" bran";O2l+="ch doesn't have a previo";O2l+="us branch";switch(c2l){case 2:d!==c.ta.ma.ck&&(d.lf?b(d.lf,f):c.L.error(O2l));(d=d.Gc(f))&&d.Mi(a);c2l=5;break;}}}while(S2l!==14){switch(S2l){case 8:h.ag.forEach(function(a){var V2l,d,R2l;V2l=2;while(V2l!==8){R2l="skip: not resuming b";R2l+="ufferManager, audio ";R2l+="tra";R2l+="ck switch in progress";switch(V2l){case 1:V2l=c.bb(a)?5:8;break;case 2:V2l=1;break;case 5:d=c.ta.Ta.ye[a];c.ta.Rn&&(d.Rea=q.time.fa());k.kN?c.ta.De[a].reset():d.KG?d.Qa(R2l):c.ta.De[a].resume();b(c.ta.ma.Ib,a);V2l=8;break;}}});this.noa=g=new d.hWa(this.ta.fG());return g.Sba(function(){var e2l,v2l;e2l=2;while(e2l!==4){v2l="s";v2l+="k";v2l+="i";v2l+="p";switch(e2l){case 2:c.ta.X.Sd(f.pa.Cc);c.ta.$I();c.ta.emit(v2l);e2l=4;break;}}}).Bub;break;case 5:null===(g=this.noa)||void 0===g?void 0:g.cancel();k=this.ta.K;this.ta.lGa();this.ta.ma.ck.Mi(a);S2l=8;break;case 2:c=this;S2l=5;break;}}};a.prototype.Ws=function(a){var B2l,b,d;B2l=2;while(B2l!==6){switch(B2l){case 9:b=this.ta.Hq(a,0,!0);a=this.ta.Hq(a,1,!0);return void 0!==b&&void 0!==a&&b.complete&&a.complete;break;case 2:b=this.ta.ma.ck;d=0<Object.keys(b.na&&b.na.zl||{}).length&&!b.Bi?b.re-this.ta.K.aX:b.re;B2l=4;break;case 4:B2l=a<b.mc||a>=d?3:9;break;case 3:return!1;break;}}};return a;break;}}function a(a,b,d,f){var Y2l,A2l;Y2l=2;while(Y2l!==9){A2l="1";A2l+="SIYbZrNJ";A2l+="C";A2l+="p9";switch(Y2l){case 2:this.ta=a;this.L=b;this.bb=d;this.Kf=f;Y2l=3;break;case 3:A2l;Y2l=9;break;}}}}();c.pVa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(3).Promise;g=function(){function a(){this.JR=[];}Object.defineProperties(a.prototype,{IE:{get:function(){return 0!==this.JR.length;},enumerable:!0,configurable:!0}});a.prototype.f2a=function(){var a,b;a=this;b=new f(function(){return a.JR=a.JR.filter(function(a){return a!==b;});});this.JR.push(b);return b;};a.prototype.tIa=function(a){var d;d=this.f2a();try{return b.resolve(a()).then(function(a){d.release();return a;},function(a){d.release();return b.reject(a);});}catch(k){return d.release(),b.reject(k);}};return a;}();c.DUa=g;f=function(){function a(a){this.Z_a=a;}a.prototype.release=function(){this.Z_a();};return a;}();},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(26);f=a(14);g=function(){function a(a){this.SJ=a;this.state=new f.aQ(b.pa.Dg);this.Il={};}a.prototype.Wc=function(){return this.state.value;};a.prototype.Sd=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value===b.pa.Cc&&this.state.set(b.pa.ah);};a.prototype.AO=function(){this.state.value===b.pa.ah&&this.state.set(b.pa.Cc);};a.prototype.Pya=function(){return this.state.value===b.pa.Dg;};a.prototype.Cw=function(){return"function"===typeof this.SJ.Cw?this.SJ.Cw():this.state.value===b.pa.Cc;};a.prototype.Fi=function(){return this.state.value===b.pa.Zf||this.state.value===b.pa.Gj;};a.prototype.Bf=function(){return this.state.value===b.pa.Zr;};a.prototype.Qya=function(){return this.state.value===b.pa.QH;};a.prototype.Cd=function(){return this.SJ.Cd();};a.prototype.f9=function(){return this.SJ.f9();};a.prototype.rea=function(a,b){this.Il[a]=b;};a.prototype.Et=function(a){return!!this.Il[a];};return a;}();c.tJa=g;},function(g,c,a){var b,f,h,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(168);h=a(13);q=a(66);d=a(3);k=a(14);a(7);g=function(){var K2l;K2l=2;function a(a,b){var d2l,s7l;d2l=2;while(d2l!==4){s7l="1SIY";s7l+="bZrNJCp";s7l+="9";switch(d2l){case 2:this.Ga=a;this.L=b;d2l=5;break;case 5:s7l;d2l=4;break;}}}while(K2l!==39){switch(K2l){case 20:a.prototype.$Za=function(a,b,d,f,c){var Q7l,o7l;Q7l=2;while(Q7l!==5){o7l="m";o7l+="anifes";o7l+="tRange";switch(Q7l){case 2:a={type:o7l,index:a,manifestOffset:b,startPts:Math.floor(d),endPts:Math.floor(f),maxPts:Math.floor(c)};k.Ha(this.Ga,a.type,a);Q7l=5;break;}}};a.prototype.Koa=function(a){var C7l,l7l;C7l=2;while(C7l!==5){l7l="maxBit";l7l+="ra";l7l+="t";l7l+="es";switch(C7l){case 2:a={type:l7l,audio:a[0],video:a[1]};k.Ha(this.Ga,a.type,a);C7l=5;break;}}};a.prototype.a_a=function(a,b){var k7l,d,b7l,J7l;k7l=2;while(k7l!==9){b7l="n";b7l+="otifyMan";b7l+="ifest";b7l+="S";b7l+="elected: ";J7l="manifestS";J7l+="el";J7l+="ec";J7l+="ted";switch(k7l){case 3:k.Ha(this.Ga,a.type,a);k7l=9;break;case 2:d=this.Ga.K;a={type:J7l,index:a,replace:b.O.pe.replace,ptsStarts:b.HF,streamingOffset:b.U+b.Wq};d.Nf&&(b=b7l+JSON.stringify(a),d.Nf&&this.Hi(b));k7l=3;break;}}};a.prototype.ZZa=function(a,b,d,f,c){var f7l,O7l;f7l=2;while(f7l!==4){O7l="ma";O7l+="nife";O7l+="stPresenting";switch(f7l){case 2:a={type:O7l,index:a.Pa,pts:Math.floor(b),movieId:a.u,replace:a.pe.replace,contentOffset:d};null!=f&&null!=c&&(a.previousMovieId=f,a.previousIndex=c);k.Ha(this.Ga,a.type,a);f7l=4;break;}}};a.prototype.j_a=function(a,b,d,c){var N7l,g,R7l;N7l=2;while(N7l!==9){R7l="stream";R7l+="Pre";R7l+="senting";switch(N7l){case 3:k.Ha(this.Ga,a.type,a);N7l=9;break;case 2:g=a.M;f.Yk.Dl(g);a={type:R7l,startPts:Math.floor(b),contentStartPts:Math.floor(d),mediaType:g,manifestIndex:c,trackIndex:a.track.dJ,streamIndex:a.uh};N7l=3;break;}}};a.prototype.n_a=function(a){var i7l,v7l;i7l=2;while(i7l!==5){v7l="vid";v7l+="eo";v7l+="Loope";v7l+="d";switch(i7l){case 2:a={type:v7l,offset:a};k.Ha(this.Ga,a.type,a);i7l=5;break;}}};a.prototype.l_a=function(a,b,d,c){var F7l,A7l;F7l=2;while(F7l!==4){A7l="update";A7l+="Streami";A7l+="ng";A7l+="Pts";switch(F7l){case 2:b={type:A7l,mediaType:a,manifestIndex:b,trackIndex:d,movieTime:Math.floor(c)};f.Yk.Dl(a);k.Ha(this.Ga,b.type,b);F7l=4;break;}}};K2l=26;break;case 11:a.prototype.h_a=function(a,b,d){var G7l,K7l;G7l=2;while(G7l!==5){K7l="seg";K7l+="mentComp";K7l+="lete";switch(G7l){case 2:a={type:K7l,mediaType:a,manifestIndex:b,segmentId:d.id};k.Ha(this.Ga,a.type,a);G7l=5;break;}}};a.prototype.l3=function(a,b){var t7l,d7l;t7l=2;while(t7l!==5){d7l="l";d7l+="a";d7l+="s";d7l+="tSegment";d7l+="Pts";switch(t7l){case 2:b={type:d7l,segmentId:a.id,pts:Math.floor(b)};a.ax||k.Ha(this.Ga,b.type,b);t7l=5;break;}}};K2l=20;break;case 41:a.prototype.Hi=function(a){var U7l,p7l,r7l;U7l=2;while(U7l!==5){p7l=",";p7l+=" ";r7l="manager";r7l+="debuge";r7l+="ve";r7l+="nt";switch(U7l){case 2:a={type:r7l,message:"@"+d.time.fa()+p7l+a};k.Ha(this.Ga,a.type,a);U7l=5;break;}}};return a;break;case 28:a.prototype.SZa=function(a){var g7l,Z7l;g7l=2;while(g7l!==5){Z7l="e";Z7l+="ndOf";Z7l+="Stre";Z7l+="a";Z7l+="m";switch(g7l){case 2:a={type:Z7l,mediaType:a};k.Ha(this.Ga,a.type,a);g7l=5;break;}}};a.prototype.Ml=function(a){var w7l,M7l,u7l;w7l=2;while(w7l!==1){M7l="asee";M7l+="xcepti";M7l+="o";M7l+="n";u7l="as";u7l+="eexcept";u7l+="i";u7l+="on";switch(w7l){case 2:this.Ga.emit(u7l,{type:M7l,msg:a});w7l=1;break;}}};a.prototype.Qob=function(a,b,f,c){var x7l,m7l,T7l;x7l=2;while(x7l!==5){m7l="maxv";m7l+="ideobi";m7l+="t";m7l+="ratechang";m7l+="ed";T7l="maxv";T7l+="i";T7l+="de";T7l+="obitrate";T7l+="changed";switch(x7l){case 2:a={type:T7l,time:d.time.fa(),spts:c,maxvb_old:a,maxvb:b,reason:f};this.Ga.emit(m7l,a);x7l=5;break;}}};a.prototype.BBa=function(){var E7l,a,P7l;E7l=2;while(E7l!==9){P7l="st";P7l+="r";P7l+="eamer";P7l+="end";switch(E7l){case 1:E7l=!this.K0a&&this.Ga.K.yBa?5:9;break;case 5:this.K0a=!0;a={type:P7l,time:d.time.fa()};k.Ha(this.Ga,a.type,a);E7l=9;break;case 2:E7l=1;break;}}};K2l=41;break;case 26:a.prototype.TZa=function(a){var h7l,n7l;h7l=2;while(h7l!==5){n7l="firs";n7l+="t";n7l+="Reques";n7l+="t";n7l+="Appended";switch(h7l){case 2:a={type:n7l,manifestIndex:a.eb.Xd.O.Pa,mediatype:a.M,time:d.time.fa()};k.Ha(this.Ga,a.type,a);h7l=5;break;}}};a.prototype.XZa=function(a,b){var y7l,I8l;y7l=2;while(y7l!==5){I8l="init";I8l+="ialA";I8l+="udioTr";I8l+="a";I8l+="ck";switch(y7l){case 2:a={type:I8l,trackId:b,trackIndex:a};k.Ha(this.Ga,a.type,a);y7l=5;break;}}};a.prototype.OZa=function(a,b){var a7l,W8l;a7l=2;while(a7l!==3){W8l="audio";W8l+="Trac";W8l+="kSwitch";W8l+="Started";switch(a7l){case 2:a=a.Vz;b=b.Vz;b={type:W8l,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};k.Ha(this.Ga,b.type,b);a7l=3;break;}}};a.prototype.NZa=function(a,b){var S7l,d;S7l=2;while(S7l!==4){switch(S7l){case 2:d=this;setTimeout(function(){var c7l,f,z8l;c7l=2;while(c7l!==4){z8l="au";z8l+="dioTrackSwitchComple";z8l+="te";switch(c7l){case 2:c7l=1;break;case 1:f={type:z8l,trackId:a,trackIndex:b};k.Ha(d.Ga,f.type,f);c7l=4;break;}}},0);S7l=4;break;}}};K2l=22;break;case 34:a.prototype.Joa=function(){var X7l,a,b,d,f,c,g,h,Y8l;X7l=2;while(X7l!==19){Y8l="updateBuffer";Y8l+="Le";Y8l+="vel";switch(X7l){case 5:X7l=!this.Ga.Me()?4:19;break;case 3:d=b.kp(0);f=b.kp(1);this.Ga.af.H1a(d,f);c=this.Ga.rb.Tb.get(!1);c=c.ld?c.Da.Ca:0;g=this.Ga.ma;X7l=13;break;case 2:a=this.Ga.K;X7l=5;break;case 13:h=g.Vy(b,0);b=g.Vy(b,1);d={type:Y8l,abuflbytes:h,vbuflbytes:b,totalabuflmsecs:d,totalvbuflmsecs:f,predictedFutureRebuffers:0,currentBandwidth:c};f>a.KAa&&this.Ga.rb.He&&this.Ga.rb.He.kJ(!0,this.Ga.vk.sessionId);X7l=20;break;case 4:b=this.Ga.ma.Ib;X7l=3;break;case 20:k.Ha(this.Ga,d.type,d);X7l=19;break;}}};a.prototype.rZa=function(a){var H7l,f,c,g,f8l,k8l,C8l,Q8l,t8l,G8l;H7l=2;while(H7l!==13){f8l=", osAlloca";f8l+="torDe";f8l+="lta: ";k8l=",";k8l+=" jsHe";k8l+="a";k8l+="p";k8l+="Delta: ";C8l=", fast";C8l+="MallocD";C8l+="elt";C8l+="a: ";Q8l="memoryU";Q8l+="sa";Q8l+="g";Q8l+="e a";Q8l+="t time: ";t8l=",";t8l+=" systemDe";t8l+="lta: ";G8l="mem";G8l+="oryUs";G8l+="age at ti";G8l+="me: ";switch(H7l){case 5:b.ka(a.gO);H7l=4;break;case 1:H7l=!b.T(a)?5:13;break;case 2:H7l=1;break;case 3:f=a.Rua-this.BC.Rua;c=a.Pxa-this.BC.Pxa;H7l=8;break;case 6:b.ka(a.gO)&&b.ka(this.BC.gO)&&(f=a.gO-this.BC.gO,4194304<f&&this.L.warn(G8l+d.time.fa(),t8l+f));H7l=14;break;case 8:g=a.eCa-this.BC.eCa;(4194304<f||4194304<g)&&this.L.warn(Q8l+d.time.fa()+C8l+f+k8l+c+f8l+g);H7l=6;break;case 4:H7l=!b.T(this.BC)?3:14;break;case 14:this.BC=a;H7l=13;break;}}};a.prototype.m_a=function(){var j7l,a,N8l;j7l=2;while(j7l!==9){N8l="streami";N8l+="ng";N8l+="stat";switch(j7l){case 2:this.Ga.K.Qlb&&d.memory.mfb(this.rZa.bind(this));a={type:N8l,time:d.time.fa(),playbackTime:this.Ga.X.Cd()};this.Ga.af.Ccb(a);k.Ha(this.Ga,a.type,a);j7l=9;break;}}};K2l=31;break;case 4:a.prototype.VZa=function(a,b){var u2l,i8l;u2l=2;while(u2l!==5){i8l="headerC";i8l+="a";i8l+="cheHit";switch(u2l){case 2:a={type:i8l,movieId:a,streamId:b};k.Ha(this.Ga,a.type,a);u2l=5;break;}}};a.prototype.UZa=function(a,b,d,f,c){var M2l,g,F8l;M2l=2;while(M2l!==9){F8l="header";F8l+="CacheD";F8l+="ataHi";F8l+="t";switch(M2l){case 5:this.Ga.foa=void 0;a={type:F8l,movieId:a,audio:b,audioFromMediaCache:f,video:d,videoFromMediaCache:c,actualStartPts:g&&g.nl,headerCount:g&&g.qp,stats:g&&g.Pb};k.Ha(this.Ga,a.type,a);M2l=9;break;case 2:g=this.Ga.foa;M2l=5;break;}}};a.prototype.b_a=function(a,b,d){var T2l,h8l;T2l=2;while(T2l!==5){h8l="m";h8l+="axPos";h8l+="iti";h8l+="o";h8l+="n";switch(T2l){case 2:a={type:h8l,index:a,endPts:b,maxPts:d};k.Ha(this.Ga,a.type,a);T2l=5;break;}}};K2l=8;break;case 2:a.prototype.rs=function(a){var r2l,y8l;r2l=2;while(r2l!==5){y8l="startE";y8l+="ve";y8l+="nt";switch(r2l){case 2:a={type:y8l,event:a,time:d.time.fa()};r2l=1;break;case 1:k.Ha(this.Ga,a.type,a);r2l=5;break;}}};a.prototype.c_a=function(){var p2l,a,a8l;p2l=2;while(p2l!==4){a8l="openCom";a8l+="pl";a8l+="ete";switch(p2l){case 2:a={type:a8l};k.Ha(this.Ga,a.type,a);p2l=4;break;}}};a.prototype.d_a=function(a,b,d,f,c){var Z2l,S8l;Z2l=2;while(Z2l!==1){S8l="p";S8l+="tsS";S8l+="ta";S8l+="rt";S8l+="s";switch(Z2l){case 2:this.Ga.K.P$a||(a={type:S8l,manifestIndex:a,mediaType:b,movieId:f,streamId:d,ptsStarts:c.jGa()},k.Ha(this.Ga,a.type,a));Z2l=1;break;}}};K2l=4;break;case 22:a.prototype.RZa=function(a){var V7l,b,c8l;V7l=2;while(V7l!==3){c8l="buf";c8l+="ferin";c8l+="gSt";c8l+="a";c8l+="rted";switch(V7l){case 2:b={type:c8l,time:d.time.fa(),percentage:a||0};k.Ha(this.Ga,b.type,b);this.V2=a||0;V7l=3;break;}}};a.prototype.PZa=function(){var e7l,a,b,f,c,g,V8l;e7l=2;while(e7l!==14){V8l="buf";V8l+="f";V8l+="eri";V8l+="n";V8l+="g";switch(e7l){case 8:f=f.kp(c);e7l=7;break;case 7:a=Math.min(Math.max(Math.round(100*(g.Sz?(b-this.Ga.g2)/a.BF:g.bi?g.bi:f/a.mj)),this.V2),99);a!=this.V2&&(b={type:V8l,time:b,percentage:a},k.Ha(this.Ga,b.type,b),this.V2=a);e7l=14;break;case 2:a=this.Ga.K;b=d.time.fa();f=this.Ga.ma.Ib;c=this.Ga.jk?1:0;g=f.Te(c);e7l=8;break;}}};a.prototype.k3=function(){var B7l,a,b,f,c,g,e8l;B7l=2;while(B7l!==13){e8l="buff";e8l+="er";e8l+="ingCom";e8l+="p";e8l+="lete";switch(B7l){case 3:this.Joa();c=this.Ga.jk?this.Ga.Ta.xu[h.Fa.VIDEO]:this.Ga.Ta.xu[h.Fa.AUDIO];g=c.HJ;B7l=7;break;case 7:a={type:e8l,time:d.time.fa(),actualStartPts:g,aBufferLevelMs:a.kp(0),vBufferLevelMs:a.kp(1),selector:f?f.FN:b.FN,initBitrate:c.Tn,skipbackBufferSizeBytes:this.Ga.rb.Qea};this.Ga.af.Bcb({initSelReason:c.Xn,initSelectionPredictedDelay:c.Cz,buffCompleteReason:c.$o,hashindsight:this.Ga.Rn,hasasereport:!!this.Ga.kr});k.Ha(this.Ga,a.type,a);B7l=13;break;case 2:a=this.Ga.ma.Ib;b=a.Te(0);f=a.Te(1);B7l=3;break;}}};K2l=34;break;case 31:a.prototype.Ioa=function(){var D7l,a,B8l;D7l=2;while(D7l!==3){B8l="as";B8l+="e";B8l+="re";B8l+="po";B8l+="rt";switch(D7l){case 7:D7l=this.Ga.kr?4:5;break;D7l=this.Ga.kr?5:3;break;case 1:D7l=this.Ga.kr?5:3;break;case 5:a={type:B8l};this.Ga.kr.Acb(a)&&k.Ha(this.Ga,a.type,a);D7l=3;break;case 8:D7l=6;break;D7l=1;break;case 2:D7l=1;break;}}};a.prototype.MZa=function(){var q7l,a,X8l;q7l=2;while(q7l!==4){X8l="a";X8l+="se";X8l+="reportenabled";switch(q7l){case 2:a={type:X8l};k.Ha(this.Ga,a.type,a);q7l=4;break;}}};a.prototype.WZa=function(a){var L7l,b,d,f,c,g,h,m,p,q,t,l,n,r,ea,ba,ca,V,ja,M,na,H8l,L8l,q8l,D8l,j8l;L7l=2;while(L7l!==7){H8l="h";H8l+="ind";H8l+="s";H8l+="igh";H8l+="treport";switch(L7l){case 1:L7l=a?5:7;break;case 2:L7l=1;break;case 5:b={type:H8l};d=this.Ga.K.sL;for(f in d){L8l="hv";L8l+="mafd";L8l+="p";q8l="h";q8l+="vm";q8l+="a";q8l+="f";q8l+="gr";D8l="h";D8l+="vmaft";D8l+="b";j8l="htw";j8l+="b";j8l+="r";c=d[f];g=0;h=0;m=0;p=0;q=0;t=0;l=void 0;n=void 0;r=!1;ea=-1;ba=-1;ca=-1;V=-1;ja=-1;M=-1;for(na in a)n=a[na],void 0===n.nd&&(l=(l=n.sols)&&l[c])&&(r=!0,m+=l.dlvdur,g+=l.dltwbr*l.dlvdur,h+=l.dlvmaf*l.dlvdur),t+=n.pbdur,p+=n.pbtwbr*n.pbdur,q+=n.pbvmaf*n.pbdur,l=n.rr,n=n.ra;0<t&&(ea=1*p/t,V=1*q/t);r&&(0<m&&(ba=1*g/m,ja=1*h/m),0<m+t&&(ca=1*(g+p)/(m+t),M=1*(h+q)/(m+t)));switch(c){case j8l:b.htwbr=ca;b.hptwbr=ba;b.pbtwbr=ea;l&&(b.rr=l,b.ra=n);break;case D8l:b.hvmaftb=M;b.hpvmaftb=ja;b.pbvmaftb=V;l&&(b.rrvmaftb=l,b.ravmaftb=n);break;case q8l:b.hvmafgr=M;b.hpvmafgr=ja;b.pbvmafgr=V;l&&(b.rrvmafgr=l,b.ravmafgr=n);break;case L8l:b.hvmafdp=M,b.hpvmafdp=ja,b.pbvmafdp=V,l&&(b.rrvmafdp=l,b.ravmafdp=n);}}this.Ga.ZD&&(b.report=a);k.Ha(this.Ga,b.type,b);L7l=7;break;}}};K2l=28;break;case 8:a.prototype.k_a=function(a,b,d,f,c,g){var m2l,w8l,g8l;m2l=2;while(m2l!==4){w8l="n";w8l+="otifyStream";w8l+="ingError: ";g8l="e";g8l+="rr";g8l+="or";switch(m2l){case 2:a={type:g8l,error:a,errormsg:b,networkErrorCode:d,httpCode:f,nativeCode:c,manifestIndex:void 0!==g?g:this.Ga.ZM};this.L.error(w8l+JSON.stringify(a));k.Ha(this.Ga,a.type,a);m2l=4;break;}}};a.prototype.Loa=function(a,b){var P2l,x8l;P2l=2;while(P2l!==5){x8l="se";x8l+="gm";x8l+="entSt";x8l+="art";x8l+="ing";switch(P2l){case 2:b={type:x8l,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.O.Vt[0],video:a.O.Vt[1]}};a.ax||k.Ha(this.Ga,b.type,b);P2l=5;break;}}};a.prototype.f_a=function(a){var n2l,b,E8l;n2l=2;while(n2l!==4){E8l="se";E8l+="gmen";E8l+="tAbort";E8l+="ed";switch(n2l){case 5:a.ax||k.Ha(this.Ga,b.type,b);n2l=4;break;case 2:b={type:E8l,segmentId:a.id};n2l=5;break;}}};a.prototype.MYa=function(a,f){var I7l,c,g,k,b8l,J8l,l8l,o8l,s8l,U8l;I7l=2;while(I7l!==20){b8l="se";b8l+="aml";b8l+="e";b8l+="s";b8l+="s";J8l="r";J8l+="e";J8l+="set";l8l="s";l8l+="k";l8l+="i";l8l+="p";o8l="lo";o8l+="n";o8l+="g";s8l="l";s8l+="o";s8l+="n";s8l+="g";U8l="sea";U8l+="mles";U8l+="s";switch(I7l){case 2:c={segment:a,srcsegment:f.$Y,srcoffset:f.dGa,seamlessRequested:f.BY,atRequest:{},discard:{}};k=f.cd[a];k?(g=k.weight,q(k.FJ,c.atRequest)):g=this.Ga.ma.Zwa(f.$Y,a);I7l=3;break;case 3:c.atRequest.weight=g;b.Yd(f.cd,function(b,d){var W7l;W7l=2;while(W7l!==1){switch(W7l){case 2:d!=a&&(c.discard[d]={weight:b.weight},q(b.FJ,c.discard[d]));W7l=1;break;}}});g=f.BY?f.pV?U8l:s8l:f.fBa?o8l:f.Mi?l8l:J8l;c.transitionType=g;f.l$a||(c.delayToTransition=f.GT);g=b8l===g?0:d.time.fa()-f.startTime;I7l=13;break;case 13:c.durationOfTransition=g;c.atTransition=f.lHa;c.srcsegmentduration=this.Ga.ma.Jgb(f.$Y);return c;break;}}};a.prototype.i_a=function(a,b,d){var z7l,O8l;z7l=2;while(z7l!==4){O8l="segmentP";O8l+="resen";O8l+="ting";switch(z7l){case 2:d=d?this.MYa(a.id,d):void 0;a={type:O8l,segmentId:a.id,contentOffset:b,metrics:d,playlistSegment:a.ax,manifestIndex:a.O.Pa};k.Ha(this.Ga,a.type,a);z7l=4;break;}}};a.prototype.g_a=function(a,b){var Y7l,R8l;Y7l=2;while(Y7l!==5){R8l="s";R8l+="egmen";R8l+="t";R8l+="Ap";R8l+="pended";switch(Y7l){case 2:b={type:R8l,segmentId:a.id,metrics:b};a.ax||k.Ha(this.Ga,b.type,b);Y7l=5;break;}}};K2l=11;break;}}}();c.URa=g;},function(g,c,a){var b,f,h,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(165);f=a(26);h=a(26);q=a(14);g=function(){var v8l;v8l=2;while(v8l!==6){switch(v8l){case 4:a.prototype.resume=function(){var u8l;u8l=2;while(u8l!==5){switch(u8l){case 2:this.P3=!1;this.Eb.Qe.Lh();u8l=5;break;}}};a.prototype.close=function(){var M8l,a,y0E,U0E,o0E;M8l=2;while(M8l!==13){y0E="en";y0E+="d";y0E+="play";U0E="l";U0E+="o";U0E+="g";U0E+="data";o0E="c";o0E+="lo";o0E+="s";o0E+="e";switch(M8l){case 6:this.Eb.Oa.BBa();this.Eb.fEa();M8l=13;break;case 2:a=this.Eb.K;this.Toa=!0;M8l=4;break;case 4:this.stop();this.Eb.emit(o0E);this.Eb.RC=!1;a.pua&&(a=b.Fu.xe().gb())&&(a={type:U0E,target:y0E,fields:{bridgestat:a}},q.Ha(this.Eb,a.type,a));this.Eb.rb.He&&this.Eb.rb.He.kJ(!0,this.Eb.vk.sessionId,!0);M8l=6;break;}}};a.prototype.flush=function(){var T8l,a,b,d,c,g,h,m8l,x0E,G0E,Z0E,h0E,v0E,I0E,f0E,H0E,B0E,d0E,b0E;T8l=2;while(T8l!==26){x0E="en";x0E+="dp";x0E+="l";x0E+="a";x0E+="y";G0E="l";G0E+="ogd";G0E+="at";G0E+="a";Z0E="en";Z0E+="d";Z0E+="play";h0E="l";h0E+="og";h0E+="da";h0E+="t";h0E+="a";v0E="throughp";v0E+="u";v0E+="t";v0E+="-s";v0E+="w";I0E="thro";I0E+="u";I0E+="ghput";I0E+="-sw";f0E="throughp";f0E+="ut";f0E+="-s";f0E+="w";H0E="thr";H0E+="ou";H0E+="gh";H0E+="put-s";H0E+="w";switch(T8l){case 16:this.Eb.Oa.Ioa();T8l=15;break;case 11:T8l=h?10:20;break;case 17:a.FK&&(c&&c[H0E]&&c[f0E].Ca&&this.Eb.yo.U1a({avtp:c[I0E].Ca,variance:c[v0E].$g}),this.Eb.yo.O1a(g,c.avtp.Y6),a=this.Eb.yo.Beb(),c=this.Eb.yo.Ogb(),a&&(a.n=c,a={type:h0E,target:Z0E,fields:{ibef:a}},q.Ha(this.Eb,a.type,a),this.Eb.yo.save()));T8l=16;break;case 10:for(var m in h){B0E="n";B0E+="e";d0E="n";d0E+="e";b0E="n";b0E+="e";h.hasOwnProperty(m)&&(d[b0E+m]=Number(h[m]).toFixed(6),g[d0E+m]=1*d[B0E+m]);}T8l=20;break;case 20:b&&b.length&&(d.activeRequests=JSON.stringify(b));this.Eb.Vc.O.aU(1)&&(d.enableHudson=!0);Object.keys(d).length&&(d={type:G0E,target:x0E,fields:d},q.Ha(this.Eb,d.type,d));T8l=17;break;case 2:a=this.Eb.K;b=this.Eb.rb.Tb;T8l=4;break;case 4:T8l=b?3:16;break;case 3:d={};c=b.get(!0);g={};c&&c.avtp&&c.avtp.Ca&&(d.avtp=c.avtp.Ca,d.dltm=c.avtp.Y6,g.avtp=d.avtp);T8l=6;break;case 27:try{m8l=2;while(m8l!==1){switch(m8l){case 2:this.Eb.fU(f.pa.QH);m8l=1;break;}}}catch(H){var k0E;k0E="Hindsight: ";k0E+="Error evalu";k0E+="ating ";k0E+="QoE at stopping: ";h4KK.l0E(0);this.Eb.Oa.Ml(h4KK.u0E(k0E,H));}T8l=26;break;case 6:c&&c.cdnavtp&&(d.cdnavtp=c.cdnavtp,d.activecdnavtp=c.activecdnavtp);b.flush();h=b.Xeb();b=b.D1a;T8l=11;break;case 15:T8l=this.yv.Rn?27:26;break;}}};v8l=8;break;case 8:a.prototype.Me=function(){var P8l;P8l=2;while(P8l!==1){switch(P8l){case 2:return this.Toa||this.Eb.ma.vp;break;case 4:return this.Toa&&this.Eb.ma.vp;break;P8l=1;break;}}};return a;break;case 2:a.prototype.play=function(){var K8l,a,T0E,F0E;K8l=2;while(K8l!==4){T0E="p";T0E+="l";T0E+="a";T0E+="y";F0E="play called after pipelin";F0E+="es ";F0E+="already shutdown";switch(K8l){case 2:a=this;this.Me()?this.L.warn(F0E):(this.Eb.X.Sd(f.pa.Cc),this.Eb.y0a(),this.Eb.Ta.ye.forEach(function(b){var d8l,X0E;d8l=2;while(d8l!==1){X0E="play: not resumi";X0E+="ng bufferManager, audio track switch in progre";X0E+="ss";switch(d8l){case 2:a.bb(b.M)&&(b.KG?b.Qa(X0E):(a.Eb.De[b.M].resume(),a.Eb.qq[b.M].resume()));d8l=1;break;}}}),this.Eb.$I(),this.Eb.emit(T0E));K8l=4;break;}}};a.prototype.stop=function(){var r8l,a,b,d,A0E;r8l=2;while(r8l!==14){A0E="s";A0E+="t";A0E+="op";switch(r8l){case 2:a=this;r8l=5;break;case 5:b=this.Eb.X.Qya();r8l=4;break;case 4:d=this.Eb.X.Bf();this.Eb.X.Sd(f.pa.QH);this.Eb.OQ();b||d||this.Eb.ma.ck.bZ(!1,this.Eb.X);h.ag.forEach(function(b){var p8l;p8l=2;while(p8l!==1){switch(p8l){case 2:(b=a.Eb.De[b])&&b.pause();p8l=1;break;}}});r8l=6;break;case 6:this.Eb.emit(A0E);r8l=14;break;}}};a.prototype.suspend=function(){var Z8l;Z8l=2;while(Z8l!==1){switch(Z8l){case 4:this.P3=+3;Z8l=7;break;Z8l=1;break;case 2:this.P3=!0;Z8l=1;break;}}};v8l=4;break;}}function a(a,b,d,f){var A8l,s0E;A8l=2;while(A8l!==8){s0E="1S";s0E+="IYbZrN";s0E+="JCp";s0E+="9";switch(A8l){case 3:this.Toa=this.P3=!1;s0E;A8l=8;break;case 2:this.Eb=a;this.L=b;this.bb=d;this.yv=f;A8l=3;break;}}}}();c.YPa=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(26);h=a(3);g=function(){var i0E;function a(a,b,f){var m0E,C5x;m0E=2;while(m0E!==9){C5x="1SIY";C5x+="bZr";C5x+="N";C5x+="JCp9";switch(m0E){case 3:this.mna=this.my=void 0;m0E=9;break;case 2:this.va=a;this.L=b;this.bb=f;C5x;m0E=3;break;}}}i0E=2;while(i0E!==18){switch(i0E){case 3:a.prototype.Lh=function(){var w0E,a,b;w0E=2;while(w0E!==3){switch(w0E){case 2:a=this;b=this.va.K;!this.va.Xoa||this.va.PR||this.va.RC||(this.va.PR=setTimeout(function(){var J0E;J0E=2;while(J0E!==4){switch(J0E){case 2:clearTimeout(a.va.PR);J0E=1;break;case 1:a.va.PR=void 0;a.Kna();J0E=4;break;}}},b.oca),b.YD&&this.va.jk&&(this.my||(this.my=setTimeout(function(){var z0E,b;z0E=2;while(z0E!==9){switch(z0E){case 3:b&&a.bna(b);z0E=9;break;case 2:clearTimeout(a.my);a.my=void 0;b=a.va.ma.Ib.Gc(1);z0E=3;break;}}},b.F1a))));w0E=3;break;}}};a.prototype.bna=function(a,b){var L0E,d,f,c,g;L0E=2;while(L0E!==7){switch(L0E){case 2:d=a.M;f=this.va.Ta.Bp[d].Oz;L0E=4;break;case 3:L0E=f&&c?9:7;break;case 4:c=a.ur.Pz;L0E=3;break;case 9:g=this.va.Ta.ye[d].Tl;g&&(this.va.X.Fi()||this.va.af.E1a(d,g,f.R,c.R,a.sib.R,b));L0E=7;break;}}};a.prototype.Ina=function(a,b){var P0E,d,f,c,g,k,D5x;P0E=2;while(P0E!==11){D5x="Still ";D5x+="in buffering sta";D5x+="te while pipeli";D5x+="ne's are don";D5x+="e";switch(P0E){case 7:P0E=!k||!g?6:13;break;case 3:g=!c||c.Ag;k=!f||f.Ag;d.lX||this.va.ma.Hob(a,d,a.O.pe.ff&&0===a.O.Pa);P0E=7;break;case 2:d=a.na;f=a.Gc(1);c=a.Gc(0);P0E=3;break;case 14:return;break;case 6:P0E=(this.va.jk&&this.Jna(a,f,c),this.va.Fn&&this.Jna(a,c,f),g=!c||c.Ag,k=!f||f.Ag,!k||!g)?14:13;break;case 13:this.va.X.Fi()&&(this.L.warn(D5x),this.va.Ta.ds());b||d.rG||a.O.pe.ff||!this.v5a(a)||((b=this.va.X.Fi())&&this.va.K.B6&&(this.va.J3(),b=!1),a.xU||this.va.ma.wib(a,b),a.fD(),a.w5a()&&(b=Object.keys(a.children),this.va.K.VT&&1===b.length&&!a.children[b[0]].active&&this.va.ma.Uza(a,b[0]),this.kYa(a,d)));P0E=11;break;}}};a.prototype.kYa=function(a,f){var D0E,d,c,g,k,m,q,l,n,I5x;D0E=2;while(D0E!==22){I5x="N";I5x+="o subbra";I5x+="nch candi";I5x+="dates to d";I5x+="rive";switch(D0E){case 12:d=q.reduce(function(a,b){var M0E;M0E=2;while(M0E!==4){switch(M0E){case 2:b.Sk=b.Xd.Sk;b.JAa=Math.min(b.Sk[0],b.Sk[1]);return[a[0]+b.weight,a[1]+b.JAa];break;}}},[0,0]);l=d[0];n=d[1];D0E=20;break;case 19:D0E=0===q.length?18:16;break;case 26:a.n2=d.Sk;D0E=25;break;case 20:0!==l&&0!==n?(b.Yd(q,function(a){var K0E;K0E=2;while(K0E!==4){switch(K0E){case 2:a.wBb=a.weight/l;a.w4a=a.JAa/n;a.XHa=a.w4a-a.wBb;K0E=4;break;}}}),q.sort(function(a,b){var n0E;n0E=2;while(n0E!==1){switch(n0E){case 4:return a.XHa+b.XHa;break;n0E=1;break;case 2:return a.XHa-b.XHa;break;}}})):q.sort(function(a,b){var p0E;p0E=2;while(p0E!==4){switch(p0E){case 2:a=Math.min.apply(null,a.Xd.Sk);b=Math.min.apply(null,b.Xd.Sk);h4KK.k5x(0);return h4KK.v5x(a,b);break;}}});D0E=19;break;case 25:d.cd||(d.cd={MV:h.time.fa(),EA:0});d.cd.weight=c;this.Ina(d,!0);D0E=22;break;case 13:D0E=1<q.length?12:19;break;case 8:m=[];q=[];b.Yd(a.children,function(a,b){var O0E;O0E=2;while(O0E!==5){switch(O0E){case 2:b=f.zl[b].weight;0!==b&&(b={weight:b,Xd:a},a.v5(!0,!0)||q.push(b),m.push(b));O0E=5;break;}}});0===q.length?q=m:2<q.length&&(q.sort(function(a,b){var c0E;c0E=2;while(c0E!==1){switch(c0E){case 2:return b.weight-a.weight;break;case 4:return b.weight/a.weight;break;c0E=1;break;}}}),q.length=2);D0E=13;break;case 3:Math.min(k[0]-a.n2[0],k[1]-a.n2[1])>=g.E5a?a.fC=void 0:(d=a.fC,c=f.zl[d.na.id].weight);D0E=9;break;case 9:D0E=!d?8:25;break;case 5:D0E=this.va.rb.j$&&a.fC&&a.n2?4:9;break;case 16:d=q[0].Xd;c=q[0].weight;a.fC=d;D0E=26;break;case 18:this.L.warn(I5x);return;break;case 4:k=a.fC.Sk;D0E=3;break;case 2:g=this.va.K;D0E=5;break;}}};a.prototype.Jna=function(a,f,c){var e0E,d,g,k,m,p,q,z5x,p5x;e0E=2;while(e0E!==13){z5x="Still in buffering state w";z5x+="hile pipelin";z5x+="e do";z5x+="es not have vacancy";p5x="drive";p5x+="Pipeline, delayin";p5x+="g audio until video actualStartPts determined";switch(e0E){case 2:d=this.va.K;g=f.M;e0E=4;break;case 3:k=this.va.Ta.ye[g];m=this.va.Ta.xu[g];p=this.va.Ta.Bp[g];e0E=7;break;case 4:e0E=!f.Ag?3:13;break;case 7:e0E=k.Tl&&(void 0===f.pA||(f.PA(f.pA),void 0===f.pA))?6:13;break;case 6:q=this.va.Vc;b.T(q.Uw)||(d.mr&&0===g&&b.T(this.va.Ta.ye[1].nl)?f.Qa(p5x):(b.T(f.Pm)&&(f.Pm=f.Vh?f.Vh.index:f.T7(f.Ab)),f.rg&&f.Pm>f.rg.index?a.O.pe.ff&&b.T(q.ga)&&b.T(a.ga)||(f.Ag||this.va.vpa(f),a=this.va.Vc.O.Pa,a<this.va.sE()-1&&this.va.mS(a+1)):this.RQ(f)&&(d.cbb&&!this.va.X.Fi()&&0>=f.$z?f.aAb(d.gnb):this.LXa(f,c)?(f.Skb=h.time.fa(),c=this.va.Ta.x9(f),c=c.uh,b.T(c)||(c=f.track.yc[c],this.KXa(f,c)||((d=c.VU())?(f.Lkb=c.R,f.nmb(c,d,this.va.X.Fi(),k.Tl),this.mAb(c,p,m),a.cd&&++a.cd.EA):c.AG()))):this.va.X.Fi()&&(this.L.warn(z5x),this.va.Ta.ds()))));e0E=13;break;}}};a.prototype.mAb=function(a,f,c){var Y0E;Y0E=2;while(Y0E!==4){switch(Y0E){case 5:a.url&&(f.gaa=a.url);Y0E=4;break;case 2:f.oW=a.ac;b.ka(c.Tn)||(c.jAb(a.vo,a.Cz||-1,a.R,a.aea),b.T(a.aea)||this.va.af.xFa(a.aea,a.Fm,a.Gl));Y0E=5;break;}}};i0E=13;break;case 20:a.prototype.X0a=function(){var W4E,a,b,f;W4E=2;while(W4E!==9){switch(W4E){case 2:a=this.va.K;b=this.va.ma;f=b.Ib;this.va.X.Fi()||b.Sv(f,1)<a.VW||f.O.Haa();W4E=9;break;}}};return a;break;case 2:a.prototype.OQ=function(){var E0E;E0E=2;while(E0E!==1){switch(E0E){case 2:this.my&&(clearTimeout(this.my),this.my=void 0);E0E=1;break;}}};a.prototype.Kna=function(){var t0E,a,b,f,c,M5x;t0E=2;while(t0E!==11){M5x="fi";M5x+="rst";M5x+="Drive";M5x+="Streaming";switch(t0E){case 5:void 0===this.va.hYa&&(this.va.hYa=!0,this.va.Oa.rs(M5x));a=this.va.ma;t0E=3;break;case 1:t0E=!this.va.Kw.P3&&!this.va.Me()?5:11;break;case 3:b=a.Ib.Gc(0);f=a.Ib.Gc(1);c=!f||f.Ag;(!b||b.Ag)&&c&&this.va.zC&&a.V5a(f?f.ga:b.ga);f=!f||f.cn;t0E=14;break;case 14:b&&!b.cn||!f||this.va.zC||(this.va.rb.He&&this.va.rb.He.kJ(!0,this.va.vk.sessionId),this.va.Oa.BBa());this.Ina(a.Ib);this.X0a();t0E=11;break;case 2:t0E=1;break;}}};a.prototype.Bpa=function(){var Q0E;Q0E=2;while(Q0E!==1){switch(Q0E){case 2:return this.va.Me()||this.va.X.Qya()||this.va.X.Bf()?!0:!1;break;}}};a.prototype.RQ=function(a){var N0E;N0E=2;while(N0E!==1){switch(N0E){case 2:return this.Bpa()||this.va.Ta.ye[a.M].KG||this.va.cv.IE?!1:!0;break;}}};i0E=3;break;case 13:a.prototype.KXa=function(a,b){var S0E,d;S0E=2;while(S0E!==4){switch(S0E){case 2:d=this.va.Ta.Bp[a.M];return this.va.Xoa&&b.ac&&d.oW&&b.ac!==d.oW&&(0<a.eb.Xw||0<a.eb.Du)?!0:!1;break;}}};a.prototype.LXa=function(a,c){var j0E,d,g,k,m,q,l,n,G,P,r,o5x,m5x,g5x,G5x;j0E=2;while(j0E!==42){o5x="floored";o5x+=" ";o5x+="to";o5x+=" 0";m5x="nega";m5x+="ti";m5x+="ve scheduledB";m5x+="ufferLeve";m5x+="l:";g5x=" ";g5x+=">";g5x+="=";g5x+=" ";G5x="No";G5x+=" vacancy, stallin";G5x+="g due to max frameC";G5x+="ount:";switch(j0E){case 12:return a.Qa(G5x,a.Td.IA+g5x+a.Td.lF),!1;break;case 44:return!1;break;case 43:return d.mua&&a.eb.Xw>=d.Nmb||!k&&0<d.Zq&&1===g&&q>d.Zq||0<d.Yt&&!k&&q+(c?r:0)>d.Yt||void 0!==this.mna&&l>this.mna||1===g&&m.pe.ff&&l>d.Taa&&(c=this.va.rb.Tb.get(!1),c.ld&&c.Da&&c.Da.Ca*a.uD>d.Saa)?!1:!0;break;case 11:P=a.eb.gca;j0E=10;break;case 19:m=this.va.Vc.O;r=this.va.X.Et(m.u)||m.Qh;j0E=17;break;case 33:return!1;break;case 34:j0E=this.LYa(g)>=d.Yz?33:32;break;case 28:j0E=(P=1,a.c5<d.Xt&&(P=d.Xt),a.eb.Xw>=P)?44:43;break;case 29:j0E=(k=this.va.X.Fi())?28:43;break;case 17:j0E=q===f.pa.Cc&&l>d.Amb&&!m.pe.ff&&!m.Qh&&!r||l&&P>Math.max(l*d.Vaa/100,d.nba)?16:15;break;case 24:return!1;break;case 26:j0E=c&&(r=this.va.ma.Vy(k,c.M),G=a.Ab-G,this.bb(c.M)&&!c.Ag&&G>=d.Yaa&&n>d.mj)?25:34;break;case 13:j0E=a.Td&&a.Td.IA>=a.Td.lF?12:11;break;case 35:return!1;break;case 23:n=void 0;c&&(n=c.M,G=h.Sj()[n],n=d.EAb?this.va.ma.Vza(k,n).wh/G:r/G);j0E=21;break;case 10:j0E=P>=d.Nw?20:19;break;case 25:j0E=this.va.rb.M$?24:23;break;case 32:n=this.va.ma.hzb();j0E=31;break;case 30:return!1;break;case 2:d=this.va.K;g=a.M;k=a.tW;m=this.va.X.Cd();j0E=9;break;case 20:return!1;break;case 31:j0E=!b.T(d.Xq)&&n>=d.Xq||a.uD+P>=Math.max(d.dM,this.va.rb.YY+d.Qba*k.O.Imb[g])?30:29;break;case 15:q=this.va.ma.Vy(k,g);r=0;j0E=26;break;case 21:j0E=void 0===n||n<d.zmb?35:34;break;case 9:q=this.va.X.Wc();l=this.va.ma.Sv(k,g);n=a.Ab+k.zd-m;0>n&&(a.Qa(m5x,n,o5x),n=0);G=c?c.Ab:0;j0E=13;break;case 16:return!1;break;}}};a.prototype.LYa=function(a){var r0E;r0E=2;while(r0E!==1){switch(r0E){case 2:return this.va.ma.tf.reduce(function(b,d){var a0E;a0E=2;while(a0E!==1){switch(a0E){case 2:return b+d.Agb(a);break;case 4:return b/d.Agb(a);break;a0E=1;break;}}},0);break;}}};a.prototype.v5a=function(a){var C4E,d,f,c;C4E=2;while(C4E!==8){switch(C4E){case 2:d=this;f=this.va.ma;c=!0;C4E=3;break;case 3:b.Yd(a.na.zl,function(b,g){var q4E,k,x5x,f5x;q4E=2;while(q4E!==6){x5x="in des";x5x+="ts";x5x+=":";f5x="inv";f5x+="alid segme";f5x+="n";f5x+="t:";switch(q4E){case 5:g=b.O;b=g.Qf[0];k=g.Qf[1];b&&k&&b.stream.pd&&k.stream.pd||(c=!1);q4E=8;break;case 1:q4E=(b=f.ij(g))?5:7;break;case 8:d.va.X.Et(g.u)||g.Qh||(c=!1);q4E=6;break;case 7:a.Qa(f5x,g,x5x,a.na.zl);q4E=6;break;case 2:q4E=1;break;}}});return c;break;}}};i0E=20;break;}}}();c.TMa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(161);g=function(){var S5x;function a(a,b,f){var O5x,X5x;O5x=2;while(O5x!==3){X5x="1";X5x+="SIYbZr";X5x+="N";X5x+="J";X5x+="Cp9";switch(O5x){case 2:this.Dk=a;this.L=b;this.Kf=f;X5x;O5x=3;break;}}}S5x=2;while(S5x!==8){switch(S5x){case 2:a.prototype.UXa=function(a,b){var Q5x,d,c,L5x;Q5x=2;while(Q5x!==6){L5x="c";L5x+="rea";L5x+="teDlTr";L5x+="acksS";L5x+="tart";switch(Q5x){case 8:f.Yp.xe.yf();return a;break;case 2:d=this;c=this.Dk.K;0===this.zy&&this.Dk.Oa.rs(L5x);Q5x=3;break;case 3:this.zy+=a.length;a=a.map(function(a){var H5x,g,F5x,n5x,c5x,b5x;H5x=2;while(H5x!==7){F5x="t";F5x+="rans";F5x+="p";F5x+="ort";F5x+="report";n5x="e";n5x+="r";n5x+="r";n5x+="o";n5x+="r";c5x="netw";c5x+="or";c5x+="kfa";c5x+="ilin";c5x+="g";b5x="cre";b5x+="at";b5x+="e";b5x+="d";switch(H5x){case 2:g=f.Yp.xe.AD(a,b.u,!0,b.Kt(),d.Dk.vk,c);g.Pt.on(g,b5x,function(){var j5x,Y5x;j5x=2;while(j5x!==5){Y5x="createDlTr";Y5x+="acks";Y5x+="E";Y5x+="nd";switch(j5x){case 2:--d.zy;0===d.zy&&d.Dk.Oa.rs(Y5x);j5x=5;break;}}});g.Pt.on(g,c5x,function(){var E5x,a,a5x;E5x=2;while(E5x!==8){a5x="reportNe";a5x+="two";a5x+="rkFailing: ";switch(E5x){case 2:c.Nf&&d.Kf.Hi(a5x+g);E5x=5;break;case 4:a=d.Dk.Vc.O;a.Th&&a.Th.Sm(g.Oua,void 0,g.Uh,g.Yj);a.Vp();E5x=8;break;case 5:E5x=g.O7?4:8;break;}}});g.Pt.on(g,n5x,function(){var u5x,Z5x,R5x,B5x;u5x=2;while(u5x!==5){Z5x="NFErr_MC_";Z5x+="St";Z5x+="reamingFailu";Z5x+="re";R5x="Do";R5x+="wn";R5x+="loadTrac";R5x+="k fatal error";B5x="Downloa";B5x+="dTra";B5x+="ck fata";B5x+="l error";switch(u5x){case 2:c.Nf&&d.Kf.Hi(B5x);d.Dk.rq(R5x,void 0,Z5x,g.Uh,0,g.Yj);u5x=5;break;}}});g.on(F5x,function(a){var V5x,K5x;V5x=2;while(V5x!==1){K5x="transp";K5x+="ortrepo";K5x+="rt";switch(V5x){case 2:d.Dk.emit(K5x,a);V5x=1;break;case 4:d.Dk.emit("",a);V5x=4;break;V5x=1;break;}}});H5x=8;break;case 8:return g;break;}}});Q5x=8;break;}}};a.prototype.gYa=function(){var y5x,a,d;y5x=2;while(y5x!==8){switch(y5x){case 2:a=this;d=[];this.Dk.Ta.ye.forEach(function(a){var i5x;i5x=2;while(i5x!==5){switch(i5x){case 2:b.T(a.Tl)||d.push(a.Tl);a.Tl=void 0;i5x=5;break;}}});y5x=3;break;case 3:this.Dk.uI&&(d.push(this.Dk.uI),this.Dk.uI=void 0);d.forEach(function(b){var J5x;J5x=2;while(J5x!==5){switch(J5x){case 2:b.ep||--a.zy;f.Yp.xe.Q6(b);J5x=5;break;}}});y5x=8;break;}}};S5x=5;break;case 5:a.prototype.bZa=function(){var W5x;W5x=2;while(W5x!==1){switch(W5x){case 4:this.zy=1;W5x=5;break;W5x=1;break;case 2:this.zy=0;W5x=1;break;}}};a.prototype.lpa=function(a,b){var A5x,d,c;A5x=2;while(A5x!==3){switch(A5x){case 1:d=this.Dk.Ta.ye[a];c=d.Tl;c&&(c=b.d4(a,c),this.fYa(a),d.Tl=f.Yp.xe.AD(a,b.u,!0,b.Kt(),this.Dk.vk,this.Dk.K),b.Cda(c));A5x=3;break;case 8:A5x=4;break;A5x=1;break;case 2:A5x=1;break;}}};a.prototype.fYa=function(a){var r5x,b;r5x=2;while(r5x!==8){switch(r5x){case 2:a=this.Dk.Ta.ye[a];b=a.Tl;r5x=4;break;case 4:b.ep||--this.zy;f.Yp.xe.Q6(b);a.Tl=void 0;r5x=8;break;}}};return a;break;}}}();c.SMa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(360);g=function(){var h5x;h5x=2;function a(a){var l6x,s6x;l6x=2;while(l6x!==5){s6x="1SIY";s6x+="b";s6x+="Zr";s6x+="NJCp";s6x+="9";switch(l6x){case 2:this.L=a;l6x=1;break;case 1:s6x;l6x=5;break;}}}while(h5x!==3){switch(h5x){case 2:a.prototype.hXa=function(a,f){var T6x,d,C6x,U6x,k6x,v6x,t6x,N6x,w6x,d6x,e6x;T6x=2;while(T6x!==13){C6x="using";C6x+=" sab ";C6x+="cell >= 100, p";C6x+="ipeline";C6x+="Enabled: ";U6x="using sab cell ";U6x+=">= 200, pipelin";U6x+="eEnabled: ";k6x=", allow";k6x+="Swit";k6x+="ch";k6x+="back";v6x=",";v6x+=" probeDetai";v6x+="lDeno";v6x+="m";v6x+="inator: ";t6x="using sab ";t6x+="cell >= 300, probeServerWhenEr";t6x+="ror: ";N6x=",";N6x+=" a";N6x+="llowSw";N6x+="itchback";w6x=", probeDetail";w6x+="Denominator:";w6x+=" ";d6x="using s";d6x+="ab cell >= 4";d6x+="00, ";d6x+="probeServerWhen";d6x+="Error: ";e6x="ap";e6x+="plying manifest based ";e6x+="streamingClientCo";e6x+="nfig";switch(T6x){case 2:f=b.ysa(f,a);d=a.steeringAdditionalInfo;T6x=4;break;case 3:return a=d.streamingClientConfig,this.L.trace(e6x+JSON.stringify(a)),this.Soa(f,a);break;case 9:a=a.cdnResponseData;T6x=8;break;case 4:T6x=d&&d.streamingClientConfig&&Object.keys(d.streamingClientConfig).length?3:9;break;case 8:T6x=!a?7:6;break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!0})):(f.Hp=!0,f.xA=1,f.Js=!0),this.L.trace(d6x+f.Hp+w6x+f.xA+N6x+f.Js)):300<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!1})):(f.Hp=!0,f.xA=1,f.Js=!1),this.L.trace(t6x+f.Hp+v6x+f.xA+k6x+f.Js)):200<=a?(f.set?f.set({pipelineEnabled:!1}):f.jo=!1,this.L.trace(U6x+f.jo)):100<=a&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:f.FW}),f.set({maxPendingBufferLen:f.JW})):(f.jo=!0,f.ZE=1,f.Xq=f.FW,f.Nw=f.JW),this.L.trace(C6x+f.jo)));return f;break;case 7:return f;break;}}};a.prototype.jXa=function(a,b){var q6x;q6x=2;while(q6x!==9){switch(q6x){case 1:return b;break;case 2:q6x=!b.X5||a===this.iZa?1:5;break;case 5:this.iZa=a;for(var d in b.X5)new RegExp(d).test(a)&&(b=this.Soa(b,b.X5[d]));return b;break;}}};a.prototype.Soa=function(a,b){var P6x,d,f,c,D6x;P6x=2;while(P6x!==4){switch(P6x){case 5:return a;break;case 2:for(f in b)if(b.hasOwnProperty(f)){D6x="I";D6x+="nv";D6x+="a";D6x+="lid key";c=b[f];a.set?0===a.set((d={},d[f]=c,d))&&this.L.trace(D6x+f):a[f]=c;}P6x=5;break;}}};return a;break;}}}();c.mLa=g;},function(g,c,a){var b,f,h,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(27);f=a(126);h=a(3);q=a(14);a=function(a){function d(b,d,f){var c;c=a.call(this)||this;c.IQ=b;c.dg=d;c.L=f;c.L=q.Tz(h,c.L,"AsePlayerBuffer:");c.resume();c.IQ.on("requestAppended",function(){return c.emit("requestAppended");});return c;}b.__extends(d,a);d.prototype.Bjb=function(a){var b,d;return this.Qqa&&(null===(b=this.Qqa)||void 0===b?void 0:b.hza)>=a&&((null===(d=this.IQ.eza)||void 0===d?void 0:d.re)>=a||this.IQ.sIa);};Object.defineProperties(d.prototype,{M:{get:function(){return this.dg;},enumerable:!0,configurable:!0}});d.prototype.resume=function(){f.jc&&this.L.trace("resume");};Object.defineProperties(d.prototype,{Qqa:{get:function(){return this.eI;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a){void 0===a&&(a=!1);f.jc&&this.L.trace("reset");this.stop();a||(this.eI=void 0);};d.prototype.stop=function(){};d.prototype.I4=function(a){return this.jub([a]);};d.prototype.jub=function(a){var b,d,c;b=this;d=a[0];if(d){c=a[a.length-1];this.eI?(this.eI.Okb=c.uf,this.eI.hza=c.re):this.eI={sNb:d.Ad,tNb:d.mc,Okb:c.uf,hza:c.re};}a.forEach(function(a){try{b.IQ.I4(a);}catch(x){f.jc&&b.L.error("Couldn't attach request",a.toString());}});d&&this.emit("requestAppended");};return d;}(g.EventEmitter);c.yJa=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ofb=function(a){var b,f,c;b=Math.floor(1E6*Math.random());f=a.b$;c=a.sL;a=0===b%a.c$&&0<c.length;return{Rn:a,ZD:a&&0===b%f};};},function(g,c,a){var f;function b(a){this.As=void 0;this.zZa=a;this.F3=[];this.le=[];}a(6);a(13);f=a(32).Jz;a(14);b.prototype.reset=function(a){this.As=void 0;this.F3=[];a&&(this.le=[]);};b.prototype.add=function(a,b){var d,c;d=b.filter(function(b,d){return f(b)||d===a.rd;});c=d.map(function(a){return a.R;});b=d.indexOf(b[a.rd]);this.As&&(this.As.length!==c.length||this.As.some(function(a,b){return a!==c[b];}))&&(d=this.cwa())&&(this.le.push(d),this.reset(!1));void 0===this.As&&(this.As=c);this.F3.push([b,a.vHa,a.Ab,a.z4a,a.sra,a.Frb,a.hpb,a.$w,a.Dn,a.Ai,a.Dyb-a.vHa]);};b.prototype.Dbb=function(){for(var a=this.F3,b=[],d=[],f=0;f<a.length;f++){for(var c=a[f],g=[],h=0;h<c.length;h++)g.push(c[h]-(d[h]||0));b.push(g);d=c;}return b;};b.prototype.cwa=function(){var a;a=this.Dbb();if(0!==a.length)return{dltype:this.zZa,bitrates:this.As,seltrace:a};};b.prototype.get=function(){var a,b;a=this.cwa();b=this.le;a&&b.push(a);if(0!==b.length)return b;};g.P=b;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(13);f=a(703);g=function(){function a(){this.dS=[];this.dS[b.Fa.VIDEO]=new f(b.Fa.VIDEO);this.dS[b.Fa.AUDIO]=new f(b.Fa.AUDIO);}a.prototype.i2a=function(a,b,f){this.dS[a].add(b,f);};a.prototype.Ugb=function(){var a;a=[];this.dS.forEach(function(b){var d;if(b){d=b.get();d&&0<d.length&&d.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.Acb=function(a){var b;b=this.Ugb();a.strmsel=b;return 0<b.length;};return a;}();c.GUa=g;},function(g,c,a){var b,f,h,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(354);f=a(162);h=a(13);q=a(28);g=function(){function a(a,b){this.K=a;this.L=b;this.i3=this.c3=this.dv=q.Xa.Ze;this.vR=void 0;this.Zi=this.L.trace.bind(this.L);this.DBa=new d(a,b);}a.prototype.Pda=function(a,b,d,f,c,g,k,m,l){var p,t,u,y,x,B,n;p=!1;a=a===h.Fa.AUDIO&&!!b.Na&&this.p0a(b.stream);t=q.Xa.Ze;u=b.console;if(a){y=b.stream.Ra;x=this.GYa(b.profile,y);B=b.tx+b.Rm;if(b.Mt)b=new q.Xa(b.ga-B,1E3),p=this.dv.add(b).J9(x);else if(void 0!==d){n=b.yF;new q.Xa(B-b.U,1E3);B=this.dv.add(d.Fd(n));if(n.add(y).$kb(d)||B.J9(x))p=!0,n.add(y),B=B.Fd(y);B.BM(this.dv)&&B.lessThan(q.Xa.HM.uba(-8))?(p=a=!1,this.DBa.reset(),this.dv=q.Xa.Ze,k=f.add(c),m(k),u.error("Unexpected seamless audio sync "+B.toString()+" at content pts "+b.Ad+" in stream "+b.stream.oa+" following "+g.uf)):(g=f.add(B).add(c),k=this.DBa.round(b,k,g,p),m(k),B.BM(this.dv)&&(this.c3=q.Xa.max(this.c3,B),this.i3=q.Xa.min(this.i3,B),l(this.c3,this.i3),t=B.Fd(this.dv),this.dv=B));}}return{Pda:a,rab:p,y3a:t};};a.prototype.p0a=function(a){void 0===this.UI&&(this.UI=f.rqa(this.K,a));return this.UI;};a.prototype.GYa=function(a,b){void 0===this.vR&&("object"===typeof this.K.Qda&&this.K.Qda[a]?(a=new q.Xa(this.K.Qda[a],1E3).Zl(b.ea).add(new q.Xa(1,b.ea)),this.vR=q.Xa.min(b,a)):this.vR=b);return this.vR;};return a;}();c.nVa=g;d=function(){function a(a,b){this.K=a;this.L=b;this.fS=0;}a.prototype.round=function(a,b,d,f){this.K.mr||(a=this.zXa(a,d,f),b=b.Fd(a),b.J9(q.Xa.HM.uba(2))?(d=d.Fd(q.Xa.HM),++this.fS):this.fS&&b.lessThan(q.Xa.HM)&&(d=d.add(q.Xa.HM),--this.fS));return d;};a.prototype.reset=function(){this.fS=0;};a.prototype.zXa=function(a,d,f){var c;c=a.ZJ;this.K.Xo&&a.stream.dk&&(c=c.Fd(a.stream.dk));f&&(c=c.add(a.stream.Ra));return b.WAa(c).add(b.WAa(d));};return a;}();},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.Kh={};this.e3=a;this.Oe=[];this.Cn=!1;this.Cy=void 0;}a.prototype.zS=function(a){this.Oe.length===this.e3&&this.Oe.shift();Array.isArray(a)?this.Oe=this.Oe.concat(a):this.Oe.push(a);this.Cn=!0;};a.prototype.vE=function(){return this.Oe.length;};a.prototype.l5=function(){var a;a=this.Oe;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.Oe.length:void 0;};a.prototype.YS=function(){var a,f;a=this.Oe;f=this.l5();if(0<a.length&&"undefined"!==typeof f)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-f*f);};a.prototype.Dq=function(a){var b,c,g;if(this.Cn||void 0===this.Cy)this.Cy=this.Oe.slice(0).sort(function(a,b){return a-b;}),this.Cn=!1;if(void 0===this.Kh[a]){b=this.Cy;c=Math.floor(a/100*(b.length-1)+1)-1;g=(a/100*(b.length-1)+1)%1;this.Kh[a]=c===b.length-1?b[c]:b[c]+g*(b[c+1]-b[c]);}return this.Kh[a];};return a;}();c.p1=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,f,c){this.Q0a=f;this.rXa=c;this.L=a;}a.prototype.Fca=function(a){a=this.pjb(a,this.Q0a)+this.rXa;return this.w3=isNaN(a)?NaN:this.Iea(a);};a.prototype.M5a=function(a){return isNaN(this.w3)?0:this.w3>a?1:0;};a.prototype.pjb=function(a,f){var b;b=0;if(a.length!==f.length)b=NaN;else for(var c=0;c<a.length;c++)b+=a[c]*f[c];return b;};a.prototype.Iea=function(a){return 1/(1+Math.exp(-a));};return a;}();c.nQa=g;},function(g,c,a){var q,d;function b(a,b,d){var f,c;a=Math.max(0,a);f=[];d.forEach(function(a){f.push(a[b].aa);});d=f.filter(function(b){return b<=a;});if(0<d.length)d=d[d.length-1],c=f.lastIndexOf(d);else throw Error("selectStream infeasible");return{uo:d,rd:c};}function f(a,b,d){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*d*1/8;}function h(a,b,f,c,g){var k,h,m,p,q,t;k=a.Yg;h=f+k.U;f=a.Xk[k.AL];a=a.Y4;m={GO:!0,waitUntil:void 0,FL:!1};p=f.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===p)return{FL:!0};q=g-1-(p.index-1);c=k.IO+c;t=0;t=p.index<k.Zg?t+f.slice(k.wu,p.index).reduce(function(a,b){return a+b.aa;},0):t+k.IO;t=t+b.slice(k.Zg,p.index).reduce(function(a,b){return a+b.uo;},0);c-=t;if(q>=a.fM||c>=a.GG)for(m.GO=!1,p=p.index;p<g&&(q>=a.fM||c>=a.GG);)d.update("checkBufferVacancy loop"),m.waitUntil=f[p].U+f[p].duration-k.U,c=p<k.Zg?c-f[p].aa:c-b[p].uo,--q,p+=1;return m;}q=a(7).assert;d=a(108).Ela||a(108);g.P={oL:function(a){var c,r,T,U,C,R,O,ea,ba,ca,V,ja,M,na;d.MY("htwbr-"+(a.DN?"segvmaf":"dlvmaf")+": ");for(var g=a.Yg,k=a.Al,m=k.Fk,l=a.Xk,x=!0,n=[],G,P=m=Math.min(k.Yq,m);P>=g.Zg;P--){d.update("backward step");c=a.Xk[0][P].U-a.Yg.U;P<m&&(c=Math.min(n[P+1].startTime,c));k=l[0][P].aa;G=g.Iv*l[0][P].duration*1/8;a:{r=void 0;R=k+G;G=a.Rp;O=g.lo;ea=G.trace;ba=1*G.ql;T=c+O-G.timestamp;U=Math.floor(1*T/ba);C=0+(T-U*ba)/ba*f(ea,U,ba);if(C>=R)r=T-1*R/C*(T-U*ba);else for(T=U;C<R;){d.update("findDownloadStartTime loop");--T;if(0>T){r=-1;break a;}U=f(ea,T,ba);if(C+U>=R){r=1*(R-C)/U*ba;r=(T+1)*ba-r;break;}C+=U;}r=r+G.timestamp-O;}if(0>r){x=!1;break;}n[P]={startTime:r,endTime:c,wT:c,uo:k,rd:0};}c={Zh:x,qr:n,Zn:!1,Tw:0===n.length};if(!1===c.Zh||!0===c.Tw)return c;a:{g=a.Yg;m=a.Al;l=m.Fk;x=a.Xk;k=n=0;c=c.qr;r=P=0;l=Math.min(m.Yq,l);for(O=g.Zg;O<=l;O++){d.update("forwardStep loop");C=c[O];R=C.rd;G=x[R][O].duration;ba=O===g.Zg?0:c[O-1].endTime;R=h(a,c,ba,n,O);if(R.FL){c={Zh:!1,Zn:!0};break a;}R.GO||(ba=R.waitUntil);U=C.wT;V=a.Rp;ca=g.lo;C=0;R=V.trace;ea=1*V.ql;T=ba+ca-V.timestamp;V=U+ca-V.timestamp;if(!(ba>=U)){q(0<=T);q(0<=V);q(V>=T);ja=Math.floor(1*T/ea);M=1*V/ea;if(ja===Math.floor(M))T=(V-T)/ea*f(R,ja,ea),q(0<=T),C+=T;else for(M=Math.ceil(M),ca=ja,U=M,ja*ea<T&&(ca++,T=(ca*ea-T)/ea*f(R,ja,ea),q(0<=T),C+=T),M*ea>V&&(U--,T=(V-U*ea)/ea*f(R,U,ea),q(0<=T),C+=T),T=ca;T<U;T++)C+=f(R,T,ea);}ea=g.Iv*G*1/8;k+=ea;R=b(Math.max(0,C-ea),O,x);if(void 0===R){c={Zh:!1,Zn:!0};break a;}C=R.uo;R=R.rd;ea=C+ea;ca=a.Rp;U=T=0;V=ca.trace;ja=Math.max(0,ba+g.lo-ca.timestamp);ca=1*ca.ql;na=M=Math.max(0,Math.floor(1*ja/ca));for(na*ca<ja&&(M+=1,ja=na*ca+ca-ja,na=ja/ca*f(V,na,ca),T=ea-U<na?T+(ea-U)/na*1*ja:T+ja,U+=na);U<ea;)d.update("getDownloadTime"),ja=f(V,M,ca),T=ea-U<ja?T+(ea-U)/ja*1*ca:T+ca,U+=ja,M+=1;ea=T;c[O].startTime=ba;c[O].endTime=ba+ea;c[O].uo=C;c[O].rd=R;O<=m.Fk&&(n+=C,r+=G,P+=G*a.yc[R].R);}c={Zh:!0,Zn:!1,qr:c,X$a:0<r?1*P/r:0,b7:r,a7:n,Z6:k};}c.yp=d.e9();console.log("Max heap used: "+Math.round(c.yp/1024/1024)+" MB");return c;}};},function(g,c,a){var B,x,n,G;function b(a,b,d){this.hra=this.OXa(a,b,d);}function f(){}function h(){}function q(){}function d(a){this.G5a=a;}function k(){}function p(){}function t(){}function u(){this.T6={};}function l(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}B=a(7).assert;c=a(204).Lga;x=a(356).YVa;n=a(204).mKa;new(a(3)).Console("ASEJS_QOE_EVAL","media|asejs");G=a(108).Ela||a(108);b.prototype.constructor=b;b.prototype.OXa=function(a,b,d){B(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);B(0<d,"expect buffer_step_sec > 0. but got "+d);for(var f=[];a<b;a+=d)f.push(a);f[f.length-1]<b&&f.push(b);return f;};b.prototype.uw=function(a){return this.NYa(a,this.hra);};b.prototype.NYa=function(a,b){a=this.N$a(a,b);if(0===a)throw new f();if(a===b.length)throw new h();return a;};b.prototype.N$a=function(a,b){B(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var d=1;d<b.length;d++)if(b[d-1]<=a&&a<b[d])return d;B(!1,"expect not coming here in digitize()");};b.prototype.lV=function(){return l(this.hra.length-1);};f.prototype=Error();h.prototype=Error();q.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.KLa=-20;d.prototype.JLa=20;d.prototype.ILa=void 0;d.prototype.CLa=new c(void 0);d.prototype.ELa=0;d.prototype.DLa=1;d.prototype.NLa=!1;d.prototype.GLa=!0;d.prototype.FLa=!0;d.prototype.LLa=void 0;d.prototype.ALa=!0;d.prototype.BLa=0;d.prototype.SF=function(a){B(void 0!==a.TGa,"expect recipe.time_varying_bandwidth !== undefined");return this.n0a(this.G5a,a.TGa,void 0!==a.OAa?a.OAa:this.KLa,void 0!==a.wAa?a.wAa:this.JLa,void 0!==a.vAa?a.vAa:this.ILa,void 0!==a.era?a.era:this.CLa,void 0!==a.wua?a.wua:this.ELa,void 0!==a.qra?a.qra:this.DLa,void 0!==a.hxb?a.hxb:this.NLa,void 0!==a.Ghb?a.Ghb:this.GLa,void 0!==a.qxa?a.qxa:this.FLa,void 0!==a.vDa?a.vDa:this.LLa,void 0!==a.sqa?a.sqa:this.ALa,void 0!==a.Wqa?a.Wqa:this.BLa);};d.prototype.n0a=function(a,d,c,g,m,l,y,H,r,ca,V,ja,M,na){var C,S,T,U,O,R,ba,Q,fa,ga,ia,ka,la,oa,ra,pa,qa,ta,ua,va;function P(a){return a[R];}G.MY("dp: ");B(c<=l.Xf,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");B(l.Xf<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");B(c<=y,"expect min_buffer_sec <= end_buffer_sec");B(y<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==m&&B(l.wj<=m,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+l.wj+" and "+m);C=new b(c,g,H);H=new u();S=0;T=l;H.put([0,C.uw(l.Xf)],[S,T,void 0,void 0,d,void 0,void 0,void 0]);U=T=0;d=a.Bhb();B(a.AE()==d.length,"expect chunk_map.get_n_epoch() == durations_sec.length");R=-1;for(ba in d){for(var R=R+1,ea=!0,A=a.zi.map(P),F=C.lV(),K=0;K<F.length;K++){Q=F[K];if(H.U$([R,Q])){O=H.get([R,Q]);for(var W=O[0],Z=O[1],da=O[4],Y=0;Y<A.length;Y++){d=A[Y];G.update("epoch-ibuf-chunk loop");l=void 0!==ja?ja(d.dN):d.dN;fa=da.Ln();try{O=this.sYa(Z,d,fa,na);ga=O[0];ia=O[1];ka=O[2];la=O[3];oa=O[4];ra=O[5];}catch(Ya){if(Ya instanceof x)continue;else if(Ya instanceof f){T+=1;continue;}else throw Ya;}pa=S=!1;try{qa=C.uw(la.Xf);ca&&C.uw(ga);V&&C.uw(ia);if(void 0!==m)if(V){if(ka.wj>m)throw new q();}else if(la.wj>m)throw new q();}catch(Ya){if(Ya instanceof f)qa=void 0,T+=1;else if(Ya instanceof h)M?S=!0:U+=1,qa=void 0;else if(Ya instanceof q)M?pa=S=!0:U+=1,qa=void 0;else throw Ya;}try{if(S&&pa){B(void 0!==m,"expect max_buffer_kb !== undefined");ua=V?ka.wj-m:la.wj-m;B(0<=ua,"pause dlnd kb cannot be -ve but is "+ua);try{ta=la.frb(ua);}catch(Ya){if(Ya instanceof n)throw new f();throw Ya;}fa.tCa(ta);oa+=ta;B(la.Xf<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");qa=C.uw(la.Xf);}else if(S&&!pa){ta=V?ka.Xf-g+1E-8:la.Xf-g+1E-8;B(0<=ta,"pause dlnd kb cannot be -ve but is "+ta);try{la.LCa(ta);}catch(Ya){if(Ya instanceof n)throw new f();throw Ya;}fa.tCa(ta);oa+=ta;B(c<=la.Xf,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");B(la.Xf<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");qa=C.uw(la.Xf);}else ta=0;}catch(Ya){if(Ya instanceof f)qa=void 0,T+=1,ta=void 0;else if(Ya instanceof x)continue;else throw Ya;}S=H.U$([R+1,qa])?H.get([R+1,qa])[0]:-Infinity;this.i1a(la,qa,d,l,Q,R+1,S,H,W,Y,fa,oa,ra,ta)&&(ea=!1);}}}if(ea){--R;break;}}try{va=this.Tna(R+1,C.uw(y),H,r,C);}catch(Ya){if(Ya instanceof k)try{va=this.Tna(R+1,C.uw(y),H,!r,C);}catch(Ge){if(Ge instanceof k){if(T>U)throw new p();throw new t();}throw Ge;}else throw Ya;}Q=va;for(c=[];-1<R;R--)O=H.get([R+1,Q]),S=O[0],T=O[1],g=O[3],m=O[5],y=O[6],r=O[7],O=O[2],d=a.zi[O][R],ca=d.Ct(),l=d.dN,c.unshift({Yxa:R,l$:O,info:{qLb:ca,dN:l,yLb:T.Xf,xLb:T.wj,ZMb:m,Da:y,oQb:r}}),Q=g;return c;};d.prototype.Tna=function(a,b,d,f,c){var g,h;g=!1;h=c.lV()[0];for(c=c.lV()[c.lV().length-1];;){if(b<h||b>c){g=!0;break;}if(d.U$([a,b]))break;else b=f?b-1:b+1;}if(g)throw new k();return b;};d.prototype.i1a=function(a,b,d,f,c,g,k,h,m,p,q,t,u,l){d=m+f*d.ro;return void 0!==b&&d>k?(h.put([g,b],[d,a,p,c,q,t,u,l]),!0):!1;};d.prototype.sYa=function(a,b,d,c){var g,k,h;c=(b.Ct()+c)*b.ro;d=d.hab(c);c/=d;g=a.Xf-d;k=a.Xf+b.ro;h=a.Ln();h.add(b,void 0);a=a.Ln();a.add(b,void 0);try{a.LCa(d);}catch(ea){if(ea instanceof n)throw new f();throw ea;}return[g,k,h,a,d,c];};k.prototype=Error();p.prototype=new k();t.prototype=new k();u.prototype={Kfa:function(a){return a.join(",");},put:function(a,b){this.T6[this.Kfa(a)]=b;},get:function(a){return this.T6[this.Kfa(a)];},U$:function(a){return this.Kfa(a)in this.T6;}};g.P={bNa:d,uDb:b,GCb:f,HCb:h};},function(g,c,a){var H,G,P,r,T,U,C,R,O,ea;function b(a){var b,d,f;d=a.Rp;b=a.Yg;f=a.Al.ga-b.U;d.timestamp>b.lo&&O.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+d.timestamp+" and "+b.lo);a=[];for(var c,g=d.timestamp,k=0;k<d.trace.length;k++)g>=b.lo&&(a.push(d.trace[k]),c=d.trace[k]),g+=d.ql,f-=d.ql;for(;0<f;)a.push(c),f-=d.ql;b=d.ql;d=a.length;if(0===d)d=[];else{for(b=[b/1E3];2*b.length<=d;)b=b.concat(b);b.length<d&&(b=b.concat(b.slice(0,d-b.length)));d=b;}return new T(a,d,!1);}function f(a,b){return a.Wz<b.Wz?1:a.Wz>b.Wz?-1:0;}function h(a){for(var b=a.Yg,d=a.Al,f=d.Fk,c=a.Xk,g=!0,k,h=[],m,p=f=Math.min(d.Yq,f);p>=b.Zg;p--){ea.update("backward step loop");k=a.Xk[0][p].U-a.Yg.U;p<f&&(H(void 0!==h[p+1],"expect solution[(fragIndex + 1)] !== undefined"),k=Math.min(h[p+1].startTime,k));d=c[0][p].aa;m=b.Iv*c[0][p].duration*1/8;m=n(d+m,k,a.Rp,b.lo);if(0>m){g=!1;break;}h[p]={startTime:m,endTime:k,wT:k,uo:d,rd:0};}return{Zh:g,qr:h,Zn:!1,Tw:0===h.length?!0:!1};}function q(a,b){var r,C,S,T,O,U;for(var d=a.Yg,f=a.Al,c=f.Fk,g=a.Xk,k=0,h=0,m=b.qr,p,q,t,y=0,n=0,B,G,c=Math.min(f.Yq,c),P=d.Zg;P<=c;P++){ea.update("forward step loop");t=m[P];b=t.rd;B=g[b][P].duration;G=P===d.Zg?0:m[P-1].endTime;p=0;b=x(a,m,G,k,P);if(b.FL)return{Zh:!1,Zn:!0};b.GO||(p=b.waitUntil-G,G=b.waitUntil);H(0<=p,"expect waittime >= 0 but got "+p);C=a.Rp;S=d.lo;p=0;b=C.trace;q=1*C.ql;r=G+S-C.timestamp;S=t.wT+S-C.timestamp;H(0<=r,"invalid downloadStartTime");H(S>=r,"invalid downloadEndTime");T=Math.max(0,Math.floor(1*r/q));O=1*S/q;if(T===Math.floor(O))r=(S-r)/q*l(b,T,q),H(0<=r,"negative delta same bucket"),p+=r;else for(O=Math.ceil(O),C=T,t=O,T*q<r&&(C++,r=(C*q-r)/q*l(b,T,q),H(0<=r,"negative delta (2)"),p+=r),O*q>S&&(t--,r=(S-t*q)/q*l(b,t,q),H(0<=r,"negative delta (3)"),p+=r),r=C;r<t;r++)p+=l(b,r,q);q=d.Iv*B*1/8;h+=q;b=u(p-q,P,g);if(void 0===b)return{Zh:!1,Zn:!0};p=b.uo;b=b.rd;q=p+q;S=a.Rp;t=r=0;C=S.trace;T=Math.max(0,G+d.lo-S.timestamp);S=1*S.ql;U=O=Math.max(0,Math.floor(1*T/S));for(U*S<T&&(O+=1,T=U*S+S-T,U=T/S*l(C,U,S),r=q-t<U?r+(q-t)/U*1*T:r+T,t+=U);t<q;)ea.update("getDownloadTime"),T=l(C,O,S),r=q-t<T?r+(q-t)/T*1*S:r+S,t+=T,O+=1;q=r;m[P].startTime=G;m[P].endTime=G+q;m[P].uo=p;m[P].rd=b;P<=f.Fk&&(k+=p,n+=B,y=void 0!=g[b][P].Bc?y+B*g[b][P].Bc:y+B*a.yc[b].Bc);}return{Zh:!0,Zn:!1,qr:m,Mta:0<n?1*y/n:0,b7:n,a7:k,Z6:h};}function d(a){a=a.Yg.V;for(var b=[],d,f=0;f<a.length;f++)ea.update("get prebuffered chunks loop"),d=a[f],H(void 0!==d.Bc,"expect frag.vmaf !== undefined"),d=new G(d.aa,d.duration/1E3,d.Bc),b.push(d);return b;}function k(a){for(var b=a.Xk,d=a.Yg,f=a.Al,c=f.Fk,g=a.yc,k=[],h,c=Math.min(f.Yq,c),m=0;m<b.length;m++){for(var f=[],p=d.Zg;p<=c;p++)ea.update("get chunk map from play segment"),h=b[m][p],h=new G(h.aa,h.duration/1E3,a.DN&&void 0!==h.Bc?h.Bc:g[m].Bc),f.push(h);k.push(f);}return new P(k,!1);}function p(a,b){H(a.AE()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var d=0,f=0,c,g,k=0;k<b.length;k++)ea.update("calculate twvmaf"),H(b[k].Yxa===k,"expect stream_choices[idx].i_epoch === idx"),g=a.zi[b[k].l$][k],c=g.dN,g=g.ro,d+=c*g,f+=g;return{Mta:d/f,b7:1E3*f};}function t(a,b,d){var f,c;H(a.AE()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;c=0;d=d.Yg.Iv;for(var g,k=0;k<b.length;k++)ea.update("calculate Bytes"),H(b[k].Yxa===k,"expect stream_choices[idx].i_epoch === idx"),g=a.zi[b[k].l$][k],f+=g.aa,c+=d*g.ro*1E3/8;return{a7:f,Z6:c};}function u(a,b,d){var f,c;a=Math.max(0,a);f=[];d.forEach(function(a){f.push(a[b].aa);});d=f.filter(function(b){return b<=a;});if(0<d.length)d=d[d.length-1],c=f.lastIndexOf(d);else throw Error("selectStream infeasible");return{uo:d,rd:c};}function l(a,b,d){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*d*1/8;}function n(a,b,d,f){var c,g,k,h,m;c=d.trace;g=1*d.ql;m=b+f-d.timestamp;h=Math.floor(1*m/g);b=0+(m-h*g)/g*l(c,h,g);if(b>=a)k=m-1*a/b*(m-h*g);else for(m=h;b<a;){ea.update("find download start time");--m;if(0>m)return-1;h=l(c,m,g);if(b+h>=a){a=1*(a-b)/h*g;k=(m+1)*g-a;break;}b+=h;}return k+d.timestamp-f;}function x(a,b,d,f,c){var g,k,h,m,p,q;g=a.Yg;k=d+g.U;d=a.Xk[g.AL];a=a.Y4;h={GO:!0,waitUntil:void 0,FL:!1};m=d.filter(function(a){return a&&a.U<=k&&a.U+a.duration>k;})[0];if(void 0===m)return{FL:!0};p=c-1-(m.index-1);f=g.IO+f;q=0;q=m.index<g.Zg?q+d.slice(g.wu,m.index).reduce(function(a,b){return a+b.aa;},0):q+g.IO;q=q+b.slice(g.Zg,m.index).reduce(function(a,b){return a+b.uo;},0);f-=q;if(p>=a.fM||f>=a.GG)for(h.GO=!1,m=m.index;m<c&&(p>=a.fM||f>=a.GG);)ea.update("check buffer vacancy"),h.waitUntil=d[m].U+d[m].duration-g.U,f=m<g.Zg?f-d[m].aa:f-b[m].uo,--p,m+=1;h.sra=f;h.zLb=p;return h;}H=a(7).assert;G=a(357).cLa;P=a(357).dLa;r=a(709).bNa;T=a(356).XVa;U=a(204).Lga;C=a(365).bka;R=a(57);O=new(a(3)).Console("ASEJS_QOE_EVAL","media|asejs");ea=a(108).Ela||a(108);g.P={Zkb:function(a){var b;b=h(a);return!1===b.Zh||!0===b.Tw?b:q(a,b);},oL:function(a){var b,d,c,g,k,m,p,t,u,l,y,x,B,G,P,S;O.debug("greedy DEBUG false");ea.MY("greedy-"+(a.DN?"segvmaf":"dlvmaf")+": ");d=a.Xk;b=a.Xk;c=a.Yg;g=a.Al;k=g.Fk;m=a.yc;k=Math.min(g.Yq,k);for(x=c.Zg;x<=k;x++){b[0][x].Uy=b[0][x].aa;for(y=1;y<b.length;y++)b[y][x].Uy=b[y][x].aa,b[y-1][x].Uy===b[y][x].Uy&&(b[y][x].Uy=b[y-1][x].Uy+1);y=0;c=b[y][x];c.Wz=Infinity;c.uh=y;for(y=1;y<b.length;y++)c=b[y][x],g=b[y-1][x],p=8*c.Uy/c.duration,t=8*g.Uy/g.duration,a.DN&&void 0!==c.Bc?(u=c.Bc,l=g.Bc):(u=m[y].Bc,l=m[y-1].Bc),c.Wz=(u-l)/(p-t),c.uh=y,H(void 0!==g.Wz&&!isNaN(g.Wz),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.Zh||!0===b.Tw)return b;k=a.Xk;c=a.Yg;g=a.Al;m=g.Fk;m=Math.min(g.Yq,m);g=[];for(c=c.Zg;c<=m;c++)g.push(k[1][c]);for(k=new C(g,f);0<k.length;){ea.update("upgrade frags");m=k.pop();c=a;g=b;p=m;t=c.Xk;u=c.Yg;P=c.Al;l=P.Fk;y=!0;x=JSON.parse(JSON.stringify(g.qr));void 0!==p.uh&&H(x[p.index].rd+1===p.uh,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");l=Math.min(P.Yq,l);for(var r=p.index;r>=u.Zg;r--){S=r===p.index?x[r].rd+1:x[r].rd;P=c.Xk[S][r].U-c.Yg.U;if(r<l)if(H(void 0!==x[r+1],"expect solution[(fragIndex + 1)] !== undefined"),G=x[r+1].startTime,G<P)P=G;else if(r!==p.index)break;G=t[S][r].aa;B=u.Iv*t[S][r].duration*1/8;B=n(G+B,P,c.Rp,u.lo);if(0>B){y=!1;break;}x[r]={startTime:B,endTime:P,wT:P,uo:G,rd:S};}c={Zh:y,qr:x,Tw:g.Tw};!0===c.Zh&&(b=c,m.uh+1<d.length&&k.push(d[m.uh+1][m.index]));}b=q(a,b);b.yp=ea.e9();O.debug("Max heap used: "+Math.round(b.yp/1024/1024)+" MB");return b;},dp:function(a){var f,c,g,m,q,u;ea.MY("dp-"+(a.DN?"segvmaf":"dlvmaf")+": ");f=h(a);if(!1===f.Zh||!0===f.Tw)return f;c=k(a);g=new r(c);m=d(a);m={TGa:b(a),Wqa:a.Yg.Iv,OAa:0,wAa:240,vAa:8*a.Y4.GG/1E3,qra:.5,era:new U(m),wua:0,cOb:void 0,qxa:void 0,vDa:void 0,sqa:!0};g=g.SF(m);m=p(c,g);c=t(c,g,a);q=[];u=a.Yg.Zg;g.forEach(function(a){q[u]={rd:a.l$};u++;});R(m,f);R(c,f);f.qr=q;f.yp=ea.e9();O.debug("Max heap used: "+Math.round(f.yp/1024/1024)+" MB");return f;}};},function(g,c,a){var h,q;function b(){}function f(a,b){return function(d){d.DN=b;return a(d);};}h=a(710);q=a(708);b.prototype.constructor=b;b.prototype.create=function(a){switch(a){case"htwbr":a=q.oL;break;case"hvmaftb":a=h.Zkb;break;case"hvmafgr":a=h.oL;break;case"hvmafdp":a=h.dp;break;case"hvmafgr-dlvmaf":a=f(h.oL,!1);break;case"hvmafgr-segvmaf":a=f(h.oL,!0);break;case"hvmafdp-dlvmaf":a=f(h.dp,!1);break;case"hvmafdp-segvmaf":a=f(h.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};g.P=b;},function(g,c,a){var f,h;function b(a,b,c,g){this.Ya=a;this.L=b;this.Vd=this.L.error.bind(this.L);this.Qa=this.L.warn.bind(this.L);this.Zi=this.L.trace.bind(this.L);this.nb=this.L.log.bind(this.L);this.eXa=new h();this.K=g;this.AR=[];this.$R=void 0;a=g.zV;f.call(this,a.numB*a.bSizeMs,a.bSizeMs);this.goa=!0;}a(13);c=a(3);f=a(164);a(363);h=a(711);new c.Console("ASEJS_QOE_EVAL","media|asejs");b.prototype=Object.create(f.prototype);b.prototype.add=function(a,b,c){this.$R||(this.$R=b);f.prototype.add.call(this,a,b,c);};b.prototype.keb=function(){var a;if(0!==this.AR.length){a=[];this.AR.forEach(function(b){b&&b.$C&&a.push(b.zt());});return a;}};b.prototype.ec=function(){this.AR=[];};b.prototype.dhb=function(){var a,b,c;a=this.get(this.K.zV.fillS);if(0===a[0]||null===a[0]){a.some(function(a,d){if(a)return b=a,c=d,!0;});if(b)for(var g=0;g<c;g++)a[g]=b;}a={trace:a,timestamp:this.$R,ql:this.Dc};this.goa=!1;f.prototype.reset.call(this);this.$R=void 0;return a;};b.prototype.E7=function(a){var b,f,c,g,h,m;if(a&&!a.$C){f=a.Al.Kya;f&&(a.eda=this.y4(a),a.gY=!1);if((b=this.dhb())&&b.trace&&b.trace.length){c=a.Yg.lo;g=b.timestamp;if(g>c){h=b.ql;m=b.trace[0];c=Math.ceil(1*(g-c)/h);b.timestamp=g-c*h;for(g=0;g<c;g++)b.trace.splice(0,0,m);}b.trace.length&&b.trace.pop();}a.Rp=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.P4a(a),a.ZBa=b,f&&b&&(a.gY=b.Zh),a.$C=!0,this.AR.push(a));}};b.prototype.P4a=function(a){var g,h,m,q;for(var b=this.K.sL,f={Zh:!1,Zn:!1,YT:0},c=0;c<b.length;c++){g=b[c];h=this.eXa.create(g);if(h){m=Date.now();q={};try{q=h(a);}catch(x){q.gU=x;}q.w2a=Date.now()-m;f[g]=q;f.Zh=f.Zh||q.Zh;f.Zn=f.Zn||q.Zn;f.gU=f.gU||q.gU;}}return f;};b.prototype.y4=function(a){var b;a=a.Al;b="";1E3>a.JO&&(b+=a.nIa);1E3>a.e4&&(b=b+(""!==b?",":"")+a.Iqa);1E3<=a.JO&&1E3<=a.e4&&(b="media");return b;};g.P=b;},function(g,c,a){var b,f,h,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(208);f=a(712);h=a(355);q=a(6);d=a(13);k=a(3);g=function(){var I6x;I6x=2;while(I6x!==27){switch(I6x){case 13:a.prototype.Apb=function(a){var E6x;E6x=2;while(E6x!==1){switch(E6x){case 2:this.K.YD&&a===d.Fa.VIDEO&&(this.lfa=this.kfa=this.VFa=this.WFa=this.nCa=this.oCa=0);E6x=1;break;}}};a.prototype.zpb=function(a,b){var u6x;u6x=2;while(u6x!==1){switch(u6x){case 2:a===d.Fa.VIDEO&&(this.gBb=b);u6x=1;break;}}};a.prototype.A5a=function(a){var V6x,b,f,c,g,k,r7Q,T7Q;V6x=2;while(V6x!==7){r7Q="i";r7Q+="q";r7Q+="r";T7Q="n";T7Q+="o";T7Q+="n";T7Q+="e";switch(V6x){case 5:V6x=T7Q!==b.sx&&!0!==this.$n&&a.state<=b.Waa?4:7;break;case 4:f=this.Rb.get();V6x=3;break;case 2:b=this.K;V6x=5;break;case 3:r7Q===b.sx&&(c=this.$na(f),void 0!==c&&void 0!==c.Zj&&void 0!==c.Ii&&void 0!==c.$j&&(g=(c.$j-c.Zj)/c.Ii));k=b.wM?d.ie.Ox:d.ie.Px;f&&f.ld>=k&&this.Q2(b.sx,f,c,g)&&(this.$n=!0,this.hT=a.state);V6x=7;break;}}};I6x=10;break;case 3:a.prototype.Q2=function(a,b,d,f){var f6x,c,B7Q,Q7Q;f6x=2;while(f6x!==6){B7Q="a";B7Q+="v";B7Q+="g";Q7Q="i";Q7Q+="q";Q7Q+="r";switch(f6x){case 5:f6x=a===Q7Q?4:8;break;case 2:c=this.K;f6x=5;break;case 7:return b.Da?b.Da.Ca<c.XJ:!0;break;case 4:f6x=void 0!==f?3:9;break;case 9:return!1;break;case 8:f6x=a===B7Q?7:9;break;case 3:return b.Da&&d&&q.ka(f)&&b.Da.Ca<c.XJ&&f>c.C0;break;}}};a.prototype.sgb=function(a){var x6x;x6x=2;while(x6x!==1){switch(x6x){case 2:return 1===a?this.ER.RX:this.ER.vA;break;}}};a.prototype.aG=function(a){var S6x;S6x=2;while(S6x!==1){switch(S6x){case 2:this.ER.aG(a);S6x=1;break;case 4:this.ER.aG(a);S6x=4;break;S6x=1;break;}}};a.prototype.E1a=function(a,b,d,f,c,g){var O6x,k;O6x=2;while(O6x!==4){switch(O6x){case 2:k=this.K;k.TZ&&this.I_a(b)||!d||!f||!(d=g?Math.min(d,f,g):Math.min(d,f))||(this.Rb.get(!1),f=this.Ya.ma,a=f.Sv(f.Ib,a),b.track.Hm()&&a>k.a5&&d===c?(k.set?(k.set({pipelineEnabled:!0}),k.set({maxParallelConnections:1}),k.set({maxActiveRequestsPerSession:2}),k.set({maxPendingBufferLen:500})):(k.jo=!0,k.ZE=1,k.Xq=2,k.Nw=500),b.track.UDa({type:b.track.config.type,connections:1,openrange:!1,pipeline:!0,socketBufferSize:k.JG,minRequestSize:k.gF}),this.kfa++,k.TZ&&(this.RR=!0)):k.jo&&!b.Hm()&&(a<k.Z4||d!==c)&&(k.set?(k.set({pipelineEnabled:!0}),k.set({maxParallelConnections:3}),k.set({maxActiveRequestsPerSession:3}),k.set({maxPendingBufferLen:12E3})):(k.jo=!0,k.ZE=3,k.Xq=3,k.Nw=12E3),b.track.UDa({type:b.config.type,connections:3,openrange:!1,pipeline:!0,socketBufferSize:k.JG,minRequestSize:k.gF}),this.lfa++,k.TZ&&(this.SR=!0)));O6x=4;break;}}};a.prototype.H1a=function(a,b){var Q6x,d,f,c;Q6x=2;while(Q6x!==13){switch(Q6x){case 2:d=this.K;Q6x=5;break;case 5:Q6x=this.qoa?4:13;break;case 4:void 0===this.tk&&(this.tk={startTime:k.time.fa(),Ms:[],Eu:[],eaa:void 0,Z$:void 0});d=Math.floor((k.time.fa()-this.tk.startTime)/d.kD);f=this.tk.Z$;c=this.tk.eaa?d-this.tk.eaa-1:d;Q6x=7;break;case 14:this.tk.Z$=d;Q6x=13;break;case 6:this.tk.Ms[c]=a,this.tk.Eu[c]=b;Q6x=14;break;case 7:Q6x=void 0===f||d>f?6:14;break;}}};I6x=14;break;case 2:Object.defineProperties(a.prototype,{cW:{get:function(){var G6x;G6x=2;while(G6x!==1){switch(G6x){case 2:return this.P2;break;case 4:return this.P2;break;G6x=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wca:{get:function(){var g6x;g6x=2;while(g6x!==1){switch(g6x){case 2:return this.hpa;break;case 4:return this.hpa;break;g6x=1;break;}}},enumerable:!0,configurable:!0}});a.prototype.xFa=function(a,b,d){var m6x;m6x=2;while(m6x!==4){switch(m6x){case 9:this.rp=a;m6x=0;break;m6x=1;break;case 2:this.rp=a;m6x=1;break;case 1:q.T(b)||(this.Sxa=b);q.T(d)||(this.AV=d);m6x=4;break;}}};a.prototype.Pfa=function(a){var o6x;o6x=2;while(o6x!==5){switch(o6x){case 2:this.K=a;this.ER.Pfa(a);o6x=5;break;}}};I6x=3;break;case 10:a.prototype.c2a=function(a){var y6x;y6x=2;while(y6x!==1){switch(y6x){case 2:a.$n=this.$n;y6x=1;break;case 4:a.$n=this.$n;y6x=9;break;y6x=1;break;}}};a.prototype.Bcb=function(a){var i6x,b,f,c,g,h,m,p,t,i7Q,M7Q;i6x=2;while(i6x!==21){i7Q="s";i7Q+="t";i7Q+="artpla";i7Q+="y";M7Q="logd";M7Q+="a";M7Q+="t";M7Q+="a";switch(i6x){case 14:b.actualbw=h;b.isConserv=this.$n;b.ccs=this.hT;b.isLowEnd=this.Ojb;b.histdiscbw=this.rp;m=this.AV;i6x=19;break;case 3:g={type:M7Q,target:i7Q,fields:{}};g.fields=b;Object.keys(a).forEach(function(d){var J6x;J6x=2;while(J6x!==1){switch(J6x){case 2:b[d]=a[d];J6x=1;break;case 4:b[d]=a[d];J6x=6;break;J6x=1;break;}}});h=this.Rb.get();h&&h.Da&&(h=h.Da.Ca);i6x=14;break;case 2:b={};f=this.K;c=this.Ya;i6x=3;break;case 19:i6x=m?18:25;break;case 25:b.histage=this.Sxa;f.r7&&this.qC&&(b.ishighstable=this.P2,b.avg_avtp=this.qC.$qa,b.avg_ne=Number(this.qC.ara).toFixed(4));i6x=23;break;case 18:p=function(a){var W6x;W6x=2;while(W6x!==1){switch(W6x){case 2:return q.ka(a)?Number(a).toFixed(2):-1;break;}}};h=[p(m.min||void 0),p(m.aca||void 0),p(m.Zj||void 0),p(m.Ii||void 0),p(m.$j||void 0),p(m.bca||void 0),p(m.max||void 0)];t=[];m=q.isArray(m.Kg)&&m.Kg.reduce(function(a,b){var A6x,d;A6x=2;while(A6x!==9){switch(A6x){case 2:d=p(b.Ve||void 0);b=p(b.n||void 0);-1<d&&-1<b&&a.push({mean:d,n:b});return a;break;}}},t);i6x=27;break;case 26:b.histtd=h;i6x=25;break;case 23:c.rb&&(f=k.Sj(),b.maxAudioBufferAllowedBytes=f[d.Fa.AUDIO],b.maxVideoBufferAllowedBytes=f[d.Fa.VIDEO]);c.emit(g.type,g);i6x=21;break;case 27:b.histtdc=m;i6x=26;break;}}};a.prototype.Ccb=function(a){var r6x,b,f,c,g,k,h,m,y7Q;r6x=2;while(r6x!==20){y7Q="n";y7Q+="o";y7Q+="n";y7Q+="e";switch(r6x){case 2:b=this;f=this.K;c=this.Rb.get(!0);g=[];r6x=9;break;case 9:[d.Fa.VIDEO,d.Fa.AUDIO].forEach(function(a){var X6x,k;X6x=2;while(X6x!==3){switch(X6x){case 2:X6x=1;break;case 7:X6x=b.bb(a)?9:4;break;X6x=b.bb(a)?5:3;break;case 5:k=b.Ya.bxa(a);void 0!==k&&(a===d.Fa.VIDEO&&(f.YD&&(k.parallelDownloadMs=b.oCa,k.parallelDownloadBytes=b.nCa,k.singleDownloadMs=b.WFa,k.singleDownloadBytes=b.VFa,k.switchFromParallelToSingle=b.kfa,k.switchFromSingleToParallel=b.lfa),c&&c.ld&&c.Da&&(k.asetput=c.Da,k.aseiqr=c.up,k.tdigest=c.hi&&c.hi.zt()||void 0),c&&c.avtp&&(k.avtp=c.avtp.Ca)),g.push(k));X6x=3;break;case 1:X6x=b.bb(a)?5:3;break;}}});a.stat=g;k=0;h=0;r6x=14;break;case 11:this.qoa&&(a.bt={startTime:this.tk.startTime,audioMs:this.tk.Ms,videoMs:this.tk.Eu},this.tk.Ms=[],this.tk.Eu=[],this.tk.eaa=this.tk.Z$);y7Q!==f.sx&&(a.isConserv=this.$n,a.ccs=this.hT);r6x=20;break;case 14:m=0;c.ld&&(k=c.Da?c.Da.Ca:0,h=c.Wg?c.Wg.Ca:0,m=c.sp?c.sp.Ca:0);a.location={responseTime:h,httpResponseTime:m,bandwidth:k,confidence:c.ld,name:this.gBb};r6x=11;break;}}};I6x=18;break;case 14:a.prototype.spb=function(){var H6x,j6x,a;H6x=2;while(H6x!==3){switch(H6x){case 4:try{j6x=2;while(j6x!==5){switch(j6x){case 2:this.Rb.Mtb();this.hpa.ec();j6x=5;break;}}}catch(u){var u7Q;u7Q="Hindsi";u7Q+="gh";u7Q+="t: Error during clean";u7Q+=" up:";u7Q+=" ";h4KK.w7Q(0);a.Oa.Ml(h4KK.I0Q(u7Q,u));}H6x=3;break;case 5:H6x=this.yv.Rn?4:3;break;case 2:a=this.Ya;H6x=5;break;}}};I6x=13;break;case 18:a.prototype.I_a=function(a){var L6x,b;L6x=2;while(L6x!==14){switch(L6x){case 2:b=this.K;L6x=5;break;case 5:L6x=this.RR&&a.Hm()?4:3;break;case 4:return!0;break;case 8:return!0;break;case 3:this.RR&&(this.RR=!1);L6x=9;break;case 9:L6x=this.SR&&b.jo&&!a.Hm()?8:7;break;case 7:this.SR&&(this.SR=!1);return!1;break;}}};a.prototype.$na=function(a){var b6x,Y6x,D7Q;b6x=2;while(b6x!==4){D7Q="td";D7Q+="ig";D7Q+="e";D7Q+="st";switch(b6x){case 1:a=a.hi;b6x=5;break;case 2:Y6x=this.K.d$;b6x=Y6x===D7Q?1:3;break;case 5:return a;break;case 9:a=a.up&&a.up.FX;b6x=5;break;case 3:b6x=9;break;}}};a.prototype.cZa=function(a,b,d){var c6x,f;c6x=2;while(c6x!==9){switch(c6x){case 2:f=this.K;this.Q2(f.sx,a,b,d)?this.$n=!0:this.$n=!1;this.hT=0;c6x=3;break;case 3:this.Q2(f.yaa,a,b,d)&&(this.Ojb=!0);c6x=9;break;}}};return a;break;}}function a(a,c,g,m,p,q,l,n,r){var p6x,M6x,t,u,y,z6x,C7Q,X7Q,l7Q,o7Q,a6x;p6x=2;while(p6x!==32){C7Q="ba";C7Q+="sel";C7Q+="i";C7Q+="ne";X7Q="L";X7Q+="R";l7Q="1";l7Q+="SI";l7Q+="YbZrN";l7Q+="JC";l7Q+="p9";o7Q="def";o7Q+="a";o7Q+="u";o7Q+="l";o7Q+="t";switch(p6x){case 11:this.lfa=this.VFa=this.WFa=this.kfa=this.nCa=this.oCa=0;this.ER=b[o7Q](p,q);c=this.$na(g);void 0!==c&&void 0!==c.Zj&&void 0!==c.Ii&&void 0!==c.$j&&(t=(c.$j-c.Zj)/c.Ii);m=p.wM?d.ie.Ox:d.ie.Px;g&&g.ld>=m&&g.Da&&t&&this.cZa(g,c,t);p6x=16;break;case 7:this.Qa=this.L.warn.bind(this.L);this.Zi=this.L.trace.bind(this.L);this.K=p;h4KK.w7Q(1);a6x=h4KK.c0Q(666664,55556,6);this.qoa=0===Math.floor(a6x*Math.random())%p.b5;this.rp=this.AV=this.Sxa=this.hT=this.$n=void 0;p6x=11;break;case 23:this.P2=this.qC.cW();p6x=33;break;case 15:try{M6x=2;while(M6x!==3){switch(M6x){case 2:u=k.Sj();y=new f(a,this.L,{bufferSize:u},p);this.Rb.N1a(y);this.hpa=y;M6x=3;break;}}}catch(R){var t7Q;t7Q="Hinds";t7Q+="ight: Error whe";t7Q+="n c";t7Q+="reating QoEEvaluator: ";h4KK.S7Q(0);a.Oa.Ml(h4KK.I0Q(t7Q,R));}p6x=27;break;case 2:this.L=c;this.Rb=m;this.bb=n;p6x=3;break;case 27:this.P2=!1;p6x=26;break;case 26:p6x=l&&1<l.length&&p.r7?25:33;break;case 3:this.yv=r;l7Q;this.Ya=a;p6x=7;break;case 33:p.TZ&&(this.SR=this.RR=!1);p6x=32;break;case 16:p6x=this.yv.Rn?15:27;break;case 24:this.qC=new h.y0(l,p,this.L);p6x=23;break;case 22:p6x=z6x===X7Q?21:35;break;case 25:z6x=p.pib;p6x=z6x===C7Q?24:22;break;case 21:this.qC=new h.wOa(l,p,this.L);p6x=23;break;case 35:p6x=34;break;case 34:this.qC=new h.y0(l,p,this.L);p6x=23;break;}}}}();c.fJa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);f=a(227);g=function(){function a(a,b,f,c,g,h,m,l,x,n,G){void 0===f&&(f=0);this.Kc=a;this.TR=b;this.U=f;this.ga=c;this.LU=g;this.zf=h;this.sE=m;this.config=l;this.L=x;this.Oa=n;this.pcb=G;this.Wq=0;}a.create=function(c){var g,h,m,q,l,n,x,H,G,P,r,T,U,C,R;function d(a){b.Ha(H,a.type,a);}g=c.Pa;h=c.dFa;m=c.U;q=c.ga;l=c.Qq;n=c.Pp;x=c.Oa;H=c.Eb;G=c.config;P=c.L;r=c.Qe;T=c.Uk;U=c.He;C=c.yw;R=new f.c_({Pa:g,sa:c.sa,Pk:c.Pk,bb:c.bb,aba:{ZV:c.ff,J$:!!c.Bya},Qh:c.Qh,Aq:c.Aq,config:G,Gea:G.iz?{nA:H.vk.nA,ia:H.vk.ia,cw:H.vk.cw,Ml:x.Ml.bind(x)}:void 0,S9:{zb:r.Lh.bind(r),He:U,yw:C,Nk:d,WV:function(a){return a===H.ma.Ib.O;},cV:function(a,b,d,f,c){a=H.Ta.ye[a];return!b||d||f||c?H.uI:a.Tl;},hL:function(a){return H.Ta.Bp[a];},zf:H.zf.bind(H)},nF:function(a){H.emit("requestComplete",{timestamp:a.Nc,mediaRequest:a});},ZK:function(){return H.af;},Tb:H.rb.Tb,Tg:H.rb.Tg,C7:{Qq:l,ci:H.rq.bind(H),LL:function(){return H.RC;},LE:H.X.Fi.bind(H.X),Pp:n,Nk:d},HA:void 0});R.xw.on("onHeaderFragments",function(a){var b,d,f,c,k;b=a.M;d=a.oa;f=a.stream.V;c=H.zf(g);if(c){if(R.Qf[b]&&a!==R.Qf[b])a.Iq&&(c=R.Qf[b],a=a.stream,k=c&&c.stream,P.warn("first header received for non-current track (trackId "+a.ab+"streamId "+a.oa+"), expected track "+(k&&k.ab)+", stream "+(k&&k.oa)+", "+c));else{R.Qf[b]=a;a=H.ma.Ib;if(0===g){k=R.bb(1)?a.Te(1).Ab:a.Te(0).Ab;a.XS(k,R);}c.fN=!1;c.VS();H.nS();}T.E2();x.d_a(g,b,d,R.u,f);r.Lh();}else P.warn("addFragments for stale manifestIndex:",g);});R.xw.on("onHeaderRequestComplete",function(a){var b,d;a.cj?H.nS():a.ew&&(P.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),H.AK(a.u));b=a.M;d=Object.getOwnPropertyNames(C.lq[b]);H.De[b].Kob(a.stream,1===d.length&&d[0]===a.oa);r.Kna();H.iub();});R.xw.on("onHeaderFromCache",function(a){var b;b=a.Vn;a=a.bdb;b.cj&&H.nS();a&&x.VZa(b.u,b.oa);});return new a(R,h,m,q,function(){return H.ma;},H.zf.bind(H),H.sE.bind(H),G,P,x,!1);};Object.defineProperties(a.prototype,{O:{get:function(){return this.Kc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Pa:{get:function(){return this.O.Pa;},enumerable:!0,configurable:!0}});a.prototype.Cl=function(a){return this.Kc.jhb(a,this.QU(a));};a.prototype.QU=function(a){return this.TR[a];};a.prototype.ec=function(){this.Kc.ec();delete this.Kc;};a.prototype.clone=function(){return new a(this.O,this.TR,this.U,this.ga,this.LU,this.zf,this.sE,this.config,this.L,this.Oa,!0);};a.prototype.Ofa=function(a){this.L.trace("updateAudioTrack:",this.TR[0],"->",a);this.TR[0]=a;};a.prototype.vwa=function(){return void 0!==this.Uw?this.Uw:this.ga?this.ga:this.Kc.sa.duration;};a.prototype.$4a=function(a,b){var d,f,c,g;d=this.Kc.Qf[1];if(d&&d.stream.pd){if(this.xt&&this.xt[1]&&this.xt[1].U<=a&&this.xt[1].ga>a)return this.xt[1].mc;f=d.stream.V;c=f.Bl(a,void 0,!0);g=void 0;b&&(a=d.stream.Wh(c).oU(a))&&(g=a.Oc);void 0===g&&(g=f.rh(c));return g;}};a.prototype.VS=function(){var a,b;if(!this.fN&&this.Dxa()){this.Gba();b=[0,0];0===this.Pa||this.Kc.pe.gM||this.Kc.pe.replace||(a=this.zf(this.Pa-1),a=this.Kc.u===a.Kc.u,b=this.LU().Ib,a=b.XS(this.U,this.O,b,a),b=a.HF);this.U=b[1];this.HF=b;this.xt=a&&a.xt;this.Ara();a=this.Kc.bb(1)?this.Kc.Qf[1].stream.V.ga:this.Kc.Qf[0].stream.V.ga;this.Oa.$Za(this.Pa,this.Wq,this.U,this.Uw,a);this.fN=!0;for(a=this.Pa+1;a<this.sE();++a)b=this.zf(a),b.fN=!1,b.VS();}};a.prototype.Ara=function(){var a;if(0===this.Pa||this.Kc.pe.replace)this.Wq=0;else{a=this.zf(this.Pa-1);this.Wq=a.Wq+a.vwa()-this.U;}};a.prototype.Gba=function(){var a,b,f,c;if(this.Dxa()){a=this.LU().Ib;b=this.ga||Infinity;f=this.Kc.bb(1);c=a.RK(b,this.O);this.Uw=f?c[1].ga:c[0].ga;this.Oa.b_a(this.Pa,this.Uw,f?this.Kc.Qf[1].stream.V.ga:this.Kc.Qf[0].stream.V.ga);a=this.LU().S7(this.Pa);0<a.length&&a.forEach(function(a){a.Zzb(c,b);});}};a.prototype.Dxa=function(){var a,b,f,c;a=this.Kc.bb(0);b=this.Kc.bb(1);f=this.Kc.Qf[0];c=this.Kc.Qf[1];f=f&&f.stream.pd;c=c&&c.stream.pd;return(!a||f)&&(!b||c);};return a;}();c.Nja=g;},function(g,c,a){var f,h,q,d,k,p,t,u;function b(a){return a&&"function"===typeof a.Ng?!0:!1;}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);h=a(126);q=a(3).Promise;k=function(){function a(a){var b;b=this;this.WYa=a;this.oq=!1;this.Q_a=function(a){return b.isb(a);};this.Dsa();}a.NOb=function(a,b){function d(){var f;f=a.next();f.then(b);f.then(function(a){return!a.done&&d();});}d();};Object.defineProperties(a.prototype,{wp:{get:function(){return this.oq;},enumerable:!0,configurable:!0}});a.GNb=function(){return new p([]);};a.Zgb=function(){d||(d=q.resolve({done:!0}));return d;};Object.defineProperties(a.prototype,{GL:{get:function(){return this.qna||!1;},enumerable:!0,configurable:!0}});a.prototype.Ng=function(){this.cancel();};a.prototype.cancel=function(){this.Uoa();this.qna=!0;return this.j2;};a.prototype.next=function(){return this.qna?this.j2:q.race([this.j2,this.WYa()]).then(this.Q_a);};a.prototype.isb=function(a){a.done&&(this.oq=!0,this.Ng());this.GL||(this.Uoa(),this.Dsa());return a;};a.prototype.Dsa=function(){var a;a=this;this.j2=new q(function(b){a.Uoa=function(){b({done:!0});};});};return a;}();c.FJa=k;p=function(a){function d(b){var d;d=a.call(this,function(){return d.Zfb();})||this;d.Lj=b;d.index=0;return d;}f.__extends(d,a);d.prototype.Ng=function(){b(this.Lj)&&this.Lj.Ng();a.prototype.Ng.call(this);};d.prototype.Zfb=function(){return this.Lj.length>this.index?q.resolve({value:this.Lj[this.index++],done:!1}):q.resolve({done:!0});};return d;}(k);c.BCb=p;c.COb=b;t=function(a){function d(b,d,f){var c;c=a.call(this,function(){return c.Cba();})||this;c.console=d;c.ov=f;c.nDa=!1;Array.isArray(b)?c.II=new p(b):c.II=b;return c;}f.__extends(d,a);d.prototype.ksb=function(a){var d;this.nDa=!1;d=this.console;h.jc&&d&&d.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.uC)return b(a)&&a.Ng(),k.Zgb();Array.isArray(a)?this.ov=new p(a):this.ov=a;return this.Cba();};d.prototype.jsb=function(a){var b;b=this.console;h.jc&&b&&b.trace("CompoundIterator: processNextInnerResult",this.uC,a.done);if(!a.done||this.uC)return a;this.ov=void 0;return this.Cba();};d.prototype.Ng=function(){var d;d=this.console;h.jc&&d&&d.trace("CompoundIterator: dispose");this.uC=!0;a.prototype.Ng.call(this);b(this.II)&&this.II.Ng();b(this.ov)&&this.ov.Ng();};d.prototype.toString=function(){return"CompoundIterator "+this.uC+" "+this.II+" "+this.ov;};d.prototype.Cba=function(){var a,b;a=this;b=this.console;h.jc&&b&&b.trace("CompoundIterator: nextImpl");if(this.ov)return h.jc&&b&&b.trace("CompoundIterator: getNextInner"),this.ov.next().then(function(b){return a.jsb(b);});this.nDa=!0;h.jc&&b&&b.trace("CompoundIterator: getNextOuter");return this.II.next().then(function(b){return a.ksb(b);});};return d;}(k);c.ODb=t;c.map=function(a,b,d){return new u(a,b,d);};u=function(a){function d(b,d,f){var c;c=a.call(this,function(){return c.HYa();})||this;c.source=b;c.Naa=d;c.n6a=f;return c;}f.__extends(d,a);d.prototype.Ng=function(){b(this.source)&&this.source.Ng();};d.prototype.HYa=function(){var a,b,d;a=this.n6a;b=this.Naa;d=this.source;h.jc&&a&&a.trace("MappedIterator: Requesting next");return d.next().then(function(a){return a.done?a:b(a.value);});};return d;}(k);c.lw=function(a,b,d){return new t(a,b,d);};},function(g,c,a){var b,f,h,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(27);f=a(715);h=a(126);q=a(3);d=a(14);a=a(43);k=q.Promise;p=function(){function a(a,b){this.console=a;this.ig=b;this.LZa=this.Dna=0;this.Eh=[];this.console=d.Tz(q,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{count:{get:function(){return this.ig;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wp:{get:function(){return 0===this.ig;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{vda:{get:function(){var a;for(a=0;a<this.Eh.length&&this.Eh[a].gW;a++);return a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=this.Eh[0];return(a=a&&a.item)&&!a.done&&a.value;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jBa:{get:function(){var a;for(a=0;a<this.Eh.length&&this.Eh[a].JL;a++);return a;},enumerable:!0,configurable:!0}});a.prototype.xx=function(){return this.Eh.map(function(a){return a.item;});};a.prototype.Vzb=function(a){var b;h.jc&&this.console.trace("updateCount",{ZPb:this.ig,KD:a});if(void 0!==this.ig){b=this.Eh[this.ig];b&&this.A$(b);}this.ig=void 0===this.ig?a:void 0===a?a:this.ig+a;void 0!==this.ig&&(this.ig=Math.max(0,this.ig),(b=this.Eh[this.ig])&&b.Lz.resolve({done:!0}));};a.prototype.enqueue=function(a){h.jc&&this.console.trace("Enqueue called");return this.usb(this.jBa,{value:a,done:!1}).O6.nu;};a.prototype.clear=function(a){var b,d,f,c;b=this;h.jc&&this.console.trace("clear");this.rDa();d=this.vda;f=this.Eh.length-d;if(0<f){c={index:d,Rba:f};h.jc&&this.console.trace("Removing items",c);this.Eh.splice(d,f).forEach(function(a){return b.N6(a,"Clear");});this.emit("onRemoved",c);}for(f=1;f<d;f++)this.A$(this.Eh[f]);this.ig=void 0;this.Vzb(a?a+d:a);this.Dna&&(this.Dna=0);};a.prototype.yta=function(){var a;if(0<this.vda){a=this.Eh[0];if(a.JL)return h.jc&&this.console.trace("dequeue",a.id),this.rDa(1),this.emit("onDequeue",a.Lz.nu);}};a.prototype.remove=function(a){var b,d,f,c;b=this;for(d=0;d<this.Eh.length;d++){f=this.Eh[d];c=f.item;if(c&&!c.done&&c.value===a){a=this.Eh.splice(d,1);h.jc&&this.console.trace("removed",{id:f.id});this.emit("onRemoved",{index:d,Rba:1});a.forEach(function(a){return b.N6(a,"removed");});break;}}};a.prototype.rDa=function(a){var b;a=a||Math.min(this.vda,this.jBa);if(0<a){b=this.Eh.splice(0,a);this.ig&&(this.ig-=a);h.jc&&this.console.trace("pruned",a);setTimeout(function(){b.forEach(function(a){a.O6.resolve();});},0);this.emit("onRemoved",{index:0,Rba:a});}};a.prototype.N6=function(a,b){a&&(b=Error("Rejecting queue promise per "+b),a.JL||(a.gW&&a.Lz.reject(b),a.O6.reject(b)));};a.prototype.usb=function(a,b){var d;d=!b.done&&b.value;d=d&&d.toJSON?d.toJSON():d;h.jc&&this.console.trace("Providing result",{P2a:a,item:d});this.ejb(a);a=this.Eh[a];d=a.Lz.resolve;d(b);return a;};a.prototype.ejb=function(a){var b;if(void 0===this.Eh[a]){b={};this.A$(b);this.Eh[a]=b;a===this.ig&&b.Lz.resolve({done:!0});h.jc&&this.console.trace("Item initialized",{P2a:a});}};a.prototype.k6=function(a){var b;b={};b.nu=new k(function(d,f){b.resolve=function(b){d(b);a&&a(b);};b.reject=f;});return b;};a.prototype.A$=function(a){var b;b=this;a.Lz&&this.N6(a,"Overwriting");a.Lz=this.k6(function(d){a.item=d;a.JL=!0;h.jc&&b.console.trace("Item resolved",{id:a.id});});a.id&&a.gW&&!a.JL&&(a.Lz.resolve({done:!0}),h.jc&&this.console.warn("Overwriting requested queue item",a.id));a.O6=this.k6();a.NQb=this.k6(function(){a.gW=!0;h.jc&&b.console.trace("Item requested",{id:a.id});});a.id=this.LZa++;a.gW=!1;a.JL=!1;a.item=void 0;};return a;}();c.tUa=p;a.Pi(g.EventEmitter,p);g=function(a){function d(b,d,f){var c;c=a.call(this,function(){h.jc&&c.console.trace("Next item requested",{index:c.index});return c.Fub(c.index++);})||this;c.parent=b;c.Fub=d;c.console=f;c.uC=!1;c.index=0;c.wI=!1;c.WBa=function(a){var b;b=a.index;a=a.Rba;c.index>=b&&(c.index=Math.max(b,c.index-a));b=c.console;h.jc&&b&&b.trace("QueueIteratorInstance: onRemoved modified",c.index);};return c;}b.__extends(d,a);d.prototype.Ng=function(){this.console.trace("disposed");this.uC=!0;this.ec();a.prototype.Ng.call(this);};d.prototype.next=function(){this.GL||this.QV();return a.prototype.next.call(this);};d.prototype.cancel=function(){this.ec();return a.prototype.cancel.call(this);};d.prototype.ec=function(){this.parent.LBa("onRemoved",this.WBa);this.wI=!1;};d.prototype.QV=function(){this.wI||(this.wI=!0,this.parent.on("onRemoved",this.WBa));};return d;}(f.FJa);c.AIb=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,f,c,g,d,k,h,t,u){this.id=a;this.O=f;this.U=c;this.pK=d;this.zl=k;this.rG=h;this.sO=t;this.Pk=u;this.ga=g||Infinity;}Object.defineProperties(a.prototype,{wa:{get:function(){return this.O.wa;},enumerable:!0,configurable:!0}});a.prototype.toString=function(){return"segmentId: "+this.id+"playlistSegmentId: "+this.Pk+" viewableId: "+this.O.wa+" pts: "+this.U+"-"+this.ga+" defaultKey: "+this.pK+" dests: "+JSON.stringify(this.zl)+" terminal: "+!!this.rG;};a.prototype.toJSON=function(){return{id:this.id,viewable:this.O.wa,"startPts:":this.U,endPts:this.ga,defaultKey:this.pK,"dests:":this.zl,terminal:!!this.rG,playlistSegmentId:this.Pk};};return a;}();c.qVa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,f,c,g,d,k,h,t){this.Xd=a;this.ora=f;this.config=c;this.console=g;this.M=d;this.Oa=k;this.eb=h;this.Eb=t;this.cn=this.Ag=!1;}a.prototype.PJ=function(a,f){!this.Xd.na.rG||this.Eb.zC||this.Eb.DR&&!this.config.w4||(a-=this.Xd.zd,this.Ag&&!this.cn&&a+this.config.Oyb>=f&&0===this.eb.Xw&&0===this.eb.Du&&(f=this.Eb.Vc.O.Pa,a=this.Eb.sE(),f+1<a||(this.ora[this.M].yGa||this.Oa.SZa(this.M),this.cn=!0,this.ora[this.M].Jba())));};return a;}();c.SPa=g;},function(g,c,a){var b,f,h,q,d,k,p,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(3);h=a(6);g=a(371);q=a(162);d=a(13);k=a(7);p=a(28);t=a(370);u=a(718);a=function(a){function c(b,d,c,g,k,h,m,q,t,l,y,n,B){c=a.call(this,g,q,c,g,g,k,p.Xa.jp(h),m,y,n,B)||this;c.Ya=b;c.Kf=d;c.Qe=t;c.De=l;c.c5=0;c.aH=new u.SPa(g,c.De,c.K,c.L,c.M,c.Kf,c.eb,c.Ya);c.Skb=f.time.fa();c.Lkb=void 0;c.as=!1;c.e2=!1;c.f2="";c.$z=q.y$;c.hDa=f.time.fa();c.GFa(k);return c;}b.__extends(c,a);Object.defineProperties(c.prototype,{v4:{get:function(){return this.eb.v4;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uD:{get:function(){return this.eb.uD;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Yy:{get:function(){return this.eb.Yy;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{EA:{get:function(){return this.eb.EA;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ag:{get:function(){return this.aH.Ag;},set:function(a){this.aH.Ag=a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{cn:{get:function(){return this.aH.cn;},set:function(a){this.aH.cn=a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Nt:{get:function(){return this.ur.Nt;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{tW:{get:function(){return this.Ic;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{njb:{get:function(){return this.aZa.Va;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{FN:{get:function(){return this.bS.FN;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{mG:{get:function(){return this.bS;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dh:{get:function(){return this.as;},set:function(a){this.as=a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{GJ:{get:function(){return this.f2;},set:function(a){this.f2=a;},enumerable:!0,configurable:!0}});c.prototype.Rh=function(){this.e2=this.as=!1;this.f2="";this.seeking=void 0;this.connected=this.Ag=!1;a.prototype.Rh.call(this);};c.prototype.jE=function(a,b){return t.jE(this.Ig.M,this.K,a,b,this.Td,this.Ya.hnb,this.UI);};c.prototype.Mi=function(a){this.eb.Mi(a);this.$z=this.K.y$;};c.prototype.fD=function(){this.eb.wO();};c.prototype.GFa=function(a){var b,d;b=this.Ya;d=this.M;k.assert(a.M===d);k.assert(a.O===this.Xd.O);this.Ig=a;this.Xd.O.Sfa(d,a.yc);0===d&&(this.UI=q.rqa(this.K,a.yc[0]));b.TYa(this,a.Vz);this.T4a(a.yc);this.ur.nwb(a);this.Xd.O.B5();this.Ag=!1;};c.prototype.T7=function(a){var b;b=this.Xd.O.Qf[this.M];if(b&&b.stream.pd&&(a=b.stream.V.Bl(a),-1!==a))return a;};c.prototype.PA=function(a){var b,d,f;if(this.Vh&&this.Vh.U===a)b=this.Vh.index,d=a;else{f=this.Xd.O;b=f.Qf[this.M];if(!b||!b.stream.pd){this.pA=a;return;}d=b.stream.V;this.Vh=this.QK(b.stream,a,void 0,!1);if(void 0===this.Vh){if(b=d.length-1,d=d.rh(b),this.Qa("setStreamingPts out of range of fragments, pts:",a,"last startPts:",d,"fragment index:",b,"fastplay:",f.pe.ff),f.pe.ff){this.pA=a;return;}}else b=this.Vh.index,d=this.Vh.U;}this.Pm=b;this.N3=d;this.pA=void 0;};c.prototype.aBb=function(a){var b,d;b=this.Ig.Oq(a);d="verifying streamId: "+a+" stream's track: "+(b?b.oa:"unknown")+" currentTrack: "+this.Ig.ab;return b?!0:(this.Kf.Hi(d),this.Kf.Hi("unknown streamId: "+a),!1);};c.prototype.T4a=function(a){this.sib=a.reduce(function(a,b){return b.inRange&&b.hf&&!b.Sg&&b.R>a.R?b:a;},a[0]);};c.prototype.NY=function(a){this.rg=a;this.ga=a.ga;};c.prototype.nmb=function(a,b,d,f){this.tHa(a,b,f);d&&++this.c5;this.Ya.Lh();};c.prototype.eu=function(b){b.ga&&b.U&&(this.$z-=b.ga-b.U);a.prototype.eu.call(this,b);};c.prototype.oj=function(a){this.sxa(a);this.Kq(a);};c.prototype.aAb=function(a){var b;b=f.time.fa();this.$z+=a*(b-this.hDa);this.hDa=b;};c.prototype.rub=function(){this.$z=this.K.y$;};c.prototype.PJ=function(a){this.Td||this.aH.PJ(a,this.ga);};c.prototype.sxa=function(a){var b,f,c;b=this.tW;f=this.Ya;if(!this.Qe.Bpa()){this.Kf.l_a(a.M,a.O.Pa,a.stream.track.dJ,this.Ck);this.Td&&(this.Td.VJ+=a.IA,this.Qa("handleRequestDone, adding frames:",a.IA,"total frames:",this.Td.VJ,"needed frames:",b.Te(a.M).Td.lF));c=b.X.Cd()||0;f.Ta.ds()||(b=b.Te(d.Fa.VIDEO))&&!b.dh&&b.uV&&f.Ta.x9(b);this.PJ(c);this.Ya.rxa(a);this.Qe.RQ(this)&&this.Qe.Lh();}};c.prototype.$ba=function(a){this.Ya.Jhb(a);};c.prototype.Zs=function(a,b){if(this.dh||0===this.M)return!0;if(void 0===this.Nt)return!1;b=this.CYa(b);a=this.mG.Zs(b,a,this.Nt,this.Xd.O.Th);a.complete?(this.dh=!0,this.GJ=a.reason):(this.dh=!1,this.GJ=void 0,this.Sz=a.Sz,this.ru=a.ru,this.bi=a.bi);return this.dh;};c.prototype.Qra=function(a,b,d,f,c){var g,k;g=this.K;k=g.mj;if(d>=g.mj&&(g.wda&&(k=d+1E3),g.xda&&!this.connected))return!1;g.Nf&&this.Kf.Hi("Pipeline checkBufferingComplete02, buffer length: "+f);if(this.Td){if(this.e2)return this.Qa("checkBufferingComplete02 ignored because stallAtFrameCount already hit"),!0;if(this.Td.VJ>=this.Td.lF)return this.Qa("checkBufferingComplete02 with enough frames, declare bufferingComplete",this.Td.VJ),this.e2=!0;}d=this.Ag&&0===this.eb.gca&&0===this.eb.Du;return!d&&f<k?!1:d?c&&0===f?(this.Qa("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.Zs(a,b);};c.prototype.CYa=function(a){var b,d;b=f.Sj()[this.M];d={Ck:null,zF:null,mc:null,Ji:0,wh:0,V:[]};this.eb.bV(d);a={ap:b,U:d.mc,Yc:a,Ab:d.zF||a,vl:d.Ck||a,wh:d.wh,Ji:d.Ji,p8:d.V.length,V:d.V};h.ka(a.U)?this.seeking&&a.Yc!=a.U&&(a.Yc=a.U):(a.U=0,a.Ab=0);return a;};return c;}(g.hla);c.pja=a;},function(g,c,a){var b,f,h,q,d,k,p,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(57);h=a(6);g=a(27);q=a(372);d=a(719);k=a(26);p=a(3);t=a(28);a=a(43);u=function(a){function c(b,f,c,g,k,h,m,p,q,t,u,l,y,n,B,r,A){var x,H;x=a.call(this,f,g,q.O,b,q,t,u,n,l,m.Cd.bind(m),y,A,void 0,!0)||this;x.Ya=b;x.Kf=c;x.rb=k;x.bR=h;x.X=m;x.LC=p;x.lf=y;x.$K=B;x.De=r;x.active=!1;x.doa=[];x.children=Object.create(null);x.yr=[];x.cd=void 0;void 0===n&&(n=u);H=[x.K.N4,x.K.jZ];t.forEach(function(a){var c,g;c=a.M;g=k.rwa.bind(k,x,c);a=new d.pja(b,x.Kf,x.L,x,a,n.Va,H[c],f,x.bR,x.De,x.gR[c],null===y||void 0===y?void 0:y.Te(c),g);x.zn[c]=a;});return x;}b.__extends(c,a);Object.defineProperties(c.prototype,{u:{get:function(){return this.O.u;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Sk:{get:function(){return[this.dd[0].Sk,this.dd[1].Sk];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{um:{get:function(){return[this.dd[0].um,this.dd[1].um];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ad:{get:function(){return this.iG.Va;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uf:{get:function(){return this.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{mc:{get:function(){return this.iG.Va+this.zd;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{re:{get:function(){return this.ga+this.zd;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bb:{get:function(){return this.O.bb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{weight:{get:function(){return this.na.weight;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{na:{get:function(){return this.tpa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dd:{get:function(){return this.zn;},enumerable:!0,configurable:!0}});c.prototype.Rh=function(){this.R6||(this.active=!1,this.lf&&(delete this.lf.children[this.na.id],this.lf=void 0),h.Yd(this.children,function(a){a&&a.lf&&(a.lf=void 0);}),this.children=Object.create(null),this.fC=void 0,a.prototype.Rh.call(this));};c.prototype.Dta=function(a,b){this.dd.forEach(function(a){(h.T(b)||a.M===b)&&a.Rh();});a&&this.lf&&this.lf.Dta(a,b);};c.prototype.sya=function(a){var b,d,f;b=this.lf;if(b){d=b.Te(a);f=d.eb.xCa;if(0!==f&&(b.fD(a),f=d.eb.xCa,0!==f))return!1;}return!0;};c.prototype.Gc=function(a){return this.dd[a];};c.prototype.hib=function(){return this.dd.every(function(a){return 0===a.EA;});};c.prototype.toJSON=function(){return{segment:this.na.id,active:this.active,branchOffset:this.zd,viewableId:this.O.wa,contentStartPts:this.iG,contentEndPts:this.ga,playerStartPts:this.mc,playerEndPts:this.re,pipelines:this.dd,previousBranch:this.lf};};c.prototype.KFa=function(a,b){this.O.DHa(this);this.O=this.na.O=a;this.CFa(this.O);this.O.$Da(this);this.dd.forEach(function(a){var d;d=b[a.M];d&&a.GFa(d);});};c.prototype.pgb=function(a){return this.kXa[a];};c.prototype.Te=function(a){return this.dd[a];};c.prototype.Agb=function(a){return this.dd[a].EA;};c.prototype.xea=function(a,b,d){var f,c,g,k;f=this;c=this.na;a=this.XS(c.U,this.O,a,this.u===(a?a.u:this.rb.Ib.u));g=a.HF;k=a.xt;void 0===b&&(b=[0,1]);0===k.length||b.forEach(function(a){var b,g;b=f.dd[a];d&&(b.Vh=k[a]);g=f.RK(c.ga);b.NY(g[a]);});return g;};c.prototype.WDa=function(a,b){var f,c,g,k;f=this.Ya;c=this.dd[0];void 0===b&&(b=c.njb);this.lf&&(g=this.lf.Gc(0));k=this.rb.rwa.bind(this.rb,this,0);f=new d.pja(f,this.Kf,this.L,this,a,b,c.FN,this.K,this.bR,this.De,this.gR[0],g,k);this.dd[0]=f;this.xea(this.lf,[0],!0);f.PA(b);c.Rh();h.Yd(this.children,function(b){b&&b.WDa(a);});};c.prototype.Hq=function(a,b){if(b=this.dd[b])return b.eb.Hq(a);};c.prototype.fD=function(a){void 0===a?this.dd.forEach(function(a){a.fD();}):this.dd[a].fD();};c.prototype.bN=function(a,b,d){(a=this.dd[a])&&a.eb.bN(b,d);};c.prototype.bV=function(a,b){(b=this.dd[b])&&b.eb.bV(a);};c.prototype.rmb=function(a){this.doa[a]=!0;};c.prototype.w5a=function(){var a;a=this;return[0,1].every(function(b){return!a.bb(b)||a.doa[b];});};c.prototype.Zs=function(a,b,d,f){var c,g,h,m,p,q,t,u;c=this.K;g=this.Ya;h=this.X.Wc();m=h===k.pa.Zf||h===k.pa.Gj;if(!m&&void 0===d)return{dh:!0};p=this.dd[0];q=this.dd[1];t=this.rb.Sv(this,0);u=this.rb.Sv(this,1);b=!p||p.Qra(h,this.X.Cd(),b,t,f);a=!q||q.Qra(h,this.X.Cd(),a,u,f);c.Nf&&this.Kf.Hi("Branch checkBufferingComplete02, audio: "+t+" video: "+u+" audio ready: "+b+" video ready: "+a);void 0!==d&&b&&(t=d.ab,u=this.O.getTrackById(t),this.pXa(t,u.vZ),g.Ns=void 0);if(b&&a)return this.LC(),{dh:!0,$o:q?q.GJ:p.GJ};t=this.kp(0);u=this.kp(1);if(m){g=!q||u>c.mj;if((!p||t>c.mj)&&g&&(p=this.$K(),p>=c.BF))return this.Qa("buffering longer than limit: "+p+" >= "+c.BF+", audio buffer: "+t+" ms, video buffer: "+u+" ms"),this.LC(),{dh:!0,$o:"prebufferTimeLimit"};this.Kf.PZa();}return{dh:!1};};c.prototype.v5=function(a,b){var d,f,c,g,k,h;d=this.K;f=this.dd[0];c=this.dd[1];b?(b=this.kp(0,a),a=this.kp(1,a)):(b=this.rb.Sv(this,0,a),a=this.rb.Sv(this,1,a));g=d.mj;k=!this.bb(0)||f.Ag&&0===f.eb.Xw&&0===f.eb.Du;f=!this.bb(1)||c.Ag&&0===c.eb.Xw&&0===c.eb.Du;h=k&&f;d=!k&&b<d.mj;if(!h&&(d||!f&&a<g))return!1;if(c&&c.dh||!this.bb(1))return!0;if(h)if(this.Ya.DR&&0===b&&0===a)this.Qa("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};c.prototype.$vb=function(a,b){var d,f;d=this;f=this.K;this.dd.forEach(function(a){a.seeking=void 0;});a&&f.Nf&&this.dd.forEach(function(a){var f;if(a){f=d.rb.Vy(d,a.M);a="bufferingComplete: , mediaType: "+a.M+", bufferLevelBytes: "+a.um.aa+", completedMs: "+a.uD+", completedBytes: "+f+", partials: "+a.eb.Xw+", streamingPts: "+a.Ab+", completeStreamingPts: "+a.Ck+", fragments: "+JSON.stringify(a.eb.V)+", toAppend: "+b(a.M);d.Kf.Hi(a);}});};c.prototype.Rva=function(){var a,b;a=!0;b={};this.dd.map(function(d){var f;f=1===d.M?"v":"a";d=d.um;b[f+"buflmsec"]=d.Va;b[f+"buflbytes"]=d.aa;a=a&&0<d.Va;});return{pV:a,FJ:b};};c.prototype.bZ=function(a,b,d){var f,c,g;f=this;c=p.time.fa();g={};h.Yd(this.children,function(a){var b,d;if(a){a.cd?(a.cd.lab=c-a.cd.MV,a.cd.MV=void 0,b=a.cd.weight):b=f.rb.Zwa(f.na.id,a.na.id);d=a.Rva();g[a.na.id]={weight:b,FJ:d.FJ,pV:d.pV};}});d={requestTime:c,BY:a,l$a:d,$Y:this.na.id,cd:g};a||(a=b.Cd(),d.dGa=a-this.iG.Va+this.zd,d.GT=0,d.startTime=c);this.yr.unshift(d);return d;};c.prototype.i6a=function(a){var b,d;b=this.yr[0];b.BY&&(b.dGa=this.ga-this.iG.Va);d=a.Rva();b.lHa={};f(d.FJ,b.lHa);b.pV=a.um.every(function(a){return 0<a.Va;});this.yr=[];return b;};c.prototype.Mi=function(a){var b;b=this.na;a-=this.zd;if(b.U<a&&a<b.ga)this.yr.shift();else if(b=this.yr[0])b.Mi=!0;};c.prototype.XS=function(a,b,d,f){var c,g,k,h;c=this;void 0===b&&(b=this.O);g=!1;if(d){g=!0;k=d.dd[1].rg;d=d.dd[0].rg;if(!k||!d)return{HF:[],xt:[]};k=k.ga;f||(k=void 0);}h=this.$ua(a,k,g,b);b.Pa===this.rb.l9a&&[1,0].forEach(function(a){var b;b=c.Te(a);b&&(b.Vh=h[a]);});return{HF:h.map(function(a){return a.U;}),xt:h};};c.prototype.$ua=function(a,b,d,f){var c;c=this;void 0===f&&(f=this.O);return this.Npa(f)?[1,0].map(function(g){if(!c.bb(g))return{};g=c.dd[g].QK(f.Qf[g].stream,a,b,d);a=g.U;return g;}).reverse():[];};c.prototype.RK=function(a,b){var d;d=this;void 0===b&&(b=this.O);return this.Npa(b)?[1,0].map(function(f){var c;if(!d.bb(f))return{};c=b.Qf[f].stream;f=d.dd[f].jE(c,a);a=d.K.Td?new t.Xa(f.xb,c.Ra.ea).Va:f.ga;return f;}).reverse():[];};c.prototype.Zzb=function(a,b){var d;d=this.na.ga;d&&d<b&&(a=this.RK(d));b=this.Gc(1);d=this.Gc(0);b&&b.NY(a[1]);d&&d.NY(a[0]);};c.prototype.Npa=function(a){var b;b=a.Qf;if(!b)return!1;a=b[1];a=!this.bb(1)||a&&a.stream.pd;b=b[0];b=!this.bb(0)||b&&b.stream.pd;return a&&b?!0:!1;};c.prototype.pXa=function(a,b){this.Kf.NZa(a,b);};return c;}(q.m_);c.RPa=u;a.Pi(g.EventEmitter,q.m_);},function(g,c,a){var b,f,h,q,d,k,p,t,u,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(57);h=a(3);q=a(720);d=a(717);k=a(26);p=a(716);t=a(14);u=a(7);l=a(28);g=function(){function a(a,b,d,f,c,g,k,m,q,l){this.Ya=a;this.Kf=b;this.L=d;this.LC=f;this.K=k;this.bR=m;this.Zoa=q;this.$K=l;this.Qa=this.L.warn.bind(this.L);this.Zi=this.L.trace.bind(this.L);this.nb=this.L.log.bind(this.L);this.Fg=[];this.km={};c.Wy?(u.assert(!c.Pk),this.d2=!0,this.D_a(c,c.Wy,g)):(this.wk=this.s2(c.Pk||"",c,0,void 0,void 0,{},!0),this.wk.lX=!0,this.wk.ga=Infinity,this.hS=[this.wk]);this.Ic=this.TQ(this.wk,this.wk.U,void 0,g);this.Ic.active=!0;a=t.Tz(h,this.L,"BranchQueue::");this.oy=new p.tUa(a);this.oy.enqueue(this.Ic);this.FR=this.yI=void 0;}Object.defineProperties(a.prototype,{Kt:{get:function(){return!!this.d2;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{vp:{get:function(){return this.Ic.R6;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ih:{get:function(){return this.wk;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Mg:{get:function(){return this.Ic.na.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{l9a:{get:function(){return this.Ic.O.Pa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ib:{get:function(){return this.Ic;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tf:{get:function(){return this.Fg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zd:{get:function(){return this.Ic.zd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{De:{get:function(){return this.Ya.De;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ck:{get:function(){return this.yI?this.yI:this.tf[0];},enumerable:!0,configurable:!0}});a.prototype.Rh=function(){this.Fg.forEach(function(a){a.Rh();});this.Fg=[];this.oy.clear();};a.prototype.ij=function(a){return this.km[a];};a.prototype.q9=function(a){return"m"+a;};a.prototype.Zwa=function(a,b){var d;d=this.km[a];if(d)return(a=d.zl[b])&&a.weight;this.Qa("getSegmentWeight, unknown segment:",a);};a.prototype.Kgb=function(a){var b;b=this.km[a];if(b)return b.U;this.Qa("getSegmentStartPts, unknown segment:",a);};a.prototype.Jgb=function(a){var d;d=this.km[a];if(!d)this.Qa("getSegmentDuration, unknown segment:",a);else if(b.ka(d.ga)&&isFinite(d.ga)&&b.ka(d.U)&&isFinite(d.U))return d.ga-d.U;};a.prototype.mda=function(a){var b;b=-1;this.Fg.some(function(d,f){return d===a?(b=f,!0):!1;});-1!==b?this.Fg.splice(b,1):this.Qa("Unable to find branch:",a,"in branches array");};a.prototype.Q4a=function(a,b){var d;d=0;this.Xna(a).forEach(function(a){(a=a.Gc(b))&&(d+=a.v4);});return d;};a.prototype.Vy=function(a,b){var d;d=0;this.Xna(a).forEach(function(a){(a=a.Gc(b))&&(d+=a.Yy);});return d;};a.prototype.Sv=function(a,b,d){if(!a.bb(b))return 0;for(var f=a.Te(b),f=d?f.Ab:f.Ck;void 0===f;){if(!a.lf)return 0;a=a.lf;f=a.Te(b);f=d?f.Ab:f.Ck;}a=this.Zoa.Cd();return Math.max(f-a,0);};a.prototype.rwa=function(a,b){var d;if(void 0!==this.K.Xz){d=h.Sj()[b];a=this.Q4a(a,b);return d-a;}};a.prototype.S7=function(a){return this.Fg.filter(function(b){if(b.O.Pa===a)return!0;});};a.prototype.Hcb=function(a,b){return this.Rna(a,!1,b);};a.prototype.Gcb=function(a,b){return this.Rna(a,!0,b);};a.prototype.Ztb=function(a,d,f){b.Yd(this.Fg,function(b){b.O===a&&b.KFa(d,f);});b.Yd(this.km,function(b){b.O===a&&(b.O=d);});};a.prototype.uEa=function(){var a;a=this;b.Yd(this.Fg,function(b){var d;d=a.Ya.zf(b.O.Pa);b.zd=d.Wq;});};a.prototype.ON=function(a){b.Yd(this.Fg,function(b){b.Te(1).track.yc.forEach(function(b){var d;d=k.C4(b.wf,b.R,a);f(d,b);});});};a.prototype.Hq=function(a,b,d,f){var c;for(;b;){c=b.Hq(a,d);if(c)return c;if(f)break;b=b.lf;}};a.prototype.ata=function(a){var b,d;b=this;void 0===a&&(a=!1);d=this.Fg;a&&(d=d.filter(function(a){return a!==b.Ic;}));d.forEach(function(a){a.active=!1;b.oy.remove(a);});a||this.oy.clear();return d;};a.prototype.ysb=function(){var a;for(;0<this.Fg.length;){a=this.Fg[0];if(!a.active)break;if(a===this.Ic)break;if(!a.hib())break;a.Rh();this.Fg.shift();}};a.prototype.bN=function(a,b,d,f,c){if(d>f){for(d-=f;a;)a.bN(b,d,c),a=a.lf;return d;}};a.prototype.Vza=function(a,b){for(var d={Ck:null,zF:null,mc:null,Ji:0,wh:0,V:[]};a;)a.bV(d,b),a=a.lf;return d;};a.prototype.V5a=function(a){var b,d,f;b=this.Ic;if(b.Mza)d=b.Mza;else{f=this.Ic.zd;d=this.TQ(b.na,0,b);k.ag.forEach(function(a){var f;f=d.Gc(a);f&&(f.PA(0),f.NY(b.Gc(a).rg));});d.zd=f+a;b.Mza=d;}this.XB(d,b);};a.prototype.e2a=function(a,b,d){var f,c;u.assert(!a.Kt());if(!this.d2){this.d2=!0;this.yI=this.ck;f=this.wk.id||this.q9(0);this.wk.id=f;this.km[f]=this.wk;this.wk.ga=this.Ya.sfb().vwa();this.wk.ax=!0;}c=void 0!==a.Pk?a.Pk:this.q9(a.Pa);a=this.s2(c,a,b,d,void 0,{},!0);a.ax=!0;this.hS.forEach(function(a){a.zl={};a.zl[c]={weight:100};a.pK=c;a.rG=!1;});this.hS=[a];};a.prototype.$s=function(a,b){var d,f,c,g;d=this.ck;f=d.bZ(b,this.Ya.X);c=d.na;g=d.children[a];if(b){if(!c.zl[a])return this.Ic.Qa("chooseNextSegment, invalid destination:",a,"for current segment:",c.id),!1;if(d.Bi)return d.Bi===a;d.Bi=a;g&&d.xU&&this.XB(g,d);return!0;}if(void 0!==d.Bi)return!1;if(!g)return f.fBa=!0,!1;f.fBa=!g.v5();this.Ya.C3(!1);d.xU=void 0;d.Bi=a;this.XB(g,d);this.Ya.TI();return!0;};a.prototype.wib=function(a,d){var f,c,g,k;f=this;k=a.na;d&&!a.Bi&&(a.Bi=k.pK,a.bZ(!0,this.Ya.X,!0));a.children=Object.create(null);b.Yd(k.zl,function(b,d){a.Bi&&d!==a.Bi||(c=f.km[d],g=f.YXa(c,a),a.children[d]=g);});a.Bi&&(d=a.children[a.Bi])&&this.XB(d,a);a.xU=!0;};a.prototype.hzb=function(){var a;a=0;b.Yd(this.Fg,function(b){k.ag.forEach(function(d){b.bb(d)&&(a+=b.Gc(d).eb.Dn);});});return a;};a.prototype.wyb=function(a,b){var d,f,c;d=this;f=this.zYa(a,b);if(f){f!==this.Ic.na?(this.ata(),c=this.TQ(f,a,this.Ic),c.lf=void 0,c.xea(void 0,void 0,!0),this.VWa(this.Ic),this.XB(c,this.Ic)):(this.ata(!0).forEach(function(a){a.Rh();d.mda(a);}),this.Ic.Qfa(a));f===this.ck.na&&(this.ck.yr.shift(),c&&(c.yr=this.ck.yr,c.Bi=this.ck.Bi));this.Kf.Loa(f,this.Ic.zd);this.Ic.xU=void 0;}else this.Qa("findSegment no segment for manifestIndex:",b);};a.prototype.Uza=function(a,b){var d;d=a.na;b||(b=d.pK);t.Zda(d.id);a.Bi||(a.Bi=b,a.bZ(!0,this.Ya.X,!0));(b=a.children[a.Bi])&&this.XB(b,a);};a.prototype.tFa=function(a,b){if(this.Ic!==a){if(b)for(b=this.Ic;b&&b!==a;)b.active=!1,this.oy.remove(b),b=b.lf;this.Ic=a;}};a.prototype.Up=function(a,b){var d,f,c,g,h;d=this;if(this.Kt){f=this.K;c=this.ck;g=c.na;h=t.Zda(g.id);!c.Bi&&!g.rG&&c.ga-b<=f.aX&&(this.Qa(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.Uza(c));}k.ag.forEach(function(a){d.Ic.bb(a)&&d.De[a].Up();});};a.prototype.Uob=function(a,b){var d,f;if(this.Kt){d=this.yI;if(this.K.Oib&&a&&this.FR&&a.U===this.FR)this.Zi("Ignoring pts that wiggled back into previous segment",this.FR);else if(a=a.eb.Xd,!d||a.na.id!==d.na.id){f=d&&d.Gc(1);this.FR=(f=f&&f.rg)&&f.U;this.yI=a;this.sXa(d);d=d&&d.i6a(a);this.Kf.i_a(a.na,b,d);}}};a.prototype.Hob=function(a,b,d){b.lX||(b.U=this.Nwa(a,b.U,!0),d||(b.ga=this.Nwa(a,b.ga,!1)),b.lX=!0,!1);};a.prototype.BZ=function(a,d){var f;t.Zda(a);f=this.km[a];f?b.Yd(f.zl,function(a,b){a.weight=d[b]||0;}):this.Qa("updateChoiceMapEntry, unknown segment:",a);};a.prototype.Nwa=function(a,b,d){a=d?a.$ua(b):a.RK(b);if(!a.length)return b;b=a[1];return d?b.U:b.ga;};a.prototype.koa=function(a,b,d){var f;f=b?d.uf:d.re;return(b?d.Ad:d.mc)<=a&&a<f;};a.prototype.Rna=function(a,d,f){var h;for(var c=this.Ya,g=this.Ic;g;){if((!b.ka(f)||c.F$(f,g.O.Pa))&&this.koa(a,d,g))return g;g=g.lf;}if(d)for(var g=Object.keys(this.Ic.children),k=0;k<g.length;k++){h=this.Ic.children[g[k]];if((!b.ka(f)||c.F$(f,h.O.Pa))&&this.koa(a,d,h))return h;}};a.prototype.YXa=function(a,b){var d,f;d=this.TQ(a,a.U,b);f=d.xea(b,void 0,this.K.gda);k.ag.forEach(function(a){var c,g;if(d.bb(a)){c=d.Gc(a);g=b.Gc(a);1===a&&(g=g.Ab+b.zd,d.zd=g-f[a],d.iG=l.Xa.jp(f[a]));c.PA(f[a]);}});this.Kf.Loa(a,d.zd);return d;};a.prototype.VWa=function(a){for(var b=[a.na.id];a.lf;)a=a.lf,b.unshift(a.na.id);this.U1(a);};a.prototype.U1=function(a){var d,f;d=this;f=a.na;b.Yd(a.children,function(a){a&&d.U1(a);});this.oy.remove(a);a.Rh();this.mda(a);this.Kf.f_a(f);};a.prototype.XB=function(a,d){var f,c,g,k;f=this;c=d.na;d.O!==a.O&&this.Ya.roa(a.O.Pa);a.active=!0;this.oy.enqueue(a);a.fD();g=h.time.fa();k={};b.Yd(d.children,function(b){var d,c;if(b){if(b.cd){d=b.Gc(0);c=b.Gc(1);b.cd.EJ=[d?d.um.Va:0,c?c.um.Va:0];b.cd.lab=g-b.cd.MV;b.cd.MV=void 0;k[b.na.id]=b.cd;}b.na.id!==a.na.id&&f.U1(b);}});d.children=Object.create(null);d.children[a.na.id]=a;d.fC=void 0;this.tFa(a);this.Kf.g_a(a.na,k);1<Object.keys(c.zl).length&&a.v5();};a.prototype.sXa=function(a){var b,d;if(a){b=h.time.fa();d=a.yr[0];d&&void 0===d.GT?d.GT=b-d.requestTime:d||(this.Qa("missing metrics for branch:",a.na.id),d={$Y:a.na.id,BY:!0,GT:0,cd:{}},a.yr.unshift(d));void 0===d.startTime&&(d.startTime=b);}};a.prototype.zYa=function(a,d){var f,c,k,h;u.assert(0<=a);for(var g in this.km){k=this.km[g];if(this.Ya.F$(k.O.Pa,d)){if(k.U<=a&&(Infinity===k.ga||void 0===k.ga||a<k.ga))return k;h=Math.min(Math.abs(a-k.U),Math.abs(a-k.ga));if(b.T(f)||h<f)f=h,c=k;}}return c;};a.prototype.s2=function(a,b,f,c,g,k,h,m){b=new d.qVa(a,b,f,c,g,k,h,m);return this.km[a]=b;};a.prototype.D_a=function(a,d,f){var c,g,k;c=this;this.wk=void 0;this.hS=[];g=null;k=null;b.Yd(d.segments,function(d,h){var m,p,q,t,u;m=d.startTimeMs;p=d.endTimeMs;q={};b.Yd(d.next,function(a,b){q[b]={weight:a.weight||0,szb:a.transitionHint||d.transitionHint,XMb:"number"===typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:d.earliestSkipRequestOffset};});t=d.defaultNext;b.T(t)&&(t=Object.keys(q)[0]);u=b.T(t);t=c.s2(h,a,m,p,t,q,u,d.transitionDelayZones);m<=f&&(f<p||b.T(p))?c.wk=t:m>f&&(!g||m<k)&&(g=h,k=m);u&&c.hS.push(t);});this.wk||(this.wk=g?this.km[g]:this.km[d.initialSegment]);};a.prototype.TQ=function(a,b,d,f){var c,g,k,h;c=a.O;g=this.Ya.zf(c.Pa);k=g.Wq;h=[];[0,1].forEach(function(a){c.bb(a)&&h.push(g.Cl(a));});a=new q.RPa(this.Ya,this.K,this.Kf,this.L,this,this.bR,this.Zoa,this.LC,a,h,l.Xa.jp(b),k,d,f?l.Xa.jp(f):void 0,this.$K,this.Ya.De,this.Ya.qq);this.YWa(a);this.Fg.push(a);return a;};a.prototype.YWa=function(a){var d;function b(a){d.Ya.emit(a.type,a);}d=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;d.Ya.G3(a.M,a.U);});};a.prototype.Xna=function(a){for(var b=[a];a.lf;)a=a.lf,b.push(a);return b;};return a;}();c.jKa=g;},function(g,c,a){var b,f,h,q,d,k,p,t,u,l,n,x,r,G,P,S,T,U,C,R,O,ea,ba,ca,V,A,M,F,sa,N,K,Q,za;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);f=a(6);h=a(721);q=a(168);d=a(714);k=a(214);p=a(26);t=a(397);u=a(228);l=a(215);n=a(713);x=a(364);r=a(354);G=a(704);P=a(702);S=a(3);T=S.Promise;U=S.MediaSource;C=a(14);R=a(7);O=a(701);ea=a(165);ba=a(700);ca=a(699);V=a(698);A=a(697);M=a(66);F=a(696);sa=a(695);N=a(694);K=a(693);g=a(43);Q=a(691);za=a(690);a=function(){var n7Q;function a(a,f,c,g,k,m,p,q,t,u,y){var W7Q,B,r,H,T,U,m5z,c5z,T5z,J5z,k5z,D5z;W7Q=2;while(W7Q!==74){m5z="1SI";m5z+="Y";m5z+="bZr";m5z+="NJCp";m5z+="9";c5z="mana";c5z+="ge";c5z+="rdebugeven";c5z+="t";T5z="m";T5z+="e";T5z+="dia";T5z+="c";T5z+="ache";J5z="media";J5z+="|";J5z+="asejs";k5z="A";k5z+="S";k5z+="E";k5z+="J";k5z+="S";D5z="b";D5z+="ra";D5z+="nchi";D5z+="ng";switch(W7Q){case 77:W7Q=this.Rn?76:74;break;case 76:U=this;this.X.addListener(function(a){var s7Q,j7Q;s7Q=2;while(s7Q!==1){switch(s7Q){case 2:try{j7Q=2;while(j7Q!==1){switch(j7Q){case 2:U.Ta.eAb.bind(U.Ta)(a);j7Q=1;break;}}}catch(mf){var M5z;M5z="Hind";M5z+="si";M5z+="ght: Error w";M5z+="hen adding updateP";M5z+="laySegment Listener: ";h4KK.E5z(0);U.Oa.Ml(h4KK.o5z(M5z,mf));}s7Q=1;break;}}});W7Q=74;break;case 12:this.Oa=r;this.zsa=new ba.mLa(this.L);H=!(!f||!f.choiceMap||D5z!==f.choiceMap.type);T=H?{ZD:!1,Rn:!1}:P.ofb(u);this.ZD=T.ZD;W7Q=18;break;case 62:W7Q=u.r7&&this.af.cW?61:58;break;case 8:this.L=new S.Console(k5z,J5z,"("+p.sessionId+")");this.Vd=this.L.error.bind(this.L);this.Qa=this.L.warn.bind(this.L);this.Zi=this.L.trace.bind(this.L);r=new F.URa(this,this.L);W7Q=12;break;case 37:this.Hg.on(this.rb.He,T5z,function(a){var g7Q,L5z;g7Q=2;while(g7Q!==1){L5z="mediac";L5z+="ach";L5z+="e";switch(g7Q){case 2:C.Ha(B,L5z,a);g7Q=1;break;case 4:C.Ha(B,"",a);g7Q=2;break;g7Q=1;break;}}});W7Q=36;break;case 39:this.Hg.on(this.rb.He,c5z,function(a){var Y7Q;Y7Q=2;while(Y7Q!==1){switch(Y7Q){case 2:C.Ha(B,a.type,a);Y7Q=1;break;case 4:C.Ha(B,a.type,a);Y7Q=6;break;Y7Q=1;break;}}});W7Q=38;break;case 40:W7Q=u.Nf&&this.rb.He?39:38;break;case 38:W7Q=(u.Vfa||u.zx)&&this.rb.He?37:36;break;case 49:a=this.oea.Tgb();k=null;u.FK&&(k=this.rb.yo.ys);ea.Fu.xe().reset();W7Q=45;break;case 59:this.af.Pfa(this.K);W7Q=58;break;case 31:this.Y1=q;this.RC=!1;this.uI=void 0;this.rR=-1;W7Q=44;break;case 44:this.Hg=new b.Mx();this.Uk=new K.pVa(this,this.L,this.bb.bind(this),r);this.Qe=new V.TMa(this,this.L,this.bb.bind(this));this.yK=new ca.SMa(this,this.L,r);W7Q=40;break;case 61:u=u.qib;for(var O in u){c=u[O];u.hasOwnProperty(O)&&c&&(this.K[O]=c);}W7Q=59;break;case 21:this.zC=m.$L;this.PR=void 0;W7Q=34;break;case 18:this.Rn=T.Rn;this.Kw=new A.YPa(this,this.L,this.bb.bind(this),T);this.M0a=[!m.cSb,!m.fLb];this.bb(0)&&this.bb(1);this.rb=a;W7Q=26;break;case 34:this.X=new sa.tJa(t);this.XR=k||0;this.AC=0;W7Q=31;break;case 2:B=this;this.cv=new N.DUa();this.gI=[];this.yw={lq:[Object.create(null),Object.create(null)]};m5z;W7Q=8;break;case 26:this.vk=p;this.K=u=this.zsa.hXa(f,u);this.DR=m.tA;this.Mpa=!!m.EG;this.j1a=!!m.IZ;W7Q=21;break;case 58:O=f.O;this.ma=new h.jKa(this,this.Oa,this.L,this.J3.bind(this),O,this.XR,this.K,this.Qe,this.X,this.$K.bind(this));O={$L:this.$L,kr:this.kr,jk:this.jk,tA:this.tA};this.Ta=new x.EVa(this.L,this.af,this.K,this.bb.bind(this),this.X,O,this.rb.Tb,this.Oa,this.Qe,this.ma,T);W7Q=77;break;case 36:H&&u.YD&&!u.Kab&&(u.set?u.set({enableAdaptiveParallelStreaming:!1}):u.YD=!1);0===Math.floor(1E6*Math.random())%u.oJ&&(this.i0a=new G.GUa());this.qq=[];this.De=[];this.oea=new l.K0(this.rb.Tb,this.rb.Tg,this.K,void 0);this.oea.YC(f);W7Q=49;break;case 45:f=d.Nja.create({Pa:0,sa:f,Pk:c,dFa:g,ff:!!m.ff,Bya:!1,Qh:!!m.Qh,Aq:y||this.gI,U:0,ga:m.ga,Oa:this.Oa,Qq:this.boa.bind(this),Pp:this.Pp.bind(this),bb:this.bb.bind(this),Eb:this,config:this.K,L:this.L,Qe:this.Qe,Uk:this.Uk,He:this.Mpa?this.rb.He:void 0,yw:this.yw});f.mJ=!0;this.dc=[f];this.af=new n.fJa(this,this.L,a,this.rb.Tb,u,this.YE(),k,this.bb.bind(this),T);W7Q=62;break;}}}n7Q=2;while(n7Q!==118){switch(n7Q){case 87:a.prototype.G3=function(a,b){var h9Q,d,c,g,O5z;h9Q=2;while(h9Q!==7){O5z="ptschan";O5z+="g";O5z+="e";O5z+="d";switch(h9Q){case 5:h9Q=d.Te(a)?4:7;break;case 4:c=this.Ta.ye[a];g=this.Ta.xu[a];f.T(c.nl)&&(c.nl=b,1===a&&this.Fn&&(a=this.Ta.ye[0],f.T(a.nl)&&(d=d.Te(0),d.PA(b)),this.emit(O5z,b)));h9Q=8;break;case 2:d=this.ma.Ib;h9Q=5;break;case 8:f.T(g.HJ)&&(g.HJ=b);h9Q=7;break;}}};a.prototype.rxa=function(a){var a9Q;a9Q=2;while(a9Q!==1){switch(a9Q){case 2:this.kg&&(this.kg.umb(a),this.Ora());a9Q=1;break;}}};a.prototype.Jhb=function(a){var G9Q;G9Q=2;while(G9Q!==1){switch(G9Q){case 2:this.kg&&(this.kg.tmb(a),this.Ora());G9Q=1;break;}}};a.prototype.Ora=function(){var P9Q,a,W5z;P9Q=2;while(P9Q!==3){W5z="allCompl";W5z+="ete";W5z+="d";switch(P9Q){case 2:P9Q=1;break;case 7:P9Q=this.kg?0:9;break;P9Q=this.kg?5:3;break;case 5:a=this.K;this.kg.zz()||(this.kg=void 0,a.jJ||this.cv.IE||this.oS(W5z));P9Q=3;break;case 1:P9Q=this.kg?5:3;break;}}};a.prototype.$I=function(){var p9Q,a,b,d,c,g,k,h,m;p9Q=2;while(p9Q!==19){switch(p9Q){case 9:g=this.ma.Ib;p9Q=8;break;case 8:k=this.X.Cd()||0;h=this.et(d,k);m=b.FZ;p9Q=14;break;case 2:a=this;b=this.K;d=this.ZM;c=this.dc[d];p9Q=9;break;case 11:m=Math.max(m,1);this.Dv&&clearTimeout(this.Dv);this.Dv=setTimeout(this.$I.bind(this),m);p9Q=19;break;case 14:this.rb.He&&void 0!==c.Uw&&c.Uw-k<=b.KAa&&this.rb.He.kJ(!0,this.vk.sessionId);this.X.Wc()===p.pa.Cc&&([1,0].forEach(function(b){var f9Q,d,c,p,q,t,u,l,P5z;f9Q=2;while(f9Q!==33){P5z="Unable ";P5z+="to find request presenting at player";P5z+="Pt";P5z+="s:";switch(f9Q){case 5:d=g.Te(b);f9Q=4;break;case 34:d.Qa(P5z,k);f9Q=21;break;case 20:f9Q=!a.jk||1===b?19:26;break;case 11:p=c.Pa;t=u.eb;f9Q=20;break;case 26:q.Rkb=u.Rm;c=u.oa;c!=q.daa&&(q.daa=c,b=a.dc[p].O.Oq(b,c),p=a.et(p,u.mc),a.Oa.j_a(b,u.mc,p,b.O.Pa));f9Q=23;break;case 2:f9Q=1;break;case 3:t=d.eb;d.PJ(k);(u=a.ma.Hq(k,g,b))&&!u.xi&&(u=a.De[b].eza);f9Q=7;break;case 27:a.zC&&u.Rm!=q.Rkb&&a.Oa.n_a(u.Rm);f9Q=26;break;case 22:f.T(u)||u==d.NCa||(d.NCa=u);f9Q=21;break;case 7:f9Q=u?6:34;break;case 18:a.rR=p;l=0<p?p-1:null;a.Oa.ZZa(c,k,u.Rm,null!==l?a.dc[l].O.u:null,l);f9Q=15;break;case 6:t=u.re-k;t<m&&(m=t);q=a.Ta.Bp[b];c=u.O;f9Q=11;break;case 23:u=u.R;f9Q=22;break;case 4:f9Q=d?3:33;break;case 15:h=a.et(p,k);f9Q=26;break;case 19:f9Q=(a.ma.Uob(u,u.Rm),p>a.rR)?18:27;break;case 21:a.T_a(t,k);a.ma.ysb();f9Q=33;break;case 1:f9Q=a.bb(b)?5:33;break;}}}),this.ma.Up(k,h));this.Qe.Lh();p9Q=11;break;}}};a.prototype.RQ=function(a){var c9Q;c9Q=2;while(c9Q!==1){switch(c9Q){case 2:return this.Qe.RQ(a);break;case 4:return this.Qe.RQ(a);break;c9Q=1;break;}}};a.prototype.Lh=function(){var I9Q;I9Q=2;while(I9Q!==1){switch(I9Q){case 4:return this.Qe.Lh();break;I9Q=1;break;case 2:return this.Qe.Lh();break;}}};a.prototype.Iy=function(a,b){var w41,d,f,c,z5z;w41=2;while(w41!==11){z5z="abortRe";z5z+="quest with no requestManagaer";z5z+=":";switch(w41){case 1:d=a.eb;w41=5;break;case 5:w41=!d?4:3;break;case 3:f=a.M;c=a.abort();a.ec();a.Hg&&a.Hg.clear();w41=6;break;case 4:return this.Qa(z5z,a),!1;break;case 12:return c;break;case 2:w41=1;break;case 6:d.oY(a);this.De[f].oY(a);!0===b&&this.Qe.Lh();w41=12;break;}}};a.prototype.D0a=function(a){var S41,b,d,I5z;S41=2;while(S41!==3){I5z="no newAudi";I5z+="oTrack ";I5z+="set";switch(S41){case 2:b=a.M;d=this.Ta.ye[b];f.T(d.iX)?a.Qa(I5z):(this.De[b].pause(),d.KG=!0,a=this.Vc.Cl(0),d=this.Vc.O.getTrackById(d.iX.ab),this.Oa.OZa(a,d));S41=3;break;}}};a.prototype.P_a=function(a){var T41,b,d,f,c,g,k,h,m,h5z;T41=2;while(T41!==22){h5z="a";h5z+="udioSwitc";h5z+="h";switch(T41){case 12:this.kg.Utb(function(a){var r41;r41=2;while(r41!==5){switch(r41){case 1:return b.Iy(a,!1),!0;break;case 2:r41=0===a.M?1:5;break;case 3:r41=6!==a.M?8:9;break;r41=0===a.M?1:5;break;}}}),this.kg.zz()||(this.kg=void 0,f.jJ||this.cv.IE||this.oS(h5z));T41=11;break;case 25:++d;T41=27;break;case 18:this.af.aG(null);this.C3(!0,0);this.ma.tFa(a,!0);T41=15;break;case 13:T41=(null===(d=this.kg)||void 0===d?0:d.zz())?12:11;break;case 24:a.WDa(k,m);this.fG(0);T41=22;break;case 7:k=g.O.getTrackById(this.Ta.Ns.ab);h=k.vZ;m=this.X.Cd()-a.zd;T41=13;break;case 15:d=this.AC;T41=27;break;case 26:this.hsb(d,h,m);T41=25;break;case 27:T41=d<this.dc.length?26:24;break;case 2:b=this;f=this.K;a=a.Xd;c=this.Ta.ye[0];this.Ta.Ns=c.iX;g=this.Vc;T41=7;break;case 11:d=this.rb.KU(g.O.sa,[h],0);this.Y1[0]=d[0];this.yK.lpa(0,a.O);c.iX=void 0;T41=18;break;}}};n7Q=104;break;case 72:a.prototype.WR=function(a,b){var C9Q,d,f,c,g,k,g5z;C9Q=2;while(C9Q!==27){g5z="star";g5z+="tBuf";g5z+="fer";g5z+="ing";switch(C9Q){case 2:d=this;f=this.K;C9Q=4;break;case 6:this.X.Sd(2===a?p.pa.Gj:p.pa.Zf);this.Oa.RZa(b);this.as.reset();this.Vc.O.rX();C9Q=11;break;case 4:c=this.Ta.ye[0]||{};g=this.Ta.ye[1]||{};k=this.Ta.xu[1]||{};(this.Ta.xu[0]||{}).HJ=void 0;k.HJ=void 0;C9Q=6;break;case 19:c.sm=g.sm=this.g2;0===a&&(!this.jk||0<g.Gp)&&(!this.Fn||0<c.Gp)&&this.Ta.ds();f.FK&&(this.y2=setTimeout(function(){var W9Q;W9Q=2;while(W9Q!==1){switch(W9Q){case 2:d.d0a();W9Q=1;break;case 4:d.d0a();W9Q=2;break;W9Q=1;break;}}},f.m7));this.X.Fi()&&(this.dC=setTimeout(function(){var Y9Q;Y9Q=2;while(Y9Q!==1){switch(Y9Q){case 4:d.Ta.ds();Y9Q=0;break;Y9Q=1;break;case 2:d.Ta.ds();Y9Q=1;break;}}},f.BF));this.Qe.Lh();C9Q=27;break;case 11:this.emit(g5z);u.ag.forEach(function(b){var n9Q;n9Q=2;while(n9Q!==5){switch(n9Q){case 1:b.c5=0,b.seeking=0===a||1===a,b.dh=!1;n9Q=5;break;case 2:n9Q=(b=d.ma.Ib.Gc(b))?1:5;break;}}});this.g2=S.time.fa();C9Q=19;break;}}};a.prototype.oS=function(a){var g9Q,b,n5z,r5z;g9Q=2;while(g9Q!==9){n5z="AdoptingDa";n5z+="ta sti";n5z+="ll h";n5z+="as lo";n5z+="ck:";r5z="wi";r5z+="peHe";r5z+="ad";r5z+="erCache:";switch(g9Q){case 2:h4KK.B5z(0);a=h4KK.f5z(r5z,a);g9Q=5;break;case 5:this.cv.IE&&this.Vd(n5z+a);b=this.K;b.Aba||(b.Nf&&this.Oa.Hi(a),this.rb.TS(),this.kg&&(this.kg=void 0));g9Q=9;break;}}};a.prototype.rna=function(a){var s9Q,d,c,g,k,G3z,C5z,b5z;s9Q=2;function b(a,b){var j9Q,c,g,k,h,m,p,q,U5z;j9Q=2;while(j9Q!==15){U5z="ado";U5z+="ptPipeline no hea";U5z+="der for streamId:";switch(j9Q){case 10:return k;break;case 9:h=g.oa;m=g.Vn.stream;p=d.Ta.ye[c];q=d.Ta.xu[c];f.T(b.rp)||d.af.xFa(b.rp,b.Fm,b.Gl);j9Q=13;break;case 19:return a.Vd(U5z,h),k;break;case 3:j9Q=g?9:16;break;case 16:return k;break;case 11:j9Q=!a.aBb(h)?10:20;break;case 20:j9Q=!g.Vn?19:18;break;case 13:q.Xn=b.Xn;q.Tn=b.Tn;j9Q=11;break;case 2:c=a.M;g=b[c];k=T.resolve(void 0);j9Q=3;break;case 18:b=d.Vc.O;j9Q=17;break;case 17:b.xS(g.Vn,!b.pe.ff&&!b.Qh&&1===c,!0)&&(void 0!==a.pA&&a.PA(a.pA),k=b.fj(c,h).stream.V.Bl(a.Ab,void 0,!0),b=m.Wh(k),m=b.U,a.Cea()&&(b=b.oU(a.Ab))&&0<b.Oc&&(m=b.Oc),a.Ab!==m&&(a.wea(m,k),d.G3(c,m)),k=d.cXa(a,g.data).then(function(){var N9Q;N9Q=2;while(N9Q!==1){switch(N9Q){case 2:return h;break;case 4:return h;break;N9Q=1;break;}}}),p.adb=!0,0===c&&d.af.aG(g.Vn.R));j9Q=16;break;}}}while(s9Q!==13){G3z="c";G3z+="a";G3z+="tc";G3z+="h";C5z="ch";C5z+="eckForH";C5z+="cdSta";C5z+="r";C5z+="t";b5z="Previously adopte";b5z+="d reque";b5z+="st list st";b5z+="ill retained was unexpecte";b5z+="d";switch(s9Q){case 9:s9Q=!this.j1a||!this.rb.He?8:7;break;case 2:d=this;(null===(c=this.kg)||void 0===c?0:c.zz())&&this.Vd(b5z);this.kg=void 0;g=this.K;s9Q=9;break;case 8:return this.rb.i5(),T.resolve();break;case 7:this.Oa.rs(C5z);this.dc.forEach(function(b){var U9Q;U9Q=2;while(U9Q!==1){switch(U9Q){case 2:b.O.u===a&&(k=b);U9Q=1;break;}}});return this.rb.He.bmb(a,k?k.O:void 0).then(function(a){var m9Q,c,k,K3z,Z3z,i3z;m9Q=2;while(m9Q!==6){K3z="headerCacheDat";K3z+="aNotF";K3z+="ound";Z3z="ad";Z3z+="o";Z3z+="pt";Z3z+="HcdStar";Z3z+="t";i3z="che";i3z+="ckForH";i3z+="cd";i3z+="E";i3z+="nd";switch(m9Q){case 2:d.Oa.rs(i3z);m9Q=5;break;case 5:m9Q=f.T(a)?4:3;break;case 3:c=d.ma.Ib.Gc(0);k=d.ma.Ib.Gc(1);d.Oa.rs(Z3z);return d.cv.tIa(function(){var Z9Q,f,h,S3z;Z9Q=2;while(Z9Q!==6){S3z="adoptH";S3z+="cdEn";S3z+="d";switch(Z9Q){case 2:f=T.resolve();d.jk&&(f=b(k,a));h=T.resolve();!d.Fn||g.Lxa&&!f||(h=g.Lxa?f.then(function(d){var L9Q;L9Q=2;while(L9Q!==1){switch(L9Q){case 4:return d?b(c,a):T.resolve();break;L9Q=1;break;case 2:return d?b(c,a):T.resolve();break;}}}):b(c,a));d.foa=a;d.Oa.rs(S3z);Z9Q=7;break;case 7:return T.all([f,h]);break;}}});break;case 4:return g.jJ||d.cv.IE||d.oS(K3z),T.resolve();break;}}}).then(function(){var V9Q,a,V3z;V9Q=2;while(V9Q!==5){V3z="a";V3z+="doptedComplet";V3z+="edRequests";switch(V9Q){case 2:g.jJ||(null===(a=d.kg)||void 0===a?0:a.zz())||d.cv.IE||d.oS(V3z);V9Q=5;break;}}})[G3z](function(a){var k9Q,Y3z;k9Q=2;while(k9Q!==1){Y3z="hea";Y3z+="derCac";Y3z+="he:lookupDataPromise caught error:";switch(k9Q){case 4:d.Qa("",a);k9Q=5;break;k9Q=1;break;case 2:d.Qa(Y3z,a);k9Q=1;break;}}});break;}}};a.prototype.cXa=function(a,b){var F9Q,d,c,g,k,h,m,p;F9Q=2;while(F9Q!==13){switch(F9Q){case 3:c=a.tW;g=c.na;k=Math.min(this.dc[0].ga||Infinity,c.ga||Infinity);F9Q=7;break;case 1:d=this;F9Q=5;break;case 5:F9Q=0===b.length?4:3;break;case 2:F9Q=1;break;case 4:return T.resolve();break;case 7:h=a.M;m=this.Ta.ye[h];return this.cv.tIa(function(){var E9Q,q;function c(){var e9Q,c,v3z,H3z;e9Q=2;while(e9Q!==4){v3z="adopt";v3z+="Data, not adopting ";v3z+="failed me";v3z+="diaRequest:";H3z="ad";H3z+="optData, n";H3z+="ot ad";H3z+="opting aborted mediaRequ";H3z+="est:";switch(e9Q){case 2:c=b.shift();7===c.readyState?a.Qa(H3z,c.toString()):6===c.readyState?(a.Qa(v3z,c.toString()),d.Iy(c,!1)):a.Ab>=c.Ad&&a.Ab<c.uf&&(a.Ab<k||!f.ka(k))?(q.push(d.dXa(a,c).then(function(){var d9Q;d9Q=2;while(d9Q!==1){switch(d9Q){case 4:c.complete||d.rxa(c);d9Q=8;break;d9Q=1;break;case 2:c.complete&&d.rxa(c);d9Q=1;break;}}})),a.wea(c.uf),f.ka(k)&&a.Ab>=k&&d.Oa.l3(g,c.uf),0===h&&d.af.aG(c.R),c.complete?(m.Gp+=c.duration,c.Glb&&(m.XM+=c.duration),p=c):(d.kg||(d.kg=new za.eJa(d.L)),d.kg.push(c))):d.Iy(c,!1);e9Q=4;break;}}}E9Q=2;while(E9Q!==3){switch(E9Q){case 1:E9Q=0<b.length?5:4;break;case 4:return T.all(q);break;case 2:q=[];E9Q=1;break;case 5:c();E9Q=1;break;}}}).then(function(){var v9Q,b,f;v9Q=2;while(v9Q!==8){switch(v9Q){case 4:b=d.dc[c.O.Pa];v9Q=3;break;case 2:p&&a.sxa(p);v9Q=5;break;case 3:f=a.T7(a.Ab);void 0!==f?(a.Pm=f,a.Vh=b.O.Qf[h].stream.Wh(a.Pm)):a.Pm=a.rg?a.rg.index+1:a.Pm+1;v9Q=8;break;case 5:v9Q=p||(null===(b=d.kg)||void 0===b?0:b.zz())?4:8;break;}}});break;}}};a.prototype.dXa=function(a,b){var H9Q,d,N3z,X3z,e3z;H9Q=2;while(H9Q!==9){N3z=", ";N3z+="p";N3z+="ts";N3z+=": ";X3z=", st";X3z+="at";X3z+="e:";X3z+=" ";e3z="ad";e3z+="optMedia";e3z+="Req";e3z+="uest: type: ";switch(H9Q){case 2:d=a.M;this.K.Nf&&this.Oa.Hi(e3z+d+X3z+b.readyState+N3z+b.Ad);H9Q=4;break;case 4:this.G3(d,b.Ad);return a.eb.v2a(b);break;}}};a.prototype.C3=function(a,b){var J9Q,d;J9Q=2;while(J9Q!==9){switch(J9Q){case 2:d=this;this.ma.Ib.Dta(a,b);this.as.reset();(void 0===b?u.ag:[b]).forEach(function(a){var q9Q;q9Q=2;while(q9Q!==1){switch(q9Q){case 2:d.bb(a)&&(d.qq[a].reset(),d.De[a].reset(),d.m0a(a),d.af.Apb(a));q9Q=1;break;}}});J9Q=9;break;}}};a.prototype.lGa=function(a){var O9Q,b;O9Q=2;while(O9Q!==4){switch(O9Q){case 2:b=this;(void 0===a?u.ag:[a]).forEach(function(a){var K9Q,d;K9Q=2;while(K9Q!==5){switch(K9Q){case 2:null===(d=b.qq[a])||void 0===d?void 0:d.stop();K9Q=5;break;}}});O9Q=4;break;}}};a.prototype.fG=function(a){var x9Q,b;x9Q=2;while(x9Q!==4){switch(x9Q){case 2:b=this;return T.all((void 0===a?u.ag:[a]).map(function(a){var A9Q,d;A9Q=2;while(A9Q!==5){switch(A9Q){case 2:return null===(d=b.qq[a])||void 0===d?void 0:d.resume();break;}}}));break;}}};a.prototype.TI=function(a){var z9Q,b,d;z9Q=2;while(z9Q!==9){switch(z9Q){case 2:b=this;a=void 0===a?u.ag:[a];null===(d=this.as)||void 0===d?void 0:d.reset();z9Q=3;break;case 3:a.forEach(function(a){var R9Q,d;R9Q=2;while(R9Q!==5){switch(R9Q){case 2:null===(d=b.qq[a])||void 0===d?void 0:d.resume();R9Q=5;break;}}});z9Q=9;break;}}};a.prototype.m0a=function(a){var b9Q,b;b9Q=2;while(b9Q!==9){switch(b9Q){case 2:b=this.Ta.ye[a];this.Ta.Bp[a].daa=void 0;b.Gp=0;b9Q=3;break;case 3:b.XM=0;b9Q=9;break;}}};n7Q=87;break;case 59:a.prototype.fU=function(a,b){var T9Q,d,f,r9Q;T9Q=2;while(T9Q!==14){switch(T9Q){case 2:d=this.Ta;a=d.R7(a,b);f=this.af.Wca;T9Q=3;break;case 8:d.yda();T9Q=14;break;case 3:a&&!a.$C&&f.E7(a);T9Q=9;break;case 9:T9Q=b?8:7;break;case 7:b=f.keb();try{r9Q=2;while(r9Q!==1){switch(r9Q){case 4:this.Oa.WZa(b);r9Q=9;break;r9Q=1;break;case 2:this.Oa.WZa(b);r9Q=1;break;}}}catch(Xa){var w3z,u3z;w3z="]";w3z+=" ";w3z+="[";u3z="ex";u3z+="cept";u3z+="ion";u3z+=": [";this.L.error(u3z+Xa.message+w3z+Xa.uRb+"]");}T9Q=14;break;}}};a.prototype.Cra=function(a,b,d,f){var Q9Q;Q9Q=2;while(Q9Q!==4){switch(Q9Q){case 2:f&&(R.assert(void 0===b),b=this.YU(f));h4KK.B5z(1);R.assert(h4KK.f5z(0,b));return this.dc[b].$4a(a,d||!1);break;}}};a.prototype.et=function(a,b,d){var B9Q,c;B9Q=2;while(B9Q!==8){switch(B9Q){case 2:d&&(R.assert(void 0===a),a=this.YU(d),R.assert(void 0!==a));void 0===a&&(a=this.ZM);(d=this.ma.Hcb(b,a))?c=d.zd:(d=this.ma.S7(a),0<d.length&&(d=d[0],c=d.zd));B9Q=3;break;case 3:f.ka(c)||(c=this.dc[a].Wq);h4KK.E5z(2);return h4KK.o5z(b,c);break;}}};a.prototype.bK=function(a,b,d){var M9Q,c;M9Q=2;while(M9Q!==8){switch(M9Q){case 2:d&&(R.assert(void 0===a),a=this.YU(d),R.assert(void 0!==a));void 0===a&&(a=this.ZM);(d=this.ma.Gcb(b,a))?c=d.zd:(d=this.ma.S7(a),0<d.length&&(d=d[0],c=d.zd));f.ka(c)||(c=this.dc[a].Wq);h4KK.B5z(0);return h4KK.o5z(b,c);break;}}};a.prototype.LC=function(){var i9Q,a;i9Q=2;while(i9Q!==3){switch(i9Q){case 5:i9Q=a||this.Ta.Ns?4:3;break;case 4:a&&this.Oa.k3(),this.$I(),this.X.Sd(p.pa.Cc),this.Qe.Lh();i9Q=3;break;case 2:a=this.X.Fi();i9Q=5;break;case 6:i9Q=a&&this.Ta.Ns?7:1;break;i9Q=a||this.Ta.Ns?4:3;break;}}};a.prototype.J3=function(){var y9Q,a,b;y9Q=2;while(y9Q!==8){switch(y9Q){case 2:a=this;b=this.X.Fi();this.ma.Ib.$vb(b,function(b){var u9Q;u9Q=2;while(u9Q!==1){switch(u9Q){case 2:return a.De[b]?a.De[b].JY():"";break;}}});this.dC&&(clearTimeout(this.dC),this.dC=void 0);this.as.vmb();y9Q=8;break;}}};a.prototype.vpa=function(a,b){var D9Q,o9Q;D9Q=2;while(D9Q!==6){switch(D9Q){case 2:a.Ag=!0;a.ga=f.ka(b)?b:a.Ab;D9Q=5;break;case 7:try{o9Q=2;while(o9Q!==1){switch(o9Q){case 2:this.fU(p.pa.QH,{ga:a.ga});o9Q=1;break;}}}catch(Za){var x3z;x3z="Hindsight: E";x3z+="rror evaluating QoE";x3z+=" at endOfStream: ";h4KK.E5z(0);this.Oa.Ml(h4KK.f5z(x3z,Za));}D9Q=6;break;case 8:D9Q=this.Rn&&1===a.M?7:6;break;case 5:a.cn=!1;b=this.X.Cd()||0;a.PJ(b);this.Ta.ds();D9Q=8;break;}}};a.prototype.d0a=function(){var t9Q,a;t9Q=2;while(t9Q!==4){switch(t9Q){case 2:a=this.rb.Tb;a&&(a=a.get())&&a.avtp&&this.yo.J1a({avtp:a.avtp.Ca});t9Q=4;break;}}};a.prototype.E0a=function(){var l9Q,a,b,d,q3z,a3z,l3z;l9Q=2;while(l9Q!==8){q3z="startup, playerState no lon";q3z+="ger STARTIN";q3z+="G:";a3z="failed to ";a3z+="start a";a3z+="ud";a3z+="io pi";a3z+="peline";l3z="faile";l3z+="d to start video pip";l3z+="e";l3z+="line";switch(l9Q){case 2:this.X.Sd(p.pa.Dg);a=this.ma.Ib;b=a.Gc(0);d=a.Gc(1);this.jk&&!this.zpa(d)?this.Qa(l3z):this.Fn&&!this.zpa(b)?this.Qa(a3z):(this.Xoa=!0,this.dc[0].O.xV=!0,b=this.Ta.ye[1],d=this.Ta.ye[0],(b&&0<b.Gp||d&&0<d.Gp)&&this.Oa.UZa(String(a.O.u),d?d.Gp:0,b?b.Gp:0,d?d.XM:0,b?b.XM:0),this.X.Pya()?(this.WR(0),this.Fn&&(a=this.Vc.QU(0),b=this.Vc.Cl(0).ab,this.Oa.XZa(a,b))):this.Qa(q3z,this.X.Wc()));l9Q=8;break;}}};a.prototype.zpa=function(a){var X9Q,b,d,s3z,R3z;X9Q=2;while(X9Q!==12){s3z="NFErr_MC_Str";s3z+="eamingIn";s3z+="itFailure";R3z="startPipeline f";R3z+="ai";R3z+="led";switch(X9Q){case 4:X9Q=f.T(d)?3:9;break;case 3:return this.Me()||this.rq(R3z,a.Xd.O.Pa,s3z),!1;break;case 2:b=a.M;d=this.Ta.Mgb(a);X9Q=4;break;case 8:X9Q=a.fj()?7:6;break;case 7:return!0;break;case 9:a=a.track.yc[d];X9Q=8;break;case 6:d=this.Vc.O;a.O.Isa(a,{offset:0,ew:!d.pe.ff&&!d.Qh&&1===b,Iq:!this.Ta.ye[b].adb});return!0;break;}}};n7Q=72;break;case 48:a.prototype.Et=function(){var R8Q,a;R8Q=2;while(R8Q!==4){switch(R8Q){case 2:a=this.Vc.O;return this.X.Et(a.u)||a.Qh;break;}}};a.prototype.sna=function(a){var b8Q,b,d,f;b8Q=2;while(b8Q!==20){switch(b8Q){case 1:b8Q=a>=this.dc.length?5:4;break;case 5:return!1;break;case 2:b8Q=1;break;case 4:b=this.ma.Ib.Gc(0);d=this.ma.Ib.Gc(1);b=!b||b.Ag;f=!d||d.Ag;b8Q=7;break;case 6:b8Q=!(a===this.AC+1&&d.pe.replace||b&&f)||!this.X.Et(d.u)&&!d.Qh?14:13;break;case 14:return!1;break;case 7:d=this.dc[a].O;b8Q=6;break;case 13:a=d.Qf[0];b=d.Qf[1];b=!this.jk||b&&b.stream.pd;return(!this.Fn||a&&a.stream.pd)&&b?!0:!1;break;}}};a.prototype.nS=function(){var h8Q;h8Q=2;while(h8Q!==1){switch(h8Q){case 4:this.mS(this.AC*2);h8Q=0;break;h8Q=1;break;case 2:this.mS(this.AC+1);h8Q=1;break;}}};a.prototype.mS=function(a){var a8Q,b;a8Q=2;while(a8Q!==14){switch(a8Q){case 5:return!1;break;case 2:a8Q=1;break;case 1:a8Q=!this.sna(a)?5:4;break;case 4:b=this.dc[a];a8Q=3;break;case 3:a8Q=b.pcb||!b.O.pe.replace?9:8;break;case 8:this.N0a(a);this.Qe.Lh();return!0;break;case 9:return!1;break;}}};a.prototype.N0a=function(a){var G8Q,b,d,f,c,g,y3z,F3z,Q3z;G8Q=2;while(G8Q!==17){y3z=",";y3z+=" ";F3z=", s";F3z+="trea";F3z+="mingPts";F3z+=": ";Q3z="switc";Q3z+="hManifest ma";Q3z+="nifest";Q3z+="In";Q3z+="dex: ";switch(G8Q){case 13:g=[];[1,0].forEach(function(a){var P8Q;P8Q=2;while(P8Q!==1){switch(P8Q){case 2:b.O.bb(a)&&(g[a]=b.Cl(a));P8Q=1;break;}}});c?this.ma.Ztb(f.O,b.O,g):d.KFa(b.O,g);this.roa(a);b.Gba();G8Q=19;break;case 2:b=this.dc[a];d=this.ma.Ib;f=d.Te(0);f=f?f.Ab:void 0;c=d.Te(1);G8Q=8;break;case 8:c=c?c.Ab:void 0;this.K.Nf&&this.Oa.Hi(Q3z+a+F3z+f+y3z+c);f=this.Vc;c=f.O.pe.ff;G8Q=13;break;case 19:this.Uk.E2();this.Qe.Lh();G8Q=17;break;}}};a.prototype.PBa=function(){var p8Q,a,b,d,f,j3z,t3z;p8Q=2;while(p8Q!==12){j3z="onAudioTrac";j3z+="kSw";j3z+="itch";j3z+="Started ignored, no audio pipeline";t3z="onAudi";t3z+="oTrackSwitchStarted but current";t3z+=" playing req";t3z+="uest not fou";t3z+="nd";switch(p8Q){case 3:d=this.X.Cd();f=this.Ta.ye[b.M];(a=this.ma.Hq(d,a,0))?b=a.eb:(this.Qa(t3z),b=b.eb);p8Q=7;break;case 2:a=this.ma.Ib;p8Q=5;break;case 5:b=a.Te(0);p8Q=4;break;case 4:p8Q=b?3:13;break;case 7:this.P_a(b);f.KG=!1;this.Qe.Lh();p8Q=12;break;case 13:this.Qa(j3z);p8Q=12;break;}}};a.prototype.DGa=function(a){var f8Q,b,d,f,c,g,M3z,B3z,E3z,f3z,o3z,d3z,A3z,p3z;f8Q=2;while(f8Q!==21){M3z="switch";M3z+="Tracks";M3z+=" rejected, previous switch still waiting ";M3z+="to st";M3z+="art";B3z=" ";B3z+="to";B3z+=": ";E3z="swi";E3z+="tchTra";E3z+="cks cur";E3z+="rent: ";f3z="swi";f3z+="tchTracks ca";f3z+="n't find trac";f3z+="kId:";o3z="switc";o3z+="hTracks rejected, ";o3z+="buffer";o3z+="in";o3z+="g";d3z="switc";d3z+="hT";d3z+="ra";d3z+="cks rejected, bufferL";d3z+="evelMs";A3z="swit";A3z+="chTracks rejected, previous sw";A3z+="i";A3z+="tch still in progress: ";p3z="sw";p3z+="itchTrack";p3z+="s rejecte";p3z+="d, audio disabled";switch(f8Q){case 4:return this.Qa(p3z),!1;break;case 3:f8Q=this.Ta.Ns?9:8;break;case 9:return this.Qa(A3z+JSON.stringify(this.Ta.Ns)),!1;break;case 12:f=this.ma.Ib;c=this.ma.Sv(f,1);f8Q=10;break;case 20:return this.Qa(d3z,c,"<",b.WW),!1;break;case 15:g=this.Vc.Cl(0).ab;f8Q=27;break;case 7:return this.Qa(o3z),!1;break;case 16:return this.Qa(f3z,a),!1;break;case 2:b=this.K;f8Q=5;break;case 10:f8Q=c<b.WW?20:19;break;case 6:d=this.Ta.ye[0];f8Q=14;break;case 25:b.Nf&&this.Oa.Hi(E3z+g+B3z+c.ab);d.iX={ab:a};this.D0a(f.Te(0));return!0;break;case 17:f8Q=!c?16:15;break;case 8:f8Q=this.X.Fi()?7:6;break;case 14:f8Q=d.KG?13:12;break;case 19:a=a.gD;f8Q=18;break;case 27:f8Q=g===c.ab?26:25;break;case 26:return!1;break;case 18:c=this.Vc.O.getTrackById(a);f8Q=17;break;case 5:f8Q=!this.Fn?4:3;break;case 13:return this.Qa(M3z),!1;break;}}};a.prototype.ON=function(a,b){var c8Q,d,f;c8Q=2;while(c8Q!==9){switch(c8Q){case 2:c8Q=1;break;case 1:d=this;this.gI=a;c8Q=4;break;case 4:void 0!==b&&(f=this.Ifb(b));c8Q=3;break;case 3:void 0!==f?this.zf(f).Cl(1).yc.forEach(function(a){var I8Q,b;I8Q=2;while(I8Q!==4){switch(I8Q){case 2:b=t.C4(a.wf,a.R,d.gI);M(b,a);I8Q=4;break;}}}):this.ma.ON(this.gI);c8Q=9;break;}}};a.prototype.Hq=function(a,b,d){var w9Q;w9Q=2;while(w9Q!==1){switch(w9Q){case 2:return this.ma.Hq(a,this.ma.ck,b,d);break;}}};a.prototype.Ws=function(a){var S9Q;S9Q=2;while(S9Q!==1){switch(S9Q){case 4:return this.Uk.Ws(a);break;S9Q=1;break;case 2:return this.Uk.Ws(a);break;}}};n7Q=59;break;case 13:Object.defineProperties(a.prototype,{kr:{get:function(){var d7Q;d7Q=2;while(d7Q!==1){switch(d7Q){case 2:return this.i0a;break;case 4:return this.i0a;break;d7Q=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$L:{get:function(){var v7Q;v7Q=2;while(v7Q!==1){switch(v7Q){case 2:return this.zC;break;case 4:return this.zC;break;v7Q=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tA:{get:function(){var H7Q;H7Q=2;while(H7Q!==1){switch(H7Q){case 4:return this.DR;break;H7Q=1;break;case 2:return this.DR;break;}}},enumerable:!0,configurable:!0}});a.prototype.bb=function(a){var J7Q;J7Q=2;while(J7Q!==1){switch(J7Q){case 4:return this.M0a[a];break;J7Q=1;break;case 2:return this.M0a[a];break;}}};a.prototype.$K=function(){var q7Q;q7Q=2;while(q7Q!==1){switch(q7Q){case 4:return S.time.fa()*this.g2;break;q7Q=1;break;case 2:return S.time.fa()-this.g2;break;}}};a.prototype.Pp=function(a){var O7Q;O7Q=2;while(O7Q!==1){switch(O7Q){case 2:this.RC=a;O7Q=1;break;case 4:this.RC=a;O7Q=7;break;O7Q=1;break;}}};a.prototype.Dwa=function(){var K7Q;K7Q=2;while(K7Q!==1){switch(K7Q){case 2:return(this.dc||[]).reduce(function(a,b){var x7Q,d;x7Q=2;while(x7Q!==3){switch(x7Q){case 2:d=b.O;u.ag.forEach(function(b){var A7Q;A7Q=2;while(A7Q!==1){switch(A7Q){case 2:d.Vt[b]>a[b]&&(a[b]=d.Vt[b]);A7Q=1;break;}}});x7Q=4;break;case 4:return a;break;}}},[0,0]);break;}}};a.prototype.YE=function(){var z7Q,a;z7Q=2;while(z7Q!==3){switch(z7Q){case 8:a=7;z7Q=8;break;z7Q=5;break;case 5:f.forEach(this.Vc.O.sa.audio_tracks,function(b){var R7Q;R7Q=2;while(R7Q!==1){switch(R7Q){case 2:f.forEach(b.streams,function(b){var b7Q;b7Q=2;while(b7Q!==1){switch(b7Q){case 2:a=Math.max(a,b.bitrate);b7Q=1;break;}}});R7Q=1;break;}}});return a;break;case 2:a=0;z7Q=5;break;}}};a.prototype.zf=function(a){var h7Q;h7Q=2;while(h7Q!==1){switch(h7Q){case 4:return this.dc[a];break;h7Q=1;break;case 2:return this.dc[a];break;}}};a.prototype.sfb=function(){var a7Q,a;a7Q=2;while(a7Q!==4){switch(a7Q){case 2:a=this.dc[0];return a.O.pe.ff?this.dc[1]:a;break;}}};n7Q=27;break;case 39:a.prototype.stop=function(){var m8Q;m8Q=2;while(m8Q!==1){switch(m8Q){case 4:this.Kw.stop();m8Q=2;break;m8Q=1;break;case 2:this.Kw.stop();m8Q=1;break;}}};a.prototype.LA=function(a,b,d){var Z8Q;Z8Q=2;while(Z8Q!==5){switch(Z8Q){case 2:d&&(R.assert(void 0===b),b=this.YU(d));return this.Uk.LA(a,b);break;}}};a.prototype.seek=function(a,b){var L8Q;L8Q=2;while(L8Q!==1){switch(L8Q){case 2:return this.Uk.seek(a,b);break;case 4:return this.Uk.seek(a,b);break;L8Q=1;break;}}};a.prototype.BHa=function(a){var V8Q,E8Q,b,d,f,c,g,r3z,g3z,h3z,I3z,z3z;V8Q=2;while(V8Q!==15){r3z="br";r3z+="anchOff";r3z+="set:";g3z="entry.";g3z+="manifest";g3z+="Offset:";h3z="co";h3z+="nten";h3z+="tP";h3z+="ts:";I3z="und";I3z+="erflow: goin";I3z+="g to BUFFERING at player pts";I3z+=":";z3z="und";z3z+="er";z3z+="flo";z3z+="w";switch(V8Q){case 20:V8Q=this.Rn?19:18;break;case 7:this.ma.Ib.Qfa(f);g=this.ma.Ib;u.ag.forEach(function(f){var F8Q,c,k,h,P3z,W3z,O3z,m3z,c3z,L3z,T3z,J3z,k3z,D3z;F8Q=2;while(F8Q!==13){P3z=", toAppen";P3z+="d";P3z+=": ";W3z=", fragments";W3z+=":";W3z+=" ";O3z=", complet";O3z+="eStream";O3z+="ingPts: ";m3z=", ";m3z+="streamingPts:";m3z+=" ";c3z=", ";c3z+="p";c3z+="a";c3z+="rtials";c3z+=": ";L3z=", ";L3z+="c";L3z+="ompl";L3z+="etedByte";L3z+="s: ";T3z=", ";T3z+="comp";T3z+="lete";T3z+="dMs";T3z+=": ";J3z=",";J3z+=" ";J3z+="med";J3z+="i";J3z+="aType: ";k3z="u";k3z+="nderflow:";k3z+=" ";D3z="r";D3z+="e";D3z+="buff";D3z+="er";switch(F8Q){case 2:c=g.Gc(f);F8Q=5;break;case 5:F8Q=c?4:13;break;case 3:k=b.De[f];F8Q=9;break;case 4:F8Q=d.Nf?3:7;break;case 7:d.Nf&&b.Oa.Hi(k);c.dh=!1;(c=b.Vc.O.SY)&&c.cea(D3z,b.Ta.Bp[f].gaa);F8Q=13;break;case 8:k=k3z+a+J3z+f+T3z+c.uD+L3z+h+c3z+c.eb.Xw+m3z+c.Ab+O3z+c.Ck+W3z+JSON.stringify(c.eb.V)+P3z+(k&&k.JY());F8Q=7;break;case 9:h=b.ma.Vy(g,f);F8Q=8;break;}}});this.Vc.O.Ol();this.emit(z3z);this.WR(2);this.Qe.Lh();V8Q=20;break;case 4:f=this.et(this.ZM,a);this.Qa(I3z,a,h3z,f,g3z,this.Vc.Wq,r3z,this.ma.zd);c=d.dM;this.De.forEach(function(b){var k8Q;k8Q=2;while(k8Q!==1){switch(k8Q){case 2:c=Math.max(0,Math.min(c,b.Bfb-a));k8Q=1;break;}}});V8Q=7;break;case 19:try{E8Q=2;while(E8Q!==1){switch(E8Q){case 4:this.fU(p.pa.Zf);E8Q=5;break;E8Q=1;break;case 2:this.fU(p.pa.Zf);E8Q=1;break;}}}catch(eb){var n3z;n3z="Hindsight: Error when evalua";n3z+="ting QoE at Buf";n3z+="fering: ";h4KK.B5z(0);this.Oa.Ml(h4KK.o5z(n3z,eb));}V8Q=18;break;case 2:b=this;d=this.K;V8Q=4;break;case 18:f=this.rb.Tb.get(!1);f=f.ld?f.Da.Ca:0;c>d.scb&&f>d.rcb&&this.J3();V8Q=15;break;}}};a.prototype.Mi=function(a){var e8Q;e8Q=2;while(e8Q!==1){switch(e8Q){case 2:return this.Uk.Mi(a);break;case 4:return this.Uk.Mi(a);break;e8Q=1;break;}}};a.prototype.$s=function(a,b,d){var d8Q;d8Q=2;while(d8Q!==1){switch(d8Q){case 2:return this.Uk.$s(a,b,d);break;case 4:return this.Uk.$s(a,b,d);break;d8Q=1;break;}}};a.prototype.roa=function(a){var v8Q,b;v8Q=2;while(v8Q!==9){switch(v8Q){case 2:this.AC=a;b=this.dc[a];this.Oa.a_a(a,b);v8Q=3;break;case 3:this.Oa.Koa(b.O.Vt);v8Q=9;break;}}};a.prototype.YC=function(a,b,c){var H8Q,g,k,h,m,p,q,t,v8z,H8z,Y8z,G8z,V8z,K8z,S8z,Z8z,i8z,C3z,b3z,U3z;H8Q=2;while(H8Q!==28){v8z="addManife";v8z+="st: pipelines already";v8z+=" sh";v8z+="utdown";H8z=",";H8z+=" ";Y8z=") la";Y8z+="stStreamAp";Y8z+="pende";Y8z+="d: (";G8z=",";G8z+=" ";V8z=" st";V8z+="ream";V8z+="Count";V8z+=": (";K8z=" ";K8z+="player";K8z+="State";K8z+=": ";S8z="addManif";S8z+="e";S8z+="st,";S8z+=" currentPts: ";Z8z="addMan";Z8z+="ifest i";Z8z+="n fastplay but not drm man";Z8z+="ifest, leaving space for it";i8z="addManif";i8z+="est ign";i8z+="ored, pipelines already set EOS:";C3z="b";C3z+="ool";C3z+="ean";b3z="vi";b3z+="deo_tr";b3z+="a";b3z+="ck";b3z+="s";U3z="audio_tr";U3z+="ack";U3z+="s";switch(H8Q){case 9:b||(b={});h=this.ma.Ib.Gc(0);m=this.ma.Ib.Gc(1);H8Q=6;break;case 4:H8Q=this.Me()?3:9;break;case 19:a=d.Nja.create({Pa:h,sa:a,Pk:c,dFa:b.izb||[this.Vc.QU(0),this.Vc.QU(1)],ff:!1,Bya:!!b.replace,Qh:!!b.Qh,Aq:b.Aq||this.gI,U:m,ga:p,Oa:this.Oa,Qq:this.boa.bind(this),Pp:this.Pp.bind(this),bb:this.bb.bind(this),Eb:this,config:this.K,L:this.L,Qe:this.Qe,Uk:this.Uk,He:this.Mpa?this.rb.He:void 0,yw:this.yw});q=a.O;c=[U3z,b3z];t=this.Dwa();b.replace&&c.forEach(function(a,b){var J8Q,d,f;J8Q=2;while(J8Q!==9){switch(J8Q){case 2:d=q.xE(b);J8Q=5;break;case 5:J8Q=d?4:9;break;case 4:f=g.dc[0].O;Object.keys(d).forEach(function(a){var q8Q,c;q8Q=2;while(q8Q!==4){switch(q8Q){case 2:c=f.Oq(b,a);c&&c.pd&&(d[a].mT(c),a=q.Vt,a[b]>t[b]&&(t[b]=a[b]));q8Q=4;break;}}});J8Q=9;break;}}});c.forEach(function(a,b){var O8Q,d;O8Q=2;while(O8Q!==4){switch(O8Q){case 2:d=q.xE(b);d&&Object.keys(d).forEach(function(a){var K8Q,f;K8Q=2;while(K8Q!==3){switch(K8Q){case 2:f=S.Sj()[b];1===b&&0<k.Zq&&(f=Math.min(f,k.Zq));K8Q=4;break;case 4:d[a].IHa(f,q.Kt()?k.jAa:0);K8Q=3;break;}}});O8Q=4;break;}}});a.mJ=C3z===typeof b.Zqa?b.Zqa:!0;H8Q=25;break;case 14:this.Qa(i8z,h.cn,m.cn);H8Q=28;break;case 11:b.replace&&1!==h?h=1:this.Vc.O.pe.ff&&!b.replace&&1===h&&(this.Qa(Z8z),h=this.dc[0].clone(),this.dc.push(h),h=this.dc.length);m=b.U||0;p=b.ga;H8Q=19;break;case 2:g=this;k=this.K;H8Q=4;break;case 25:this.dc[h]&&this.dc[h].ec();this.dc[h]=a;a.Ara();b.replace||this.ma.e2a(q,m,p);H8Q=21;break;case 6:H8Q=!b.Mib&&(this.Fn&&h.cn||this.jk&&m.cn)?14:13;break;case 21:b=this.Ta.Bp[0].Oz;c=this.Ta.Bp[1].Oz;k.Nf&&this.Oa.Hi(S8z+this.X.Cd()+K8z+this.X.Wc()+V8z+a.Cl(0).yc.length+G8z+a.Cl(1).yc.length+Y8z+b+H8z+c+")");H8Q=33;break;case 3:this.Qa(v8z);H8Q=28;break;case 33:H8Q=this.Fn&&f.T(b)||this.jk&&f.T(c)?32:31;break;case 13:b.tA&&(this.DR=!0);h=this.dc.length;H8Q=11;break;case 31:a.O.OF([a.Cl(0),a.Cl(1)]);this.nS();return!0;break;case 32:return!0;break;}}};a.prototype.eJ=function(a){var x8Q;x8Q=2;while(x8Q!==1){switch(x8Q){case 4:return this.Uk.eJ(a);break;x8Q=1;break;case 2:return this.Uk.eJ(a);break;}}};a.prototype.AK=function(a,b){var A8Q,d,c,g,u8z,N8z,X8z,e8z;A8Q=2;while(A8Q!==14){u8z=" ";u8z+="r";u8z+="eadyState:";u8z+=" ";N8z=" ";N8z+="f";N8z+="or";N8z+=" movie";N8z+="Id: ";X8z=",";X8z+=" ";e8z="drmRead";e8z+="y at";e8z+=" streaming ";e8z+="pts:";e8z+=" ";switch(A8Q){case 2:d=this.K;A8Q=5;break;case 5:A8Q=!this.Me()?4:14;break;case 4:f.T(b)&&(b=!0);A8Q=3;break;case 3:c=this.ma.Ib.Gc(0);g=this.ma.Ib.Gc(1);d.Nf&&this.Oa.Hi(e8z+(c?c.Ab:null)+X8z+(g?g.Ab:null)+N8z+a+u8z+b);h4KK.B5z(0);this.X.rea(h4KK.o5z(a,""),b);A8Q=6;break;case 6:b&&(this.De.forEach(function(a){var z8Q;z8Q=2;while(z8Q!==5){switch(z8Q){case 2:d.j8&&a.ldb();d.QO&&a.resume();z8Q=5;break;}}}),d.QO&&this.TI(),this.Vc.O.pe.ff&&this.mS(this.Uk.uv?this.Uk.uv.Pa:this.AC+1),this.Uk.E2());A8Q=14;break;}}};n7Q=48;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var N7Q;N7Q=2;while(N7Q!==1){switch(N7Q){case 4:return this.addListener.bind(this);break;N7Q=1;break;case 2:return this.addListener.bind(this);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var U7Q;U7Q=2;while(U7Q!==1){switch(U7Q){case 4:return this.removeListener.bind(this);break;U7Q=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hnb:{get:function(){var m7Q;m7Q=2;while(m7Q!==1){switch(m7Q){case 4:return this.Jf.wc;break;m7Q=1;break;case 2:return this.Jf.wc;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Fn:{get:function(){var Z7Q;Z7Q=2;while(Z7Q!==1){switch(Z7Q){case 2:return this.bb(0);break;case 4:return this.bb(6);break;Z7Q=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jk:{get:function(){var L7Q;L7Q=2;while(L7Q!==1){switch(L7Q){case 4:return this.bb(2);break;L7Q=1;break;case 2:return this.bb(1);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var V7Q;V7Q=2;while(V7Q!==1){switch(V7Q){case 4:return this.Y1;break;V7Q=1;break;case 2:return this.Y1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Pt:{get:function(){var k7Q;k7Q=2;while(k7Q!==1){switch(k7Q){case 2:return this.Hg;break;case 4:return this.Hg;break;k7Q=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ZM:{get:function(){var F7Q;F7Q=2;while(F7Q!==1){switch(F7Q){case 2:return 0<=this.rR?this.rR:0;break;case 4:return 1<this.rR?this.rR:6;break;F7Q=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vc:{get:function(){var E7Q;E7Q=2;while(E7Q!==1){switch(E7Q){case 2:return this.dc[this.AC];break;case 4:return this.dc[this.AC];break;E7Q=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yo:{get:function(){var e7Q;e7Q=2;while(e7Q!==1){switch(e7Q){case 2:return this.rb.yo;break;case 4:return this.rb.yo;break;e7Q=1;break;}}},enumerable:!0,configurable:!0}});n7Q=13;break;case 32:a.prototype.AO=function(){var t8Q;t8Q=2;while(t8Q!==1){switch(t8Q){case 4:this.X.AO();t8Q=2;break;t8Q=1;break;case 2:this.X.AO();t8Q=1;break;}}};a.prototype.close=function(){var l8Q;l8Q=2;while(l8Q!==4){switch(l8Q){case 2:this.oea.close();this.dc.forEach(function(a){var X8Q;X8Q=2;while(X8Q!==1){switch(X8Q){case 4:a.O.close();X8Q=5;break;X8Q=1;break;case 2:a.O.close();X8Q=1;break;}}});this.Kw.close();l8Q=4;break;}}};a.prototype.fEa=function(){var C8Q;C8Q=2;while(C8Q!==1){switch(C8Q){case 2:this.rb.$_a(this);C8Q=1;break;case 4:this.rb.$_a(this);C8Q=5;break;C8Q=1;break;}}};a.prototype.ec=function(){var n8Q,a,w8z;n8Q=2;while(n8Q!==10){w8z="Error";w8z+=" on";w8z+=" MediaSource destroy: ";switch(n8Q){case 2:this.af.spb();n8Q=5;break;case 6:this.MXa();this.Hg.clear();a=this.Jf;this.Jf=void 0;n8Q=11;break;case 5:this.OQ();this.ma.Rh();this.yK.gYa();null===(a=this.as)||void 0===a?void 0:a.reset();this.qq.forEach(function(a){var W8Q;W8Q=2;while(W8Q!==1){switch(W8Q){case 4:a.reset();W8Q=5;break;W8Q=1;break;case 2:a.reset();W8Q=1;break;}}});this.X.Sd(p.pa.Zr);n8Q=6;break;case 11:f.T(a)||a.yl()||this.Qa(w8z,a.error);n8Q=10;break;}}};a.prototype.suspend=function(){var Y8Q;Y8Q=2;while(Y8Q!==1){switch(Y8Q){case 2:this.Kw.suspend();Y8Q=1;break;case 4:this.Kw.suspend();Y8Q=4;break;Y8Q=1;break;}}};a.prototype.resume=function(){var g8Q;g8Q=2;while(g8Q!==1){switch(g8Q){case 2:this.Kw.resume();g8Q=1;break;case 4:this.Kw.resume();g8Q=2;break;g8Q=1;break;}}};a.prototype.Me=function(){var s8Q;s8Q=2;while(s8Q!==1){switch(s8Q){case 2:return this.Kw.Me();break;case 4:return this.Kw.Me();break;s8Q=1;break;}}};a.prototype.y0a=function(){var j8Q,a;j8Q=2;while(j8Q!==7){switch(j8Q){case 2:a=this.K;this.Dv&&clearTimeout(this.Dv);this.Dv=setTimeout(this.$I.bind(this),a.FZ);this.HQ||(this.HQ=setInterval(this.Oa.Joa.bind(this.Oa),a.kD));this.cS||(this.cS=setInterval(this.Oa.m_a.bind(this.Oa),a.afa));j8Q=8;break;case 8:this.kr&&!this.EQ&&(this.EQ=setInterval(this.Oa.Ioa.bind(this.Oa),a.G4));j8Q=7;break;}}};a.prototype.OQ=function(){var N8Q;N8Q=2;while(N8Q!==7){switch(N8Q){case 3:this.dC&&(clearTimeout(this.dC),this.dC=void 0);this.y2&&(clearTimeout(this.y2),this.y2=void 0);this.Qe.OQ();N8Q=7;break;case 2:this.Dv&&(clearTimeout(this.Dv),this.Dv=void 0);this.HQ&&(clearInterval(this.HQ),this.HQ=void 0);this.cS&&(clearInterval(this.cS),this.cS=void 0);this.EQ&&(clearInterval(this.EQ),this.EQ=void 0);N8Q=3;break;}}};a.prototype.play=function(){var U8Q;U8Q=2;while(U8Q!==1){switch(U8Q){case 4:this.Kw.play();U8Q=3;break;U8Q=1;break;case 2:this.Kw.play();U8Q=1;break;}}};n7Q=39;break;case 104:a.prototype.hsb=function(a,b,d){var Q41,f;Q41=2;while(Q41!==6){switch(Q41){case 3:Q41=a.O.xV?9:7;break;case 1:q.Yk.Dl(0);a=this.dc[a];a.Ofa(b);Q41=3;break;case 2:Q41=1;break;case 9:a.Cl(0).yc.some(function(a){var B41;B41=2;while(B41!==4){switch(B41){case 9:f=a.fj();B41=4;break;B41=1;break;case 1:B41=!(f&&f.stream&&f.stream.V&&d<f.stream.V.rh(0))?5:4;break;case 7:return~+f;break;B41=4;break;case 5:return!!f;break;case 2:f=a.fj();B41=1;break;}}});Q41=8;break;case 8:f?(a.O.Qf[0]=f,a.fN=!1,f.stream.pd&&a.VS()):(a.O.Qf[0]=void 0,a.fN=!1,a.O.OF([a.Cl(0)],!0,0));Q41=7;break;case 7:this.TI(0);Q41=6;break;}}};a.prototype.T_a=function(a,b){var M41,d;M41=2;while(M41!==3){switch(M41){case 2:d=this.De[a.M];a=this.ma.bN(a.Xd,a.M,b,this.rb.YY||0,function(a){var i41;i41=2;while(i41!==1){switch(i41){case 2:d.oY(a);i41=1;break;case 4:d.oY(a);i41=5;break;i41=1;break;}}});f.T(a)||this.Qe.Lh();M41=3;break;}}};a.prototype.PYa=function(a){var y41,b;y41=2;while(y41!==8){switch(y41){case 2:b=a.mediaType;a=this.dc[a.manifestIndex].O.Oq(b,a.streamId);y41=4;break;case 4:this.v0a(this.ma.Ib.Te(b),a);this.K=this.zsa.jXa(a.wf,this.K);this.dc.forEach(function(a,b){var u41,d;u41=2;while(u41!==4){switch(u41){case 2:d=a.O;d.xV||0===b||d.OF([a.Cl(0),a.Cl(1)]);u41=4;break;}}});y41=8;break;}}};a.prototype.SYa=function(a){var D41,b,d;D41=2;while(D41!==7){switch(D41){case 8:b.Mt&&this.Oa.h_a(a,b.O.Pa,d.na);D41=7;break;case 2:b=a.request;a=a.mediaType;d=b.eb.Xd;d.rmb(a);b.e8&&this.Oa.TZa(b);D41=8;break;}}};a.prototype.v0a=function(a,b){var o41;o41=2;while(o41!==1){switch(o41){case 2:this.Ta.Bp[a.M].Oz={id:b.oa,index:b.uh,R:b.R,Da:b.gb&&b.gb.ld&&b.gb.Da?b.gb.Da.Ca:0,location:b.location};o41=1;break;}}};a.prototype.TV=function(a){var t41,b,d,f,c,g,k;t41=2;while(t41!==16){switch(t41){case 4:t41=!this.ma.Ib.R6?3:17;break;case 2:b={};d=this.De;t41=4;break;case 8:t41=c&&f?7:18;break;case 7:g=f.um;k=c.um;b.vspts=c.Ab;b.aspts=f.Ab;b.vbuflbytes=k.aa;b.abuflbytes=g.aa;t41=10;break;case 3:f=this.ma.Ib.Gc(0);t41=9;break;case 10:b.vbuflmsec=k.Va;b.abuflmsec=g.Va;t41=19;break;case 19:a&&(b.a=f.eb.V.toJSON(),b.v=c.eb.V.toJSON());t41=18;break;case 18:a&&d&&(a=d[1],d=d[0],a&&d&&(b.atoappend=a.JY(),b.vtoappend=d.JY()));t41=17;break;case 9:c=this.ma.Ib.Gc(1);t41=8;break;case 17:return b;break;}}};a.prototype.bxa=function(a){var l41,b,d,f,c,g,k,h;l41=2;while(l41!==12){switch(l41){case 7:g=d.eb.gca;k=this.ma.zd;h=S.Sj()[a];return{type:a,availableMediaBuffer:h-c,completeBuffer:b.kp(a),incompleteBuffer:g,playbackBitrate:d.NCa,streamingBitrate:f,streamingTime:d.Ab+k,usedMediaBuffer:c,toappend:d.sIa};break;case 3:f=this.Ta.Bp[a];c=this.ma.Vy(b,a);f=f.Oz?f.Oz.R:0;l41=7;break;case 2:b=this.ma.Ib;d=b.Te(a);l41=4;break;case 4:l41=d?3:12;break;}}};a.prototype.iub=function(){var X41,a,x8z;X41=2;while(X41!==4){x8z="requestGa";x8z+="rbag";x8z+="eCo";x8z+="llect";x8z+="ion";switch(X41){case 2:a={type:x8z,time:S.time.fa()};C.Ha(this,a.type,a);X41=4;break;}}};a.prototype.rq=function(a,b,d,c,g,k){var C41,l8z;C41=2;while(C41!==1){l8z="NFErr_MC";l8z+="_StreamingF";l8z+="ailure";switch(C41){case 2:this.RC||(f.T(d)&&(d=l8z),this.RC=!0,this.Oa.k_a(d,a,c,g,k,b));C41=1;break;}}};a.prototype.boa=function(){var n41,a8z;n41=2;while(n41!==5){a8z="N";a8z+="et";a8z+="work ";a8z+="failures r";a8z+="eset!";switch(n41){case 2:this.Qa(a8z);this.Qe.Lh();n41=5;break;}}};n7Q=94;break;case 27:a.prototype.sE=function(){var G7Q;G7Q=2;while(G7Q!==1){switch(G7Q){case 4:return this.dc.length;break;G7Q=1;break;case 2:return this.dc.length;break;}}};a.prototype.F$=function(a,b){var P7Q;P7Q=2;while(P7Q!==9){switch(P7Q){case 5:a=this.dc[a];b=this.dc[b];return a.O.pe.ff&&b.O.pe.gM||b.O.pe.ff&&a.O.pe.gM;break;case 1:return!0;break;case 2:P7Q=a===b?1:5;break;}}};a.prototype.Twa=function(){var p7Q;p7Q=2;while(p7Q!==1){switch(p7Q){case 2:return this.ma.ck.na.id;break;case 4:return this.ma.ck.na.id;break;p7Q=1;break;}}};a.prototype.NU=function(a){var f7Q;f7Q=2;while(f7Q!==5){switch(f7Q){case 1:return{zd:a.zd,mc:a.mc,re:a.re,Ad:a.Ad,uf:a.uf};break;case 2:f7Q=(a=this.ma.ck.children[a])?1:5;break;}}};a.prototype.$U=function(){var c7Q,a;c7Q=2;while(c7Q!==4){switch(c7Q){case 2:a=this.ma.ck;return{id:a.na.id,zd:a.zd,mc:a.mc,re:a.re,Ad:a.Ad,uf:a.uf};break;}}};a.prototype.BZ=function(a,b){var I7Q;I7Q=2;while(I7Q!==1){switch(I7Q){case 4:return this.ma.BZ(a,b);break;I7Q=1;break;case 2:return this.ma.BZ(a,b);break;}}};a.prototype.MXa=function(){var w8Q,a,b;w8Q=2;while(w8Q!==9){switch(w8Q){case 3:this.dc.length=0;w8Q=9;break;case 5:a=this.dc[b],a.ec();w8Q=4;break;case 4:++b;w8Q=1;break;case 1:w8Q=b<this.dc.length?5:3;break;case 2:b=0;w8Q=1;break;}}};a.prototype.open=function(){var S8Q,a,b,d,c,g,k,h,m,p,q,J8z,D8z,M8z,B8z,E8z,f8z,o8z,d8z,s8z,R8z,q8z;S8Q=2;while(S8Q!==28){J8z="c";J8z+="re";J8z+="ateMediaSourceStart";D8z="sta";D8z+="rt";D8z+="pla";D8z+="y";M8z="l";M8z+="o";M8z+="gda";M8z+="t";M8z+="a";B8z="N";B8z+="FErr_MC_Stre";B8z+="amingInitF";B8z+="ailure";E8z="exception in i";E8z+="n";E8z+="it";f8z="Er";f8z+="r";f8z+="o";f8z+="r";f8z+=":";o8z="creat";o8z+="eMediaSourc";o8z+="eEnd";d8z="Err";d8z+="or";d8z+=":";s8z="NFErr_";s8z+="M";s8z+="C_StreamingInitFailure";R8z="startPts m";R8z+="ust b";R8z+="e a posit";R8z+="ive number, not ";q8z="h";q8z+="e";q8z+="ad";q8z+="ers";switch(S8Q){case 16:S8Q=1===p.readyState?15:29;break;case 6:k=[q8z];this.jk&&(g.push(1),k.push(1));S8Q=13;break;case 4:this.rq(R8z+this.XR,void 0,s8z);S8Q=28;break;case 3:b=this.K;d=this.Vc.O;c=d.u;g=[];S8Q=6;break;case 23:p.sourceBuffers.forEach(function(d){var r8Q,f,c,p8z,j8z,y8z,F8z,Q8z;r8Q=2;while(r8Q!==11){p8z="manage";p8z+="r";p8z+="debu";p8z+="ge";p8z+="vent";j8z="log";j8z+="da";j8z+="ta";y8z="e";y8z+="r";y8z+="r";y8z+="o";y8z+="r";F8z="reques";F8z+="tAppend";F8z+="ed";Q8z="headerAp";Q8z+="pen";Q8z+="ded";switch(r8Q){case 9:d.addListener(Q8z,a.PYa.bind(a));d.addListener(F8z,a.SYa.bind(a));d.addListener(y8z,function(b){var Q8Q,t8z;Q8Q=2;while(Q8Q!==1){t8z="NFErr_";t8z+="MC_";t8z+="StreamingFailure";switch(Q8Q){case 2:a.rq(b.errorstr,void 0,t8z);Q8Q=1;break;}}});d.addListener(j8z,function(b){var B8Q;B8Q=2;while(B8Q!==1){switch(B8Q){case 4:C.Ha(a,b.type,b);B8Q=5;break;B8Q=1;break;case 2:C.Ha(a,b.type,b);B8Q=1;break;}}});b.Nf&&d.addListener(p8z,function(b){var M8Q;M8Q=2;while(M8Q!==1){switch(M8Q){case 4:C.Ha(a,b.type,b);M8Q=5;break;M8Q=1;break;case 2:C.Ha(a,b.type,b);M8Q=1;break;}}});a.De[f]=d;a.qq[f]=c;r8Q=11;break;case 2:f=d.M;c=a.Ta.ye[f];d=new r.lKa(c.L,f,p,d,b,a.X,a.zf.bind(a));c=new O.yJa(d,f,c.L);r8Q=9;break;}}});this.as=new Q.STa(this.qq,this.LC.bind(this),this.X.Cd.bind(this.X));this.kr&&this.Oa.MZa();d=this.Dwa();this.Oa.Koa(d);q=function(){var i8Q,A8z;i8Q=2;while(i8Q!==5){A8z="shutdown ";A8z+="det";A8z+="ected before startReq";A8z+="uests";switch(i8Q){case 2:a.Oa.c_a();i8Q=1;break;case 1:a.Me()?a.Qa(A8z):a.E0a();i8Q=5;break;}}};S8Q=32;break;case 24:throw this.Zi(d8z,p.error),p.error;S8Q=23;break;case 5:S8Q=!f.ka(this.XR)||0>this.XR?4:3;break;case 15:this.Oa.rs(o8z);p.wc||(p.wc=U.wc);this.Jf=p;S8Q=25;break;case 29:this.Zi(f8z,p.error),this.rq(E8z,void 0,B8z);S8Q=28;break;case 25:S8Q=!p.o4(g)?24:23;break;case 32:b.m$a?setTimeout(function(){var y8Q;y8Q=2;while(y8Q!==1){switch(y8Q){case 4:a.rna(c).then(q);y8Q=2;break;y8Q=1;break;case 2:a.rna(c).then(q);y8Q=1;break;}}},0):this.rna(c).then(function(){var u8Q;u8Q=2;while(u8Q!==1){switch(u8Q){case 4:setTimeout(q,1);u8Q=9;break;u8Q=1;break;case 2:setTimeout(q,0);u8Q=1;break;}}});d={type:M8z,target:D8z,fields:{audiogapconfig:b.eF,audiogapdpi:this.Jf.wc&&this.Jf.wc.eF}};this.emit(d.type,d);S8Q=28;break;case 19:k.forEach(function(b,d){var T8Q,k8z;T8Q=2;while(T8Q!==1){k8z="h";k8z+="e";k8z+="a";k8z+="de";k8z+="rs";switch(T8Q){case 2:k8z===b?a.uI=m[d]:a.Ta.ye[b].Tl=m[d];T8Q=1;break;}}});this.Oa.rs(J8z);p=new U(this.X.SJ);S8Q=16;break;case 2:a=this;S8Q=5;break;case 13:this.Fn&&(g.push(0),k.push(0));this.yK.bZa();h=b.jJ;this.rb.He&&this.rb.He.kJ(h,this.vk.sessionId);m=this.yK.UXa(k,d);S8Q=19;break;}}};a.prototype.flush=function(){var D8Q;D8Q=2;while(D8Q!==1){switch(D8Q){case 4:this.Kw.flush();D8Q=8;break;D8Q=1;break;case 2:this.Kw.flush();D8Q=1;break;}}};a.prototype.paused=function(){var o8Q;o8Q=2;while(o8Q!==1){switch(o8Q){case 4:this.X.paused();o8Q=4;break;o8Q=1;break;case 2:this.X.paused();o8Q=1;break;}}};n7Q=32;break;case 94:a.prototype.TYa=function(a,b){var W41;W41=2;while(W41!==5){switch(W41){case 2:b=k.Pfb(b);this.Y1[a.M]=b;W41=5;break;}}};Object.defineProperties(a.prototype,{Ns:{set:function(a){var Y41;Y41=2;while(Y41!==1){switch(Y41){case 2:this.Ta.Ns=a;Y41=1;break;case 4:this.Ta.Ns=a;Y41=8;break;Y41=1;break;}}},enumerable:!0,configurable:!0}});a.prototype.YU=function(a){var g41,b;g41=2;while(g41!==4){switch(g41){case 2:this.dc.some(function(d){var s41;s41=2;while(s41!==1){switch(s41){case 2:return d.O.Pk===a?(b=d.O.Pa,!0):!1;break;}}});return b;break;}}};a.prototype.Ifb=function(a){var j41,b;j41=2;while(j41!==4){switch(j41){case 2:this.dc.some(function(d){var N41;N41=2;while(N41!==1){switch(N41){case 2:return d.O.wa===a?(b=d.O.Pa,!0):!1;break;}}});j41=5;break;case 5:return b;break;}}};return a;break;}}}();c.uVa=a;g.Pi(b.EventEmitter,a);},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(14);g=a(43);h=a(71);a=function(a){function d(b,d,f,c,g,m){c=a.call(this,b,d,c,g,m)||this;d.aa=f.byteLength;h.ki.call(c,b,d);c.JC=f;c.wXa=d.aa;return c;}b.__extends(d,a);Object.defineProperties(d.prototype,{Vb:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hm:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Nc:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Yj:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Uh:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.JC;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Glb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ve:{get:function(){return this.wXa;},enumerable:!0,configurable:!0}});d.prototype.Fz=function(){return!0;};d.prototype.aD=function(a){this.xi=a.appendBuffer(this.response,f.Jl(this));return{Z:this.xi};};d.prototype.hj=function(){return-1;};d.prototype.abort=function(){return!0;};d.prototype.ec=function(){};d.prototype.eO=function(){return!1;};return d;}(a(163).oB);c.qJa=a;g.Pi(h.ki,a);},function(g,c,a){var f,h,q,d,k;function b(a){return{mediaType:a.M,streamId:a.oa,movieId:a.u,bitrate:a.R,location:a.location,serverId:a.Db,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ea,frameDuration:a.stream.Ra&&a.stream.Ra.Ud,encrypted:a.cj,initSegments:1<a.Xh.length?a.Xh.map(function(a){return{fi:a.rz,s:a.data.byteLength,e:!!a.cj};}):void 0};}Object.defineProperty(c,"__esModule",{value:!0});f=a(6);h=a(723);q=a(377);d=a(14);k=a(28);c.tQa={QP:"movieEntry",mOa:"header",N0:"metadata",UOa:"headerData",HFb:"headerMetadata",QNa:"sizes",PNa:"durations",jia:"fragments",DQa:"response",Bj:"billboard",Tu:{lifespan:259200}};c.Kva=function(a,b,d){var f,c;f=b.headerData;d&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(c={tj:d.startTicks,offset:d.offset,ea:d.timescale,sizes:new Uint32Array(b.sizes),Bd:new Uint32Array(b.durations)});return{Vb:!0,M:a.mediaType,u:a.movieId,oa:a.streamId,R:a.bitrate,location:a.location,Db:a.serverId,aa:a.bytes,offset:a.offset,R9:f,KV:a.initSegments,cj:a.encrypted,ea:a.timescale,Ra:a.frameDuration,te:a.saveToDisk,V:c};};c.Jva=function(a,b){var d,f,c;b=b.response;d=a.startTicks;f=a.durationTicks;void 0!==d&&void 0!==f&&(c=d+f);return{Vb:!1,M:a.mediaType,u:a.movieId,oa:a.streamId,R:a.bitrate,location:a.location,Db:a.serverId,aa:a.bytes,offset:a.offset,response:b,ea:a.timescale,fb:a.startTicks,Qn:f,te:a.saveToDisk,xb:c};};c.Jwa=function(a){return{fe:a.priority,u:a.movieId,headers:{},qp:0,HD:0,vV:0,te:a.saveToDisk,Pb:a.stats,Tn:a.firstSelectedStreamBitrate,Xn:a.initSelectionReason,rp:a.histDiscountedThroughputValue,Gl:a.histTdigest,Fm:a.histAge,nl:void 0};};c.Lwa=function(a,b,d,c,g){var m,p;m={headers:{},data:{}};c.forEach(function(f){var c,p,l;c=f.M;c=g&&g.Oq(c,f.oa);p=[];if(f.Vb)if(!Array.isArray(f.KV)||2>f.KV.length)p.push({rz:0,data:f.R9});else for(var t=0,u=0;u<f.KV.length;++u){l=f.KV[u];p.push({rz:l.fi,data:f.R9.slice(t,t+l.s),cj:l.e});t+=l.s;}c?(f.V&&c.sX(p,f.ea,f.Ra?new k.Xa(f.Ra,f.ea):void 0,f.V),f.Vb&&c&&c.pd?(void 0===m.headers&&(m.headers={}),m.headers[f.oa]=new q.b_(c,{aa:f.aa,offset:f.offset,Xh:p,cj:f.cj},b)):f.response instanceof ArrayBuffer&&void 0!==c.V&&void 0!==f.fb&&void 0!==f.ea&&void 0!==f.xb&&(p=c.V.nU(new k.Xa(f.fb,f.ea).Va),void 0!==p&&(c=new h.qJa(c,{ea:f.ea,fb:f.fb,xb:f.xb,index:p.index,offset:f.offset,aa:f.aa},f.response,d,a,b),void 0===m.data&&(m.data={}),m.data[f.oa]||(m.data[f.oa]=[]),m.data[f.oa].push(c)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+f.oa+" movieId: "+f.u);});if(!f.T(m.data)){p=m.data;Object.keys(p).forEach(function(a){p[a].sort(function(a,b){return a.fb-b.fb;});});}return m;};c.Ewa=function(a){return{mediaType:a.M,streamId:a.oa,movieId:a.u,bitrate:a.R,location:a.location,serverId:a.Db,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ea,startTicks:a.fb,durationTicks:a.Qn};};c.lfb=b;c.hfb=function(a){var f,c,g,k;f=b(a);a.stream.pd&&a.stream&&a.stream.V&&(c={timescale:a.stream.V.ea,startTicks:a.stream.V.tj,offset:a.stream.V.ug(0)},k=a.stream.V.bG,g=k.sizes.buffer,k=k.Bd.buffer);return{mediaType:f.mediaType,streamId:f.streamId,movieId:f.movieId,bitrate:f.bitrate,location:f.location,serverId:f.serverId,saveToDisk:!0,offset:f.offset,bytes:f.bytes,timescale:f.timescale,frameDuration:f.frameDuration,headerData:d.wl(a.Xh.map(function(a){return a.data;})),initSegments:f.initSegments,encrypted:a.cj,fragments:c,sizes:g,durations:k};};c.Kwa=function(a){return{priority:a.fe,movieId:a.u,saveToDisk:a.te,firstSelectedStreamBitrate:a.Tn,initSelectionReason:a.Xn,histDiscountedThroughputValue:a.rp,histTdigest:a.Gl,histAge:a.Fm};};c.Ijb=function(a){return!f.has(a,"startTicks");};c.Aya=function(a){return!a.R9||!a.ea||!a.V||void 0===a.V.tj||void 0===a.V.offset||void 0===a.V.Bd||!a.V.Bd.length||void 0===a.V.sizes||!a.V.sizes.length;};c.zya=function(a){return void 0===a.aa||void 0===a.offset||void 0===a.ea||void 0===a.fb||void 0===a.Qn;};},function(g,c,a){var q,d;function b(a,d,f){Object.keys(a).forEach(function(c){var g,k;if(q.jf(a[c]))if(a[c].VV){g=a[c];k=f+g.offset;a[c]=d.slice(k,k+g.byteLength);}else a[c]=b(a[c],d,f);});return a;}function f(a,b,d){Object.keys(a).forEach(function(c){var g;if(q.VV(a[c])){g=a[c];b.push(g);a[c]={VV:!0,offset:d.s6,byteLength:g.byteLength};d.s6+=g.byteLength;}else q.jf(a[c])&&f(a[c],b,d);});return a;}function h(){var a,b,d;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a+b.byteLength;},0);return d.buffer;}q=a(110);d=a(57);g.P={K6a:function(a){var b,c,g;b=d(a,{});a=[];b=f(b,a,{s6:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length+4);g=new DataView(c);g.setUint32(0,b.length);for(var k=4,m=0,q=b.length;m<q;m++)g.setUint8(k,b.charCodeAt(m)),k++;a=[c].concat(a);return h.apply(null,a);},J6a:function(a){var d;d=new DataView(a,0,4).getInt32(0);for(var f=new Uint8Array(a,4,d),c="",g=0;g<f.byteLength;g++)c+=String.fromCharCode(f[g]);d=4+d;c=JSON.parse(c);return b(c,a,d);}};},function(g,c,a){var h;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function f(a,b){var d,c,g;d=[];if(h.jf(b)){c={};g={};g[a]=c;d.push(g);d=Object.keys(b).reduce(function(d,g){var k,m,p;k=b[g];p={};h.VV(k)?(m=a+".__embed__."+g,p[m]=k,d.push(p)):h.jf(k)?(m=a+".__sub__."+g,k=f(m,k),c[g]=k[0][m],d=d.concat(k.slice(1))):c[g]=k;return d;},d);}else g={},g[a]=b,d.push(g);return d;}h=a(110);g.P={T$a:f,rjb:function(a){var d,n;d=Object.keys(a).map(function(a){return a.split(".");});d.sort(b);for(var f=d[0],c=f.length,f=a[f.join(".")],g=1;g<d.length;g++)for(var h=!1,m=!1,q=f,l=c;l<d[g].length;l++){n=d[g][l];switch(n){case"__metadata__":break;case"__sub__":m=!0;break;case"__embed__":h=!0;break;default:m?(q=q[n],m=!1):h&&(q[n]=a[d[g].join(".")],h=!1);}}return f;},Mjb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,c,a){function b(a){return a;}function f(){return b;}a(6);g.P={cL:f,s9:f};},function(g,c,a){var b,f,h,q;b=a(6);f=a(110);h={};h[f.dn.Jx]=function(a){return a;};h[f.dn.oQ]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[f.dn.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),d=0;d<b.byteLength;d++)a+=String.fromCharCode(b[d]);return JSON.parse(a);};q={};q[f.dn.Jx]=function(a){return a;};q[f.dn.oQ]=function(a){for(var b=new ArrayBuffer(a.length),d=new Uint8Array(b),f=0,c=a.length;f<c;f++)d[f]=a.charCodeAt(f);return b;};q[f.dn.OBJECT]=function(a){return b.T(a)||b.Ia(a)?a:q[f.dn.oQ](JSON.stringify(a));};g.P={cL:function(a){return h[a]||h[f.dn.Jx];},s9:function(a){return q[a]||q[f.dn.Jx];}};},function(g){function c(a,f,c,g){a.trace(":",c,":",g);f(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,f,g,h){g=h?g.bind(h):g;h=!1;if(a){this.console&&(g=c.bind(null,this.console,g,f));if("function"===typeof a.addEventListener)h=a.addEventListener(f,g);else if("function"===typeof a.addListener)h=a.addListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,f;b=a[0];f=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(f,a):"function"===typeof b.removeListener&&b.removeListener(f,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.P=a;},function(g){function c(a,f){var b;if(void 0===f||"function"!==typeof f||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.im)return this.im={},this.im[a]=[f],!0;b=this.im[a];return void 0===b?(this.im[a]=[f],!0):0>b.indexOf(f)?(b.push(f),!0):!1;}function a(a,f){a=this.im?this.im[a]:void 0;if(!a)return!1;a.forEach(function(a){a(f);});return!0;}g.P={addEventListener:c,on:c,removeEventListener:function(a,f){var b;if(void 0===f||"function"!==typeof f||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.im)return!1;b=this.im[a];if(void 0===b)return!1;f=b.indexOf(f);if(0>f)return!1;if(1===b.length)return delete this.im[a],!0;b.splice(f,1);return!0;},Ha:a,emit:a,removeAllListeners:function(a){this.im&&(void 0===a?delete this.im:delete this.im[a]);return this;}};},function(g){function c(a){if(!(this instanceof c))return new c(a);if("undefined"===typeof a)this.uk=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.uk=a;}this.vn=[];}function a(f,c){var g,d,k,h,m,u,l;g=f.vn;d=f.uk;k=2*c+1;h=2*c+2;m=g[c];u=g[k];l=g[h];u&&d(u.fe,m.fe)&&(!l||d(u.fe,l.fe))?(b(g,c,k),a(f,k)):l&&d(l.fe,m.fe)&&(b(g,c,h),a(f,h));}function b(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}c.prototype.clear=function(){this.vn=[];};c.prototype.Gm=function(a,c){this.vn.push({fe:a,value:c});a=this.vn;c=this.uk;for(var f=a.length-1,d=0===f?null:Math.floor((f-1)/2);null!==d&&c(a[f].fe,a[d].fe);)b(a,f,d),f=d,d=0===f?null:Math.floor((f-1)/2);};c.prototype.remove=function(){var f;if(0!==this.vn.length){f=this.vn[0];b(this.vn,0,this.vn.length-1);this.vn.pop();a(this,0);return f.value;}};c.prototype.tF=function(){if(0!==this.vn.length)return this.vn[0].value;};c.prototype.enqueue=c.prototype.Gm;c.prototype.yta=c.prototype.remove;c.prototype.xx=function(){return this.vn.map(function(a){return a.value;});};g.P=c;},function(g,c,a){var f,h,q,d,k,p,t,u;function b(a,c,g){var r,R;function m(a,b,d,f){a.info.call(a,function(a,c){var g;if(a)f(a);else{try{g=c.values[this.context].entries[b][d].size;}catch(na){g=-1;}-1<g?f(null,g):this.Xp(function(a,b){a?f(a):(b[d]&&(g=b[d].size),f(null,g));});}}.bind(a));}function l(a,d,f,c,g,p,q){var u;p?p.Ak||(p.Ak={}):p={Ak:{}};r(c);u=h.time.now();c=new t(function(b,c){a.create(h.storage.KB,d,f,function(a,d){a?c(a):b(d);});}).then(function(f){f.Z?m(a,h.storage.KB,d,function(a,c){a?q(a):(R(c),r(c),p.Ak[b.YO.F0]={Z:!0,time:g,yi:c,Fw:d,BDa:f,duration:h.time.now()-u},p.ej=f.ej,q(null,p));}):(p.Ak[b.YO.F0]={Z:!1,Fw:d,error:f.error},q(null,p));},function(a){q(a);});k.fr(c);}function n(a,b,d,f,c,g){f.Gm(d.time,d);for(var k=d.time-864E5,h=f.tF();h&&!isNaN(h.time)&&h.time<k;)h=f.yta(),r(0-(h.aa||0)),h=f.tF();f=f.xx().map(function(a){return a.time+";"+a.aa;});l(a,b,Array.prototype.join.call(f,"|"),d.aa,d.time,c,g);}function y(a,d,f,c,g,k,t,u,l){var y;y=h.time.now();a.create(f,c,g,function(g,B){var x;if(g)p.error("Failed to replace item",c,g);else if(B.Z){x=B.ej;m(a,f,c,function(f,g){var m,p;if(f)l(f);else{f={time:u,aa:g||0};m={ej:x,Ak:{}};p=h.time.now()-y;m.Ak[b.YO.REPLACE]={Z:!0,time:u,yi:g,Fw:c,BDa:B,duration:p};k?n(a,d,f,t,m,l):(r(g),l(null,m));}});}else l(q.zQ.$m(B.error||"Failed to create item"));});}function B(a,d,f,c,g,k,t,u,l){var y;y=h.time.now();a.append(f,c,g,function(g,B){var x;if(g)p.error("Failed to save item "+c,g),l(g);else if(B.Z){x=B.ej;m(a,f,c,function(f,g){var m,p;if(f)l(f);else{f={time:u,aa:g||0};m={ej:x,Ak:{}};p=h.time.now()-y;m.Ak[b.YO.NUa]={Z:!0,time:u,yi:g,Fw:c,BDa:B,duration:p};k?n(a,d,f,t,m,l):(r(g),l(null,m));}});}else l(q.zQ.$m(B.error||"Failed to save item"));});}function x(a,b){a&&f.Nb(a.remove)&&a.Vi.valid&&a.remove(h.storage.KB,b.vC,function(d,c){if(d)p.error("Failed to delete old journal key",d);else try{c&&(f.T(c.error)||c.error.some(function(a){return"NFErr_FileNotFound"===a.iNb;}))&&n(a,b.vC,{time:0,aa:0},b.QI,0,function(){});}catch(V){}});}if(!a.Vi.valid)return u;this.Bna=f.T(c)||f.Ia(c)?0:c;this.w2=a;this.S2=this.hI=0;this.QI=new d();this.G_a=g||"default";this.vC=this.G_a+".NRDCACHEJOURNALKEY";r=function(a){isNaN(a)||(this.hI+=a);return this.hI;}.bind(this);R=function(a){isNaN(a)||(this.S2+=a);return this.S2;}.bind(this);this.Z8=function(){return this.vC;};this.save=function(a,b,d,f){var c;c=h.time.now();B(this.w2,this.vC,a,b,d,0<=this.Bna,this.QI,c,f);};this.replace=function(a,b,d,f){var c;c=h.time.now();y(this.w2,this.vC,a,b,d,0<=this.Bna,this.QI,c,f);};this.Tva=function(a){var b,c;b=this.hI;a-=864E5;for(var d=this.QI.xx(),f=0;f<d.length;f++){c=d[f];c.time<a&&!isNaN(c.aa)&&(b-=c.aa);}return b;};(function(a){var b;b=a.w2;a.hI=0;b.read(h.storage.KB,a.vC,0,-1,function(d,f){var c,g,k,q;c=[];g=0;k=!0;if(d)p.error("Failed to compile records",d);else if(f.Z){d=String.fromCharCode.apply(null,new Uint8Array(f.value));d=String.prototype.split.call(d,"|");f=d.reduce(function(a,b){return a+(b.length+40);},0);r(f);c=d.map(function(a){a=a.split(";");return{time:Number(a[0]),aa:Number(a[1])};});try{if(!isNaN(c.reduce(function(a,b){return a+b.aa;},0)))for(var k=!1,m=h.time.now()-864E5;g<c.length;g++){q=c[g];q.time<m||(a.QI.Gm(q.time,q),r(q.aa));}}catch(N){}}k&&x(b,a);});}(this));}f=a(6);h=a(111);q=a(206);d=a(731);c=a(57);k=a(205);p=new h.Console("DISKWRITEMANAGER","media|asejs");t=h.Promise;c({YO:{NUa:"saveitem",REPLACE:"replaceitem",F0:"journalupdate"}},b);u={save:function(a,b,d,f){f(q.Fja);},replace:function(a,b,d,f){f(q.Fja);},Z8:function(){return"";},Tva:function(){return 0;}};b.prototype.constructor=b;g.P={create:function(a,d,f){return new b(a,d,f);},sHb:u};},function(g,c,a){var k,p,t,u,l,n,x,r,G;function b(){}function f(d,c,g,m,t){var u;u=k.Nb(m)?m:b;this.sv=d;this.cs=g.ap;this.Fs=0;this.rYa=g.ccb||"NONE";this.gs=k.T(t)||k.Ia(t)?0:t;this.wd={};this.Oo=g.vPb||p.storage.KB;this.iq=c;this.XC=l.create(this.iq,g.m9a*this.gs,this.sv);this.on=this.addEventListener=G.addEventListener;this.removeEventListener=G.removeEventListener;this.emit=this.Ha=G.Ha;this.coa=q(this,f.Hd.REPLACE);this.UYa=q(this,f.Hd.Vma);this.Ay;this.Ay=g.$Ha?a(728):a(727);this.iq.query(this.Oo,this.Nm(""),function(a,b){var d;if(a)u(a);else{d=this.XC.Z8();a=Object.keys(b).filter(function(a){return a!==d&&n.JE(a);}).map(this.Jfa.bind(this));this.eY(a,function(a,d){Object.keys(d).map(function(a){var f,c;f=d[a];this.wd[n.iU(a)]=f;if(f.Ada&&1<Object.keys(f.Ada).length){c=0;Object.keys(f.Ada).forEach(function(a){b[this.Nm(a)]&&k.ka(b[this.Nm(a)].size)&&(c+=b[this.Nm(a)].size);}.bind(this));a=n.iU(a);this.wd[a].size=c;}else a=n.iU(a),b[this.Nm(a)]&&(this.wd[a].size=b[this.Nm(a)].size);}.bind(this));h(this.iq,this.Oo,this.sv,function(a,b){this.Fs=b;a?u(a):u(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,d,f,c){var g;g=k.Nb(c)?c:b;a.query(d,f,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,d){return a+(b[d].size||0);},0),g(null,a));});}function q(a,b){return function(d,c,g,m,q){return function(t,u){var l;if(t)c||a.Ha(f.Hd.ERROR,{itemKey:d,error:t}),g(t);else{l={yi:0,duration:0,items:[],time:p.time.now()};Object.keys(u.Ak).map(function(b){var d;d=u.Ak[b];b={key:a.Jfa(d.Fw),kf:b};d.Z?(l.yi+=d.yi,b.iW=d.yi,k.ka(d.duration)&&(l.duration+=d.duration)):b.error=d.error;l.items.push(b);});t=k.Nb(m)?m():0;0<q&&(l.GD=q-t);h(a.iq,a.Oo,a.sv,function(d,f){d?g(d):(a.Fs=f,l.ej=a.cs-f,c||a.Ha(b,r.Yva(l)),g(null,l));});}};};}function d(a,b){return 0<b&&a>=b?!0:!1;}k=a(6);p=a(111);t=a(206);c=a(57);u=new p.Console("MEDIACACHE","media|asejs");l=a(732);n=a(358);x=a(110);r=a(205);G=a(109).EventEmitter;c({Hd:{Vma:"writeitem",REPLACE:"replaceitem",F0:"journalupdate",ERROR:"mediacache-error"}},f);f.prototype.getName=function(){return this.sv;};f.prototype.Jfa=function(a){return a.slice(this.sv.length+1);};f.prototype.Q8=function(){return Object.keys(this.wd).filter(function(a){a=n.t8(this.wd[a]);return void 0===a||0>=a.qsa();}.bind(this));};f.prototype.fgb=function(){return Object.keys(this.wd).reduce(function(a,b){var d;d=this.wd[b];return d&&d.creationTime<a.creationTime?{resourceKey:b,creationTime:d.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:p.time.now()}).PQb;};f.prototype.Yeb=function(){var a;switch(this.rYa){case"FIFO":a=this.fgb();}return a;};f.prototype.p$a=function(a){var d;d=k.Nb(a)?a:b;this.uwa(function(b){var f,c,g;f=this.wd;c=Object.keys(f).reduce(function(a,b){b=f[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!n.JE(a)&&0>c.indexOf(a);}))&&0<b.length){g=this;b=p.Promise.all(b.map(function(a){return new p.Promise(function(b,d){g["delete"](a,function(a){a?d(a):b();});});})).then(function(){d(void 0,{ida:!0});},function(a){d(a,{ida:!1});});r.fr(b);}else a(void 0,{ida:!1});}.bind(this));};f.prototype.Vsb=function(a,d,f){var c,g;c=k.Nb(d)?d:b;d=this.Nm(a);g=p.time.now();this.iq.read(this.Oo,d,0,-1,function(b,d){var h;if(b)c(b);else if(d&&d.Z&&d.value){k.Nb(f)||(f=this.Ay.cL(x.dn.Jx),n.JE(a)?f=this.Ay.cL(x.dn.OBJECT):(b=this.wd[a],!k.T(b)&&k.ka(b.resourceIndex[a])?(b=b.resourceIndex[a],k.T(b)&&(b=x.dn.Jx),f=this.Ay.cL(b)):u.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=f(d.value);}catch(ba){return c(t.QB.$m(ba.message));}d={duration:p.time.now()-g};this.wd[a]&&k.ka(this.wd[a].size)&&(d.Us=k.ka(this.wd[a].size)?this.wd[a].size:0);c(null,h,d);}else c(t.QB.$m(d.error));}.bind(this));};f.prototype.read=function(a,b,d){this.Vsb(a,b,d);};f.prototype.eY=function(a,d,f){var c,g,h;c=k.Nb(d)?d:b;if("[object Array]"!==Object.prototype.toString.call(a))c(t.QB.$m("item keys must be an array"));else{g={};h=[];a=p.Promise.all(a.map(function(a){return new p.Promise(function(b,d){var c;f&&!k.T(f[a])&&(c=this.Ay.cL(f[a]));this.read(a,function(f,c,k){f?(c={},c[a]=f,d(c)):(g[a]=c,h.push({duration:k.duration,Us:k.Us}),b());},c);}.bind(this));}.bind(this))).then(function(){var a;a={};0<h.length&&(a=h.reduce(function(a,b){k.ka(b.duration)&&(a.duration+=b.duration);k.ka(b.Us)&&(a.Us+=b.Us);return a;},{duration:0,Us:0}));c(null,g,a);},function(a){c(a);});r.fr(a);}};f.prototype.write=function(a,f,c,g,h){var m,p,q;c=k.Nb(c)?c:b;m=this.Nm(a);p="function"===typeof h?h():0;q=x.E9(f);q=this.Ay.s9(q)(f);q.byteLength+this.Fs>=this.cs?c(t.rB):d(q.byteLength+p,this.gs)?c(t.AQ):this.XC.save(this.Oo,m,f,this.UYa(a,g,c,h,this.gs),q.byteLength);};f.prototype.replace=function(a,f,c,g,h){var m,p,q,l;m=k.Nb(c)?c:b;p=this.Nm(a);q=0;"function"===typeof h&&(q=h());c=x.E9(f);l=this.Ay.s9(c)(f);c=(this.wd[a]||{}).size||0;0>=c&&this.wd[a]?this.Qwa([a],function(b){u.trace("Replacing key",a,"which exists:",!!this.wd[a],this.wd[a]?this.wd[a]:void 0,"and has size",b,"with",f,"with size",l.byteLength,"plus _used",this.Fs,"vs capacity",this.cs);l.byteLength-b+this.Fs>=this.cs?m(t.rB):d(l.byteLength-b+q,this.gs)?m(t.AQ):this.XC.replace(this.Oo,p,f,this.coa(a,g,m,h,this.gs),l.byteLength);}.bind(this)):(u.trace("Replacing key",a,"which exists:",!!this.wd[a],this.wd[a]?this.wd[a]:void 0,"and has size",c,"with",f,"with size",l.byteLength,"plus _used",this.Fs,"vs capacity",this.cs),l.byteLength-c+this.Fs>=this.cs?m(t.rB):d(l.byteLength-c+q,this.gs)?m(t.AQ):this.XC.replace(this.Oo,p,f,this.coa(a,g,m,h,this.gs),l.byteLength));};f.prototype.$tb=function(a,d,c,g){var h;h=k.Nb(d)?d:b;"[object Object]"!==Object.prototype.toString.call(a)?h(t.zQ.$m("items must be a map of keys to objects")):(d=p.Promise.all(Object.keys(a).map(function(b){return new p.Promise(function(d){this.replace(b,a[b],function(a,f){a?d({error:a,Tm:b}):d(f);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,d,m,q;try{b=Number.MAX_VALUE;d=a.reduce(function(a,d){d.error||(a.yi+=d.yi,k.ka(d.duration)&&(a.duration+=d.duration),!k.T(d.ej)&&d.ej<b&&(b=d.ej),d.items.map(function(b){a.items.push({key:b.key,kf:b.kf,iW:b.iW,Vlb:b.Vlb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.ej=b));return a;},{yi:0,items:[],time:p.time.now(),duration:0});0<this.gs&&(d.GD=this.gs-g());m=a.filter(function(a){return!k.T(a.error);});q=r.pxa(m);c||(q?q.forEach(function(a){this.Ha(f.Hd.ERROR,a);}.bind(this)):this.Ha(f.Hd.REPLACE,r.Yva(d)));h(q,d);}catch(V){h(V);}}.bind(this),function(a){c||this.Ha(f.Hd.ERROR,a);h(a);}.bind(this)),r.fr(d));};f.prototype["delete"]=function(a,d){var f;f=k.Nb(d)?d:b;this.iq.remove(this.Oo,this.Nm(a),function(a,b){a?f(a):b&&b.Z?h(this.iq,this.Oo,this.Nm(""),function(a,b){a?f(a):(this.Fs=b,f());}.bind(this)):f(t.OLa.$m(b.error));}.bind(this));};f.prototype.uwa=function(a){this.query("",function(b,d){b?(u.error("Failed to get keys",b),a([])):a(d);});};f.prototype.query=function(a,d){var f,c;f=k.Nb(d)?d:b;c=this.XC.Z8();this.iq.query(this.Oo,this.Nm(a),function(a,b){a?f(a):f(null,Object.keys(b).filter(function(a){return a!==c;}).map(this.Jfa.bind(this)));}.bind(this));};f.prototype.Nm=function(a){return this.sv+"."+a;};f.prototype.clear=function(a){var d;d=k.Nb(a)?a:b;this.uwa(function(a){var b;b=p.Promise.all(a.map(function(a){return new p.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){d(a);},function(a){this.Ha(f.Hd.ERROR,a);d([],a);}.bind(this));r.fr(b);}.bind(this));};f.prototype.Qwa=function(a,d){var f,c;f=k.Nb(d)?d:b;c=(a||[]).map(function(a){return this.Nm(a);}.bind(this));this.iq.query(this.Oo,this.sv,function(b,d){b?(u.error("failed to get persisted size for keyset ",a,b),f(0)):(b=Object.keys(d).filter(function(a){return 0<=c.indexOf(a);}).reduce(function(a,b){return a+(d[b].size||0);},0),f(b));}.bind(this));};f.prototype.ieb=function(a){return this.XC.Tva(a);};f.prototype.constructor=f;g.P=f;},function(g,c,a){var f,h,q,d,k;function b(a){this.Vi=a;this.context=a.context;this.uBa="NULLCONTEXT"===a.context?!0:!1;}f=a(6);h=a(111);q=new h.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(a,b,d,f,c){c("MediaCache is not supported");},remove:function(a,b,d){d("MediaCache is not supported");},create:function(a,b,d,f){f("MediaCache is not supported");},append:function(a,b,d,f){f("MediaCache is not supported");},query:function(a,b,d){d([]);}};b.prototype.Gy=function(){var a,b,d;a=Array.prototype.slice.call(arguments);b=a[0];d=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){d(null,a);});try{if(this.uBa)throw Error("Media Cache not supported");b.apply(this.Vi,a);}catch(y){d(y);}};b.prototype.query=function(a,b,d,f){try{if(this.uBa)throw Error("Media Cache not supported");this.Vi.query(a,b,function(a){d(null,a);},f);}catch(B){d(B);}};b.prototype.read=function(a,b,d,f,c){this.Gy(this.Vi.read,a,b,d,f,c);};b.prototype.remove=function(a,b,d){this.Gy(this.Vi.remove,a,b,d);};b.prototype.create=function(a,b,d,f){this.Gy(this.Vi.create,a,b,d,f);};b.prototype.append=function(a,b,d,f){this.Gy(this.Vi.append,a,b,d,f);};b.prototype.info=function(a){this.Gy(this.Vi.info,a);};b.prototype.Xp=function(a){this.Gy(this.Vi.Xp,a);};b.prototype.flush=function(a){this.Gy(this.Vi.flush,a);};b.prototype.clear=function(){this.Vi.clear();};g.P={E8a:function(a){var c,g,m,p,l;c=a.TMb||"NRDMEDIADISKCACHE";k=a.aw||0;0!==k||f.T(h.options)||f.T(h.options.aF)||(k=h.options.aF);a=k;try{p=h.storage.RD;if(!p||!f.jf(p))throw q.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(m=p[c])q.warn("Disk store exists, returning"),g=new b(m);else{if(f.T(h.storage)||!f.Nb(h.storage.oT)||h.options&&0===h.options.aF)throw q.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";q.warn("Disk store context doesn't exist, creating with size "+a);l=h.storage.oT({context:c,size:a,encrypted:!0,signed:!0});if(!l||!l.valid)throw"Failed to create disk store context";g=new b(l);}}catch(H){q.warn("Exception creating disk store context - returning NullContext (noops)",H);g=new b(d);}return g;},Leb:function(){return k;},mEb:b};},function(g,c,a){var b,f,h,q,d;b=a(6);h=[];d=!1;g.P={QV:function(c,g,m){var k;if(d)b.Nb(m)&&(f.Yn||f.Dz?setTimeout(function(){m(f);},0):h.push(m));else{d=!0;k=a(111);k.yL(c);q=new k.Console("MEDIACACHE","media|asejs");f=new(a(359))(g,function(a){a&&q.warn("Failed to initialize MediaCache",a);b.Nb(m)&&setTimeout(function(){m(f);},0);h.map(function(a){setTimeout(function(){a(f);},0);});});}return f;},yNb:function(d,c){f=new(a(359))(d,function(a,d){a&&q.warn("Failed to initialize MediaCache",a);b.Nb(c)&&setTimeout(function(){c(d);},0);});}};},function(g,c,a){var b,f,h,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);a(7);f=a(735);h=a(6);q=a(212);d=a(14);g=a(43);k=a(724);p=k.tQa;a=function(){var T8z;function a(a,b,d){var L8z,l6z,x6z,w6z,u6z;L8z=2;while(L8z!==13){l6z="media";l6z+="|a";l6z+="sejs";x6z="MEDIA";x6z+="C";x6z+="AC";x6z+="HE";w6z="1S";w6z+="IYbZ";w6z+="rN";w6z+="J";w6z+="Cp9";u6z="Media ca";u6z+="che has n";u6z+="ot been initiaized";switch(L8z){case 4:this.wn=a.dba?a.dba:!1;this.wZa=a.xAa?a.xAa:!1;this.K=a;L8z=8;break;case 8:this.kl=b;this.ue=d;this.mq=Promise.reject(u6z);w6z;L8z=13;break;case 2:this.L=new b.Console(x6z,l6z);this.W3=(a.zx||a.Vfa)&&0<(a.aw||(b.options||{}).aF||0);this.pYa=a.Yab?a.Yab:!1;L8z=4;break;}}}T8z=2;while(T8z!==27){switch(T8z){case 3:a.prototype.Rub=function(a,b){var Y2z,d;Y2z=2;while(Y2z!==4){switch(Y2z){case 2:d=k.Kwa(a);this.Gh.save(p.Bj,[p.QP,a.u].join("."),d,p.Tu,function(){var H2z;H2z=2;while(H2z!==1){switch(H2z){case 4:b();H2z=3;break;H2z=1;break;case 2:b();H2z=1;break;}}});Y2z=4;break;}}};a.prototype.Qub=function(a,b){var v2z,f,c,g,m,q,t;v2z=2;while(v2z!==19){switch(v2z){case 7:q[c+"."+p.UOa]={Tm:d.wl(a.Xh.map(function(a){var e2z;e2z=2;while(e2z!==1){switch(e2z){case 2:return a.data;break;case 4:return a.data;break;e2z=1;break;}}})),qd:p.Tu};v2z=6;break;case 6:v2z=a.stream.pd&&!h.T(a.stream.V)?14:20;break;case 3:m=k.lfb(a);q={};q[c+"."+p.N0]={Tm:m,qd:p.Tu};v2z=7;break;case 20:this.Gh.PEa(p.Bj,q,function(d){var X2z;X2z=2;while(X2z!==5){switch(X2z){case 2:d||(d=f.kl.time.fa()-g,a.nj&&(h.T(a.nj.Pb.Xm)&&(a.nj.Pb.Xm=0),a.nj.Pb.Xm+=d));b();X2z=5;break;}}});v2z=19;break;case 2:f=this;c=[a.u,a.oa,p.mOa].join(".");g=this.kl.time.fa();v2z=3;break;case 10:q[c+"."+p.PNa]={Tm:t.Bd.buffer,qd:p.Tu};v2z=20;break;case 14:m={timescale:a.stream.V.ea,startTicks:a.stream.V.tj,offset:a.stream.V.ug(0)};t=a.stream.V.bG;q[c+"."+p.jia]={Tm:m,qd:p.Tu};q[c+"."+p.QNa]={Tm:t.sizes.buffer,qd:p.Tu};v2z=10;break;}}};a.prototype.Pub=function(a,b,d){var N2z,f,c,g,m,q,a6z;N2z=2;while(N2z!==11){a6z="U";a6z+="nable to save fragme";a6z+="nt b";a6z+="ecause response is not an Arr";a6z+="ayBuffer";switch(N2z){case 12:d(Error(a6z));N2z=11;break;case 4:N2z=c instanceof ArrayBuffer?3:12;break;case 2:f=this;c=a.response;N2z=4;break;case 3:g=this.kl.time.fa();m=[a.u,a.oa,a.Ad].join(".");a=k.Ewa(a);q={};q[m+"."+p.N0]={Tm:a,qd:p.Tu};h.T(c)||(q[m+"."+p.DQa]={Tm:c,qd:p.Tu});this.Gh.PEa(p.Bj,q,function(a){var u2z,q6z;u2z=2;while(u2z!==5){q6z="Failed to s";q6z+="ave";q6z+=" ";q6z+="fragment";switch(u2z){case 2:a?f.L.warn(q6z,a):(a=f.kl.time.fa()-g,h.T(b.Pb.Xm)&&(b.Pb.Xm=0),b.Pb.Xm+=a);d();u2z=5;break;}}});N2z=11;break;}}};T8z=7;break;case 2:a.prototype.Sb=function(a,b){var c8z,d,s6z;c8z=2;while(c8z!==4){s6z="Med";s6z+="ia ";s6z+="ca";s6z+="che is ";s6z+="disabled";switch(c8z){case 2:d=this;return this.mq=this.W3?new Promise(function(c,g){var m8z;m8z=2;while(m8z!==1){switch(m8z){case 2:(void 0!==b&&null!==b?b.QV:function(a){var O8z;O8z=2;while(O8z!==1){switch(O8z){case 4:return f.QV(d.kl,d.K,a);break;O8z=1;break;case 2:return f.QV(d.kl,d.K,a);break;}}})(function(b){var W8z,f,R6z;W8z=2;while(W8z!==3){R6z="Med";R6z+="ia cache d";R6z+="id not i";R6z+="nitialize";switch(W8z){case 2:d.Gh=b;f=b.Yn;(b=b.Dz)?g(b):f?(d.Iwb(a),c()):g(Error(R6z));W8z=3;break;}}});m8z=1;break;}}}):Promise.reject(s6z);break;}}};a.prototype.Clb=function(a){var P8z,b,d,f;P8z=2;while(P8z!==9){switch(P8z){case 2:b=this;d=[p.QP,a].join(".");f=this.kl.time.fa();P8z=3;break;case 3:return this.mq.then(function(){var z8z;z8z=2;while(z8z!==1){switch(z8z){case 2:return new Promise(function(c){var I8z;I8z=2;while(I8z!==1){switch(I8z){case 2:b.Gh.yA(p.Bj,d,function(d){var h8z,g,Q6z;h8z=2;while(h8z!==9){Q6z="m";Q6z+="ediaca";Q6z+="ch";Q6z+="e";Q6z+="lookup";switch(h8z){case 2:h8z=1;break;case 1:h8z=!d||0>=d.length?5:4;break;case 5:c(),b.YF(Q6z,{BW:b.kl.time.fa()-f,vT:!1});h8z=9;break;case 4:g=d[0];h8z=3;break;case 3:b.Gh.read(p.Bj,g,function(d,f){var g8z,r8z,m,p,y6z,F6z;g8z=2;while(g8z!==14){y6z=" f";y6z+="ail";y6z+="e";y6z+="d";F6z="Reading ";F6z+="mov";F6z+="ie entry ";switch(g8z){case 3:try{r8z=2;while(r8z!==1){switch(r8z){case 2:m=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));r8z=1;break;}}}catch(R){}g8z=8;break;case 8:h.T(m)||(p=k.Jwa(m));h.T(p)||h.Ia(p)||(p.Pb=p.Pb||{},p.headers=p.headers||{});b.Cya(p)?c(p):(b.o0a(a),c());g8z=14;break;case 4:g8z=f instanceof ArrayBuffer?3:9;break;case 9:m={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};g8z=8;break;case 2:d&&b.L.warn(F6z+g+y6z,d);g8z=5;break;case 5:g8z=!h.T(f)?4:8;break;}}});h8z=9;break;}}});I8z=1;break;}}});break;}}});break;}}};a.prototype.xlb=function(a,b,d){var n8z,f,c,t6z;n8z=2;while(n8z!==8){t6z="Media cache is not";t6z+=" e";t6z+="nabled";switch(n8z){case 5:n8z=!this.mq?4:3;break;case 2:f=this;n8z=5;break;case 4:return Promise.reject(t6z);break;case 3:c=this.kl.time.fa();return this.mq.then(function(){var U8z;U8z=2;while(U8z!==1){switch(U8z){case 2:return new Promise(function(g){var b8z;b8z=2;while(b8z!==1){switch(b8z){case 2:f.Gh.yA(p.Bj,a,function(k){var C8z;C8z=2;while(C8z!==5){switch(C8z){case 2:k=k.reduce(function(a,b){var i2z,d,j6z;i2z=2;while(i2z!==8){j6z="drmHe";j6z+="ader.__";j6z+="e";j6z+="mbe";j6z+="d__";switch(i2z){case 5:i2z=-1!==d.indexOf(j6z)?4:3;break;case 2:d=b.substr(0,b.lastIndexOf("."));i2z=5;break;case 4:return a;break;case 3:a[d]?a[d].push(b):a[d]=[b];return a;break;}}},{});f.Dsb(k,b).then(function(b){var Z2z,k,m,A6z,p6z;Z2z=2;while(Z2z!==6){A6z="mediacache";A6z+="look";A6z+="up";p6z="No co";p6z+="nt";p6z+="ent data foun";p6z+="d for ";switch(Z2z){case 1:Z2z=void 0===d||void 0===b?5:4;break;case 2:Z2z=1;break;case 5:return g();break;case 4:k=f.kl.time.fa()-c;m=!1;h.T(b)||h.T(b.data)||!h.jf(b.data)?f.L.trace(p6z+a,d):m=!0;f.YF(A6z,{BW:k,vT:m});Z2z=7;break;case 7:g(b);Z2z=6;break;}}},function(){var S2z;S2z=2;while(S2z!==1){switch(S2z){case 4:g();S2z=3;break;S2z=1;break;case 2:g();S2z=1;break;}}});C8z=5;break;}}});b8z=1;break;}}});break;}}});break;}}};a.prototype.ylb=function(a,b){var K2z,d,f;K2z=2;while(K2z!==3){switch(K2z){case 2:d=this;f=this.kl.time.fa();return this.mq.then(function(){var V2z;V2z=2;while(V2z!==1){switch(V2z){case 4:return d.joa(a);break;V2z=1;break;case 2:return d.joa(a);break;}}}).then(function(c){var G2z,d6z;G2z=2;while(G2z!==5){d6z="m";d6z+="ediaca";d6z+="c";d6z+="helooku";d6z+="p";switch(G2z){case 1:return d.W_a(a.toString(),b,f);break;case 8:return d.W_a(a.toString(),b,f);break;G2z=5;break;case 4:d.YF(d6z,{BW:d.kl.time.fa()-f,vT:!1});G2z=5;break;case 2:G2z=c?1:4;break;}}});break;}}};T8z=3;break;case 7:a.prototype.Sub=function(a){var w2z,c,m,t,u,b,d,f,g,l,n,r,ea,A,O;w2z=2;while(w2z!==32){switch(w2z){case 8:w2z=a.headers?7:13;break;case 33:this.Gh.save(p.Bj,a.u,f,c,function(a){var l2z,o6z;l2z=2;while(l2z!==1){o6z="sa";o6z+="vetod";o6z+="isk";switch(l2z){case 2:a||b.YF(o6z,{QEa:b.kl.time.fa()-d});l2z=1;break;}}});w2z=32;break;case 12:c={},m=a.data,t=0,u=Object.keys(a.data);w2z=11;break;case 7:g={};Object.keys(a.headers).forEach(function(b){var x2z,d;x2z=2;while(x2z!==4){switch(x2z){case 2:d=k.hfb(a.headers[b]);g[b]=d;x2z=4;break;}}});w2z=14;break;case 24:O++;w2z=16;break;case 11:w2z=t<u.length?10:21;break;case 26:A=k.Ewa(ea);w2z=25;break;case 22:t++;w2z=11;break;case 18:w2z=n?17:22;break;case 2:b=this;d=this.kl.time.fa();f={};w2z=3;break;case 3:c=k.Kwa(a);f.movieEntry=c;w2z=8;break;case 21:f.data=c;w2z=35;break;case 17:O=0;w2z=16;break;case 10:l=u[t];n=m[l];r={};w2z=18;break;case 25:r[ea.Ad]={mediaType:A.mediaType,streamId:A.streamId,movieId:A.movieId,bitrate:A.bitrate,location:A.location,serverId:A.serverId,saveToDisk:A.saveToDisk,offset:A.offset,bytes:A.bytes,timescale:A.timescale,startTicks:A.startTicks,durationTicks:A.durationTicks,response:ea.response};w2z=24;break;case 13:w2z=a&&a.data?12:35;break;case 27:w2z=ea instanceof q.a_&&ea.response instanceof ArrayBuffer&&!h.T(ea.Ad)?26:24;break;case 23:c[l]=r;w2z=22;break;case 16:w2z=O<n.length?15:23;break;case 14:f.headers=g;w2z=13;break;case 35:c={lifespan:259200};this.wZa&&(c.convertToBinaryData=!0);w2z=33;break;case 15:ea=n[O];w2z=27;break;}}};a.prototype.Cya=function(a){var a2z;a2z=2;while(a2z!==1){switch(a2z){case 2:return!(h.T(a)||h.Ia(a)||h.T(a.Pb)||h.Ia(a.Pb)||h.T(a.u)||h.Ia(a.u)||h.T(a.fe)||h.Ia(a.fe));break;}}};a.prototype.cmb=function(a){var q2z,b,d;q2z=2;while(q2z!==3){switch(q2z){case 2:b=this;d=h.T(a)?"":a.toString();return new Promise(function(a){var R2z,s2z;R2z=2;while(R2z!==4){switch(R2z){case 1:a();R2z=4;break;case 8:a();R2z=9;break;R2z=4;break;case 9:R2z=h.T(b.Gh)?6:7;break;R2z=h.T(b.Gh)?1:5;break;case 2:R2z=h.T(b.Gh)?1:5;break;case 5:try{s2z=2;while(s2z!==1){switch(s2z){case 2:b.Gh.yA(p.Bj,"",function(b){var Q2z;Q2z=2;while(Q2z!==5){switch(Q2z){case 2:b=b.filter(function(a){var F2z,f6z;F2z=2;while(F2z!==5){f6z="mo";f6z+="vi";f6z+="eEntr";f6z+="y";switch(F2z){case 2:a=a.split(".");return d&&(d===a[0]||f6z===a[0]&&d===a[1]);break;}}}).reduce(function(a,b){var y2z,d,E6z;y2z=2;while(y2z!==3){E6z="mov";E6z+="ie";E6z+="Entry";switch(y2z){case 2:d=b.split(".");E6z!==d[0]&&(b=d[1],d=d[2],h.T(a[b])&&(a[b]={}),h.T(a[b][d])&&(a[b][d]=!0));return a;break;}}},{});a(b);Q2z=5;break;}}});s2z=1;break;}}}catch(H){a();}R2z=4;break;}}});break;}}};T8z=13;break;case 13:a.prototype.Blb=function(a,b){var t2z,d;t2z=2;while(t2z!==4){switch(t2z){case 2:d=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var j2z,d,f;j2z=2;while(j2z!==7){switch(j2z){case 8:return a(d);break;case 3:f=b.data;j2z=9;break;case 9:Object.keys(f).forEach(function(a){var A2z;A2z=2;while(A2z!==5){switch(A2z){case 2:d[a]||(d[a]={});f[a].forEach(function(b){var d2z;d2z=2;while(d2z!==1){switch(d2z){case 2:h.T(b.Ad)||(d[a][b.Ad]=!0);d2z=1;break;}}});A2z=5;break;}}});j2z=8;break;case 4:j2z=b.data?3:8;break;case 2:d={};b.headers&&Object.keys(b.headers).forEach(function(a){var p2z;p2z=2;while(p2z!==5){switch(p2z){case 2:d[a]||(d[a]={});d[a].header=!0;p2z=5;break;}}});j2z=4;break;}}}):this.joa(a).then(function(b){var o2z;o2z=2;while(o2z!==5){switch(o2z){case 1:return new Promise(function(b){var f2z;f2z=2;while(f2z!==1){switch(f2z){case 2:d.Gh.read(p.Bj,a,function(d,f){var E2z,c,g;E2z=2;while(E2z!==4){switch(E2z){case 1:E2z=d?5:3;break;case 5:b();E2z=4;break;case 2:E2z=1;break;case 3:E2z=h.T(f)?9:8;break;case 9:b(void 0);E2z=4;break;case 6:c.headers&&Object.keys(c.headers).forEach(function(a){var B2z;B2z=2;while(B2z!==5){switch(B2z){case 2:g[a]||(g[a]={});g[a].header=!0;B2z=5;break;}}});c.data&&Object.keys(c.data).forEach(function(a){var M2z;M2z=2;while(M2z!==5){switch(M2z){case 2:g[a]||(g[a]={});Object.keys(c.data[a]).forEach(function(b){var D2z;D2z=2;while(D2z!==1){switch(D2z){case 4:g[a][b]=~1;D2z=5;break;D2z=1;break;case 2:g[a][b]=!0;D2z=1;break;}}});M2z=5;break;}}});b(g);E2z=4;break;case 8:c=f[a];g={};E2z=6;break;}}});f2z=1;break;}}});break;case 2:o2z=b?1:5;break;}}});break;}}};a.prototype.Vfb=function(){var k2z,a,B6z;k2z=2;while(k2z!==4){B6z="Me";B6z+="dia cac";B6z+="he is not e";B6z+="n";B6z+="abled";switch(k2z){case 5:return this.mq?this.mq.then(function(){var J2z;J2z=2;while(J2z!==1){switch(J2z){case 2:return new Promise(function(b){var T2z;T2z=2;while(T2z!==1){switch(T2z){case 2:a.Gh.yA(p.Bj,p.QP,function(a){var L2z,d;L2z=2;while(L2z!==8){switch(L2z){case 1:L2z=!a||0>=a.length?5:4;break;case 2:L2z=1;break;case 5:b([]);L2z=8;break;case 4:d=[];a.forEach(function(a){var c2z;c2z=2;while(c2z!==1){switch(c2z){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&d.push(a[1]);c2z=1;break;}}});L2z=9;break;case 9:b(d);L2z=8;break;}}});T2z=1;break;}}});break;}}}):Promise.reject(B6z);break;case 2:a=this;k2z=5;break;}}};a.prototype.YF=function(a,b){var m2z,d,J6z,k6z,D6z,M6z;m2z=2;while(m2z!==8){J6z="s";J6z+="ave";J6z+="todisk";k6z="mediacac";k6z+="h";k6z+="estats";D6z="me";D6z+="dia";D6z+="c";D6z+="ache";M6z="media";M6z+="cac";M6z+="hel";M6z+="ookup";switch(m2z){case 4:M6z===a&&(d.lookupTime=b.BW,d.dataFound=b.vT);d.oneObject=this.wn;this.pYa&&this.emit(D6z,d);m2z=8;break;case 2:d={type:k6z,operation:a};J6z===a&&(d.saveTime=b.QEa);m2z=4;break;}}};a.prototype.Dsb=function(a,b){var O2z,d,f;O2z=2;while(O2z!==3){switch(O2z){case 2:d=this;f=Object.keys(a).map(function(b){var W2z;W2z=2;while(W2z!==1){switch(W2z){case 2:return d.C8a(a[b]);break;case 4:return d.C8a(a[b]);break;W2z=1;break;}}});return Promise.all(f).then(function(a){var P2z;P2z=2;while(P2z!==5){switch(P2z){case 2:a.sort(function(a,b){var z2z;z2z=2;while(z2z!==1){switch(z2z){case 2:return a.Vb===b.Vb?0:a.Vb?-1:1;break;}}});return k.Lwa(d.K,d.L,d.ue,a,b);break;}}});break;}}};a.prototype.C8a=function(a){var I2z,b,d,f,c;I2z=2;while(I2z!==3){switch(I2z){case 4:return new Promise(function(g,h){var h2z,m;h2z=2;while(h2z!==5){switch(h2z){case 2:b.Gh.eY(p.Bj,a,function(a,b){var g2z,q,r2z,c6z,L6z,T6z;g2z=2;while(g2z!==5){switch(g2z){case 2:try{r2z=2;while(r2z!==19){c6z="Missing o";c6z+="r invalid media ";c6z+="data pa";c6z+="rts for stream ";L6z="Header fragments was an arr";L6z+="ay buffer, is ";L6z+="invalid";L6z+=" type ";T6z="Missing or invalid ";T6z+="heade";T6z+="r ";T6z+="data parts for str";T6z+="eam ";switch(r2z){case 4:r2z=k.Ijb(f)?3:20;break;case 11:r2z=k.zya(m)?10:12;break;case 6:r2z=m.Vb?14:11;break;case 2:r2z=a||void 0===b?1:5;break;case 5:Object.keys(b).map(function(a){var n2z,U2z,g,k;n2z=2;while(n2z!==9){switch(n2z){case 5:n2z=g===p.N0?4:3;break;case 4:try{U2z=2;while(U2z!==5){switch(U2z){case 2:k=new Uint8Array(b[a]);f=JSON.parse(String.fromCharCode.apply(null,k));U2z=5;break;}}}catch(ba){f=b[a];}n2z=9;break;case 3:g===p.jia?d=b[a]:c[g]=b[a];n2z=9;break;case 2:g=a.substr(a.lastIndexOf(".")+1);n2z=5;break;}}});r2z=4;break;case 1:return h(a);break;case 13:return q=T6z+m.oa,h(q);break;case 3:r2z=d instanceof ArrayBuffer?9:7;break;case 9:q=L6z+m.oa;return h(q);break;case 7:m=k.Kva(f,c,d);r2z=6;break;case 20:m=k.Jva(f,{response:c.response});r2z=6;break;case 14:r2z=k.Aya(m)?13:12;break;case 12:g(m);r2z=19;break;case 10:return q=c6z+m.oa,h(q);break;}}}catch(R){h(R);}g2z=5;break;}}});h2z=5;break;}}});break;case 2:b=this;c={};I2z=4;break;}}};T8z=19;break;case 19:a.prototype.W_a=function(a,b,d){var b2z,f;b2z=2;while(b2z!==4){switch(b2z){case 2:f=this;return new Promise(function(c,g){var C2z,m;C2z=2;while(C2z!==5){switch(C2z){case 3:C2z=2;break;C2z=1;break;case 1:f.Gh.read(p.Bj,a,function(p,q){var i6z,u,l,n,y,B,t,x,P6z,W6z,O6z,m6z;i6z=2;while(i6z!==4){P6z="Missing or invalid me";P6z+="dia da";P6z+="ta parts for stream ";W6z="medi";W6z+="acachelook";W6z+="u";W6z+="p";O6z="M";O6z+="issing or invalid header ";O6z+="data parts for stream ";m6z="Header f";m6z+="ragme";m6z+="nts was an array buffer, is";m6z+=" invalid type ";switch(i6z){case 3:i6z=h.T(q)?9:8;break;case 26:u++;i6z=11;break;case 7:i6z=t.movieEntry?6:43;break;case 24:t=t.data,u=0,l=Object.keys(t);i6z=23;break;case 30:y++;i6z=21;break;case 18:return p=m6z+n.streamId,g(p);break;case 12:u=0,l=Object.keys(t.headers);i6z=11;break;case 5:g(p);i6z=4;break;case 21:i6z=y<B.length?35:29;break;case 19:i6z=n.fragments instanceof ArrayBuffer?18:17;break;case 13:i6z=t.headers?12:25;break;case 29:u++;i6z=23;break;case 22:n=l[u],y=0,B=Object.keys(t[n]);i6z=21;break;case 23:i6z=u<l.length?22:28;break;case 17:n=k.Kva(n,n,n.fragments);i6z=16;break;case 9:c();i6z=4;break;case 15:return p=O6z+n.oa,g(p);break;case 2:i6z=1;break;case 33:i6z=k.zya(x)?32:31;break;case 28:m=k.Lwa(f.K,f.L,f.ue,q,b);i6z=44;break;case 11:i6z=u<l.length?10:25;break;case 1:i6z=p?5:3;break;case 35:x=t[n][B[y]];x=k.Jva(x,x);i6z=33;break;case 25:i6z=t.data?24:28;break;case 44:void 0!==m&&(m.nj=p);i6z=43;break;case 31:q.push(x);i6z=30;break;case 6:p=k.Jwa(t.movieEntry);q=[];i6z=13;break;case 43:f.YF(W6z,{BW:f.kl.time.fa()-d,vT:!0});c(m);i6z=4;break;case 8:t=q[a];i6z=7;break;case 32:return p=P6z+x.oa,g(p);break;case 16:i6z=k.Aya(n)?15:27;break;case 10:n=l[u];n=t.headers[n];i6z=19;break;case 27:q.push(n);i6z=26;break;}}});C2z=5;break;case 2:C2z=1;break;}}});break;}}};a.prototype.joa=function(a){var Z6z,b,z6z;Z6z=2;while(Z6z!==4){z6z="Me";z6z+="dia cach";z6z+="e i";z6z+="s";z6z+=" not enabled";switch(Z6z){case 2:b=this;return this.mq?this.mq.then(function(){var S6z;S6z=2;while(S6z!==1){switch(S6z){case 2:return new Promise(function(d){var K6z;K6z=2;while(K6z!==1){switch(K6z){case 2:b.Gh.yA(p.Bj,a.toString(),function(b){var V6z;V6z=2;while(V6z!==1){switch(V6z){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?d(!0):d(!1):d(!1);V6z=1;break;}}});K6z=1;break;}}});break;}}}):Promise.reject(z6z);break;}}};a.prototype.o0a=function(a){var G6z,f,c;function b(a){var Y6z,I6z;Y6z=2;while(Y6z!==1){I6z="d";I6z+="elet";I6z+="e";switch(Y6z){case 2:f.Gh[I6z](p.Bj,a);Y6z=1;break;}}}G6z=2;while(G6z!==9){switch(G6z){case 2:f=this;G6z=5;break;case 5:c=a.toString();this.Gh.yA(p.Bj,[p.QP,a].join("."),d);this.Gh.yA(p.Bj,c,d);G6z=9;break;}}function d(a){var H6z;H6z=2;while(H6z!==1){switch(H6z){case 4:a.map(b);H6z=0;break;H6z=1;break;case 2:a.map(b);H6z=1;break;}}}};a.prototype.Iwb=function(a){var v6z,d,n6z,h6z;v6z=2;while(v6z!==3){n6z="me";n6z+="diacac";n6z+="he";h6z="m";h6z+="ed";h6z+="iacache-error";switch(v6z){case 4:d.on(this.Gh,h6z,function(b){var N6z,r6z,g6z;N6z=2;while(N6z!==5){r6z="med";r6z+="iac";r6z+="a";r6z+="ch";r6z+="e";g6z="e";g6z+="r";g6z+="ror";switch(N6z){case 2:b.type=g6z;a.emit(r6z,b);N6z=5;break;}}});v6z=3;break;case 2:d=new b.Mx();d.on(this.Gh,n6z,function(b){var e6z,U6z;e6z=2;while(e6z!==4){U6z="me";U6z+="dia";U6z+="c";U6z+="ac";U6z+="he";switch(e6z){case 1:b.keys||b.items.map(function(a){var X6z;X6z=2;while(X6z!==1){switch(X6z){case 4:return a.key;break;X6z=1;break;case 2:return a.key;break;}}});e6z=5;break;case 2:e6z=b.keys||b.items?1:5;break;case 7:a.emit("",b);e6z=5;break;e6z=4;break;case 5:a.emit(U6z,b);e6z=4;break;}}});v6z=4;break;}}};return a;break;}}}();c.eRa=a;g.Pi(b.EventEmitter,a);},function(g,c,a){var b,f,h,q,d,k,p,t,u,l,n,x,r,G,P,S,T,U,C,R,O,ea,A,ca;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(27);f=a(7);h=a(6);q=a(227);d=a(212);k=a(391);p=a(84);a(393);t=a(360);u=a(161);l=a(13);n=a(215);x=a(736);r=a(66);G=a(26);P=a(3);S=a(208);T=a(369);U=P.Promise;C=new P.Console("HEADERCACHE","media|asejs");a=new P.Console("MEDIACACHE","media|asejs");R=P.uB;O=C.trace.bind(C);a.trace.bind(a);ea=C.warn.bind(C);A=C.error.bind(C);ca=C.info.bind(C);a=function(a){var b6z;function c(b,d,f,c){var C6z,b5d,S5d;C6z=2;while(C6z!==25){b5d="1SIY";b5d+="b";b5d+="ZrNJCp9";S5d="c";S5d+="at";S5d+="c";S5d+="h";switch(C6z){case 11:b.YQ=!1;b.lC=[];b.KC={};b.W3=(b.jl.zx||b.jl.Vfa)&&0<(b.jl.aw||(P.options||{}).aF||0);C6z=18;break;case 2:b=a.call(this)||this;b.Zi=O;b.Vd=A;b.Qa=ea;b.JKb=ca;C6z=9;break;case 9:b.vI=Object.create(null);b.jl=d;b.le=Object.create(null);b.fv=0;b.wi=[];b.DI=d.CT;b.us=[];C6z=11;break;case 18:b.wn=b.jl.dba;b.Ne=void 0;b.W3&&(b.jl.aw||(d=(P.options||{}).aF||0,b.jl.set?b.jl.set({aw:d}):b.jl.aw=(P.options||{}).aF||0),b.Ne=new x.eRa(b.jl,P,b),b.Ne.Sb(b,c).then(function(){var i0z,J5d;i0z=2;while(i0z!==1){J5d="Media";J5d+=" ";J5d+="ca";J5d+="che initia";J5d+="lized";switch(i0z){case 4:O("");i0z=5;break;i0z=1;break;case 2:O(J5d);i0z=1;break;}}})[S5d](function(a){var Z0z,A5d;Z0z=2;while(Z0z!==1){A5d="Media cache di";A5d+="d not init";A5d+="ia";A5d+="li";A5d+="ze";switch(Z0z){case 4:A("",a);Z0z=2;break;Z0z=1;break;case 2:A(A5d,a);Z0z=1;break;}}}));b.vk=f;C6z=27;break;case 27:b5d;return b;break;}}}b6z=2;while(b6z!==49){switch(b6z){case 28:c.prototype.e0a=function(a){var S4z,j5d;S4z=2;while(S4z!==1){j5d="flush";j5d+="edB";j5d+="ytes";switch(S4z){case 2:0!==a&&(a={type:j5d,bytes:a},this.emit(a.type,a));S4z=1;break;}}};c.prototype.b0a=function(a){var K4z,L5d;K4z=2;while(K4z!==5){L5d="ca";L5d+="ch";L5d+="e";L5d+="Evi";L5d+="ct";switch(K4z){case 2:a={type:L5d,movieId:a};this.emit(a.type,a);K4z=5;break;}}};c.prototype.l0a=function(a,b){var V4z,d;V4z=2;while(V4z!==9){switch(V4z){case 2:d=a.Tc;h.T(a.nEa)||this.LR(a,a.nEa);!this.Ne||!a.te||this.wn||h.T(a.Pw)||a.Pw[a.oa]&&a.Pw[a.oa].header?b():this.Ne.Qub(a,b);d.IZ||0!==Object.keys(this.vI).length||this.Ena();V4z=9;break;}}};c.prototype.r0a=function(a,b){var G4z,q5d;G4z=2;while(G4z!==4){q5d="prebu";q5d+="ff";q5d+="sta";q5d+="ts";switch(G4z){case 2:a.Pb.PX=b;a={type:q5d,movieId:a.u,stats:{prebuffstarted:a.Pb.CF,prebuffcomplete:a.Pb.PX}};this.emit(a.type,a);G4z=4;break;}}};c.prototype.oZa=function(a,b){var Y4z,d,r5d;Y4z=2;while(Y4z!==4){r5d="M";r5d+="edia cache is ";r5d+="not en";r5d+="able";r5d+="d";switch(Y4z){case 2:d=this;return this.Ne?this.Ne.ylb(a,b).then(function(b){var H4z;H4z=2;while(H4z!==5){switch(H4z){case 1:return d.le[a]=b.nj,++d.fv,d.MQ(),d.wi.push(b.nj),d.wi.sort(d.VX),d.ena(a,b),d.cache[a];break;case 3:H4z=b||b.nj?2:1;break;H4z=b&&b.nj?1:5;break;case 2:H4z=b&&b.nj?1:5;break;}}}):U.reject(r5d);break;}}};c.prototype.nZa=function(a,b){var v4z,d,f,c,W5d;v4z=2;while(v4z!==6){W5d="Media ca";W5d+="che is not ena";W5d+="bled";switch(v4z){case 5:v4z=this.Ne?4:7;break;case 4:f=void 0;c=!1;this.Ne.Cya(this.le[a])?(f=U.resolve(this.le[a]),c=!0):f=this.Ne.Clb(a);return f.then(function(f){var e4z;e4z=2;while(e4z!==1){switch(e4z){case 2:return!h.T(f)&&d.Ne?d.Ne.xlb(a,b,f).then(function(b){var X4z;X4z=2;while(X4z!==5){switch(X4z){case 2:b&&(c||(d.le[a]=f,++d.fv,d.MQ(),d.wi.push(f),d.wi.sort(d.VX)),d.ena(a,b));return d.le[a];break;}}}):U.resolve(void 0);break;}}});break;case 7:return U.reject(W5d);break;case 2:d=this;v4z=5;break;}}};b6z=39;break;case 20:c.prototype.eu=function(a){var Q0z,b;Q0z=2;while(Q0z!==4){switch(Q0z){case 2:b=this.le[a.u];b&&(this.Vb(a)?h.T(b.Pb.Nxa)&&!h.T(a.Ue)&&(b.Pb.Nxa=a.Ue):h.T(b.Pb.CF)&&!h.T(a.Ue)&&(b.Pb.CF=a.Ue));Q0z=4;break;}}};c.prototype.oj=function(a){var F0z;F0z=2;while(F0z!==1){switch(F0z){case 2:this.Vb(a)?this.Lpb(a):this.Mpb(a);F0z=1;break;}}};c.prototype.JM=function(a){var y0z,C5d;y0z=2;while(y0z!==5){C5d="_on";C5d+="Err";C5d+="o";C5d+="r";C5d+=": ";switch(y0z){case 2:ea(C5d,a.toString());this.PQ(a);y0z=5;break;}}};b6z=17;break;case 15:c.prototype.yna=function(){var d0z;d0z=2;while(d0z!==1){switch(d0z){case 2:0===this.us.length&&(this.us=[u.Yp.xe.AD(0,void 0,!1,!1,this.vk,this.jl),u.Yp.xe.AD(1,void 0,!1,!1,this.vk,this.jl)],R.yf());d0z=1;break;}}};c.prototype.Ena=function(){var o0z,a;o0z=2;while(o0z!==3){switch(o0z){case 2:a=this.us;this.us=[];o0z=4;break;case 4:a.forEach(function(a){var f0z;f0z=2;while(f0z!==1){switch(f0z){case 2:u.Yp.xe.Q6(a);f0z=1;break;case 4:u.Yp.xe.Q6(a);f0z=4;break;f0z=1;break;}}});o0z=3;break;}}};c.prototype.sZa=function(){var E0z,a;E0z=2;while(E0z!==4){switch(E0z){case 2:a=this;!this.YQ&&0<this.lC.length&&(this.lC.forEach(function(b){var B0z;B0z=2;while(B0z!==1){switch(B0z){case 2:a.LR(b.oib,b.Oc);B0z=1;break;}}}),this.lC=[]);E0z=4;break;}}};c.prototype.j0a=function(a,b){var M0z,d,c,g,k,m,p,q,u,y,B,x,r,H,I5d;M0z=2;while(M0z!==24){I5d="A config must be pass";I5d+="ed to";I5d+=" _requestHeader";switch(M0z){case 7:q=p.sa;u=p.ff;p=p.gD;f.assert(b.config,I5d);y=b.config;M0z=11;break;case 2:d=this;c=b.u;g=b.fe;M0z=3;break;case 3:k=b.Oc;m=b.te;p=b.Jfb();M0z=7;break;case 17:return U.reject();break;case 16:x=this.le[c];x||(x={fe:g,u:c,headers:Object.create(null),qp:0,vV:0,HD:0,data:void 0,te:m,Pb:{},HT:void 0,hqa:void 0},!x.te||this.wn?this.le[c]=x:x.Pb.Xm=0,this.wi.push(x),this.wi.sort(this.VX));r=[];y.nib&&(H=2292+12*Math.ceil(q.duration/2E3));return(m&&this.Ne?this.wn?this.Ne.Blb(c,x):this.Ne.cmb(c):U.resolve(void 0)).then(function(a){var D0z;D0z=2;while(D0z!==5){switch(D0z){case 2:B.forEach(function(b){var k0z,f;k0z=2;while(k0z!==4){switch(k0z){case 2:f=H?H:y.wV;y.GK&&x.headers[b.oa]||(h.T(x.Tn)&&b.M===l.Fa.VIDEO&&(x.Tn=b.R,x.Xn=b.Xn,x.rp=b.rp,x.Fm=b.tib,x.Gl=b.AV),u&&b.M===l.Fa.VIDEO&&y.jU?f=y.jU:y.cIa&&b.or&&(f=b.or.offset+b.or.size),b={stream:b,url:b.url,offset:0,aa:f,te:m},m&&(x.Pb.bnb=!h.T(a)&&0<Object.keys(a).length,b.Pw=a),b=d.k0a(b,k,x,y),r.push(b));k0z=4;break;}}});return U.all(r);break;}}}).then(function(a){var J0z;J0z=2;while(J0z!==1){switch(J0z){case 2:return new U(function(b){var T0z;T0z=2;while(T0z!==1){switch(T0z){case 2:d.Ne&&m&&!d.wn?d.Ne.Rub(x,function(){var L0z;L0z=2;while(L0z!==1){switch(L0z){case 4:b(a);L0z=2;break;L0z=1;break;case 2:b(a);L0z=1;break;}}}):b(a);T0z=1;break;}}});break;}}}).then(function(a){var c0z;c0z=2;while(c0z!==3){switch(c0z){case 2:a=Math.max.apply(Math,a);c0z=1;break;case 1:x.Pb.sU=x.Pb.Nxa;x.Pb.rW=a;return{firstheadersent:x.Pb.sU,lastheadercomplete:x.Pb.rW};break;}}});break;case 11:y=t.ysa(y,q);b={stream:[new T.F1(y.N4,y,void 0),new T.F1(y.jZ,y,void 0)],location:new n.K0(a.Tb,a.Tg,y,void 0),X:{state:G.pa.Dg,bW:!0,buffer:{ap:void 0,U:0,Yc:0,Ab:0,vl:0,Ji:0,V:[],wh:void 0,p8:void 0}}};b.location.YC(q);B=this.Vgb(a,b,q,p,u,y);M0z=18;break;case 18:M0z=!B?17:16;break;}}};b6z=24;break;case 39:c.prototype.ena=function(a,b){var N4z,d,f,c,g;N4z=2;while(N4z!==14){switch(N4z){case 1:d=this;N4z=5;break;case 5:N4z=b?4:14;break;case 2:N4z=1;break;case 8:N4z=b.data?7:14;break;case 4:f=this.le[a];c=b.headers;f&&c&&Object.keys(c).forEach(function(a){var u4z;u4z=2;while(u4z!==1){switch(u4z){case 4:d.ZWa(c[a],f);u4z=5;break;u4z=1;break;case 2:d.ZWa(c[a],f);u4z=1;break;}}});N4z=8;break;case 7:g=b.data;Object.keys(g).forEach(function(a){var w4z,b,d;w4z=2;while(w4z!==8){switch(w4z){case 2:b=g[a];h.T(f.data)&&(f.data={});w4z=4;break;case 4:h.T(f.data[a])&&(f.data[a]=[]);d=f.data;b.forEach(function(b){var x4z;x4z=2;while(x4z!==1){switch(x4z){case 2:d[a].push(b);x4z=1;break;case 4:d[a].push(b);x4z=0;break;x4z=1;break;}}});w4z=8;break;}}});N4z=14;break;}}};c.prototype.VX=function(a,b){var l4z;l4z=2;while(l4z!==1){switch(l4z){case 2:return b.fe-a.fe;break;case 4:return b.fe*a.fe;break;l4z=1;break;}}};c.prototype.kDa=function(a){var a4z,b,d,f;a4z=2;while(a4z!==10){switch(a4z){case 2:b={};a4z=5;break;case 4:for(d in a.data){f=a.data[d];0<f.length&&(b[f[0].M]={oa:d,Vn:a.headers[d],data:f});}b.nl=a.nl;b.qp=a.qp;b.Pb=a.Pb;b.Tn=a.Tn;b.Xn=a.Xn;a4z=14;break;case 5:a4z=a&&a.data?4:10;break;case 11:return b;break;case 14:b.rp=a.rp;b.Fm=a.Fm;b.Gl=a.Gl;a4z=11;break;}}};c.prototype.Dra=function(a,b,d,f,c,g){var q4z,a5d,K5d,s5d;q4z=2;while(q4z!==8){a5d="updateStreamSelection retur";a5d+="ned nul";a5d+="l list";K5d="s";K5d+="elect";K5d+="Strea";K5d+="m returned nul";K5d+="l";s5d="d";s5d+="efa";s5d+="u";s5d+="l";s5d+="t";switch(q4z){case 1:a=S[s5d](c,g);q4z=5;break;case 2:q4z=b.location.CO(a,d)?1:9;break;case 4:return d=d[b.rd],d.Xn=b.reason,d.rp=b.It,d.tib=b.Fm,d.AV=b.Gl,d;break;case 5:q4z=(b=b.stream[f?1:0].GY(b.X,d,void 0,f?a.RX:a.vA))?4:3;break;case 3:ea(K5d);q4z=8;break;case 9:ea(a5d);q4z=8;break;}}};c.prototype.cxa=function(a,b,d,f,c,g){var R4z,k,h,m,p;R4z=2;while(R4z!==14){switch(R4z){case 5:h=[];m=[];b.yc.forEach(function(a){var s4z;s4z=2;while(s4z!==1){switch(s4z){case 2:(a.xp?m:h).push(a);s4z=1;break;}}});R4z=9;break;case 2:k=b.M===l.Fa.VIDEO;R4z=5;break;case 9:b=[];f&&0!==h.length&&(p=this.Dra(a,d,h,k,c,g))&&b.push(p);p||(p=this.Dra(a,d,m,k,c,g))&&b.push(p);return b;break;}}};b6z=53;break;case 33:c.prototype.$Wa=function(a){var n0z;n0z=2;while(n0z!==1){switch(n0z){case 4:this.dna(a,a.nj);n0z=6;break;n0z=1;break;case 2:this.dna(a,a.nj);n0z=1;break;}}};c.prototype.ZWa=function(a,b){var U0z;U0z=2;while(U0z!==1){switch(U0z){case 4:this.dna(a,b);U0z=5;break;U0z=1;break;case 2:this.dna(a,b);U0z=1;break;}}};c.prototype.dna=function(a,b){var b0z,d;b0z=2;while(b0z!==3){switch(b0z){case 2:d=a.oa;b0z=5;break;case 4:b.hqa||b.te&&!this.wn||(b.hqa=!0,++this.fv),b.headers||(b.headers={}),b.headers[d]=a,this.jl.GK&&(b.qp||(b.qp=0),++b.qp),this.MQ();b0z=3;break;case 5:b0z=(b=this.le[a.u]||b)?4:3;break;}}};c.prototype.MQ=function(){var C0z,b,d,f;C0z=2;while(C0z!==11){switch(C0z){case 3:C0z=(d=this.wi.shift())?9:4;break;case 5:C0z=!(this.fv<=this.DI)?4:11;break;case 2:f=0;C0z=5;break;case 9:b=d.u;C0z=8;break;case 13:this.b0a(b);C0z=4;break;case 4:C0z=this.fv>this.DI?3:12;break;case 7:for(var c in d.data){d.data[c].forEach(a);delete d.data[c];}C0z=6;break;case 8:C0z=d.data?7:6;break;case 12:this.c0a(f);C0z=11;break;case 6:delete this.le[b];--this.fv;C0z=13;break;}}function a(a){var i4z;i4z=2;while(i4z!==5){switch(i4z){case 2:a.abort();f+=a.ve;i4z=5;break;}}}};b6z=29;break;case 24:c.prototype.r2=function(a,b){var m0z,d;m0z=2;while(m0z!==7){switch(m0z){case 4:b=new k.yga(a.stream,b,this.us[d],a,this,!0,C);b.te=a.te;b.He=this;return b;break;case 2:d=a.stream.M;2>this.us.length&&this.yna();m0z=4;break;}}};c.prototype.SXa=function(a,b){var O0z,f;O0z=2;while(O0z!==7){switch(O0z){case 2:f=a.stream.M;2>this.us.length&&this.yna();b=d.a_.create(a.stream,b,this.us[f].track,a,this,!0,C);b.te=a.te;b.He=this;return b;break;}}};c.prototype.PQ=function(a){var W0z,b,t5d;W0z=2;while(W0z!==8){t5d="savet";t5d+="odis";t5d+="k";switch(W0z){case 2:this.Vb(a)&&delete this.vI[a.oa];this.Vb(a)||delete a.response;a.ec();W0z=3;break;case 3:b=this.le[a.u]||a.nj;b&&0===b.vV&&0===b.HD&&(this.r0a(b,a.Nc),b.te&&this.Ne&&(b.Pb.bnb||(this.wn?this.Ne.Sub(b):this.Ne.YF(t5d,{QEa:b.Pb.Xm}))));W0z=8;break;}}};c.prototype.k0a=function(a,b,d,f){var P0z,c;P0z=2;while(P0z!==11){switch(P0z){case 8:return U.reject();break;case 14:P0z=a.rL?13:12;break;case 9:P0z=!c.dr()?8:7;break;case 13:c.rL=a.rL;P0z=11;break;case 7:d.vV++;this.vI[c.oa]=c;P0z=14;break;case 12:return new U(function(a){var z0z;z0z=2;while(z0z!==1){switch(z0z){case 2:c.rL=a;z0z=1;break;case 4:c.rL=a;z0z=0;break;z0z=1;break;}}});break;case 2:c=this.r2(a,f);c.nEa=b;c.nj=d;c.Pw=a.Pw;P0z=9;break;}}};b6z=35;break;case 17:c.prototype.Lpb=function(a){var t0z,b;t0z=2;while(t0z!==8){switch(t0z){case 2:b=this;a.Qyb=a.Nc;t0z=4;break;case 4:this.$Wa(a);h.T(a.rL)||a.rL(a.Qyb);this.l0a(a,function(){var j0z;j0z=2;while(j0z!==1){switch(j0z){case 2:h.T(a)||(h.T(a.nj)||a.nj.vV--,b.PQ(a));j0z=1;break;}}});t0z=8;break;}}};c.prototype.Mpb=function(a){var p0z,b,d,f,c,Z3d,p3d,H3d,l5d,z5d;p0z=2;while(p0z!==14){Z3d="manager";Z3d+="debuge";Z3d+="v";Z3d+="ent";p3d=",";p3d+=" rema";p3d+="inin";p3d+="g";p3d+=": ";H3d=", p";H3d+="t";H3d+="s: ";l5d=", ";l5d+="st";l5d+="reamId: ";z5d=", headerCache dataComple";z5d+="te: ";z5d+="movieId: ";switch(p0z){case 2:b=this;d=a.u;p0z=4;break;case 4:f=this.le[d]||a.nj;p0z=3;break;case 3:p0z=f?9:14;break;case 8:c=P.time.now();this.Ne.Pub(a,f,function(d){var A0z;A0z=2;while(A0z!==4){switch(A0z){case 2:d||h.T(f)||(d=P.time.fa()-c,h.T(f.Pb)&&(f.Pb={}),h.T(f.Pb.Xm)&&(f.Pb.Xm=0),f.Pb.Xm+=d);--f.HD;b.PQ(a);A0z=4;break;}}});p0z=14;break;case 6:--f.HD,b.PQ(a);p0z=14;break;case 9:p0z=(this.jl.Nf&&(d="@"+P.time.fa()+z5d+d+l5d+a.oa+H3d+a.U+p3d+(f.HD-1),this.emit(Z3d,{message:d})),a.te&&0===a.responseType&&this.Ne&&!this.wn)?8:6;break;}}};b6z=15;break;case 50:return c;break;case 35:c.prototype.xZa=function(a,b,d){var I0z,f,c;I0z=2;while(I0z!==7){switch(I0z){case 5:b.te&&this.Ne&&(a.PW?f=a.PW:a.mAa&&0<a.mAa&&(f=2E3*a.mAa));I0z=4;break;case 2:f=a.I6;I0z=5;break;case 4:I0z=0<f?3:9;break;case 3:return function(a,b){var T71=h4KK;var h0z;h0z=2;while(h0z!==1){switch(h0z){case 4:T71.o5d(0);return T71.Y5d(b,f);break;h0z=1;break;case 2:T71.o5d(1);return T71.Y5d(b,f);break;}}};break;case 9:c=d&&d.length<a.H6?d.length:a.H6;return function(a){var x71=h4KK;var g0z;g0z=2;while(g0z!==1){switch(g0z){case 4:x71.X5d(0);return x71.G5d(a,c);break;g0z=1;break;case 2:x71.X5d(1);return x71.G5d(a,c);break;}}};break;}}};c.prototype.LR=function(a,b){var r0z,n,g,d,f,c,k,m,p,q,t,u,B3d,D3d,k3d,R3d,g3d,d3d,c3d;r0z=2;while(r0z!==47){B3d="no proper fragme";B3d+="nt found to";B3d+=" request d";B3d+="ata at pts";D3d="manag";D3d+="erdebugeven";D3d+="t";k3d=", st";k3d+="artPts";k3d+=": ";R3d=", p";R3d+="ts";R3d+=":";R3d+=" ";g3d=", str";g3d+="eam";g3d+="Id: ";d3d=", headerCach";d3d+="e requestDat";d3d+="a: movieId: ";c3d="u";c3d+="n";c3d+="d";c3d+="ef";c3d+="ined";switch(r0z){case 7:r0z=this.lC.length>g.P9?6:47;break;case 42:q.te=a.te;r0z=41;break;case 41:r0z=!h.T(m)&&!q.Na?40:36;break;case 6:this.lC.shift();r0z=7;break;case 28:n=u===l.Fa.VIDEO?g.$W:g.UW,g=u===l.Fa.VIDEO?g.Qnb:g.Enb;r0z=44;break;case 24:q.te=a.te;r0z=23;break;case 10:k.HT=a;return;break;case 36:h.T(k.nl)&&(k.nl=q.U);q.te&&(q.responseType=0);a.te&&this.Ne&&a.Pw&&a.Pw[f]&&c3d!==typeof q.U&&a.Pw[f][q.U]||(u=this.SXa(q,a.Tc),u.te&&(u.nj=a.nj),u.dr(),++k.HD,b.push(u));++t;c+=q.duration;r0z=50;break;case 25:r0z=!h.T(q)?24:34;break;case 14:k=this.le[d]||a.nj;r0z=13;break;case 19:b=k.nl;r0z=18;break;case 49:++p;r0z=44;break;case 35:g.Nf&&(b="@"+P.time.fa()+d3d+d+g3d+f+R3d+b+k3d+q.U,this.emit(D3d,{message:b}));r0z=34;break;case 23:r0z=this.Cea(a.M,g)?22:35;break;case 27:A(B3d,b);r0z=47;break;case 39:r0z=u<m.length&&(q.aa<n||q.duration<g)?38:36;break;case 9:r0z=this.YQ?8:14;break;case 43:r0z=(void 0===q&&(q=a.stream.Wh(p)),void 0!==q)?42:49;break;case 37:++u;r0z=39;break;case 21:t&&(q.M===l.Fa.AUDIO&&!g.DAa&&t.Oc<(g.Xo&&!g.Ny&&c.dk?Math.floor(c.dk.Va):0)&&(++t.Um,t.Oc+=q.Ra.Va),0<t.Um&&q.gk({start:t.Um}));r0z=35;break;case 50:q=void 0;r0z=49;break;case 2:d=a.u;f=a.oa;c=a.stream;r0z=3;break;case 11:r0z=void 0===k.nl?10:19;break;case 26:q=a.stream.Wh(p);r0z=25;break;case 3:g=a.Tc;r0z=9;break;case 40:h4KK.o5d(2);u=h4KK.Y5d(p,1);r0z=39;break;case 48:k.HT&&!h.T(k.nl)&&(a=k.HT,delete k.HT,this.LR(a,k.nl));r0z=47;break;case 15:r0z=-1===p||void 0===p?27:26;break;case 30:t=c=0;u=q&&q.M;r0z=28;break;case 44:r0z=p<(m&&m.length||0)&&!d(t,c)?43:48;break;case 12:r0z=a.M===l.Fa.AUDIO?11:18;break;case 18:a.M===l.Fa.AUDIO&&g.Xo&&!g.Ny&&c.dk&&(b=Math.max(c.V&&c.V.rh(0)||0,b+c.dk.Va));m=a.stream.V;p=m&&m.Bl(b);r0z=15;break;case 38:q.t4(m.get(u)),q.yM=u+1,p=u;r0z=37;break;case 13:r0z=k?12:47;break;case 22:t=q.oU(b);r0z=21;break;case 8:this.lC.push({oib:a,Oc:b});r0z=7;break;case 34:void 0===k.data&&(k.data={});void 0===k.data[f]&&(k.data[f]=[]);b=k.data[f];d=this.xZa(g,a,m);r0z=30;break;}}};b6z=33;break;case 29:c.prototype.c0a=function(a){var Z4z,x3d;Z4z=2;while(Z4z!==1){x3d="d";x3d+="isca";x3d+="rded";x3d+="B";x3d+="ytes";switch(Z4z){case 2:0!==a&&(a={type:x3d,bytes:a},this.emit(a.type,a));Z4z=1;break;}}};b6z=28;break;case 3:c.prototype.kJ=function(a,b,d){var Y0z,f,c;Y0z=2;while(Y0z!==7){switch(Y0z){case 4:Y0z=(f[b]=a)?3:9;break;case 3:for(var g in f){f.hasOwnProperty(g)&&!1===f[g]&&(c=!1);}Y0z=9;break;case 2:f=this.KC;c=a;Y0z=4;break;case 9:d&&delete f[b];c?(this.YQ=!1,this.sZa()):this.YQ=!0;Y0z=7;break;}}};c.prototype.Qrb=function(a,b){var H0z,d,c,g,k,i3d,e3d,y3d;H0z=2;while(H0z!==25){i3d="A co";i3d+="nf";i3d+="ig must";i3d+=" be passed to prepa";i3d+="reP";e3d="); ignorin";e3d+="g pr";e3d+="epare fo";e3d+="r movieId: ";y3d="PTS passed ";y3d+="to HeaderC";y3d+="ache.prepareP is not undefined or ";y3d+="a positive number (";switch(H0z){case 17:return U.resolve();break;case 7:H0z=k.enb?6:14;break;case 26:return this.j0a(a,b);break;case 13:return A(y3d+g+e3d+d),U.reject();break;case 8:this.vea(k.CT);H0z=7;break;case 10:H0z=!this.wn||!d.te?20:17;break;case 18:for(var m in d.headers){a=d.headers[m];!h.T(a.url)&&null!==a.url&&(void 0===d.data||void 0===d.data[m]||d.data[m].length<k.H6)?this.LR(a,g):(h.T(a.url)||null===a.url)&&void 0!==d.data&&void 0!==d.data[m]&&0<d.data[m].length&&delete d.headers[m];}H0z=17;break;case 20:H0z=(d.fe=c,this.wi.sort(this.VX),!h.T(g))?19:17;break;case 27:return U.reject();break;case 15:H0z=c>k.Q9||this.fv+1>this.DI&&c>this.wi[0].fe?27:26;break;case 6:return U.reject();break;case 2:d=b.u;c=b.fe;g=b.Oc;f.assert(b.config,i3d);k=b.config;H0z=8;break;case 16:H0z=!b.te||!this.Ne||this.wn?15:26;break;case 19:void 0===d.data&&(d.Pb.CF=void 0);H0z=18;break;case 11:H0z=!h.T(d)&&(2<=d.qp||!k.GK)?10:16;break;case 14:H0z=!h.T(g)&&(!h.ka(g)||0>g)?13:12;break;case 12:d=this.le[d];H0z=11;break;}}};c.prototype.flush=function(){var v0z,a,w3d,m3d;v0z=2;while(v0z!==7){w3d="manag";w3d+="erdebuge";w3d+="ven";w3d+="t";m3d=", headerCache ";m3d+="flush:";m3d+=" ";switch(v0z){case 1:this.lva();for(var b in this.vI){a=this.vI[b];a.abort();}this.le=Object.create(null);this.fv=0;v0z=9;break;case 2:v0z=1;break;case 9:this.wi=[];this.jl.Nf&&(a="@"+P.time.fa()+m3d,this.emit(w3d,{message:a}));v0z=7;break;}}};c.prototype.list=function(){var e0z;e0z=2;while(e0z!==1){switch(e0z){case 4:return this.wi;break;e0z=1;break;case 2:return this.wi;break;}}};b6z=6;break;case 53:c.prototype.Vgb=function(a,b,d,f,c,g){var Q4z,k,m,p,t,u,T3d,h3d;Q4z=2;while(Q4z!==10){T3d="Unable to find ";T3d+="requeste";T3d+="d au";T3d+="dio track in manifest:";h3d="Unable t";h3d+="o fin";h3d+="d audio nor video";h3d+=" tr";h3d+="acks in manifest:";switch(Q4z){case 2:k=this;m=new q.c_({Pa:0,sa:d,Pk:void 0,bb:function(){var F4z;F4z=2;while(F4z!==1){switch(F4z){case 2:return!0;break;case 4:return+3;break;F4z=1;break;}}},aba:{ZV:!!c,J$:!1},Qh:!1,Aq:[],config:g,Gea:void 0,S9:void 0,ZK:void 0,Tb:a.Tb,Tg:a.Tg,nF:void 0,C7:void 0,HA:void 0});p=m.Vt[0];Q4z=3;break;case 6:Q4z=h.T(t)&&h.T(u)?14:13;break;case 11:return[].concat(t||[]).concat(u||[]);break;case 14:ea(h3d,f);Q4z=10;break;case 13:Q4z=h.T(u)&&f?12:11;break;case 12:ea(T3d,f);Q4z=10;break;case 3:a=P.Sj();b.X.buffer.ap=a[l.Fa.VIDEO];m.getTracks(1).some(function(a){var y4z;y4z=2;while(y4z!==3){switch(y4z){case 5:t=k.cxa(m.wa,a,b,c,g,p);return!0;break;case 2:y4z=a.Vz.stereo?1:5;break;case 1:return!1;break;}}});m.getTracks(0).some(function(a){var t4z;t4z=2;while(t4z!==1){switch(t4z){case 2:return a.ab===f?(u=k.cxa(m.wa,a,b,c,g,p),!0):!1;break;}}});Q4z=6;break;}}};c.prototype.Cea=function(a,b){var j4z;j4z=2;while(j4z!==1){switch(j4z){case 2:return a===l.Fa.VIDEO&&b.pt||a===l.Fa.AUDIO;break;}}};c.prototype.Vb=function(a){var p4z;p4z=2;while(p4z!==1){switch(p4z){case 2:return!!a.Vb;break;case 4:return~-a.Vb;break;p4z=1;break;}}};b6z=50;break;case 12:c.prototype.Kza=function(a){var x0z;x0z=2;while(x0z!==1){switch(x0z){case 4:return this.kDa(this.le[a]);break;x0z=1;break;case 2:return this.kDa(this.le[a]);break;}}};c.prototype.Rt=function(){var l0z,P3d;l0z=2;while(l0z!==1){P3d="Media cache";P3d+=" i";P3d+="s not enabled";switch(l0z){case 2:return this.Ne?this.Ne.Vfb():U.reject(P3d);break;}}};c.prototype.lva=function(){var a0z,d,f,c,V3d,Q3d;function a(a){var q0z;q0z=2;while(q0z!==1){switch(q0z){case 4:a.Xra();q0z=2;break;q0z=1;break;case 2:a.Xra();q0z=1;break;}}}a0z=2;while(a0z!==3){switch(a0z){case 2:d=0;for(f in this.le){c=this.le[f];if(c.data){for(var g in c.data){V3d="i";V3d+="n ";V3d+="entry:";Q3d="missing headerEntry fo";Q3d+="r streamI";Q3d+="d:";c.headers[g]||A(Q3d,g,V3d,c);b(c,g);c.data[g].forEach(a);delete c.data[g];}delete c.data;}}this.e0a(d);a0z=3;break;}}function b(a,b){var R0z;R0z=2;while(R0z!==1){switch(R0z){case 2:a&&a.data&&a.data[b].forEach(function(a){var s0z;s0z=2;while(s0z!==5){switch(s0z){case 2:a.abort();d+=a.ve;s0z=5;break;}}});R0z=1;break;}}}};b6z=20;break;case 2:b.__extends(c,a);Object.defineProperties(c.prototype,{cache:{get:function(){var S0z;S0z=2;while(S0z!==1){switch(S0z){case 2:return this.le;break;case 4:return this.le;break;S0z=1;break;}}},enumerable:!0,configurable:!0}});c.prototype.qY=function(){var K0z;K0z=2;while(K0z!==1){switch(K0z){case 2:return this.us.map(function(a){var V0z;V0z=2;while(V0z!==1){switch(V0z){case 4:return a.qY();break;V0z=1;break;case 2:return a.qY();break;}}});break;}}};c.prototype.yl=function(){var G0z;G0z=2;while(G0z!==5){switch(G0z){case 2:this.flush();this.Ena();G0z=5;break;}}};b6z=3;break;case 6:c.prototype.vea=function(a){var X0z;X0z=2;while(X0z!==1){switch(X0z){case 2:this.DI!==a&&(this.DI=a,this.MQ());X0z=1;break;}}};c.prototype.ZL=function(a,b){var N0z;N0z=2;while(N0z!==4){switch(N0z){case 2:N0z=(a=this.le[a])?1:4;break;case 1:N0z=(b=a.headers[b])?5:4;break;case 5:return b;break;case 7:return b;break;N0z=4;break;}}};c.prototype.bmb=function(a,b){var u0z,d,f;u0z=2;while(u0z!==3){switch(u0z){case 2:d=this;f=this.Kza(a);return f||!this.Ne?U.resolve(f):(this.wn?this.oZa(a,b):this.nZa(a,b)).then(function(a){var w0z;w0z=2;while(w0z!==1){switch(w0z){case 2:return d.kDa(a);break;case 4:return d.kDa(a);break;w0z=1;break;}}});break;}}};b6z=12;break;}}}(p.Gr);c.tOa=a;r(g.EventEmitter.prototype,a.prototype);},function(g,c,a){var b,f,h,q,d,k,p,t,u,l,n,x,r,G,P,S;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(6);h=a(13);g=a(27);q=a(737);d=a(722);k=a(689);p=a(3);t=p.Promise;u=a(214);l=a(374);n=a(213);x=a(688);r=a(355);G=new p.Console("ASEJS","media|asejs");P=G.trace.bind(G);S=G.warn.bind(G);g=function(c){var f3d;f3d=2;while(f3d!==31){switch(f3d){case 2:b.__extends(g,c);Object.defineProperties(g.prototype,{Tb:{get:function(){var u3d;u3d=2;while(u3d!==1){switch(u3d){case 4:return this.o2.Tb;break;u3d=1;break;case 2:return this.o2.Tb;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Om:{get:function(){var F3d;F3d=2;while(F3d!==1){switch(F3d){case 2:return this.o2.Om;break;case 4:return this.o2.Om;break;F3d=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{yo:{get:function(){var n3d;n3d=2;while(n3d!==1){switch(n3d){case 4:return this.upa;break;n3d=1;break;case 2:return this.upa;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{YY:{get:function(){var O3d;O3d=2;while(O3d!==1){switch(O3d){case 4:return this.VR;break;O3d=1;break;case 2:return this.VR;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{M$:{get:function(){var M3d;M3d=2;while(M3d!==1){switch(M3d){case 2:return!f.T(this.L0a);break;case 4:return-f.T(this.L0a);break;M3d=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Qea:{get:function(){var N3d;N3d=2;while(N3d!==1){switch(N3d){case 2:return this.A0a;break;case 4:return this.A0a;break;N3d=1;break;}}},enumerable:!0,configurable:!0}});f3d=7;break;case 12:g.prototype.HX=function(){var J3d;J3d=2;while(J3d!==1){switch(J3d){case 2:this.zR=!0;J3d=1;break;case 4:this.zR=-9;J3d=4;break;J3d=1;break;}}};g.prototype.xm=function(a,b,c,g,k,m,q,t,u,l){var S3d,Z1d;S3d=2;while(S3d!==4){Z1d="open:";Z1d+=" s";Z1d+="treamingManager not initted";switch(S3d){case 2:S3d=this.nR?1:5;break;case 5:S(Z1d);S3d=4;break;case 1:return t=t||this.K,this.Tb.reset(),this.Om.yxb(),this.upa.reset(),void 0===m&&(m=this.KU(a,b)),f.T(this.VR)&&(p.Sj()[h.Fa.VIDEO]<=t.Nnb?this.VR=0:this.VR=t.rY),a=new d.uVa(this,a,l,b,c,g,k,m,q,t,u),this.KC.push(a),a;break;}}};g.prototype.ZL=function(a,b){var A3d;A3d=2;while(A3d!==1){switch(A3d){case 2:return this.If&&(a=this.If.ZL(a,b))?a:!1;break;}}};g.prototype.xaa=function(a){var b3d;b3d=2;while(b3d!==1){switch(b3d){case 2:return this.If&&(a=this.If.Kza(a))?a:!1;break;}}};f3d=19;break;case 19:g.prototype.Rt=function(){var j3d;j3d=2;while(j3d!==1){switch(j3d){case 2:return this.If?this.If.Rt():t.resolve([]);break;}}};g.prototype.$_a=function(a){var L3d,b,c1d;L3d=2;while(L3d!==3){c1d="can't find";c1d+=" session";c1d+=" in arra";c1d+="y, movieId:";switch(L3d){case 2:this.Tb.OY(null);b=this.KC.indexOf(a);f.T(b)?S(c1d,a.Vc.O.u):(this.KC.splice(b,1),0===this.KC.length&&this.Om.Kxb(),this.Om.save(),this.Tg.save());L3d=3;break;}}};g.prototype.EFa=function(){};g.prototype.KU=function(a,b,d){var q3d;q3d=2;while(q3d!==1){switch(q3d){case 4:return u.Ofb(a,b,d);break;q3d=1;break;case 2:return u.Ofb(a,b,d);break;}}};g.prototype.$wa=function(){var r3d,d1d;r3d=2;while(r3d!==4){d1d="getSessionStatistics:";d1d+=" St";d1d+="reamingManage";d1d+="r not initted";switch(r3d){case 1:return this.Tb.Ndb();break;case 2:r3d=this.nR?1:5;break;case 8:return this.Tb.Ndb();break;r3d=4;break;case 9:r3d=this.nR?6:0;break;r3d=this.nR?1:5;break;case 5:S(d1d);r3d=4;break;}}};g.prototype.Wra=function(a){var W3d,b;W3d=2;while(W3d!==9){switch(W3d){case 3:this.Tb&&this.Tb.reset();W3d=9;break;case 2:b=this.Tg||new n(this.K,this.YI);b.Bua(a);b.save();W3d=3;break;}}};f3d=26;break;case 7:Object.defineProperties(g.prototype,{He:{get:function(){var U3d;U3d=2;while(U3d!==1){switch(U3d){case 4:return this.If;break;U3d=1;break;case 2:return this.If;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Tg:{get:function(){var E3d;E3d=2;while(E3d!==1){switch(E3d){case 4:return this.o2.Tg;break;E3d=1;break;case 2:return this.o2.Tg;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{j$:{get:function(){var G3d;G3d=2;while(G3d!==1){switch(G3d){case 4:return this.zR;break;G3d=1;break;case 2:return this.zR;break;}}},enumerable:!0,configurable:!0}});g.prototype.Sb=function(a,b,d,c,g,h){var Y3d,m,p,B1d,D1d,k1d,R1d,g1d;Y3d=2;while(Y3d!==20){B1d="me";B1d+="diaca";B1d+="c";B1d+="h";B1d+="e";D1d="c";D1d+="acheEvi";D1d+="ct";k1d="f";k1d+="lushedBy";k1d+="t";k1d+="es";R1d="disc";R1d+="arde";R1d+="d";R1d+="Bytes";g1d="pre";g1d+="buff";g1d+="st";g1d+="ats";switch(Y3d){case 4:l.t_.reset();0<p.Yt&&(!f.T(a)&&a>p.Yt&&(a=p.Yt),b>p.Yt&&(b=p.Yt));f.T(a)&&(this.L0a=b);this.VR=c;Y3d=7;break;case 2:m=this;p=this.K;Y3d=4;break;case 7:this.A0a=g;k(p);Y3d=14;break;case 14:this.o2=l.t_.Pwa(p,this.YI);this.upa=new x(p);Y3d=12;break;case 11:b=new q.tOa(this,p,d,h),a=function(a){var X3d;X3d=2;while(X3d!==1){switch(X3d){case 2:m.emit(a.type,a);X3d=1;break;case 4:m.emit(a.type,a);X3d=0;break;X3d=1;break;}}},b.addListener(g1d,a),b.addListener(R1d,a),b.addListener(k1d,a),b.addListener(D1d,a),(p.Vfa||p.zx)&&b.addListener(B1d,function(a){var o3d,x1d;o3d=2;while(o3d!==1){x1d="medi";x1d+="ac";x1d+="a";x1d+="ch";x1d+="e";switch(o3d){case 2:m.emit(x1d,a);o3d=1;break;case 4:m.emit("",a);o3d=5;break;o3d=1;break;}}}),this.If=b;Y3d=10;break;case 12:Y3d=p.EG||p.IZ?11:10;break;case 10:this.nR=!0;Y3d=20;break;}}};f3d=12;break;case 34:g.prototype.wra=function(){var H1d;H1d=2;while(H1d!==1){switch(H1d){case 4:return this.If?this.If.qY():1;break;H1d=1;break;case 2:return this.If?this.If.qY():null;break;}}};g.prototype.pFa=function(){var p1d,a,y1d;p1d=2;while(p1d!==9){y1d="sessionHisto";y1d+="ryRepo";y1d+="rt: ase-manager not";y1d+=" init";y1d+="ted";switch(p1d){case 2:p1d=1;break;case 5:a=new r.y0(this.yo.ys,this.K,G);return{hD:a.$qa,LPb:a.ara,nRb:a.Vvb};break;case 3:S(y1d);p1d=9;break;case 1:p1d=this.nR?5:3;break;}}};return g;break;case 26:g.prototype.EZ=function(a){var C3d;C3d=2;while(C3d!==1){switch(C3d){case 2:p.yL(a);C3d=1;break;case 4:p.yL(a);C3d=8;break;C3d=1;break;}}};g.prototype.US=function(a,b){var I3d,e1d;I3d=2;while(I3d!==1){e1d="c";e1d+="a";e1d+="tc";e1d+="h";switch(I3d){case 2:this.If&&(a=this.If.Qrb(this,a),f.T(b)||a.then(b),a[e1d](function(a){var s3d,i1d;s3d=2;while(s3d!==1){i1d="cachePre";i1d+="p";i1d+="are caught";i1d+=" er";i1d+="ror:";switch(s3d){case 4:P("",a);s3d=3;break;s3d=1;break;case 2:P(i1d,a);s3d=1;break;}}}));I3d=1;break;}}};g.prototype.LJ=function(){var K3d;K3d=2;while(K3d!==1){switch(K3d){case 2:this.If&&this.If.flush();K3d=1;break;}}};g.prototype.i5=function(){var a3d;a3d=2;while(a3d!==1){switch(a3d){case 2:this.If&&this.If.lva();a3d=1;break;}}};g.prototype.MJ=function(){var t3d;t3d=2;while(t3d!==1){switch(t3d){case 4:return this.If?this.If.list():[];break;t3d=1;break;case 2:return this.If?this.If.list():[];break;}}};g.prototype.xra=function(a){var z3d;z3d=2;while(z3d!==1){switch(z3d){case 2:this.If&&this.If.vea(a);z3d=1;break;}}};g.prototype.TS=function(){var l3d;l3d=2;while(l3d!==1){switch(l3d){case 2:this.If&&this.If.yl();l3d=1;break;}}};f3d=34;break;}}function g(b,d){var v3d,f,g,h1d,w1d,m1d;v3d=2;while(v3d!==12){h1d="D";h1d+="EBU";h1d+="G:";w1d="nf";w1d+="-ase ve";w1d+="rsion:";m1d="1S";m1d+="IYbZrNJC";m1d+="p";m1d+="9";switch(v3d){case 6:f.YI=d;m1d;return f;break;case 2:f=c.call(this)||this;g=a(361);P(w1d,g,h1d,!1);f.nR=!1;v3d=9;break;case 9:f.zR=!1;f.K=b;f.KC=[];v3d=6;break;}}}}(g.EventEmitter);c.UPa=g;},function(g,c){function a(a,c){var f;f={};Object.keys(c).forEach(function(d){f[d]=b(a,c[d]);});return f;}function b(a,b){return{wa:a.wa,Vf:b.Vf,Og:b.Og||Infinity,On:b.On||null,yg:b.szb,sO:b.sO,next:b.next};}Object.defineProperty(c,"__esModule",{value:!0});c.F5a=function(b){return{ih:b.ih,yg:b.yg,Za:a(b,b.Za)};};c.RLb=a;c.QLb=b;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(362);c.pmb=function(a,c,d,g){function k(a,d){var f,g;f=Array.isArray(d)?d[0]:d;g=Array.isArray(d)?d[1]:d;a.on(f,function(a){c.emit(g,b.__assign(b.__assign({},a),{type:g}));});}[["debug","managerdebugevent"],"endOfStream","initialAudioTrack","locationSelected","logdata","openComplete","startEvent",["streamerEnd","streamerend"]].forEach(function(a){return k(d.events,a);});d.events.on("error",function(a){a=b.__assign(b.__assign({},a),{manifestIndex:0});c.emit("error",a);});d.events.on("segmentComplete",function(a){var b;b=c.yca?f.RH.Xda(a.segmentId):0;c.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:b,segmentId:a.segmentId});});d.events.on("segmentNormalized",function(a){var b;b=c.yca?f.RH.Xda(a.segmentId):0;c.emit("maxPosition",{type:"maxPosition",index:b,endPts:a.normalizedEnd.Va,maxPts:a.contentEnd.Va});});d.events.on("segmentStarting",function(a){c.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});c.emit("segmentStarting",a);});d.events.on("updateStreamingPts",function(b){var d,g;d=c.yca?f.RH.Xda(b.position.ib):0;g=a.yq.mL(c.u).sa.video_tracks[b.trackIndex].type;c.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:g,manifestIndex:d,trackIndex:b.trackIndex,movieTime:(void 0).gMb.Va});});[["debug","managerdebugevent"],"buffering","bufferingStarted","segmentAppended","segmentPresenting","streamPresenting"].forEach(function(a){return k(g.events,a);});g.events.on("bufferingComplete",function(a){c.emit("bufferingComplete",{type:"bufferingComplete",time:a.time,actualStartPts:g.oxa(a.actualStartPosition).Va,aBufferLevelMs:a.aBufferLevelMs,vBufferLevelMs:a.vBufferLevelMs,selector:a.selector,initBitrate:a.initBitrate,skipbackBufferSizeBytes:a.skipbackBufferSizeBytes});});g.events.on("ptsChanged",function(a){c.emit("ptschanged",a.Va);});};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);f=a(66);h=a(14);c.C3a=function(a){f(b.EventEmitter.prototype,a);Object.defineProperties(a,{Yc:{get:function(){return new h.Xa(this.Cd(),1E3);}}});return a;};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(396);f=a(741);g=function(){function a(){this.yq=b.xe();this.xca=[];}a.prototype.n3a=function(a,b){var d;d=this.Jcb(a);d?(d.Pe&&d.Pe.C$a(),d.Pe=b,b.Pqa(d.pm),a=d.pm,d=d.Mk):(d=f.C3a(a),a=this.yq.b2a(d),b.Pqa(a),this.xca.push({Mk:d,pm:a,Pe:b}));return{pm:a,Mk:d};};a.prototype.Jcb=function(a){var b;if(this.xca.some(function(d){b=d;return d.Mk===a;}))return b;};return a;}();c.TTa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);f=a(7);g=function(){var T1d;function a(a){var P1d,F1d,u1d,v1d;P1d=2;while(P1d!==9){F1d="1SIYbZ";F1d+="rNJ";F1d+="Cp9";u1d="m";u1d+="edia|";u1d+="ase";u1d+="js";v1d="ASEJ";v1d+="S";v1d+="_REQU";v1d+="E";v1d+="ST_PACER";switch(P1d){case 4:this.console=new b.Console(v1d,u1d);F1d;P1d=9;break;case 2:this.R$=a;this.CM=0;this.dAa=3;P1d=4;break;}}}T1d=2;while(T1d!==3){switch(T1d){case 2:a.prototype.ZC=function(){var Q1d,n1d;Q1d=2;while(Q1d!==5){n1d="More ";n1d+="than maxAllow";n1d+="edOut";n1d+="standin";n1d+="gRequests are outstanding";switch(Q1d){case 2:this.CM++;f.assert(this.CM<=this.dAa,n1d);Q1d=5;break;}}};a.prototype.kY=function(){var V1d,O1d;V1d=2;while(V1d!==4){O1d="Received ";O1d+="remove";O1d+=" request when there";O1d+=" a";O1d+="re no requests outstanding";switch(V1d){case 2:this.CM--;f.assert(0<=this.CM,O1d);this.QJ();V1d=4;break;}}};a.prototype.QJ=function(){var f1d;f1d=2;while(f1d!==1){switch(f1d){case 2:f1d=this.CM<this.dAa&&this.R$()?2:1;break;}}};return a;break;}}}();c.KUa=g;},function(g,c,a){var b,f,h,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);f=a(26);h=a(14);q=a(7);g=function(){function a(a){void 0===a&&(a=500);this.x4a=a;this.state=new h.aQ(f.Zk.Zr);this.$w=new h.aQ(f.pa.Dg);}Object.defineProperties(a.prototype,{Fi:{get:function(){return this.state.value===f.Zk.Zf||this.state.value===f.Zk.Gj;},enumerable:!0,configurable:!0}});a.prototype.Oab=function(a){q.assert(!this.events,"Cannot reassign BufferingStateTracker emitter!");this.events=a;this.Fi&&(this.iua(),this.IFa());};a.prototype.O$a=function(){this.events=void 0;this.D5();};a.prototype.fG=function(a,b){void 0===b&&(b=!1);this.sr=a;this.Mv=0;this.mX=void 0;a=this.Fi;this.set(b?f.Zk.Gj:f.Zk.Zf);!a&&this.events&&(this.iua(),this.IFa());};a.prototype.Ol=function(a){this.fG(a,!0);};a.prototype.dh=function(a,b){var d;this.Mv=100;d=this.Fi;this.set(f.Zk.z1);this.D5();this.events&&d&&this.Iab(a,b);this.ljb=this.mjb=this.sr=void 0;};a.prototype.stop=function(){this.set(f.Zk.Zr);this.D5();};a.prototype.set=function(a){this.state.set(a);switch(a){case f.Zk.Zr:this.$w.set(f.pa.Zr);break;case f.Zk.Zf:this.$w.set(f.pa.Zf);break;case f.Zk.Gj:this.$w.set(f.pa.Gj);break;case f.Zk.z1:this.$w.set(f.pa.Cc);}};a.prototype.iua=function(){q.assert(this.events);this.mX=this.Mv;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:b.time.fa(),percentage:this.Mv});};a.prototype.IFa=function(){var a;a=this;this.Iba=setInterval(function(){return a.Jab();},this.x4a);};a.prototype.D5=function(){this.Iba&&(clearInterval(this.Iba),this.Iba=void 0);};a.prototype.Jab=function(){this.Fi&&this.events&&void 0!==this.Mv&&this.Mv!==this.mX&&this.events.emit("buffering",{type:"buffering",time:b.time.fa(),percentage:this.Mv})&&(this.mX=this.Mv);};a.prototype.Iab=function(a,d){q.assert(this.events);this.mX=this.Mv;this.events.emit("bufferingComplete",{type:"bufferingComplete",time:b.time.fa(),actualStartPosition:this.sr,aBufferLevelMs:a,vBufferLevelMs:d,selector:this.mjb,initBitrate:this.ljb,skipbackBufferSizeBytes:this.rRb});};return a;}();c.nKa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);f=a(85);g=function(){function a(){this.tf=new b.BRa();}Object.defineProperties(a.prototype,{size:{get:function(){return this.tf.size;},enumerable:!0,configurable:!0}});a.prototype.reset=function(){this.forEach(function(a){a.Rh();});this.tf.clear();};a.prototype.feb=function(a){return this.tf.get(a);};a.prototype.mda=function(a){return this.tf["delete"](a.na.id,a);};a.prototype.forEach=function(a){var b;b=this;this.tf.forEach(function(d,f){return a(d,f,b);});};a.prototype.reduce=function(a,b){var d;d=this;return this.tf.reduce(function(b,f,c){return a(b,f,c,d);},b);};a.prototype.map=function(a){var b;b=this;return this.tf.map(function(d,f){return a(d,f,b);});};a.prototype.filter=function(a){var b;b=this;return this.tf.filter(function(d,f){return a(d,f,b);});};a.prototype.Tzb=function(a,b){var d,c;d=this;c=f.R6a(a);a=Object.keys(c).map(function(a){return[a,c[a],d.tf.count(a)];});this.tf.keys().filter(function(a){return void 0===c[a];}).forEach(function(a){d.tf.get(a).forEach(function(a){return a.Rh();});d.tf["delete"](a);});a.filter(function(a){return a[1]<a[2];}).forEach(function(a){var b;b=a[0];a=a[1];return d.tf.get(b).slice(a).forEach(function(a){a.Rh();d.tf["delete"](b,a);});});a.filter(function(a){return a[1]>a[2];}).forEach(function(a){var f,c;f=a[0];c=a[1];a=a[2];for(var g=0;g<c-a;++g)d.tf.set(f,b(f));});};a.prototype.eV=function(){return f.lw(this.tf.values().map(function(a){return a.Gwa();}));};return a;}();c.WTa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(7);f=a(365);g=function(){function a(a,b){this.Eab=a;this.C2a=b;this.Zfa=!1;this.jD=this.Lv=0;}a.prototype.nBb=function(a,d){var g,h,m,q;function c(){var a,b,f;a=q.pop();b=h(a);if(b.Lv!==l.Lv){b.Lv=l.Lv;f=d(a,b.kt,b.Eca).RZ;m(a).forEach(function(d){var c,k;c=d.cBb;k=h(c);k.Lv!==g.Lv&&(d=b.kt+d.weight,k.jD!==g.jD?f&&(k.jD=g.jD,k.kt=d,k.Eca=a,q.push(c)):d<k.kt&&(k.kt=d,k.Eca=a,q.Zrb(c)));});}}g=this;h=this.C2a;m=this.Eab;b.assert(!this.Zfa);this.Zfa=!0;this.Lv=this.Lv+1|0;this.jD=this.jD+1|0;q=new f.bka([a],function(a,b){return h(a).kt-h(b).kt;});a=h(a);a.kt=0;a.Eca=void 0;for(var l=this;!q.empty;)c();this.Zfa=!1;};return a;}();c.KMa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(746);c.x6a=function(a,c){return new b.KMa(function(b){return Object.keys(b.na.next||{}).map(function(d){return{cBb:a.ij(d),weight:a.zxa(b,d)?c:b.HK?b.HK.Fd(b.jG).Va:Infinity};});},function(a){return a.D2a;});};c.HLb=function(a,b){var f,d,c,g,h;f=Object.keys(a.Za);d=Object.keys(b.Za);c=d.filter(function(a){return-1===f.indexOf(a);});g=f.filter(function(a){return-1===d.indexOf(a);});h=f.filter(function(f){return-1===d.indexOf(f)?!1:a.Za[f].Og!==b.Za[f].Og;});return{XKb:c,Vtb:g,LLb:h};};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);g=function(){function a(a,f){this.id=a;this.na=f;this.D2a={};this.Hoa=!1;this.WI=new b.Xa(f.Vf,1E3);this.C2=void 0!==f.Og&&null!==f.Og?new b.Xa(f.Og,1E3):b.Xa.ajb;}Object.defineProperties(a.prototype,{wa:{get:function(){return this.na.wa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{lX:{get:function(){return this.Hoa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jG:{get:function(){return this.WI;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{HK:{get:function(){return this.C2;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.WI.Va;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.C2.Va;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ax:{get:function(){return!1;},enumerable:!0,configurable:!0}});a.prototype.normalize=function(a,b){this.WI=a;this.C2=b;this.Hoa=!0;};return a;}();c.eUa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(748);g=function(){function a(a){this.qj=a;this.Za={};}a.Kjb=function(a){return"immediate"===a||"delayedSeamless"===a;};a.prototype.ij=function(a){var f;f=this.Za[a];if(void 0===f){f=this.qj.Za[a];if(void 0===f)throw Error("Segment not found ("+a+")");f=new b.eUa(a,f);this.Za[a]=f;}return f;};a.prototype.Keb=function(a){var b;b=this;return Object.keys(this.qj.Za).filter(function(d){var f;return void 0!==(null===(f=b.qj.Za[d].next)||void 0===f?void 0:f[a.id]);}).map(function(a){return b.ij(a);});};a.prototype.khb=function(a,b){var d,f,c;return(b=null===(d=a.na.next)||void 0===d?void 0:d[b])?(c=(f=b.yg,null!==f&&void 0!==f?f:a.na.yg),null!==c&&void 0!==c?c:this.qj.yg):void 0;};a.prototype.lhb=function(a,b){var d,f;return null===(f=null===(d=a.na.next)||void 0===d?void 0:d[b])||void 0===f?void 0:f.weight;};a.prototype.zxa=function(b,f){return a.Kjb(this.khb(b,f));};return a;}();c.cUa=g;},function(g,c){function a(a,f,c,g,d,h,p){if(p&&-1===f.indexOf(p.id)&&!a.zxa(p,d.id))return{RZ:!1};a=p&&a.lhb(p,d.id);if(void 0===a||0<a)if(-1!==f.indexOf(d.id)||h<c)return g.push(d.id),{RZ:!0};return{RZ:!1};}Object.defineProperty(c,"__esModule",{value:!0});c.jda=function(b,f,c,g,d){var h,m,q;m=[];q=(null===(h=c.HK)||void 0===h?void 0:h.Fd(c.jG).Va)||0;f.nBb(c,function(f,c,h){return a(b,g,d.Va+q,m,f,c,h);});return m;};c.dSb=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(366);f=a(207);new(a(3)).Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var M1d;function c(b,g){var N1d,d,X1d;N1d=2;while(N1d!==8){X1d="1SIYb";X1d+="Zr";X1d+="NJC";X1d+="p9";switch(N1d){case 2:d=a.call(this,b,g)||this;N1d=5;break;case 5:d.vA=function(a,b){var U1d;U1d=2;while(U1d!==1){switch(U1d){case 4:return f.vA(d.config,a,b);break;U1d=1;break;case 2:return f.vA(d.config,a,b);break;}}};d.RX=function(a,b,f){var E1d,g;E1d=2;while(E1d!==9){switch(E1d){case 1:f=null!==f&&void 0!==f?f:d.YE;g=c.Xwb(a,d.config);a=a.Da?a.Da.Ca*(100-d.Zdb(b,g))/100|0:0;return d.Kta(a,f);break;case 2:E1d=1;break;}}};X1d;return d;break;}}}M1d=2;while(M1d!==3){switch(M1d){case 2:b.__extends(c,a);c.Xwb=function(a,b){var G1d,d,f;G1d=2;while(G1d!==3){switch(G1d){case 2:G1d=1;break;case 1:f=!!a.$n;b.jfa&&(null===(d=a.Da)||void 0===d?void 0:d.Ca)<b.XJ&&(f=!0);return f;break;case 8:G1d=3;break;G1d=1;break;}}};c.prototype.Zdb=function(a,b){var Y1d,d,c;Y1d=2;while(Y1d!==8){switch(Y1d){case 2:d=this.config;c=b?d.T5:d.S4;b=b?d.U5:d.U4;Y1d=3;break;case 3:Array.isArray(b)&&(c=f.Zbb(b,a.vl-a.Yc,d.T4));return c;break;}}};return c;break;}}}(g.Gga);c.xVa=a;},function(g,c,a){var b,f,h,q,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(113);f=a(366);h=a(207);a=a(3);q=g.cT;d=g.K5a;k=g.Fua;p=g.$bb;t=g.Tub;new a.Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var o1d;function f(b,f){var J1d,c,c3H;J1d=2;while(J1d!==11){c3H="1SIY";c3H+="bZr";c3H+="NJC";c3H+="p";c3H+="9";switch(J1d){case 7:c.filter=b.Yo.filter;c.dxb=!!b.Yo.simpleScaling;b.Yo.niqrfilter&&b.Yo.niqrcurve&&(c.mBa=b.Yo.niqrfilter,c.yob=d(b.Yo.niqrcurve,1,0,4));c3H;return c;break;case 4:c.RX=function(a,b,d){var A1d,f,g,h,m,q,u;A1d=2;while(A1d!==13){switch(A1d){case 2:d=null!==d&&void 0!==d?d:c.YE;u=(g=null===(f=a.Da)||void 0===f?void 0:f.Ca,null!==g&&void 0!==g?g:0);f=(m=null===(h=a[c.filter])||void 0===h?void 0:h.Ca,null!==m&&void 0!==m?m:u);A1d=3;break;case 3:h=Math.pow(Math.max(1-f/c.$3a,0),c.U3a);m=b.vl-b.Yc;c.dxb?(b=k(c.Xsa,m,1),m=k(c.Wsa,m,1),b=b*h+m*(1-h)):b=k(t(c.Xsa,c.Wsa,h),m,1);a=c.mBa&&(null===(q=a[c.mBa])||void 0===q?void 0:q.AM);A1d=6;break;case 6:void 0!==a&&(q=p(c.yob,a),b=Math.min(b*q,1));h4KK.C3H(0);return c.Kta(h4KK.q3H(u,1,b),d);break;}}};Array.isArray(b.Yo.curves)&&(c.Xsa=d(b.Yo.curves[0],0,0,1),c.Wsa=d(b.Yo.curves[1],0,0,1));c.$3a=q(b.Yo.threshold||6E3,1,1E5);c.U3a=q(b.Yo.gamma||1,.1,10);J1d=7;break;case 2:c=a.call(this,b,f)||this;c.vA=function(a,b){var S1d;S1d=2;while(S1d!==1){switch(S1d){case 4:return h.vA(c.config,a,b);break;S1d=1;break;case 2:return h.vA(c.config,a,b);break;}}};J1d=4;break;}}}o1d=2;while(o1d!==5){switch(o1d){case 1:return f;break;case 9:return f;break;o1d=5;break;case 2:b.__extends(f,a);o1d=1;break;}}}(f.Gga);c.ZQa=a;},function(g,c,a){var b,f,h,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(26);f=a(112);h=a(3);q=a(208);g=function(){function a(a,b,d){this.config=a;this.fxb=b;this.navigator=d;a=q["default"](this.config);this.Grb=[a.vA,a.RX];}a.prototype.wvb=function(a,d,f){var c,g;if(this.Lqb(f.track)){c=f.ur.Nt;g=f.track.yc;c&&!c.track.equals(f.track)&&(c=this.Qcb(c,g));if(0===f.M&&c&&!this.Qwb(f,c))return c;a=this.W8a(a===b.Zk.Zf?b.pa.Zf:a===b.Zk.Gj?b.pa.Gj:a===b.Zk.z1?b.pa.Cc:b.pa.Dg,d,f);if(f=f.mG.GY(a,g,void 0,this.Grb[f.M],!0,f.track.O.Th))return g[f.rd];}};a.prototype.Qcb=function(a,b){var d;d=b[0];b.filter(function(a){return a.hf&&!a.Sg&&a.inRange;}).every(function(b){return b.R<=a.R?d=b:!1;});return d;};a.prototype.Qwb=function(a,b){return 0<this.config.qG.length?!0:(a=a.ur.QE)&&a===b.location?!1:!0;};a.prototype.Lqb=function(a){return a.O.Wj.CO(a.O.wa,a.yc);};a.prototype.W8a=function(a,d,c){var U;for(var g,k,m=d.Fd(this.fxb),p=[],q=c,t=d,l,n,r=0;q;){U=q.ffb(m);if(0===U.V.length)break;t=U.V[0].yF;void 0===l&&(l=U.V[U.V.length-1].tca,n=U.ica>=U.V.length?l:U.V[U.ica].yF);p=U.V.concat(p);r+=U.Ji;q=this.navigator.parent(q);}m={ap:h.Sj()[c.M],U:t.Va,Yc:d.Va,Ab:(k=null===(g=l)||void 0===g?void 0:g.Va,null!==k&&void 0!==k?k:d.Va),vl:n?n.Va:d.Va,wh:p.reduce(function(a,b){return a+b.aa;},0),Ji:r,p8:p.length,V:p};g=1===c.M?this.config.LO:this.config.rJ;k=f.xe();return{state:a,Cw:a===b.pa.Cc,ox:c.Pm,buffer:m,f7:g,Lza:!1,DK:!1,Dn:null===k||void 0===k?void 0:k.Dn,M:c.M,Yc:d.Va,$n:!1,bW:!1};};return a;}();c.$Na=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.qkb=function(a,b){a=a.Za[b.ib];if(void 0===a)return!1;if(void 0===a.Og||null===a.Og)throw Error("Cannot validate graph position without endTimeMs");a=a.Og-a.Vf;return 0<=b.offset.Va&&b.offset.Va<a;};c.Eob=function(a){return a;};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(27);g=function(a){function c(b,c){var d;d=a.call(this)||this;d.track=b;d.ep=!1;d.Pt=new f.Mx();d.Pt.on(b,"networkfailing",function(){d.emit("networkfailing");});d.Pt.on(b,"error",function(){d.emit("error");});if(c)d.ep=!0,setTimeout(function(){return d.emit("created");},0);else d.Pt.on(b,"created",function(){d.ep=!0;d.emit("created");});return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{O7:{get:function(){return this.track.O7;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Uh:{get:function(){return this.track.Uh;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Yj:{get:function(){return this.track.Yj;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Oua:{get:function(){return this.track.Oua;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{config:{get:function(){return this.track.config;},enumerable:!0,configurable:!0}});c.prototype.yl=function(){this.Pt.clear();};c.prototype.Hm=function(){return this.track.Hm();};c.prototype.qY=function(){return this.track.qY();};c.prototype.toString=function(){return this.track.toString();};c.prototype.toJSON=function(){return this.track;};return c;}(f.EventEmitter);c.LUa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,f){this.L=a;this.Gg=f;this.rGa=!1;}a.prototype.ci=function(a,f,c,g,d,h){this.rGa||(this.rGa=!0,a={type:"error",error:null!==c&&void 0!==c?c:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:d,nativeCode:h,viewableId:f},this.L.error("notifyStreamingError: "+JSON.stringify(a)),this.Gg.emit("error",a));};return a;}();c.IVa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cob=function(a,b,f){var c,g,d,h;d=a[0];a=a[1];h=null===a||void 0===a?void 0:a.Wua(b.Va);null===d||void 0===d?void 0:d.Wua((c=null===h||void 0===h?void 0:h.U,null!==c&&void 0!==c?c:b.Va));b=f?f.Va:void 0;f=null===a||void 0===a?void 0:a.Xua(b);null===d||void 0===d?void 0:d.Xua((g=null===f||void 0===f?void 0:f.ga,null!==g&&void 0!==g?g:b));};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(757);g=function(){function a(a){var b,d,f,c;b=this;d=a.O;f=a.dd;c=a.ZJ;a=a.YJ;this.jya=this.RJ=!1;this.Pra=function(){b.RJ||b.nqa()&&b.qBa();};this.dd=f;this.O=d;this.ZJ=c;this.YJ=a;}a.prototype.Sb=function(a){if(this.RJ)throw Error("Cannot call init() after cleanup");if(this.jya)throw Error("Cannot call init() twice");this.jya=!0;this.VBa=a;this.O.xw.addListener("onHeaderFragments",this.Pra);this.nqa()&&this.qBa();};a.prototype.ec=function(){this.RJ||(this.RJ=!0,this.VBa=void 0,this.O.xw.removeListener("onHeaderFragments",this.Pra));};a.prototype.qBa=function(){var a;this.RJ||(this.Gob(),null===(a=this.VBa)||void 0===a?void 0:a.call(this),this.ec());};a.prototype.nqa=function(){return this.dd.every(function(a){return a.track.pd;});};a.prototype.Gob=function(){b.Cob(this.dd,this.ZJ,this.YJ);};return a;}();c.ATa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(126);f=a(3);g=function(){function a(a){this.oX=a;}a.prototype.qwa=function(a,d,c){var g;g=a.V;a=a.Wh(d);a.yM=d+1;if(!a.Na)for(++d;d<g.length&&d<c.rg.index&&(a.duration<c.fF||0!==d%this.oX);++d)a.t4(g.get(d)),a.yM=d+1,b.jc&&c.Zi("getFragmentForHudsonRequest: extended fragment startPts:",a.U,"to duration:",a.duration,"size:",a.aa,"index: ",d,"min request size in ms:",c.fF);a.Vkb=c.Xd.fjb+(f.time.fa()-c.Xd.kjb);b.jc&&c.Zi("getFragmentForHudsonRequest( "+d+") returning: "+JSON.stringify(a));return a;};return a;}();c.AOa=g;g=function(){function a(){}a.prototype.qwa=function(a,d,f,c){var g,h;g=a.V;h=d===f.Vh.index;d===f.rg.index?(a=a.owa(f.rg),a.MN(f.rg.tx),a.bAa()):h?(a=a.owa(f.Vh),a.MN(f.Vh.tx)):a=a.Wh(d);a.yM=d+1;if(!a.Na&&!c)for(++d;d<g.length&&d<f.rg.index&&(a.aa<f.NAa||a.duration<f.fF);++d)a.t4(g.get(d)),a.yM=d+1,b.jc&&f.Zi("getFragmentForRequest: extended fragment startPts:",a.U,"to duration:",a.duration,"size:",a.aa,"min request size:",f.NAa,"min request duration:",f.fF);b.jc&&f.Zi("getFragmentForRequest( "+d+") returning: "+JSON.stringify(a)+", stream: "+JSON.stringify(a.stream));return a;};return a;}();c.TRa=g;},function(g,c,a){var f,h,q,d,k,p;function b(a,b,c){k=c;p=c.map(function(a,b){return a.hf&&a.inRange&&!a.Sg?b:null;}).filter(function(a){return null!==a;});if(null===d)return a=h(c),d=c[a].R,new q(a);if(!p.length)return null;a=p.filter(function(a){return c[a].R==d;})[0];return void 0===a?(f.log("Defaulting to first stream due to unvalid bitrate requested: "+d),new q(p[0])):new q(a);}a(6);a(13);c=a(32);a=a(3);f=c.console;h=c.W7;q=c.pn;d=null;k=null;p=null;a.r5a&&(a.r5a.mG={Sb:function(){p=k=d=null;},GY:function(a){d=a;},ZNb:function(){return{all:k,WHa:p};}});g.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){(function(){var h3H,b,C92;h3H=2;while(h3H!==7){C92="1SIY";C92+="bZ";C92+="rN";C92+="JCp9";switch(h3H){case 3:b=a(26).pa;g.P={checkBuffering:function(a,c,g,d,h){var i71=h4KK;var u3H,k,m,q,l,n,r,G,H92,F92,k92,G92,k9H,p9H;u3H=2;while(u3H!==36){H92="hi";H92+="g";H92+="htp";F92="n";F92+="o";F92+="re";F92+="bu";F92+="ff";k92="o";k92+="utofran";k92+="ge";G92="m";G92+="a";G92+="x";G92+="siz";G92+="e";switch(u3H){case 37:return{complete:!1,ru:q,bi:f(q)};break;case 40:--h;u3H=29;break;case 13:return{complete:!1,Sz:!0};break;case 6:return{complete:!0,reason:G92};break;case 12:i71.D92(0);k9H=i71.g92(13,12);q=h.mj*(m?h.fda:k9H);h.bbb&&g.gb&&g.gb.Wg&&g.gb.Wg.Ca>h.waa&&(q+=h.p4+g.gb.Wg.Ca*h.jca);d&&(q+=d.qT*h.q4);q=l?Math.min(l,q):q;u3H=19;break;case 43:u3H=0<G?42:41;break;case 19:u3H=!c?18:17;break;case 22:u3H=k>=q?21:38;break;case 24:return{complete:!0,reason:k92};break;case 30:--h;u3H=29;break;case 23:r=g.V.ug(d);u3H=22;break;case 38:0<c&&c<g.R&&(q=Math.min(l,Math.max(h.lN*(g.R/c-1),q)));u3H=37;break;case 25:u3H=-1===d?24:23;break;case 8:l=Math.min(h.dM,l);u3H=7;break;case 27:return c<g.R&&(q=Math.min(l,Math.max(h.lN*(g.R/c-1),q))),{complete:!1,ru:q,bi:(n-a.Ji)/(n+(q-(a.Ab-a.Yc))*g.R/8)};break;case 34:q=g.V.Bd(d);h=Math.min(d+Math.floor(h.lN/q),g.V.length-1);G=g.V.ug(h);q=8*r/c-a.Yc;u3H=30;break;case 39:return{complete:!0,reason:F92};break;case 7:u3H=k>=l?6:14;break;case 28:m=g.V.get(h);i71.j92(1);p9H=i71.x92(352,18,20);G=p9H*G/c-m.U-q;u3H=43;break;case 21:u3H=c>g.R*h.kU?35:34;break;case 26:d=g.V.Bl(a.Ab);u3H=25;break;case 18:return{complete:!1,ru:q};break;case 42:return q=Math.min(l,k+G),{complete:!1,ru:q,bi:f(q)};break;case 41:G=m.offset;u3H=40;break;case 2:k=a.vl-a.Yc;m=c===b.Gj;c=g.Da||0;q=0;l=h.Ufa&&!m?h.Ow:h.Xaa;u3H=8;break;case 29:u3H=h>d?28:39;break;case 14:u3H=c<=h.Caa&&(0<c||!h.H7)?13:12;break;case 35:return{complete:!0,reason:H92};break;case 17:n=0;a.V.forEach(function(b){var w3H;w3H=2;while(w3H!==1){switch(w3H){case 2:n+=b.U+b.duration>a.Yc?b.aa:0;w3H=1;break;}}});u3H=15;break;case 15:u3H=!g.V||!g.V.length?27:26;break;}}function f(b){var W3H;W3H=2;while(W3H!==5){switch(W3H){case 2:b=g.V.nU(a.Yc+b,void 0,!0);return(n-a.Ji)/(n+(b.offset+b.aa)-r);break;}}}}};C92;h3H=7;break;case 1:a(6);a(13);a(32);h3H=3;break;case 2:h3H=1;break;}}}());},function(g,c,a){(function(){var Z92,f,c,h,d,Q91;function b(a,b,c,g){var K92,k,E91,e91,d92;K92=2;while(K92!==11){E91="pla";E91+="ye";E91+="r mi";E91+="ssi";E91+="ng streamingIndex";e91="Must have at l";e91+="e";e91+="ast one selected stream";switch(K92){case 8:k=c[g];K92=7;break;case 2:h(!f.T(g),e91);h(f.ka(b.ox),E91);b=d(g);K92=3;break;case 6:return b.rd=g,b;break;case 14:--g;K92=9;break;case 3:h4KK.D91(0);d92=h4KK.O91(16,17);g=c.length-d92;K92=9;break;case 9:K92=-1<g?8:13;break;case 13:b.rd=0;return b;break;case 7:K92=k.gb&&k.gb.Da&&k.R<k.gb.Da.Ca-a.Lyb?6:14;break;}}}Z92=2;while(Z92!==13){Q91="1SIYbZ";Q91+="r";Q91+="N";Q91+="J";Q91+="Cp9";switch(Z92){case 14:Q91;Z92=13;break;case 2:f=a(6);a(13);Z92=4;break;case 3:a(3);h=c.assert;d=c.pn;c=a(209);g.P={STARTING:c.STARTING,BUFFERING:c.BUFFERING,REBUFFERING:c.REBUFFERING,PLAYING:b,PAUSED:b};Z92=14;break;case 4:c=a(32);Z92=3;break;}}}());},function(g,c,a){var f;function b(a,b,d){return new f(d.length-1);}a(6);f=a(32).pn;g.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){var f;function b(){return new f(0);}a(6);f=a(32).pn;g.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){(function(){var r91,h,d,k,p,t,l,n,B,x,r,i91;r91=2;while(r91!==20){i91="1S";i91+="I";i91+="Yb";i91+="ZrNJCp9";switch(r91){case 7:a(13);n=d.Jz;B=d.pn;x=a(367);r=a(26).pa;r91=11;break;case 2:h=a(6);d=a(32);r91=4;break;case 11:g.P={STARTING:function(a,d,f,c){var L91,g,h,S91,b91,Z91;L91=2;while(L91!==14){S91="selectAudioStreamStart";S91+="ing: overriding conf";S91+="ig with ";b91=" k";b91+="bp";b91+="s, ";b91+="profile :";Z91="sele";Z91+="ctAudioStreamStarting: ";Z91+="se";Z91+="lected stream";Z91+=" :";switch(L91){case 1:g=a;h=f[c||0].wf;L91=4;break;case 2:L91=1;break;case 9:a=x[r[r.Dg]](g,d,f,c);f=f[a.rd];L91=7;break;case 4:L91=(h=a&&a.qG&&0<=a.qG.indexOf(h)?b(h,a.EGa):b(h,a.v3a))?3:9;break;case 7:p&&k.log(Z91+f.R+b91+f.wf);return a;break;case 3:g={minInitAudioBitrate:a.qM,minHCInitAudioBitrate:a.pM,maxInitAudioBitrate:a.cM,minRequiredAudioBuffer:a.YW},p&&k.log(S91+JSON.stringify(h)),l(h,g);L91=9;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};i91;r91=20;break;case 4:k=d.console;p=d.debug;t=d.assert;l=a(57);r91=7;break;}}function b(a,b){var j91,d;j91=2;while(j91!==3){switch(j91){case 2:d=void 0;b.some(function(b){var v91,f;v91=2;while(v91!==3){switch(v91){case 4:return f;break;case 2:f=b.profiles;(f=f&&0<=f.indexOf(a))&&(d=b.override);v91=4;break;}}});return d;break;}}}function c(a,b,d,f,c,g){var U91;U91=2;while(U91!==1){switch(U91){case 2:return g&&a>c.St&&(h.T(d)||b>d||f-d>c.xW);break;}}}function f(a,b,d,f){var J91,g,m,q,l,u,y,x,r,G,H,P,k52,f52,o52,g52,X52,F52,s52,m52,y52,K52,V52,R52,W52,a52,h52,N52,H91,T91,B91,C91,z91,d91,w91;J91=2;while(J91!==43){k52=" kbps, try t";k52+="o dow";k52+="ns";k52+="witch";f52=" kb";f52+="ps";f52+=" ";f52+="<";f52+=" ";o52="th";o52+="rough";o52+="put for au";o52+="dio ";g52="Mu";g52+="st have at least one selected stre";g52+="a";g52+="m";X52=", st";X52+="ream";X52+="ing";X52+="Pts = ";F52=", lastUpsw";F52+="it";F52+="c";F52+="hPts";F52+=" = ";s52="  Upswitch allow";s52+="ed. lastDownswitchP";s52+="ts = ";m52="m";m52+="s";y52=", buffer l";y52+="e";y52+="vel = ";K52=", lastUpswitchPts";K52+=" =";K52+=" ";V52="  Upswit";V52+="c";V52+="h not allowed. lastDownswitc";V52+="hPts = ";R52=" ";R52+="k";R52+="b";R52+="p";R52+="s";W52=" ";W52+="kb";W52+="ps";W52+=" > ";a52="throughput";a52+=" for aud";a52+="io ";h52="kb";h52+="ps, strea";h52+="mingPts :";N52=", ";N52+="audi";N52+="o throughput:";H91=" kbps,";H91+=" profile ";H91+=":";T91="selectAudioStr";T91+="eam: select";T91+="ed stream :";B91=" ";B91+="kbp";B91+="s";C91=" kb";C91+="ps";C91+=", t";C91+="o";C91+=" ";z91="sw";z91+="itching aud";z91+="io";z91+=" fro";z91+="m ";d91="d";d91+="o";d91+="w";d91+="n";w91="u";w91+="p";switch(J91){case 30:x=d[m];m!==f&&p&&k.log((m>f?w91:d91)+z91+l.R+C91+x.R+B91);p&&k.log(T91+x.R+H91+g+N52+x.Da+h52+b.buffer.Ab);return new B(m);break;case 33:J91=(u=q[y],G=d[u],n(G)&&x>r.FHa*G.R)?32:34;break;case 4:J91=!(a&&a.qG&&0<=a.qG.indexOf(g))?3:9;break;case 19:J91=y&&x<r.Tta*u?18:24;break;case 6:l=d[f];u=l.R;y=q.indexOf(f);x=l.Da;J91=11;break;case 34:J91=++y<q.length?33:30;break;case 24:J91=y<q.length-1&&x>r.FHa*u&&(p&&k.log(a52+x+W52+r.FHa+"*"+u+R52),u=b.buffer,G=u.vl-u.Yc,l.V&&l.V.length)?23:30;break;case 7:J91=q&&1<q.length?6:30;break;case 11:r=a.x3a;J91=10;break;case 20:m=0;J91=30;break;case 16:u=q[y];G=d[u];J91=27;break;case 27:J91=n(G)&&(0==y||G.R*r.Tta<x)?26:25;break;case 31:p&&k.log(V52+P+K52+H+y52+G+m52);J91=30;break;case 2:J91=1;break;case 26:m=u;J91=30;break;case 32:m=u;J91=30;break;case 21:J91=c(G,H,P,u.Ab,r,b.Cw)?35:31;break;case 23:H=this.faa;P=this.lW;J91=21;break;case 35:p&&k.log(s52+P+F52+H+X52+u.Ab);J91=34;break;case 10:J91=0>y?20:19;break;case 17:J91=0<=y?16:30;break;case 3:return new B(f);break;case 25:y--;J91=17;break;case 1:t(!h.T(f),g52);g=d[f].wf;J91=4;break;case 18:p&&k.log(o52+x+f52+r.Tta+"*"+u+k52),--y;J91=17;break;case 9:m=f;a.EGa.some(function(f){var n91,c,h,k,m,p,t;n91=2;while(n91!==13){switch(n91){case 7:t=b.buffer.ap;n91=6;break;case 6:q=d.filter(function(a){var A91,b;A91=2;while(A91!==4){switch(A91){case 2:b=a.R;return b>=m&&b<=p&&0<=c.indexOf(a.wf)&&b*k/8<t;break;}}}).map(function(a){var q91;q91=2;while(q91!==1){switch(q91){case 4:return a.uh;break;q91=1;break;case 2:return a.uh;break;}}});n91=14;break;case 4:n91=h?3:14;break;case 2:c=f.profiles;h=c&&0<=c.indexOf(g);n91=4;break;case 3:k=(f=f.rF)&&f.YW||a.YW;m=f&&f.APb||-Infinity;p=f&&f.YE||Infinity;n91=7;break;case 14:return h;break;}}});J91=7;break;}}}}());},function(g,c,a){var f,h,q,d;function b(a,b,c){var g,k;g=this.W2;b=b.buffer.Ab;k="forward"===a.Gub;if(f.T(g))return g=k?h(c):h(c,c.length),this.X2=b,this.W2=g,new d(g);q(c[g])||(g=h(c,g),this.X2=b,this.W2=g);if(0>g)return null;if(b>this.X2+a.Nyb){a=c.map(function(a,b){return a.hf&&a.inRange&&!a.Sg?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;k?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.W2=a[g];this.X2=b;return new d(a[g]);}return new d(g);}f=a(6);a(13);c=a(32);h=c.W7;q=c.Jz;d=c.pn;g.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){var b,f,h,q,d,k,p,t,l,n,B;Object.defineProperty(c,"__esModule",{value:!0});b=a(85);f=a(57);h=a(6);q=a(379);d=a(3);g=a(113);a=a(32);k=a.$nb;p=a.G4a;t=a.cT;l=a.pn;n=g.Iea;c.bFa=B;(function(){var l52,k61;function a(a,b){var p52,d,c,z61,p61;p52=2;while(p52!==12){z61="his";z61+="t_th";z61+="roughpu";z61+="t";p61="hist_";p61+="t";p61+="di";p61+="ge";p61+="st";switch(p52){case 2:d=new l();d.Op=a;a=d.Op.gb||{};p52=3;break;case 6:c=q.wma.jgb(a),h.Nb(c)?(a.mh=c,c=!0):c=!1;p52=14;break;case 7:p52=(c=h.ka(b.FY)&&0<=b.FY&&100>=b.FY&&!h.T(a)&&!h.Ia(a))?6:14;break;case 3:d.Gl=a.ol&&a.hi;d.Fm=a.ol?a.ol:0;a=f(d.Gl,{});p52=7;break;case 14:c?(b=a.mh(b.FY/100)||d.Op.Da,d.It=b,d.reason=p61):d.Op.Da&&(b=d.Op.Da,d.It=b,d.reason=z61);return d;break;}}}function u(a,b){var u52,d,H61,Z61,E52;u52=2;while(u52!==8){H61="si";H61+="g";H61+="m";H61+="oid";Z61="l";Z61+="o";Z61+="g";switch(u52){case 4:d=b.VF;return(d=b.cFa[d])&&2===d.length?1E3*(d[0]+d[1]*Math.log(1+a)):b.fo;break;case 5:u52=0===b.VF.lastIndexOf(Z61,0)?4:9;break;case 2:h4KK.A61(1);E52=h4KK.O61(100016,13,1700846,18,18);a=t(a,0,E52)/1E3;u52=5;break;case 9:return 0===b.VF.lastIndexOf(H61,0)?(d=b.VF,(d=b.cFa[d])&&2===d.length?1E3*(d[0]+d[1]*n(a)):b.fo):b.fo;break;}}}function m(a,d){var M52,f,c;M52=2;while(M52!==11){switch(M52){case 3:M52=0===c?9:8;break;case 5:f=a.LV;c=b.bD(f,function(a){var Y52;Y52=2;while(Y52!==1){switch(Y52){case 2:return d<=a.r;break;case 4:return d<a.r;break;Y52=1;break;}}});M52=3;break;case 2:M52=1;break;case 1:M52=a.LV?5:12;break;case 9:return f[0].d;break;case 8:M52=-1===c?7:6;break;case 7:return f[f.length-1].d;break;case 6:h4KK.A61(0);a=f[h4KK.O61(c,1)];f=f[c];return Math.floor(a.d+(f.d-a.d)*(d-a.r)/(f.r-a.r));break;case 12:return a.fo;break;}}}l52=2;function y(b,d){var x52,f,c,k,m,p,q,G61,l61,W61,M61,i61;x52=2;while(x52!==8){G61="no_su";G61+="i";G61+="ta";G61+="ble_str";G61+="eam";l61="De";l61+="l";l61+="ayT";l61+="arget";W61="Bi";W61+="t";W61+="rat";W61+="e";M61="VM";M61+="A";M61+="F";i61="n";i61+="o";i61+="_v";i61+="ali";i61+="d_";switch(x52){case 5:p=[i61],!k&&f&&p.push(M61),k||f||p.push(W61),m||p.push(l61),c.reason=p.join("");x52=4;break;case 1:x52=0<=q&&(f?d[q].Bc>=b.hF:d[q].R>=b.ar)&&!(k=d[q],c=a(k,b),m=g(k.R,c.It,b),p=u(c.It,b),c.Cz=m,m=m<p,k=f?k.Bc>=b.hF&&k.Bc<=b.tAa:k.R>=b.ar&&k.R<=b.Wt,p=m&&k)?5:3;break;case 4:q--;x52=1;break;case 2:f=!!b.hF&&!!b.tAa&&d.every(function(a){var G52;G52=2;while(G52!==1){switch(G52){case 2:return a.Bc&&110>=a.Bc;break;case 4:return a.Bc||4<a.Bc;break;G52=1;break;}}}),c=null,k=!1,m=!1,p=!1,q=d.length-1;x52=1;break;case 3:h.Ia(c)&&(c=a(d[0],b),c.reason=G61);return c;break;}}}while(l52!==5){k61="1S";k61+="IYb";k61+="ZrN";k61+="JCp";k61+="9";switch(l52){case 2:c.bFa=B=function(a,b,d){var e52,S61;e52=2;while(e52!==1){S61="hist";S61+="or";S61+="ic";S61+="al";switch(e52){case 2:return S61===a.x$?U(a,b,d):a.fJ?y(a,d):r(a,b,d);break;}}};k61;l52=5;break;}}function U(a,f,c){var P52,g,h31,I31,y31;P52=2;while(P52!==6){h31="h";h31+="ist_bit";h31+="rat";h31+="e";I31="nu";I31+="m";I31+="b";I31+="er";y31="v";y31+="b";switch(P52){case 4:return a.fJ?y(a,c):r(a,f,c);break;case 2:g=d.storage.get(y31);P52=5;break;case 5:P52=I31!==typeof g?4:3;break;case 3:a=new l();a.Op=b.Gv(c.reverse(),function(a){var D52;D52=2;while(D52!==1){switch(D52){case 2:return a.R<=g;break;case 4:return a.R<g;break;D52=1;break;}}})||c[0];a.reason=h31;P52=7;break;case 7:return a;break;}}}function r(a,d,f){var t52,c,h;t52=2;while(t52!==9){switch(t52){case 2:c=new l();h=Math.max(a.ar,a.TW,d.bW?a.mba:-Infinity);t52=4;break;case 4:c.Op=b.Gv(f.filter(function(b){var I52;I52=2;while(I52!==1){switch(I52){case 4:return b.R>a.Wt;break;I52=1;break;case 2:return b.R<=a.Wt;break;}}}).reverse(),function(b){var O52,d,f,k,c31,d31,P31,q31;O52=2;while(O52!==12){c31="hi";c31+="st_bufftim";c31+="e";d31="no_historical_lte";d31+="_m";d31+="in";d31+="b";d31+="itrate";P31="hist_tput_lt_m";P31+="inbit";P31+="rate";q31="lt_hist_lte";q31+="_minb";q31+="itrate";switch(O52){case 8:k=m(a,b);O52=7;break;case 9:O52=f?8:14;break;case 5:O52=b.R>h?4:13;break;case 2:d={Da:b.Da,ol:b.gb&&b.gb.ol,hi:b.gb&&b.gb.hi};O52=5;break;case 4:b=b.R;f=d.Da;O52=9;break;case 14:d=!1;O52=6;break;case 13:f=d.Da,b.R<=f?(c.It=f,d&&(c.Fm=d.ol?d.ol:0,c.Gl=d.ol?d.hi:void 0),c.reason=q31,d=!0):f?(c.It=f,d&&(c.Fm=d.ol?d.ol:0,c.Gl=d.ol?d.hi:void 0),c.reason=P31,d=!1):(c.reason=d31,d=!0);O52=6;break;case 7:g(b,f,a)<=k?(c.It=f,d&&(c.Fm=d.ol?d.ol:0,c.Gl=d.ol&&d.hi),c.reason=c31,d=!0):d=!1;O52=6;break;case 6:return d;break;}}})||f[0];return c;break;}}}function g(a,b,d){var c52;c52=2;while(c52!==5){switch(c52){case 2:a=p(d.mj,a*d.hba);return k(a,b);break;}}}}());},function(g,c,a){var b;a(6);b=a(32).console;g.P=function(a,c,g,d,h,p,t,l,n,B,x,r,G,P,S){var g11=h4KK;var v31,f,k,m,q,u,y,H,ca,m7z,U7z,V7z;v31=2;while(v31!==53){m7z="1";m7z+="SIYb";m7z+="ZrN";m7z+="JCp9";U7z=" >= fr";U7z+="agmentsLe";U7z+="n";U7z+="gth: ";V7z="Stream";V7z+="ingInde";V7z+="x: ";switch(v31){case 16:g11.D7z(0);g*=g11.M7z(f,1E3);g11.F7z(0);t*=g11.b7z(f,1E3);v31=27;break;case 31:return{result:!1,aM:a/(f/1E3),kw:!1};break;case 32:v31=!S&&(a=t-g,a<P)?31:30;break;case 27:g11.D7z(0);P*=g11.M7z(f,1E3);g11.F7z(0);G*=g11.M7z(f,1E3);v31=25;break;case 43:v31=h<g&&ca<l?42:41;break;case 35:H=Math.max(q,B);v31=34;break;case 36:return{result:!1,aM:Math.min(a,d)/(f/1E3),kw:!0};break;case 33:g=h,x+=m[ca],++ca,a=k[ca],h+=a;v31=34;break;case 44:x-=q;v31=43;break;case 41:++l;v31=40;break;case 23:q=m[l];u=k[l];v31=21;break;case 34:v31=x<H?33:32;break;case 39:H=a;v31=38;break;case 25:g11.D7z(0);y*=g11.M7z(f,1E3);v31=24;break;case 38:d=Math.min(a,d);v31=24;break;case 20:g11.F7z(0);p=g11.b7z(f,1E3);l>=c&&b.error(V7z+l+U7z+c);g+=a;0===t&&(g=0);v31=16;break;case 21:v31=x<q?35:37;break;case 54:return{result:!0,aM:d/(f/1E3),kw:!0};break;case 42:x+=m[ca],++ca,h+=k[ca];v31=43;break;case 29:g11.F7z(1);g+=g11.M7z(q,r,0,p);t+=u;v31=44;break;case 2:m7z;f=a.ea;c=Math.min(a.length,c);v31=3;break;case 30:g11.F7z(2);a=g11.b7z(t,g);v31=29;break;case 3:k=a.Bd;m=a.sizes;g11.F7z(2);y=g11.M7z(d,g);d=Infinity;H=0;ca=0;v31=13;break;case 37:v31=(a=Math.max(t-g,0),a<G&&a<H)?36:29;break;case 24:v31=l<c?23:54;break;case 40:v31=l>=n&&a>y?54:39;break;case 13:a=a.Bd[0];g11.D7z(3);h=g11.M7z(f,a,h,1E3);g11.D7z(4);a=g11.M7z(0,p,r,8);g11.F7z(5);r=g11.M7z(8,r,0);v31=20;break;}}};},function(g,c,a){var b,f,h,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(85);f=a(13);h=a(6);g=a(32);q=a(368);d=g.assert;k=g.pn;c.bea=p;(function(){var Q7z,P7z;function a(a,c,g){var y7z,p,q,t,l,u,n,y,a7z,i7z;y7z=2;while(y7z!==13){a7z="no_feasibl";a7z+="e_st";a7z+="r";a7z+="eam";i7z="Must";i7z+=" have at least one selecte";i7z+="d stre";i7z+="am";switch(y7z){case 2:d(!h.T(g),i7z);t=c[g];l=t.R;y7z=3;break;case 3:u=t;t.Da&&(q=null===(p=t.gb)||void 0===p?void 0:p.ld,null!==q&&void 0!==q?q:f.ie.zB>=a.Fnb)&&t.Da>=a.dmb&&(t=b.Gv(c.slice(0,Math.min(g+(a.A2a?2:1),c.length)).reverse(),m),void 0===t&&(t=c[0],y=a7z,n=t.Da));y7z=8;break;case 8:c=new k();c.Op=t;u!==t&&(c.reason=y,c.It=n);return c;break;}}function m(b){var t7z,d,z7z;t7z=2;while(t7z!==7){z7z="buff_";z7z+="l";z7z+="t_hist";switch(t7z){case 3:y=z7z;n=d;return!0;break;case 5:t7z=!d||(b.R>l?a.BAb:1)*b.R>d?4:3;break;case 4:return!1;break;case 2:d=b.Da;t7z=5;break;}}}}Q7z=2;while(Q7z!==5){P7z="1SIYb";P7z+="Zr";P7z+="NJCp9";switch(Q7z){case 2:c.bea=p=function(b,d,c,f,g,h){var N7z,R7z;N7z=2;while(N7z!==1){R7z="p";R7z+="la";R7z+="ying";switch(N7z){case 2:return R7z===b.d5?q.EY.call(this,b,d,c,f,g,h):a(b,c,f);break;}}};P7z;Q7z=5;break;}}}());},function(g,c,a){var f;function b(a,b,d){a=d.map(function(a,b){return a.hf&&a.inRange&&!a.Sg?b:null;}).filter(function(a){return null!==a;});return a.length?new f(a[Math.floor(Math.random()*a.length)]):null;}a(13);f=a(32).pn;g.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){var f,h,q,d;function b(a,b,c,g){if(f.T(g))a=h(c);else if(q(c[g]))a=g;else if(a=h(c,g),0>a)return null;return new d(a);}f=a(6);a(13);c=a(32);h=c.W7;q=c.Jz;d=c.pn;g.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){var b,f,h,q,d,k,p,t,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(13);h=a(3);q=a(85);d=a(26);k=new h.Console("ASEJS_STREAM_SELECTOR","media|asejs");p=[d.pa[d.pa.Dg],d.pa[d.pa.Zf],d.pa[d.pa.Gj],d.pa[d.pa.Cc],d.pa[d.pa.ah],"checkBuffering"];t={first:a(771),random:a(770),optimized:a(209),roundrobin:a(766),selectaudio:a(367),selectaudioadaptive:a(765),"default":a(209),lowest:a(764),highest:a(763),throughputthreshold:a(762),checkdefault:a(761),testscript:a(760)};l={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};g=function(){var B7z;B7z=2;while(B7z!==7){switch(B7z){case 8:return a;break;case 2:a.prototype.GY=function(a,c,g,m,p,t){var e7z,l7z,l,u,n,y,B,x,r,G,H,P,S,A,f7d,p7z;e7z=2;while(e7z!==56){f7d="St";f7d+="ream selector";f7d+=" called with invalid player state ";switch(e7z){case 1:g=a.buffer;u=h.time.fa();y=this.K;B=this.yC;e7z=9;break;case 37:e7z=(p=c[y],p.hf&&p.inRange&&!p.Sg)?36:54;break;case 9:b.ka(B)&&a.state===d.pa.Dg&&(B=this.yC=void 0);b.ka(B)&&B>=c.length&&(B=this.yC=void 0);r=g.V;G=r.length;e7z=14;break;case 60:e7z=l7z===d.pa.Cc?35:59;break;case 40:e7z=!x?39:53;break;case 27:y.kZ?r=S.filter(function(a){var c7z;c7z=2;while(c7z!==1){switch(c7z){case 2:return a.kw;break;case 4:return a.kw;break;c7z=1;break;}}}):a.state!==d.pa.Cc&&a.state!==d.pa.ah&&(r=S.filter(function(a){var f7z;f7z=2;while(f7z!==1){switch(f7z){case 2:return!a.TFa;break;case 4:return~a.TFa;break;f7z=1;break;}}}));S=0<r.length?r:S.slice(0,1);void 0!==B&&(r=q.bD(S,function(a){var X7z;X7z=2;while(X7z!==1){switch(X7z){case 2:return a.R>c[B].R;break;case 4:return a.R>=c[B].R;break;X7z=1;break;}}}),x=0<r?r-1:0===r?0:S.length-1);a.state!==d.pa.Dg&&void 0===x&&(a.state=d.pa.Dg);e7z=23;break;case 48:A.reason&&(y.vo=A.reason,y.aea=A.It,y.Cz=A.Cz,y.Fm=A.Fm,y.Gl=A.Gl);b.ka(B)&&y.R<c[B].R&&(this.U2=g.Ab);a.state!==d.pa.Cc&&a.state!==d.pa.ah?(t=this.Zs(a.buffer,a.state,y,t),(A.dh=t.complete)?A.reason=t.reason:(A.dh=!1,A.ru=t.ru,A.Sz=t.Sz,A.bi=t.bi)):A.dh=!0;a.DK&&(A.Ab=g.Ab,t=a&&a.ox,p=y.V,A.Ai=p&&void 0!==t&&!isNaN(t)&&0<=t&&t<p.length?p.rh(t):g.Ab,A.Frb=y.Da||0,A.hpb=y.gb&&y.gb.Da&&y.gb.Da.Ca||0,A.z4a=g.vl-g.Yc,A.sra=g.wh,A.$w=a.state,A.Dn=a&&a.Dn,A.vHa=u,A.Dyb=h.time.fa());e7z=65;break;case 33:e7z=(A.MD=[],c.forEach(function(a,b){var J7z;J7z=2;while(J7z!==4){switch(J7z){case 2:a===A.Op&&(A.rd=b);a.$ea&&A.MD.push(a.oa);a.$ea=!1;J7z=4;break;}}}),!A.MD.length)?32:52;break;case 32:r=g.vl-g.Yc;p=void 0;x=!1;e7z=29;break;case 41:++y;e7z=44;break;case 64:A.rd=function(a){var h7z;h7z=2;while(h7z!==1){switch(h7z){case 2:return q.bD(c,function(b){var L7z;L7z=2;while(L7z!==1){switch(L7z){case 2:return b===S[a];break;case 4:return b==S[a];break;L7z=1;break;}}});break;}}}(A.rd);e7z=52;break;case 43:e7z=(p=c[y],p.hf&&p.inRange&&!p.Sg)?42:41;break;case 29:e7z=y.YFa&&r>y.VW?28:53;break;case 54:--y;e7z=38;break;case 35:A=this.af[d.pa[a.state]].call(this,y,a,S,x,m,!!p);e7z=34;break;case 65:return A;break;case 63:e7z=l7z===d.pa.Zf?62:61;break;case 42:p.V&&p.V.length||(x=!0,A.MD.push(p.oa));e7z=40;break;case 58:return k.error(f7d+d.pa[a.state]),null;break;case 11:e7z=!(0<=B)?10:20;break;case 21:this.kR=f.GP.Dg;e7z=35;break;case 10:P=r[G-1].R,r=q.bD(c,function(a){var K7z;K7z=2;while(K7z!==1){switch(K7z){case 2:return a.R>P;break;case 4:return a.R<P;break;K7z=1;break;}}}),B=0<r?r-1:0===r?0:c.length-1;e7z=20;break;case 53:x||(A.MD=void 0);e7z=52;break;case 36:p.V&&p.V.length||(x=!0,A.MD.push(p.oa));e7z=53;break;case 23:l7z=a.state;e7z=l7z===d.pa.Dg?22:63;break;case 2:e7z=1;break;case 38:e7z=0<=y?37:53;break;case 59:e7z=l7z===d.pa.ah?35:58;break;case 34:e7z=A.Op?33:64;break;case 28:h4KK.X7d(0);p7z=h4KK.Y7d(21,21);y=A.rd+p7z;e7z=44;break;case 51:return null;break;case 50:this.yC=A.rd;y=c[A.rd];e7z=48;break;case 20:b.T(B)&&(B=this.yC);this.uU(c,function(b){var x7z;x7z=2;while(x7z!==1){switch(x7z){case 2:b.hf&&b.inRange&&!b.Sg&&b.gb&&b.gb.ld?(l!==b.gb&&(l=b.gb,a&&a.$n&&b.gb&&(b.gb.$n=!0),n=Math.floor(m(b.gb,a.buffer,b.track.O.Vt[0])),n=0===n?1:n),b.Da=n):b.Da=void 0;x7z=1;break;}}});a.state===d.pa.Dg&&b.ka(B)&&(a.state=d.pa.Zf);S=c.filter(function(a){var G7z;G7z=2;while(G7z!==1){switch(G7z){case 2:return a&&a.hf&&a.inRange&&!a.Sg;break;}}});S.length||(S=c.filter(function(a){var E7z;E7z=2;while(E7z!==1){switch(E7z){case 2:return a&&a.hf&&!a.Sg;break;case 4:return a||a.hf||-a.Sg;break;E7z=1;break;}}}),S.forEach(function(a){var d7z;d7z=2;while(d7z!==1){switch(d7z){case 2:a.inRange=!0;d7z=1;break;case 4:a.inRange=-3;d7z=5;break;d7z=1;break;}}}));r=S;e7z=27;break;case 52:e7z=!A||null===A.rd?51:50;break;case 13:H=r[G-1].oa;B=q.bD(c,function(a){var A7z;A7z=2;while(A7z!==1){switch(A7z){case 2:return a.oa===H;break;case 4:return a.oa!=H;break;A7z=1;break;}}});e7z=11;break;case 22:this.Y2=this.U2=void 0;e7z=21;break;case 62:this.kR=f.GP.Dg;e7z=35;break;case 61:e7z=l7z===d.pa.Gj?62:60;break;case 14:e7z=0<G?13:20;break;case 39:y=A.rd-1;e7z=38;break;case 44:e7z=y<c.length?43:40;break;}}};a.prototype.Zs=function(a,b,d,c){var S7z;S7z=2;while(S7z!==1){switch(S7z){case 2:return this.af.checkBuffering.call(this,a,b,d,c,this.K);break;}}};a.prototype.Zea=function(a,d,c){var u7z;u7z=2;while(u7z!==1){switch(u7z){case 2:b.T(d)?this.U2=this.Y2=void 0:d.R<c.R&&(this.Y2=a);u7z=1;break;}}};a.prototype.uU=function(a,b){var O7z,d,H7z;O7z=2;while(O7z!==3){switch(O7z){case 5:b(a[d],d,a);O7z=4;break;case 6:b(a[d],d,a);O7z=5;break;O7z=4;break;case 4:--d;O7z=1;break;case 1:O7z=0<=d?5:3;break;case 2:h4KK.z7d(1);H7z=h4KK.Y7d(35,20,15);d=a.length-H7z;O7z=1;break;}}};Object.defineProperties(a.prototype,{lW:{get:function(){var n7z;n7z=2;while(n7z!==1){switch(n7z){case 4:return this.U2;break;n7z=1;break;case 2:return this.U2;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{faa:{get:function(){var W7z;W7z=2;while(W7z!==1){switch(W7z){case 4:return this.Y2;break;W7z=1;break;case 2:return this.Y2;break;}}},enumerable:!0,configurable:!0}});B7z=8;break;}}function a(a,b,d){var j7z,c,d7d;j7z=2;while(j7z!==6){d7d="1SIY";d7d+="bZr";d7d+="NJCp";d7d+="9";switch(j7z){case 5:this.FN=a;this.K=b;d7d;d&&(this.yC=d.yC,this.kR=d.kR);a=a||this.K.jZ;this.af=p.reduce(function(b,d){var s7z;s7z=2;while(s7z!==5){switch(s7z){case 2:b[d]=((t[a]||t[l[d]])[d]||t[l[d]][d]).bind(c);return b;break;}}},{});j7z=6;break;case 2:c=this;j7z=5;break;}}}}();c.F1=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,c){this.track=a;c?(this.Nt=c.Nt,this.Pz=c.Pz,this.caa=c.caa,this.PL=c.PL):this.Pz=this.Nt=void 0;}a.prototype.Zea=function(a){this.Nt=a;};a.prototype.nwb=function(a){this.track=a;};return a;}();c.HVa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(162);a(28);g=function(){function a(a,b){this.Td=a;this.console=b;this.VJ=this.IA=this.lF=0;}a.prototype.Lcb=function(a,c,d,f,g){var h;if(this.Td){h=a.V;if(h){if(1===d)d=h.Bl(this.Td*a.Ra.Va,void 0,!0),h=a.Wh(d),h.gk({start:0,end:this.Td-d*h.j7.SD(a.Ra)}),this.lF=this.Td;else{d=b.Iwa(f,g)+f.u3a*a.Ra.Va;d=c+d;c=Math.ceil(d/a.Ra.Va);d=h.Bl(d,void 0,!0);for(g=f=0;g<d;++g)h=a.Wh(g),f+=h.j7.SD(a.Ra);f=c-f;h=a.Wh(d);h.gk({end:f});this.lF=c;}h.bAa();return h;}}};return a;}();c.CVa=g;},function(g,c,a){var b,f,h,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);g=a(43);f=a(3);h=a(112);q=a(71);a=a(166);d=f.Ej;a=function(a){function c(b,d,c,f,g,h,k){f.responseType=0;c=a.call(this,b,c,"",f,g,d,k)||this;q.ki.call(c,b,f);c.Zaa=d.Zaa;c.$aa=d.$aa;c.Z7=0;return c;}b.__extends(c,a);c.prototype.Sb=function(){this.Rb||(this.Rb=h.xe());};c.prototype.dr=function(){return d.prototype.open.call(this,this.aI,{start:this.offset,end:this.offset+Math.max(this.$aa,Math.floor(this.Zaa*this.aa))-1},this.$H,{},void 0,void 0,void 0);};c.prototype.HI=function(){var a;a=this.Nc||this.Ue;this.Sc||(this.Sc=!0,this.Z7=a);};c.prototype.n3=function(){this.Z7=this.Nc;};c.prototype.o3=function(){};c.prototype.GI=function(){var a;a=this.Nc;this.Rb&&this.Rb.Fv(this.ve,this.Z7,a,{requestId:this.hm(),Zd:this.Db,type:this.M,jB:!0});this.eg=this.Sc=!1;this.ec();};c.prototype.FC=function(){this.ec();};return c;}(a.nB);c.DJa=a;g.Pi(q.ki,a,!1);},function(g,c,a){var b,f,h,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(7);a(3);h=a(62);q=a(14);d=a(211);k=a(71);p=a(218);g=function(a){function c(b,d,f,g,h,m){d=a.call(this,b,g,h,d,m)||this;d.jYa=f;d.gm=void 0;d.F2=c.wB.INIT;d.OKb=g.offset;d.T2=k.ki.prototype.toString.call(d)+" multiple";d.OC(b.url,g.offset,8,0);return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{data:{get:function(){return this.gm;},enumerable:!0,configurable:!0}});c.prototype.oj=function(a){var b,g;this.gm=this.gm?q.wl(this.gm,a.response):a.response;a.mN();switch(this.F2){case c.wB.INIT:b=new DataView(this.gm);g=b.getUint32(0);b=b.getUint32(4);h.jI(b);this.OC(a.url,a.offset+a.aa,g,0);d.mB.prototype.oj.call(this,a);this.F2=c.wB.Gja;break;case c.wB.Gja:b=new DataView(this.gm);g=b.getUint32(this.ona-8);b=b.getUint32(this.ona-4);h.jI(b);this.OC(a.url,a.offset+a.aa,g-8,0);this.F2=c.wB.Eja;d.mB.prototype.oj.call(this,a);break;case c.wB.Eja:d.mB.prototype.oj.call(this,a);break;default:f.assert(!1);}};c.prototype.OC=function(a,b,d,c){a=new p.aP(this.stream,this.jYa,this.T2+" ("+this.xa.length+")",{u:this.u,M:this.M,oa:this.oa,R:this.R,offset:b,aa:d,url:a,location:this.location,Db:this.Db,responseType:c},this,this.Tc,this.L);this.push(a);this.ona=this.xa.reduce(function(a,b){return a+b.aa;},0);};c.wB={INIT:0,Gja:1,Eja:2,name:["INIT","MOOF","MDAT"]};return c;}(d.mB);c.wJa=g;},function(g,c,a){var b,f,h,q,d,k,p,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);f=a(6);g=a(43);h=a(3);q=a(112);d=a(71);k=a(166);p=a(163);t=h.Ej;a=function(a){function c(b,c,f,g,h,k,m){var p;p=this;p=["cache","edit"].filter(function(a,b){return[k,g.Na][b];});p=p.length?"("+p.join(",")+")":"";void 0===g.responseType&&(g.responseType=t.wc&&!t.wc.QF.gy?0:1);p=a.call(this,b,f,p,g,h,c,m)||this;d.ki.call(p,b,g);p.mZa=g.Vkb;p.Hg.on(p,t.Hd.IHb,p.q_a);p.Hg.on(p,t.Hd.HHb,p.p_a);return p;}b.__extends(c,a);c.prototype.Sb=function(a){p.oB.prototype.Sb.call(this,a);this.Rb||!this.Tc.wS&&this.Vb||(this.Rb=q.xe());};c.prototype.dr=function(){var a;a={start:this.offset,end:this.offset+this.aa-1};void 0!==this.Ad&&0<=this.Ad&&void 0!==this.uf&&(this.aI=this.Doa(this.aI,!0),a={start:0,end:-1});return t.prototype.open.call(this,this.aI,a,this.$H,{},void 0,void 0,this.Zma);};c.prototype.HZ=function(){var a,b,d;if(this.complete)return 0;a=this.oEa;b=a.O;if(!a.url)return this.L.warn("updateurl, missing url for streamId:",a.oa,"mediaRequest:",this,"stream:",a),1;d=this.Doa(a.url,!1);return this.url===d||(b.PY(this,a.location,a.ac),this.eO(d))?0:(this.L.warn("swapUrl failed: ",this.gE),2);};c.prototype.HI=function(){this.Sc||(this.Sc=!0,this.Hm=this.track.Hm(),this.qz(this),this.Qk=0,this.Rk=this.Nc);};c.prototype.n3=function(){var a;a=this.Nc;this.pz(this);this.Rk=a;};c.prototype.o3=function(){var a;a=this.Nc;this.lE(this);this.Rk=a;this.Qk=this.ve;};c.prototype.q_a=function(){var a;a=this.Nkb;this.eg=!0;this.Rb&&(this.Rb.DA(a,{requestId:this.hm(),Zd:this.Db,type:this.M}),this.Rb.uda());};c.prototype.GI=function(){var a;a=this.Nc;this.Rb&&this.eg&&this.Rb.FA(h.time.fa(),this.eg,{requestId:this.hm(),Zd:this.Db,type:this.M});this.eg=this.Sc=!1;this.Kq(this);this.Rk=a;this.Qk=this.ve;this.ec();};c.prototype.p_a=function(){this.Rb&&(this.Rb.Fv(this.UOb,this.Nkb,this.Mkb,{requestId:this.hm(),Zd:this.Db,type:this.M}),this.Rb.FA(this.Mkb,this.eg,{requestId:this.hm(),Zd:this.Db,type:this.M}));this.eg=!1;};c.prototype.CXa=function(a,b,d,c){return void 0===a||void 0===b||void 0===d?0:b<d?0:a<d?c:a-d;};c.prototype.Doa=function(a,b){var d,c;if(f.T(this.Ad)||0>this.Ad||f.T(this.uf))return a;d=[];c=this.CXa(this.Ad,this.uf-1,this.mZa,this.Tc.Wnb);d.push("ptsRange/"+this.Ad+"-"+(this.uf-1));0<c&&b&&d.push("timeDelay/"+c);a=a.split("?");b=a[0];for(var c="",g=0;g<d.length;g++)c+="/"+d[g];return a[1]?b+(c+"?"+a[1]):b+c;};return c;}(k.nB);c.sJa=a;g.Pi(d.ki,a,!1);},function(g,c,a){var b,f,h,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(7);g=a(43);h=a(225);a=a(169);q=function(){function a(b,d){this.Ba=[];this.ti=void 0;this.Ub=0;this.L=b;d&&d.length&&(Array.isArray(d)?(this.Ba=d.slice(),this.dI(0,this.Ba.length)):d instanceof a&&(this.Ba=d.Ba.slice(),this.dI(0,this.Ba.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ba.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Ba.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.Ba[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kh:{get:function(){return this.Ba[this.Ba.length-1];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fb:{get:function(){return this.first&&this.first.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xb:{get:function(){return this.kh&&this.kh.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Ub;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ea:{get:function(){return this.first&&this.first.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Kp:{get:function(){return this.first&&this.first.Kp;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{V:{get:function(){return this.Ba;},enumerable:!0,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.Ba.length);return this.Ba[a];};a.prototype.push=function(a){this.Ba.push(a);this.dI(this.Ba.length-1);return this.length;};a.prototype.unshift=function(a){this.Ba.unshift(a);this.dI(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.Ba.length)return this.A3(this.Ba.length-1),this.Ba.pop();};a.prototype.shift=function(){if(0!==this.Ba.length)return this.A3(0),this.Ba.shift();};a.prototype.splice=function(a,d){for(var c,f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];0>a&&(a+=this.Ba.length);0>a&&(a=0);a>this.Ba.length&&(a=this.Ba.length);if(void 0===d||0>d)d=0;d=Math.min(d,this.Ba.length-a);0<d&&this.A3(a,a+d);g=(c=this.Ba).splice.apply(c,b.__spreadArrays([a,d],f));0<f.length&&this.dI(a,a+arguments.length-2);return g;};a.prototype.slice=function(b,d){void 0===b&&(b=0);void 0===d&&(d=this.Ba.length);0>b&&(b+=this.Ba.length);if(b>=this.Ba.length)return new a(this.L);d>this.Ba.length&&(d=this.Ba.length);0>d&&(d+=this.Ba.length);return new a(this.L,this.Ba.slice(b,d));};a.prototype.Gm=function(a){if(0===this.Ba.length||a.fb>=this.xb)this.push(a);else if(a.xb<=this.fb)this.unshift(a);else{for(var b=0,d=this.Ba.length-1,c;b<d-1;)c=Math.floor((d+b)/2),f.assert(c!==d&&c!==b),a.fb>=this.Ba[c].xb?b=c:d=c;f.assert(b!==d);f.assert(this.Ba[b].xb<=a.fb&&this.Ba[d].fb>=a.xb);this.splice(d,0,a);}};a.prototype.remove=function(a){a=this.Ba.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=b.map(function(a){return a.Ba;});return new a(this.L,Array.prototype.concat.apply(this.Ba,b));};a.prototype.forEach=function(a){var b;b=this;this.Ba.forEach(function(d,c){return a(d,c,b);});};a.prototype.some=function(a){var b;b=this;return this.Ba.some(function(d,c){return a(d,c,b);});};a.prototype.every=function(a){var b;b=this;return this.Ba.every(function(d,c){return a(d,c,b);});};a.prototype.map=function(a){var b;b=this;return this.Ba.map(function(d,c){return a(d,c,b);});};a.prototype.reduce=function(a,b){var d;d=this;return this.Ba.reduce(function(b,c,f){return a(b,c,f,d);},b);};a.prototype.indexOf=function(a){return this.Ba.indexOf(a);};a.prototype.find=function(a){var b,d;b=this;return this.Ba.some(function(c,f){d=f;return a(c,f,b);})?this.Ba[d]:void 0;};a.prototype.findIndex=function(a){var b,d;b=this;return this.Ba.some(function(c,f){d=f;return a(c,f,b);})?d:-1;};a.prototype.filter=function(b){var d;d=this;return new a(this.L,this.Ba.filter(function(a,c){return b(a,c,d);}));};a.prototype.uU=function(a){for(var b=this.Ba.length-1;0<=b;--b)a(this.Ba[b],b,this);};a.prototype.iE=function(a){if(this.empty||a<this.mc||a>=this.re)return-1;for(var b=0,d=this.Ba.length-1,c;d>b;){c=Math.floor((d+b)/2);if(a>=this.Ba[c].mc&&a<this.Ba[c].re){d=c;break;}a<this.Ba[c].re?d=c-1:b=c+1;}return d;};a.prototype.ava=function(a){a=this.iE(a);return 0<=a?this.Ba[a]:void 0;};a.prototype.pS=function(a){var b;b=this.Ba[a].xb;for(a+=1;a<this.Ba.length&&b===this.Ba[a].fb;++a)b=this.Ba[a].xb;a<this.Ba.length?void 0===this.ti?this.ti=new h.PG(this,{xb:b}):this.ti.pea(b):void 0===this.ti?this.ti=new h.PG(this,{}):this.ti.A5();};a.prototype.YB=function(a,b){for(var d=a;d<b;++d)this.Ub+=this.Ba[d].aa;void 0===this.ti||0===a?this.pS(0):this.ti.xb===this.xb?this.pS(a-1):this.Ba[a].fb===this.ti.xb&&this.pS(a);};a.prototype.ws=function(a,b){var d;if(0===a)this.ti=void 0,b<this.length&&this.pS(b);else{d=this.ti;d.xb>this.Ba[a-1].xb&&(b<this.length?d.pea(this.Ba[a-1].xb):d.A5());}for(;a<b;++a)this.Ub-=this.Ba[a].aa;};a.prototype.dI=function(a,b){void 0===b&&(b=a+1);this.YB(a,b);};a.prototype.A3=function(a,b){void 0===b&&(b=a+1);this.ws(a,b);};return a;}();c.$Z=q;g.Pi(a.bP,q);},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);g=function(){function a(a,b){this.vc=a;this.gC=b;this.ps();}Object.defineProperties(a.prototype,{length:{get:function(){return this.rv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.rv;},enumerable:!0,configurable:!0}});a.prototype.zdb=function(){return this.pC&&this.pC.get(0);};a.prototype.R3a=function(){return this.bC&&this.bC.get(this.bC.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.vc.length;++b)if(this.mg[b+1]>a)return this.vc[b].get(a-this.mg[b]);};a.prototype.push=function(a){this.vc[this.gC(a)].push(a);this.ps();return this.rv;};a.prototype.shift=function(){var a;if(this.pC){a=this.pC.shift();this.ps();return a;}};a.prototype.pop=function(){var a;if(this.bC){a=this.bC.pop();this.ps();return a;}};a.prototype.unshift=function(a){this.vc[this.gC(a)].unshift(a);this.ps();return this.rv;};a.prototype.Gm=function(a){var b;b=this.gC(a);this.vc[b].Gm(a);this.ps();};a.prototype.remove=function(a){var b;b=this.vc.some(function(b){return b.remove(a);});b&&this.ps();return b;};a.prototype.splice=function(a,c){var l,n,r,G;for(var d,f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];for(var g=[],h,m=a+Math.max(0,c),q=0;q<this.vc.length;++q){l=this.vc[q];n=this.mg[q];r=this.mg[q+1];if(a<r){G=a-n;n=Math.min(m-n,l.length);void 0===h&&0<G&&n<l.length?Array.prototype.push.apply(g,l.splice.apply(l,b.__spreadArrays([G,n-G],f))):(Array.prototype.push.apply(g,l.splice(G,n-G)),void 0===h&&(h=0<q&&0===G?q-1:q));a=r;if(a>=m)break;}}if(f.length&&void 0!==h){for(m=this.gC(f[0]);0<h&&m<h&&this.vc[h].empty;)--h;for(;f.length&&m===h;){this.vc[h].push(f.shift());if(!f.length)break;m=this.gC(f[0]);}for(;f.length&&++h<this.vc.length&&this.vc[h].empty;)for(;f.length&&m===h;){this.vc[h].push(f.shift());if(!f.length)break;m=this.gC(f[0]);}f.length&&(d=this.vc[h]).splice.apply(d,b.__spreadArrays([0,0],f));}this.ps();return g;};a.prototype.find=function(a){var b,d;b=this;return this.vc.some(function(c,f){d=c.find(b.Hy(a,f));return void 0!==d;})?d:void 0;};a.prototype.findIndex=function(a){var d;for(var b=0;b<this.vc.length;++b){d=this.vc[b].findIndex(this.Hy(a,b));if(-1!==d)return d+this.mg[b];}return-1;};a.prototype.indexOf=function(a){var d;for(var b=0;b<this.vc.length;++b){d=this.vc[b].indexOf(a);if(-1!==d)return d+this.mg[b];}return-1;};a.prototype.map=function(a){var b,d;b=this;d=this.vc.map(function(d,c){return d.map(b.Hy(a,c));});return Array.prototype.concat.apply([],d);};a.prototype.reduce=function(a,b){var d;d=this;return this.vc.reduce(function(b,c,f){return c.reduce(d.r1a(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.vc.forEach(function(d,c){d.forEach(b.Hy(a,c));});};a.prototype.uU=function(a){for(var b=this.vc.length-1;0<=b;--b)this.vc[b].uU(this.Hy(a,b));};a.prototype.some=function(a){var b;b=this;return this.vc.some(function(d,c){return d.some(b.Hy(a,c));});};a.prototype.every=function(a){var b;b=this;return this.vc.every(function(d,c){return d.every(b.Hy(a,c));});};a.prototype.kdb=function(a,b){var h,m;function d(b){return b.reduce(function(b,d,c,f){return void 0===d?b:void 0===b?c:0>a(d,f[b])?c:b;},void 0);}for(var c=this,f=this.vc.map(function(){return 0;}),g=this.vc.filter(function(a){return a.empty;}).length;g<this.vc.length;){h=f.map(function(a,b){return a<c.vc[b].length?c.vc[b].get(a):void 0;});m=d(h);b(h[m],this.mg[m]+f[m],this);++f[m];f[m]===this.vc[m].length&&++g;}};a.prototype.move=function(a){return this.remove(a)?(this.Gm(a),!0):!1;};a.prototype.Kwb=function(){var a;if(this.vc[1].length){a=this.vc[1].shift();this.vc[0].push(a);this.ps();}};a.prototype.Mcb=function(a){for(var b=-1,d=0;d<this.vc.length;++d)if(b=a(this.vc[d]),-1!==b){b+=this.mg[d];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.ps=function(){var b;this.rv=0;this.mg=[0];this.bC=this.pC=void 0;for(var a=0;a<this.vc.length;++a){b=this.vc[a];this.rv+=b.length;this.mg.push(this.mg[this.mg.length-1]+b.length);!this.pC&&b.length&&(this.pC=b);b.length&&(this.bC=b);}};a.prototype.Hy=function(a,b){var d,c;d=this;c=this.mg[b];return function(b,f){return a(b,c+f,d);};};a.prototype.r1a=function(a,b){var d,c;d=this;c=this.mg[b];return function(b,f,g){return a(b,f,c+g,d);};};return a;}();c.jLa=g;},function(g,c,a){var b,f,h,q,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);f=a(779);g=a(43);h=a(778);q=a(169);d=a(84);k=a(225);a=function(a){function c(b,c){var f,g;f=this;g=[new h.$Z(b),new h.$Z(b),new h.$Z(b)];f=a.call(this,g,function(a){return a.complete?f.empty||a.fb<=f.g6a?0:1:a.active?1:2;})||this;f.uc=g[0];f.Sc=g[1];f.Ds=g[2];f.An=0;f.V1=0;f.L=b;d.Gr.call(f,c);return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{aa:{get:function(){return this.uc.aa+this.Sc.aa+this.Ds.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{active:{get:function(){return this.Sc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.uc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{atb:{get:function(){return this.An;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Yy:{get:function(){return this.uc.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ji:{get:function(){return this.uc.aa+this.Sc.aa-this.An;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{first:{get:function(){return this.zdb();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kh:{get:function(){return this.R3a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{k7:{get:function(){return!this.uc.empty||this.Ds.empty||this.Sc.empty?this.first:this.Sc.fb<this.Ds.fb?this.Sc.first:this.Ds.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kza:{get:function(){return this.Ds.empty||this.Sc.empty?this.kh:this.Sc.xb<this.Ds.xb?this.Ds.kh:this.Sc.kh;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jva:{get:function(){return this.Ds.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ea:{get:function(){return this.first&&this.first.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{fb:{get:function(){return this.k7&&this.k7.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{xb:{get:function(){return this.kza&&this.kza.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Kp:{get:function(){return this.first&&this.first.Kp;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{f6a:{get:function(){return this.uc.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Zib:{get:function(){return this.uf-this.e6a||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{g6a:{get:function(){return this.uc.empty?this.fb:this.uc.xb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{e6a:{get:function(){return this.uc.empty?this.Ad:this.uc.uf;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{msa:{get:function(){return this.uc.empty?this.mc:this.uc.re;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Du:{get:function(){return this.Ds.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Dn:{get:function(){return this.Sc.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{k6a:{get:function(){return this.uc.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{IY:{get:function(){return this.uc.concat(this.Sc);},enumerable:!0,configurable:!0}});c.prototype.YB=function(a){var b;a.uq?++this.V1:this.An+=a.ve||0;if(this.empty)this.ti=new k.PG(this,{});else if(a.fb!==this.xb&&a.fb===this.ti.xb){b=a.xb;this.kdb(function(a,b){return a.fb-b.fb;},function(a){b=a.fb===b?a.xb:b;});b===this.xb&&this.ti.A5();}a.CFa(this);};c.prototype.ws=function(a){a.uq?--this.V1:this.An-=a.ve;this.empty?this.ti=void 0:a.fb!==this.xb&&a.xb<this.ti.xb&&a.fb>=this.ti.fb&&this.ti.pea(a.fb);a.Xra();};c.prototype.push=function(b){this.YB(b);return a.prototype.push.call(this,b);};c.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.ws(b);return b;};c.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.ws(b);return b;};c.prototype.unshift=function(b){this.YB(b);return a.prototype.unshift.call(this,b);};c.prototype.Gm=function(b){this.YB(b);a.prototype.Gm.call(this,b);};c.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.ws(b);return!0;};c.prototype.splice=function(d,c){for(var f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];g=a.prototype.splice.apply(this,b.__spreadArrays([d,c],f));f.forEach(this.YB.bind(this));g.forEach(this.ws.bind(this));return g;};c.prototype.xsb=function(a){var b;b=this;this.reduce(function(d,c,f){c.uq&&(a&&a(c,f,b),0===d.length||d[0].end!==f?d.unshift({start:f,end:f+1}):d[0].end+=1);return d;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};c.prototype.iE=function(a){return this.Mcb(function(b){return b.iE(a);});};c.prototype.ava=function(a){a=this.iE(a);return-1!==a?this.get(a):void 0;};c.prototype.uvb=function(a){var d;for(var b=[];a<this.length;){d=this.get(a);d&&b.push(d);a++;}return b;};c.prototype.eu=function(a){this.move(a);this.qz(a);};c.prototype.LM=function(a){this.An+=a.ve-a.Qk;this.lE(a);};c.prototype.oj=function(a){for(this.An+=a.ve-a.Qk;this.Sc.first&&this.Sc.first.complete&&(this.uc.empty?this.Sc.first===this.k7:this.Sc.first.fb===this.uc.xb);)this.Kwb();this.Kq(a);};c.prototype.IM=function(a,b,d){this.An-=a.ve;++this.V1;this.yU(a,b,d);};return c;}(f.jLa);c.rJa=a;g.Pi(d.Gr,a,!1);g.Pi(q.bP,a);},function(g,c,a){var b,f,h,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(162);f=a(13);h=a(210);q=a(14);a(7);d=a(28);a(3);g=function(){var t7d;t7d=2;while(t7d!==13){switch(t7d){case 2:a.prototype.vna=function(a){var V7d;V7d=2;while(V7d!==1){switch(V7d){case 2:return a&&a.u===this.u&&a.wva===this.wva?!0:!1;break;}}};a.prototype.DXa=function(a){var v7d,b,d,c;v7d=2;while(v7d!==7){switch(v7d){case 4:c=void 0!==b.qx?b.qx:a&&a.qx;a=a&&a.zq;Array.isArray(a)&&Array.isArray(b.zq)?a=a.filter(function(a){var u7d,Q7d;u7d=2;while(u7d!==1){switch(u7d){case 4:return!0==b.zq.indexOf(a);break;u7d=1;break;case 2:h4KK.Y1H(0);Q7d=h4KK.E1H(1);return Q7d!==b.zq.indexOf(a);break;}}}):Array.isArray(b.zq)?a=b.zq:Array.isArray(a)||(a=[]);return-1!==a.indexOf(this.profile)?{pva:!!d,wEa:!d,Jea:!d||!c}:{pva:!1,wEa:!1,Jea:!c};break;case 2:b=this.Tc;d=void 0!==b.rx?b.rx:a&&a.rx;v7d=4;break;}}};a.prototype.pna=function(a,b,d){var y7d,c,f,g,m1H,t1H;y7d=2;while(y7d!==13){m1H="def";m1H+="a";m1H+="ult";t1H="def";t1H+="a";t1H+="u";t1H+="l";t1H+="t";switch(y7d){case 3:y7d=(c=(void 0!==b?b:g.CL)||0,b=g.nya&&g.nya[this.stream.profile])?9:8;break;case 9:f=b.name,c=void 0!==b[d]?b[d]:void 0!==b[t1H]?b[m1H]:c;y7d=8;break;case 4:y7d=void 0!==g.CL&&null!==g.CL?3:14;break;case 2:g=this.Tc;a=this.DXa(a);y7d=4;break;case 8:a.pr=a.Jea?void 0!==c?c:1:0;a.zda=void 0!==f?f:a.wEa;return a;break;case 14:a.Jea=!1;y7d=8;break;}}};t7d=4;break;case 4:a.prototype.EXa=function(a){var H7d,J1H;H7d=2;while(H7d!==1){J1H="onE";J1H+="n";J1H+="try";switch(H7d){case 2:return this.pna(a,this.Tc.oya,J1H);break;case 4:return this.pna(a,this.Tc.oya,"");break;H7d=1;break;}}};a.prototype.FXa=function(a){var h7d,C1H;h7d=2;while(h7d!==1){C1H="o";C1H+="nE";C1H+="x";C1H+="it";switch(h7d){case 2:return this.pna(a,this.Tc.pya,C1H);break;case 4:return this.pna(a,this.Tc.pya,"");break;h7d=1;break;}}};a.prototype.iXa=function(a,c,f){var W7d,h,k,m,p,q,t,l,u,n;W7d=2;function g(a){var P7d,b,d;P7d=2;while(P7d!==9){switch(P7d){case 2:a=Math.floor(Math.min(t,a)/p.Ud);b=p.Ud*a;h4KK.Y1H(1);d=h4KK.E1H(b,u);P7d=3;break;case 3:return{qo:a,Qn:b,DNb:d,oBa:0<a&&d<q/1E3};break;}}}while(W7d!==18){switch(W7d){case 4:h=!1;a=b.Iwa(k,a);p=this.Ra;W7d=8;break;case 8:q=p.ea;t=this.Qn;l=c?c.VM:this.NX-2*p.Ud;W7d=14;break;case 11:h||(n=l-d.Xa.XAa(a,q),n=new d.Xa(n-this.yva,q),c=g(k.Td?Infinity:Math.max(0,n.Ud)),n=c.qo,(c=c.oBa)&&0<n&&!k.Td&&--n);this.gk({start:0,end:n});n<(k.Snb||1)&&(m=!1);return{Mwb:m,emb:h};break;case 2:k=this.Tc;m=!0;W7d=4;break;case 14:u=l-this.yva;f=k.ndb||f;c&&!f&&(h=g(u),n=h.qo,h=h.oBa);W7d=11;break;}}};a.prototype.aD=function(a,b,d,c,g,h){var r7d,k,m;r7d=2;while(r7d!==6){switch(r7d){case 5:r7d=this.xi?4:3;break;case 2:m=this.Tc;r7d=5;break;case 4:return{Z:!1};break;case 8:this.mN();return{Z:a,Jm:k};break;case 3:this.zva?a=a.appendBuffer(q.wl(this.eua),q.Jl(this)):this.Na&&!this.Mt?(k=this.lYa(a,b,d,g,h),a=k.Z,k=k.Jm):this.Na&&this.Mt?(k=this.mYa(a,b,c,g,h),a=k.Z,k=k.Jm):a=this.M===f.Fa.AUDIO&&m.mr&&d&&this.tx&&d.re>=this.re&&this.uf-this.tx<this.tx-this.Ad?!0:a.appendBuffer(this.response,q.Jl(this));this.xi=!0;r7d=8;break;}}};t7d=7;break;case 7:a.prototype.lYa=function(a,b,d,c,g){var G7d,k,m,p,t,p1H,O1H;G7d=2;while(G7d!==6){p1H=" f";p1H+="ro";p1H+="m ";p1H+="[ ";O1H="As";O1H+="eFragmentMediaRequest";O1H+=": Fragment edi";O1H+="t faile";O1H+="d for ";switch(G7d){case 2:m={pr:0};k=!1;t=!0;this.M===f.Fa.AUDIO&&d&&(c?g&&this.Zta():this.vna(d)?d.Na&&this.Na&&this.Na.start!==d.Na.end&&this.gk({start:d.Na.end}):(m=this.EXa(b),d.re===this.mc&&(m.pr=0)));G7d=9;break;case 7:return{Z:k,Jm:p};break;case 9:0>=this.duration&&(t=!1,k=!0);t&&(this.Na&&(0<this.Na.start||m.pr)?(k=new h.TP(this.stream,this.response),(b=k.cEa(this.Na.start,this.kF,m.pr,m.zda))?(k=a.appendBuffer(q.wl(b.pg),q.Jl(this)),p=this.KR(m),this.yR(b.pg)):(this.L.error(O1H+this.toString()+p1H+this.nw+"-"+this.AU+"]"),k=!0)):k=a.appendBuffer(this.response,q.Jl(this)));G7d=7;break;}}};a.prototype.mYa=function(a,b,d,c,g){var F7d,k,m,p,t,A1H,B1H;F7d=2;while(F7d!==6){A1H=" ";A1H+="f";A1H+="r";A1H+="om [ ";B1H="AseFragmentMediaRe";B1H+="qu";B1H+="est: Frag";B1H+="ment e";B1H+="dit failed for ";switch(F7d){case 2:k=this.Tc;p={pr:0};F7d=4;break;case 9:m&&0===this.duration&&(m=!1);m?this.Na&&this.Na.end<this.VK||p.pr?(m=new h.TP(this.stream,this.response),(m=m.gEa(this.Na&&this.Na.end,this.ea,p.pr,p.zda))?(a=a.appendBuffer(q.wl(m.pg),q.Jl(this)),t=this.KR(p),this.yR(m.pg)):(this.L.error(B1H+this.toString()+A1H+this.nw+"-"+this.AU+"]"),a=!0)):a=a.appendBuffer(this.response,q.Jl(this)):a=!0;return{Z:a,Jm:t};break;case 4:m=!0;this.M===f.Fa.AUDIO&&(c?g&&(this.sab(),m=0<this.Na.end):this.vna(d)?d.Na&&0!==d.Na.start?this.gk({start:0,end:d.Na.start}):m=!1:(p=this.FXa(b),k.mr||(b=this.iXa(b,d,p.pva),(m=b.Mwb)&&b.emb&&!p.zda&&(p.pr=0))));F7d=9;break;}}};return a;break;}}function a(){var j7d,h1H;j7d=2;while(j7d!==1){h1H="1";h1H+="S";h1H+="IYbZrNJC";h1H+="p9";switch(j7d){case 4:"";j7d=9;break;j7d=1;break;case 2:h1H;j7d=1;break;}}}}();c.DCb=g;c["default"]=new g();},function(g){var c,a,b,f;c={name:"heaac-2-dash reset sample",profile:53,sl:2,sampleRate:24E3,duration:1024,vu:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,sl:2,sampleRate:24E3,duration:1024,vu:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,sl:6,sampleRate:48E3,duration:1536,vu:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,sl:2,sampleRate:48E3,duration:1536,vu:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.P={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":c,"heaac-2hq-dash":c},"heaac-2-dash":c,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":f};},function(g,c,a){var b,f,h,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(388);f=a(387);h=a(224);q=a(385);g=function(){function a(a,b){this.stream=a;this.view=b instanceof ArrayBuffer?new DataView(b):new DataView(b.data,b.offset,b.length);}a.prototype.parse=function(a){var d;d=new q.zha(this.view.byteLength);this.Tf=new b.l_(f.tM.Lc,d,this.view,h.console,{fca:!0});a=this.Tf.parse(a);this.Lc=this.Tf.Lc;return a.done;};return a;}();c.wRa=g;},function(g,c,a){var b,f,h,q,d,k,p,t,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(13);g=a(3);h=a(14);a(7);q=a(210);d=a(210);k=a(211);p=a(71);t=a(218);l=g.Ej;a=function(a){function c(b,d,c,g,h,k,m){var q,u;g=a.call(this,b,c,g,k,m)||this;h=p.ki.prototype.toString.call(g)+(h?"(cache)":"");q={offset:c.offset,aa:c.rba,responseType:0};g.push(new t.aP(b,d,h+"(moof)",q,g,k,m));q={offset:c.offset+q.aa+8,aa:c.aa-(q.aa+8),responseType:l.wc&&!l.wc.QF.gy?0:1};if(g.M===f.Fa.VIDEO&&g.Na){if(0<g.Na.start){if(u=g.dva(g.Na.start))q.offset=c.offset+u,q.aa=c.aa-u;}else g.Na.end<g.VK&&(u=g.dva(g.Na.end))&&(q.aa-=c.aa-u);}g.push(new t.aP(b,d,h+"(mdat)",q,g,k,m));return g;}b.__extends(c,a);c.prototype.aD=function(a){var b,c;if(this.xi)return{Z:!0};if(!this.Fz())return{Z:!1};c=!1;if(this.zva)c=a.appendBuffer(h.wl(this.eua),h.Jl(this));else if(this.Na&&0<this.Na.start){b=new d.TP(this.stream,this.xa[0].response);if(b=b.cEa(this.Na.start,this.ea))c=a.appendBuffer(h.wl(b.pg),h.Jl(this)),this.yR(b.pg);b=this.KR();}else if(this.Na&&this.Na.end<this.VK){b=new d.TP(this.stream,this.xa[0].response);if(b=b.gEa(this.Na.end,this.ea))c=a.appendBuffer(h.wl(b.pg),h.Jl(this)),this.yR(b.pg);b=this.KR();}else c=a.appendBuffer(this.xa[0].response,h.Jl(this));c&&(c=a.appendBuffer(q.kmb(this.xa[1].aa),h.Jl(this)))&&(c=a.appendBuffer(this.xa[1].response,h.Jl(this)));this.xi=c;this.Itb();return{Z:c,Jm:b};};return c;}(k.mB);c.pJa=a;},function(g,c,a){var b,f,h,q,d,k,p,t,l,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(7);h=a(6);q=a(212);d=a(780);k=a(777);p=a(776);t=a(775);g=a(84);l=a(3);n=l.Promise;a=function(a){function c(b,d,c,f,g,h){b=a.call(this,b)||this;b.K=d;b.L=c;b.vv=f;b.Ic=g;b.dg=h;b.Vd=b.L.error.bind(b.L);b.Qa=b.L.warn.bind(b.L);b.Zi=b.L.trace.bind(b.L);b.ppa();return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{console:{get:function(){return this.L;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{M:{get:function(){return this.dg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Xd:{get:function(){return this.Ic;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{SA:{get:function(){return 0<this.EA;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wea:{get:function(){return!this.oI;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{EA:{get:function(){return this.xa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Du:{get:function(){return this.xa.Du;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ck:{get:function(){return this.xa.msa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Sk:{get:function(){return void 0===this.xa.mc?0:this.xa.re-this.xa.mc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{um:{get:function(){return{aa:this.xa.Yy,Va:Math.max(this.xa.msa-this.xa.mc,0)||0};},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uD:{get:function(){return this.xa.f6a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Yy:{get:function(){return this.xa.Yy;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{v4:{get:function(){return this.xa.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Xw:{get:function(){return this.IYa();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{gca:{get:function(){return this.xa.Zib;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uV:{get:function(){return this.xa.length>this.xa.Du;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Dn:{get:function(){return this.xa.Dn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{xCa:{get:function(){return this.xa.length-this.xn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return this.xa;},enumerable:!0,configurable:!0}});c.prototype.Rh=function(){this.xa.forEach(function(a){a.abort();a.ec();});this.ppa();};c.prototype.a9a=function(a,b,d,c){var g,m;g=this.K;h.T(c)||(b.location=c.location,b.Db=c.ac,b.mea=c.vo);m=a.O.SY;m&&(b.TY=m.wm({EJ:a.kp(this.dg),kX:g.$ab?g.kX:void 0,aHa:String(l.time.fa()),nT:g.Nab?a.O.Vt[this.dg]:void 0}));f.assert(!b.Vn);g.Zab?a=new p.wJa(c,g,d.track,b,this.xa,this.L):c.O.aU(this.dg)?(a=new k.sJa(c,g,d.track,b,this.xa,!1,this.L),g.qua&&(b=new t.DJa(c,g,d.track,b,this.xa,!1,this.L),b.Sb(this),b.dr())):a=q.a_.create(c,g,d.track,b,this.xa,!1,this.L);a.Sb(this);this.ZC(a);return a;};c.prototype.v2a=function(a){var b;a.Sb(this);a.s4=!0;this.ZC(a);b=n.resolve();a.complete?(this.m2(a),this.vv.ABa(a.stream,a.mc,a.Ad),b=this.wO(),this.Kq(a)):(a.active&&this.qz(a),a.TDa&&this.pz(a));return b;};c.prototype.ZC=function(a){this.xa.Gm(a);this.m2(a);a.Mt&&(this.oI=!1);};c.prototype.wO=function(){var a,b,d,c;b=this.dg;d=this.Ic;c=n.resolve();if(!d.active||!d.sya(b)||this.xn===this.xa.length)return c;for(var f=this.K.Pmb,g=0;this.xn<this.xa.length;){if(a=this.xa.get(this.xn)){if(this.xa.jva&&this.xa.jva.fb<a.fb)break;if(!a.Fz())break;d.pgb(b).I4(a);this.tva(a);++g;h.ka(this.mc)||(this.mc=a.mc);}++this.xn;if(!h.T(f)&&g>=f)break;}return c;};c.prototype.Zsb=function(a){var c;for(var b,d=0;d<this.xa.length;++d){c=this.xa.get(d);c&&a<c.re&&(h.T(b)&&(b=d),c.xi=!1);}h.T(b)||(this.xn=b);return this.wO();};c.prototype.oY=function(){this.S_a();};c.prototype.bN=function(a,b){var d,c,f,g,h;d=this;c=this.K;f=!1;g=0;h=this.xa.some(function(h){if(a<h.re)return f&&d.m2(h),!0;++g;h.xi||(d.Qa("pruning unappended request:",h&&h.toString()),c.Nf&&d.vv.Hi("prune pts:"+a+" unappended request:"+(h&&h.toString())),h.e8&&(d.oI=!1,f=!0),d.WWa(h,b)||d.Vd("MediaRequest.abort error:",h.Uh));});0<g&&(this.xa.splice(0,g),this.xn-=Math.min(g,this.xn));return h;};c.prototype.bV=function(a){var b,d,c;b=this.K;d=this.xa;h.ka(d.mc)&&(null===a.mc||d.mc<a.mc)&&(a.mc=d.mc);c=this.Ck;void 0!==c&&null===a.Ck&&(a.Ck=c);c=d.re;void 0!==c&&(null===a.zF||c>a.zF)&&(a.zF=c);a.Ji+=d.Ji;a.wh=b.Lea?a.wh+d.atb:a.wh+d.Yy;Array.prototype.unshift.apply(a.V,d.IY.V);};c.prototype.Hq=function(a){if(this.xa.length&&(a=this.xa.ava(a)))return a;};c.prototype.Vp=function(){var a,b;a=this;b=[];this.xa.forEach(function(d){var c;c=d.HZ();1===c?b.push(d):2===c&&a.Xd.O.ci("swapUrl failure");});return b;};c.prototype.Mi=function(a){return this.K.kN?this.Zsb(a):n.resolve();};c.prototype.KM=function(a){a.Hz&&a.Fz()&&this.wO();this.pz(a);};c.prototype.oj=function(a){a.Hz&&!a.xi&&this.wO();this.Kq(a);};c.prototype.y4=function(a){var b,d,c;b=1===this.dg?"v_":"a_";d=this.xa;c=d.iE(a);a=0<=c?d.get(c):void 0;return(d=0<=c&&c+1<d.length?d.get(c+1):void 0)&&a?a.re!==d.mc?b+"rg":a.complete&&d.complete?b+"uk":b+"fd":b+"rm";};c.prototype.IYa=function(){return this.xa.Dn+this.xa.Du;};c.prototype.ppa=function(){this.xa=new d.rJa(this.L,this);this.xn=0;this.mc=null;this.oI=!1;};c.prototype.m2=function(a){this.oI?a.e8=!1:this.oI=a.e8=!0;};c.prototype.WWa=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};c.prototype.S_a=function(){var a,b;a=this;b=0;this.xa.xsb(function(d,c){c<a.xn&&++b;});this.xn-=b;};return c;}(g.Gr);c.IUa=a;},function(g,c,a){var b,f,h,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(13);f=a(112);h=a(3);q=a(14);g=function(){function a(a,b,d,c,f){this.IT=a;this.fw=b;this.K=d;this.L=c;this.dg=f;}a.prototype.Tob=function(a){a={type:"requestCreated",request:a};q.Ha(this.fw,a.type,a);};a.prototype.ABa=function(a,b,d){var c,f;c=this.dg;f=this.IT.ur;f.Zea(a);1===c&&this.K.yY&&(void 0===f.PL?f.PL=h.time.fa():h.time.fa()-f.PL>this.K.yY&&(a.R!==f.caa&&(h.storage.set("vb",a.R),f.caa=a.R),f.PL=h.time.fa()));f.Pz&&f.Pz===a||(this.IT.mG.Zea(b,f.Pz,a),f.Pz=a,b=0,a.gb&&a.gb.ld&&a.gb.Da&&(b=a.gb.Da.Ca),a={type:"streamSelected",nativetime:h.time.fa(),mediaType:c,streamId:a.id,manifestIndex:a.O.Pa,trackIndex:a.track.dJ,streamIndex:a.uh,movieTime:d,bandwidth:b,longtermBw:b,rebuffer:0},q.Ha(this.fw,a.type,a));};a.prototype.Pob=function(a,d,c){var f,g,h,k,m;f=d.O;g=f.Wj;h=this.IT.ur;k=f.okb(d);m=k.O$;k=k.pkb;c&&d.ac&&!h.OL?(k=b.jg.Yr,d.vo=b.jg.name[k],this.zBa(f.Pa,a,d.ac,d.vo,d.location,d.R),h.OL=d.ac):!c&&d.ac&&d.ac!==h.OL&&(k=k?void 0===h.OL?b.jg.Yr:g.XF===b.jg.j1?b.jg.TUa:b.jg.f_:b.jg.SUa,d.vo=b.jg.name[k],this.zBa(f.Pa,a,d.ac,d.vo,d.location,d.R),h.OL=d.ac);h.QE||(k={type:"logdata",target:"startplay",fields:{}},this.dg===b.Fa.AUDIO?k.fields.alocid=d.location:this.dg===b.Fa.VIDEO&&(k.fields.locid=d.location),q.Ha(this.fw,k.type,k));c&&d.location&&!h.QE?(k=b.jg.Yr,d.vo=b.jg.name[k],this.xBa(f.Pa,a,d.location,d.oaa,d.ac,d.MA,d.vo,d.er),h.QE=d.location):!c&&d.location&&d.location!==h.QE&&(k=m?void 0===h.QE?b.jg.Yr:g.XF===b.jg.j1?b.jg.OPa:b.jg.f_:b.jg.NPa,d.vo=b.jg.name[k],this.xBa(f.Pa,a,d.location,d.oaa,d.ac,d.MA,d.vo,d.er),d.er=void 0,h.QE=d.location);this.K.Hp||(d.gza=d.location,d.iza=d.ac);};a.prototype.zBa=function(a,d,c,g,h,m){var k,p;k=this.dg===b.Fa.VIDEO?"video":"audio";p=f.xe().get(!1);a={type:"serverSwitch",manifestIndex:a,segmentId:d,mediatype:k,server:c,reason:g,location:h,bitrate:m,confidence:p.ld};p.ld&&(a.throughput=p.Da.Ca);this.IT.ur.OL&&(a.oldserver=c);q.Ha(this.fw,a.type,a);};a.prototype.xBa=function(a,d,c,f,g,h,m,l){q.Ha(this.fw,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:d,mediatype:this.dg===b.Fa.VIDEO?"video":"audio",location:c,locationlv:f,serverid:g,servername:h,selreason:m,seldetail:l});};a.prototype.l3=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.ax||q.Ha(this.fw,b.type,b);};a.prototype.Hi=function(a){a={type:"managerdebugevent",message:"@"+h.time.fa()+", "+a};q.Ha(this.fw,a.type,a);};return a;}();c.BTa=g;},function(g,c,a){var b,f,h,q,d,k,p,t,l,n,r,x,H,G,P,S;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);f=a(373);h=a(26);q=a(14);d=a(372);k=a(756);p=a(3);t=a(7);l=a(161);n=a(754);r=a(753);x=a(750);H=a(749);G=a(747);P=a(745);S=a(744);g=function(){function a(a,d,c,g,h,m){this.L=a;this.qj=d;this.weight=c;this.config=g;this.mL=h;this.QJ=m;this.sq=f.Dx.CLOSED;this.navigator=new H.cUa(d);this.Ehb=G.x6a(this.navigator,g.rrb);this.tf=new P.WTa();this.Fhb=new r.$Na(this.config,q.Xa.jp(this.config.MW),{parent:function(){}});this.events=new b.EventEmitter();this.Uxb=new k.IVa(a,this.events);this.mD=new S.nKa();this.rN=[];this.console=new p.Console("ASEJS_PLAYGRAPH","asejs");}a.c9a=function(a,b,d){return{OS:a.OS,PS:a.PS,vkb:function(){return a.Gzb(b,d);}};};Object.defineProperties(a.prototype,{state:{get:function(){return this.sq;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sr:{get:function(){return this.Apa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{lD:{get:function(){return this.mD.state;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$w:{get:function(){return this.mD.$w;},enumerable:!0,configurable:!0}});a.prototype.open=function(){if(this.sq!==f.Dx.CLOSED)return!1;this.sq=f.Dx.OPEN;return!0;};a.prototype.close=function(a){this.sq!==f.Dx.CLOSED&&(this.Era(),this.sq=f.Dx.CLOSED,a&&this.ci(a.Cua));};a.prototype.lvb=function(a){n.qkb(this.qj,a)&&(void 0===this.Uqa||void 0===this.jIa?this.ci("No track selectors available"):(this.Apa=n.Eob(a),this.gtb(),this.mD.fG(this.Apa),this.jda(),this.QJ()));};a.prototype.Era=function(){this.tf.reset();this.rN.forEach(function(a){return a.yl();});this.rN=[];};a.prototype.Ol=function(a){var b;t.assert(a);b=this.navigator.ij(a.ib);b=this.mL(b.wa);t.assert(void 0!==b,"Missing viewable corresponding to rebuffer graph position");b.Ol();this.mD.Ol(a);b.rX();this.QJ();};a.prototype.Pqa=function(a){if(void 0!==this.X){if(this.X===a)return;this.X.Eta(this);this.X=void 0;}a.o3a(this)?this.X=a:this.ci("player in use");};a.prototype.C$a=function(){void 0!==this.X&&(this.X.Eta(this),this.X=void 0);};a.prototype.eV=function(){var b,d,c,f;b=this;f=(null===(c=null===(d=this.X)||void 0===d?void 0:d.position)||void 0===c?void 0:c.offset)||q.Xa.jp(0);return this.tf.reduce(function(d,c){var g,h,k;g=0;for(c=c.Gwa();g<c.length;g++){h=c[g];k=b.Fhb.wvb(b.lD.value,f,h);k&&d.push(a.c9a(h,k,b.rN[h.M]));}return d;},[]);};a.prototype.ci=function(a,b,d,c,f,g){this.Uxb.ci(a,b,d,c,f,g);};a.prototype.jda=function(){var a,b;a=this.rgb();if(void 0!==a){a=this.navigator.ij(a);b=this.seb();a=x.jda(this.navigator,this.Ehb,a,b,q.Xa.jp(this.config.q4a));this.tf.Tzb(a,this.s8a.bind(this));}};a.prototype.rgb=function(){var a,b,d;return b=null===(a=this.X)||void 0===a?void 0:a.position.ib,null!==b&&void 0!==b?b:null===(d=this.sr)||void 0===d?void 0:d.ib;};a.prototype.seb=function(){return this.tf.filter(function(a){return a.complete;}).map(function(a){return a.na.id;});};a.prototype.s8a=function(a){var b,c,f,g,h;c=this.navigator.ij(a);f=this.navigator.Keb(c);t.assert(2>f.length,"Playgraph loops are not yet supported");f=(f=0<f.length?this.tf.feb(f[0].id):void 0)&&f[0];g=0;f&&(g=f.ga+f.zd-c.jG.Va);h=this.mL(c.wa);t.assert(void 0!==h);a=a===(null===(b=this.sr)||void 0===b?void 0:b.ib)?c.jG.add(this.sr.offset):c.jG;return new d.m_(this.config,this.console,h,this.events,c,this.yvb(h),c.jG,a,g,function(){return 0;},f,[]);};a.prototype.gtb=function(){var a,b,d,c,f;a=this;t.assert(this.sr);d=l.Yp.xe;c=this.navigator.ij(this.sr.ib);f=null===(b=this.mL(c.wa))||void 0===b?void 0:b.u;this.rN.forEach(function(a){return a.yl();});this.rN=h.ag.map(function(b){return d.AD(b,f,!0,!1,{},a.config);});};a.prototype.yvb=function(a){var b,d;t.assert(this.Uqa,"Expected audio track selector to be defined");t.assert(this.jIa,"Expected video track selector to be defined");b=this.Uqa.xvb(a.sa,a.sa.LS);b=a.getTracks(0)[b];d=this.jIa.xvb(a.sa,a.sa.PO);a=a.getTracks(1)[d];return[b,a];};return a;}();c.zJa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);f=a(7);g=function(){function a(a){var d;d=this;this.X=a;this.events=new b.EventEmitter();this.BK=[];this.X.on("underflow",function(){return d.Ol();});}Object.defineProperties(a.prototype,{position:{get:function(){return{ib:"s0",offset:this.X.Yc};},enumerable:!0,configurable:!0}});a.prototype.rea=function(a){-1===this.BK.indexOf(a)&&this.BK.push(a);};a.prototype.dwb=function(a){a=this.BK.indexOf(a);-1!==a&&this.BK.splice(a,1);};a.prototype.Fjb=function(a){return-1!==this.BK.indexOf(a);};a.prototype.TCa=function(a){if(void 0!==this.Pe)return{ib:this.Pe.qj.ih,offset:a};};a.prototype.oxa=function(a){if(void 0!==this.Pe&&a.ib===this.Pe.qj.ih)return a.offset;};a.prototype.Eta=function(a){f.assert(this.Pe===a);this.Pe.mD.O$a();this.Pe=void 0;};a.prototype.o3a=function(a){if(void 0!==this.Pe)return!1;this.Pe=a;this.Pe.mD.Oab(this.events);return!0;};a.prototype.Ol=function(){f.assert(this.Pe);this.Pe.Ol(this.TCa(this.X.Yc));};return a;}();c.xJa=g;},function(g,c,a){var f,h;function b(a){this.K=a;this.AI();}f=a(6);h=a(3);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.Wc();h.storage.set("nh",a);};b.prototype.yxb=function(){this.Ey||(this.Ey=!0,this.vs=h.time.fa());};b.prototype.Kxb=function(){var a;if(this.Ey){a=h.time.fa();this.Bs+=a-this.vs;this.vs=a;this.Ey=!1;this.zI=null;}};b.prototype.qya=function(a,b){this.Ey&&(b>this.vs&&(this.Bs+=b-this.vs,this.vs=b),null===this.zI||a>this.zI)&&(a=b-a,this.tC.push([this.Bs-a,a]),this.W0a(),this.zI=b);};b.prototype.W0a=function(){var a;a=this.Bs-this.K.qob;this.tC=this.tC.filter(function(b){return b[0]>a;});};b.prototype.AI=function(){var a;a=h.storage.get("nh");this.I3(a)||(this.vs=h.time.fa(),this.Bs=0,this.Ey=!1,this.zI=null,this.tC=[]);};b.prototype.I3=function(a){if(!(a&&f.has(a,"t")&&f.has(a,"s")&&f.has(a,"i")&&f.ka(a.t)&&f.ka(a.s)&&f.isArray(a.i)))return!1;this.vs=h.time.Oba(1E3*a.t);this.Bs=1E3*a.s;this.Ey=!1;this.tC=a.i.map(function(a){return[1E3*a[0],a[1]];});this.zI=null;return!0;};b.prototype.Wc=function(){return this.Ey?{t:h.time.now()/1E3|0,s:(this.Bs+(h.time.fa()-this.vs))/1E3|0,i:this.tC.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.qba(this.vs)/1E3|0,s:this.Bs/1E3|0,i:this.tC.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.P=b;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(85);g=function(){function a(){}a.prototype.Fpb=function(a,d){var c;c=this;return 0<d.length?b.__spreadArrays(d).sort(f.b6a(function(b){return c.BXa(b,a);})).some(function(a){return a.vkb();}):!1;};a.prototype.BXa=function(a,b){return a.PS.lessThan(b)?a.OS.Va:a.PS.Fd(b).add(a.OS).Va;};return a;}();c.aOa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});},function(g,c,a){var p,t,l,n,r,x,H;function b(a){var d,c,f;a=a.parent;d=!1;if(a&&a.children){c={};c[x.Fj]=[];c[x.Ri]=[];c[x.TEMPORARY]=[];f=a.children;f.forEach(function(a){a&&c[a.$d].push(a);});0<c[x.Fj].length||(c[x.Ri].length===f.length?a.$d!==x.Ri&&(a.$d=x.Ri,r.error("PERM failing :",l.$f.name[a.jz]+" "+a.id),d=!0):(a.$d===x.Fj&&(a.$d=x.TEMPORARY,r.error("TEMP failing :",l.$f.name[a.jz]+" "+a.id),d=!0),c[x.TEMPORARY].forEach(function(a){a.$d=x.Fj;})),d&&b(a));}}function f(a){var d;for(var b=[];a;a=a.parent)switch(a.jz){case l.$f.fy:d=a;b.unshift(d.id+"("+d.name+")");break;case l.$f.nja:b.unshift(a.id);break;case l.$f.URL:b.unshift("<url for "+a.stream.R+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.$d!==x.Fj){b={};b[x.Fj]=[];b[x.Ri]=[];b[x.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.$d].push(a);});0<b[x.Fj].length&&(a.$d=x.Fj,h(a));}}function q(a){return a.$d!==x.Fj;}function d(a){switch(a.$d){case x.Fj:return"OK";case x.Ri:return"FAILED PERMANENTLY";case x.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function k(a,b){if(a.$d===x.TEMPORARY||a.$d===x.Ri&&b)a.$d=x.Fj;a.children&&a.children.forEach(function(a){a&&k(a,b);});}Object.defineProperty(c,"__esModule",{value:!0});p=a(0);t=a(6);g=a(27);l=a(13);n=a(3);r=new n.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Fj=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Ri=2]="PERMANENT";}(x||(x={})));(function(a){a[a.Yr=0]="STARTUP";a[a.wUa=1]="REBUFFER";}(H||(H={})));a=function(a){var T1H;T1H=2;function c(b,d,c,f){var a1H,g,v02,a02;a1H=2;while(a1H!==27){v02="1SIYb";v02+="ZrNJ";v02+="Cp9";a02="n";a02+="etwor";a02+="k";switch(a1H){case 11:g.$t=[];g.gX=!1;g.Ll={id:a02,jz:l.$f.Pr,$d:x.Fj,er:void 0,parent:void 0,children:g.$t};a1H=19;break;case 2:g=a.call(this)||this;g.Tb=b;g.Tg=d;g.config=c;a1H=9;break;case 9:g.YZa=f;g.gsb=H.Yr;g.Uq=void 0;g.Hk={};g.xo={};g.fd={};g.bc={};a1H=11;break;case 15:return g;break;case 19:g.uR=null;g.WF=null;g.XF=l.jg.Yr;v02;a1H=15;break;}}}while(T1H!==24){switch(T1H){case 5:c.prototype.c9=function(){var o1H;o1H=2;while(o1H!==1){switch(o1H){case 2:return this.$t;break;case 4:return this.$t;break;o1H=1;break;}}};c.prototype.ut=function(){var P1H;P1H=2;while(P1H!==1){switch(P1H){case 4:return q(this.Ll);break;P1H=1;break;case 2:return q(this.Ll);break;}}};T1H=3;break;case 2:p.__extends(c,a);c.prototype.Tgb=function(){var N1H;N1H=2;while(N1H!==1){switch(N1H){case 4:return this.$t[3].gb;break;N1H=1;break;case 2:return this.$t[0].gb;break;}}};T1H=5;break;case 3:c.prototype.lFa=function(a){var S1H;S1H=2;while(S1H!==5){switch(S1H){case 1:return a.parent.id;break;case 2:S1H=(a=this.fd[a])&&a.parent?1:5;break;}}};c.prototype.wW=function(a){var H1H;H1H=2;while(H1H!==5){switch(H1H){case 1:return a.ac.location;break;case 9:return a.ac.location;break;H1H=5;break;case 2:H1H=(a=this.fd[a])&&a.ac?1:5;break;}}};c.prototype.qGa=function(a){var Q1H;Q1H=2;while(Q1H!==5){switch(Q1H){case 3:Q1H=(a=this.fd[a])?7:1;break;Q1H=(a=this.fd[a])?1:5;break;case 2:Q1H=(a=this.fd[a])?1:5;break;case 1:return a.stream;break;}}};c.prototype.ova=function(a){var n1H,b;n1H=2;while(n1H!==3){switch(n1H){case 8:n1H=2;break;n1H=1;break;case 2:n1H=1;break;case 1:n1H=a?5:3;break;case 5:b=a.bind(this);t.forEach(this.fd,function(a){var y1H,d;y1H=2;while(y1H!==4){switch(y1H){case 2:d=a.ac;b(d.location,d,a.stream,a);y1H=4;break;}}});n1H=3;break;}}};c.prototype.YC=function(a){var X6H,b,x42;X6H=2;while(X6H!==20){x42="m";x42+="anif";x42+="e";x42+="s";x42+="tAdded";switch(X6H){case 4:this.uR=n.time.fa();this.$t.sort(function(a,b){var l6H;l6H=2;while(l6H!==1){switch(l6H){case 2:return a.level-b.level||a.mf-b.mf;break;}}});a.servers.forEach(function(a){var Z6H,d,c,f;Z6H=2;while(Z6H!==14){switch(Z6H){case 5:Z6H=!b.xo[d]?4:14;break;case 2:d=a.id;Z6H=5;break;case 4:c=b.Hk[a.key];Z6H=3;break;case 3:Z6H=c?9:14;break;case 9:f=[];a={id:d,jz:l.$f.fy,$d:x.Fj,er:void 0,parent:c,children:f,fd:f,name:a.name,type:a.type,mf:a.rank,location:c};b.xo[a.id]=a;Z6H=6;break;case 6:c.children.push(a);Z6H=14;break;}}});a.audio_tracks.forEach(function(a){var c6H;c6H=2;while(c6H!==1){switch(c6H){case 2:b.jDa(a);c6H=1;break;case 4:b.jDa(a);c6H=7;break;c6H=1;break;}}});a.video_tracks.forEach(function(a){var R6H;R6H=2;while(R6H!==1){switch(R6H){case 4:b.jDa(a);R6H=6;break;R6H=1;break;case 2:b.jDa(a);R6H=1;break;}}});a=this.$t.filter(function(a){var W6H,d;W6H=2;while(W6H!==3){switch(W6H){case 2:d=a.xo.every(function(a){var x6H,B6H;x6H=2;while(x6H!==1){switch(x6H){case 2:return 0===a.fd.length;break;case 4:h4KK.k02(0);B6H=h4KK.Z02(338,2,13,117);return B6H!==a.fd.length;break;x6H=1;break;}}});d&&(a.xo.forEach(function(a){var U6H;U6H=2;while(U6H!==1){switch(U6H){case 2:b.xo[a.id]=void 0;U6H=1;break;}}}),b.Hk[a.id]=void 0,a.parent=void 0,a.children.length=0,a.bc={});return!d;break;}}});a.forEach(function(a){var M6H;M6H=2;while(M6H!==1){switch(M6H){case 2:a.xo.sort(function(a,b){var u6H;u6H=2;while(u6H!==1){switch(u6H){case 2:return a.mf-b.mf;break;case 4:return a.mf/b.mf;break;u6H=1;break;}}});M6H=1;break;}}});X6H=13;break;case 2:b=this;a.locations.forEach(function(a){var w6H,d,c,f,g;w6H=2;while(w6H!==14){switch(w6H){case 5:w6H=!b.Hk[d]?4:14;break;case 2:d=a.key;w6H=5;break;case 8:a={id:d,jz:l.$f.nja,$d:x.Fj,mf:a.rank,level:a.level,weight:a.weight,er:void 0,parent:g,children:c,xo:c,bc:{},gb:f};b.Hk[a.id]=a;w6H=6;break;case 4:c=[];f=b.Tg.get(d);g=b.Ll;w6H=8;break;case 6:g.children.push(a);w6H=14;break;}}});X6H=4;break;case 13:this.$t=a;this.Ll.children=a;this.emit(x42);this.dump();X6H=20;break;}}};c.prototype.CO=function(a,b){var F6H,d,c,f,g,h,k,M42,f42,e42,Y42;F6H=2;while(F6H!==15){M42="(";M42+="empt";M42+="y stream li";M42+="st)";f42="D";f42+="id not find a URL for ANY stream.";f42+="..";e42="netw";e42+="ork";e42+="Failed";Y42="Ne";Y42+="twork has failed, not updating stream select";Y42+="ion";switch(F6H){case 8:F6H=q(this.Ll)?7:6;break;case 19:F6H=!k.length?18:17;break;case 20:k=this.WF;F6H=19;break;case 17:b.forEach(function(a,b){var d6H,m,t42,m42,q42,P42;d6H=2;while(d6H!==4){t42=" Kb";t42+="p";t42+="s";t42+=")";m42=" ";m42+="(";q42="]";q42+=" ";P42="Fail";P42+="ing str";P42+="eam";P42+=" ";P42+="[";switch(d6H){case 2:m=a.id;k.some(function(b){var D6H,d,g;D6H=2;while(D6H!==7){switch(D6H){case 5:D6H=!d?4:3;break;case 2:d=b.bc[m];D6H=5;break;case 4:return!1;break;case 3:g=d.Hk[0];void 0===a.UX&&(a.UX=g.id,a.Kca=d.DO[g.id][0].ac.id);D6H=8;break;case 8:return d.DO[b.id].some(function(d){var e6H,m,b42,p42,w42,i42;e6H=2;while(e6H!==11){b42="loc";b42+="a";b42+="tion";b42+="fail";b42+="over";p42="serv";p42+="er";p42+="failover";w42="perform";w42+="an";w42+="ce";i42="u";i42+="n";i42+="k";i42+="nown";switch(e6H){case 4:e6H=q(d)?3:9;break;case 2:e6H=1;break;case 9:m=i42;a.location!==b.id&&(c.Hp?a.O$=b.id===g.id:m=b!==k[0]?""+l.jg.f_:void 0===a.location?""+l.jg.Yr:t.T(a.gza)||a.gza===b.id?t.T(a.iza)||a.iza===d.ac.id?w42:p42:b42,a.location=b.id,a.oaa=b.level,a.vo=m);a.url=d.url;e6H=6;break;case 1:e6H=q(d.ac)?5:4;break;case 3:return!1;break;case 6:a.ac=d.ac.id;a.MA=d.ac.name;a.gb=c.X4?b.gb.ld>=l.ie.Ox||f.ld<h?b.gb:f:f.ld===l.ie.HAVE_NOTHING||b.gb.ld>=l.ie.Ox?b.gb:f;return!0;break;case 5:return d.ac.$d===x.TEMPORARY&&(a.$d=x.TEMPORARY),c.Hp&&a.ac===d.ac.id&&d.ac.er&&(a.er=d.ac.er),!1;break;}}});break;}}})?(a.Sg=void 0,a.$d=void 0,a.hf&&++g):a.$d&&a.$d===x.TEMPORARY?d.Ll.$d=x.TEMPORARY:a.Sg||(r.warn(P42+b+q42+m+m42+a.R+t42),a.Q5a(),a.Sg=!0);d6H=4;break;}}});return q(this.Ll)?(r.warn(Y42),this.gX=!0,this.emit(e42,this.Ll.$d===x.Ri),!1):g?!0:(r.warn(f42+(b.length?"":M42)),this.Sm(l.$f.Pr,!0),!1);break;case 2:d=this;c=this.config;f=this.Tb.get();F6H=3;break;case 18:return this.Sm(l.$f.Pr,!1),!1;break;case 7:return!1;break;case 12:t.Ia(this.WF)&&(this.WF=this.$zb());F6H=11;break;case 10:return this.Sm(l.$f.Pr,!1),!1;break;case 6:h=l.ie.Px;c.wM&&(h=l.ie.Ox);this.Tb.location&&f.ld>=h&&(a=this.Hk[this.Tb.location])&&(a.gb=f);F6H=12;break;case 11:F6H=!this.WF?10:20;break;case 3:g=0;n.$y&&n.$y(a);F6H=8;break;}}};T1H=13;break;case 11:c.prototype.vEa=function(a,b){var r6H;r6H=2;while(r6H!==3){switch(r6H){case 8:r6H=(a=this.xo[a])?7:6;break;r6H=(a=this.xo[a])?1:5;break;case 1:k(a,b),h(a);r6H=5;break;case 7:k(a,b),h(a);r6H=2;break;r6H=5;break;case 5:this.WF=null;this.XF=l.jg.j1;r6H=3;break;case 2:r6H=(a=this.xo[a])?1:5;break;}}};c.prototype.sN=function(a){var K6H;K6H=2;while(K6H!==1){switch(K6H){case 4:k(this.Ll,a);K6H=3;break;K6H=1;break;case 2:k(this.Ll,a);K6H=1;break;}}};c.prototype.Nk=function(a){var g6H,b;g6H=2;while(g6H!==5){switch(g6H){case 2:g6H=1;break;case 1:null===(b=this.YZa)||void 0===b?void 0:b.call(this,a);g6H=5;break;case 3:g6H=8;break;g6H=1;break;}}};c.prototype.Ol=function(){var f6H;f6H=2;while(f6H!==1){switch(f6H){case 4:this.fub(H.wUa);f6H=2;break;f6H=1;break;case 2:this.fub(H.wUa);f6H=1;break;}}};T1H=18;break;case 13:c.prototype.Tvb=function(a,b){var v6H,d,c;v6H=2;while(v6H!==9){switch(v6H){case 5:c=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;t.forEach(this.fd,function(f,g){var k6H,h,k,m,p,B42,X42,A6H;k6H=2;while(k6H!==13){B42="8";B42+="0";X42="4";X42+="4";X42+="3";switch(k6H){case 2:f=f.parent?f.parent.id:"";h=d[f];k=g.match(c);k6H=3;break;case 3:k6H=k&&4===k.length?9:13;break;case 9:h4KK.k02(1);A6H=h4KK.Z02(1063,4,14,19);m="s"===k[A6H];p=k[2];k=k[3];k.length||(k=m?X42:B42);t.ce(p)&&t.ce(k)&&p===a&&k==b&&(h?h.push(g):d[f]=[g]);k6H=13;break;}}});return d;break;case 2:d={};v6H=5;break;}}};c.prototype.Sm=function(a,c,g,h){var I6H,q6H,k,m,p,d42,U42,s42,c42,K42,T42,C42,o42,D42;I6H=2;while(I6H!==25){d42="Invali";d42+="d fai";d42+="lur";d42+="e stat";d42+="e";U42="netwo";U42+="rkF";U42+="a";U42+="iled";s42="Em";s42+="itting";s42+=" networkFa";s42+="iled, permanent =";c42="Unable to ";c42+="find failure en";c42+="tity for URL ";K42=" ";K42+=":";K42+=" wa";K42+="s ";T42=" a";T42+="t";T42+=" ";C42=" f";C42+="ailure r";C42+="eported ";C42+="fo";C42+="r ";o42="TE";o42+="M";o42+="P";D42="P";D42+="ER";D42+="M";switch(I6H){case 3:I6H=p!==k.$d?9:25;break;case 15:I6H=27;break;case 8:q6H=k.$d;I6H=q6H===x.Ri?7:6;break;case 1:I6H=k&&k.parent&&k.jz!==a?5:4;break;case 16:I6H=q6H===x.Fj?14:15;break;case 4:I6H=k?3:26;break;case 9:r.warn((c?D42:o42)+C42+l.$f.name[a]+T42+f(k)+K42+d(k));I6H=8;break;case 26:h4KK.V02(2);r.warn(h4KK.r02(c42,g));I6H=25;break;case 14:k.$d=p;b(k);this.gX=this.gX||q(this.Ll);I6H=11;break;case 6:I6H=q6H===x.TEMPORARY?14:16;break;case 18:h&&(this.XF=l.jg.YSa,k.er=h);this.dump();I6H=25;break;case 7:return;break;case 11:a=this.Ll.$d;a>m&&(r.warn(s42,a===x.Ri),this.emit(U42,a===x.Ri));this.WF=null;this.XF=l.jg.ERROR;I6H=18;break;case 5:k=k.parent;I6H=1;break;case 2:k=a!==l.$f.Pr&&g?this.fd[g]:this.Ll,m=this.Ll.$d,p=c?x.Ri:x.TEMPORARY;I6H=1;break;case 27:throw Error(d42);I6H=14;break;}}};T1H=11;break;case 18:c.prototype.close=function(){var V6H;V6H=2;while(V6H!==1){switch(V6H){case 2:this.config.Llb&&this.Rqb();V6H=1;break;}}};c.prototype.jDa=function(a){var G6H,b;G6H=2;while(G6H!==4){switch(G6H){case 2:b=this;a.streams.forEach(function(a){var i6H,d,c,f,g42;i6H=2;while(i6H!==13){g42="no";g42+="n";g42+="e";g42+="-";switch(i6H){case 2:d=a.downloadable_id;c=b.bc[d];i6H=4;break;case 4:i6H=t.T(c)?3:7;break;case 3:f=a.content_profile;c={id:d,R:a.bitrate,Bc:a.vmaf,type:a.type,profile:f,clear:0===f.indexOf(g42),hf:!0,fd:[],DO:{},Hk:[]};i6H=8;break;case 7:a.urls.forEach(function(a){var L6H,d,f,g;L6H=2;while(L6H!==11){switch(L6H){case 4:L6H=t.T(f)&&(a=b.xo[a.cdn_id])?3:11;break;case 14:0===c.Hk.filter(function(a){var b6H;b6H=2;while(b6H!==1){switch(b6H){case 2:return a.id===g.id;break;case 4:return a.id==g.id;break;b6H=1;break;}}}).length&&c.Hk.push(g);g.bc[c.id]=c;(d=c.DO[g.id])?d.push(f):c.DO[g.id]=[f];L6H=11;break;case 3:g=a.location;f={id:d,jz:l.$f.URL,$d:x.Fj,er:void 0,parent:a,children:[],url:d,ac:a,stream:c};b.fd[d]=f;a.children.push(f);c.fd.push(f);L6H=14;break;case 2:d=a.url;f=b.fd[d];L6H=4;break;}}});t.Yd(c.DO,function(a){var j6H;j6H=2;while(j6H!==1){switch(j6H){case 2:a.sort(function(a,b){var s6H;s6H=2;while(s6H!==1){switch(s6H){case 4:return a.ac.mf+b.ac.mf;break;s6H=1;break;case 2:return a.ac.mf-b.ac.mf;break;}}});j6H=1;break;}}});c.Hk=c.Hk.sort(function(a,b){var E6H;E6H=2;while(E6H!==1){switch(E6H){case 2:return a.level-b.level||a.mf-b.mf;break;}}});i6H=13;break;case 8:b.bc[c.id]=c;i6H=7;break;}}});G6H=4;break;}}};c.prototype.$zb=function(){var Y6H,a,b,d,c;Y6H=2;while(Y6H!==10){switch(Y6H){case 14:b=this.XF;d.sort(function(a,b){var m6H;m6H=2;while(m6H!==1){switch(m6H){case 2:return a.level-b.level||a.mf-b.mf;break;}}});this.Uq||t.Ia(b)||(this.Uq=!0);return d;break;case 3:Y6H=0===d.length?9:8;break;case 2:a=this;b=this.config;d=this.$t.filter(function(a){var z6H;z6H=2;while(z6H!==1){switch(z6H){case 4:return+q(a)||8===a.level;break;z6H=1;break;case 2:return!q(a)&&0!==a.level;break;}}});Y6H=3;break;case 8:c=n.time.fa();Y6H=7;break;case 9:return null;break;case 7:Y6H=null===this.uR||this.uR+b.naa<c?6:14;break;case 6:d.forEach(function(b){var t6H;t6H=2;while(t6H!==1){switch(t6H){case 2:b.id!==a.Tb.location&&(b.gb=a.Tg.get(b.id));t6H=1;break;}}}),this.uR=c;Y6H=14;break;}}};c.prototype.fub=function(a){var J6H,b;J6H=2;while(J6H!==9){switch(J6H){case 2:b=this.Tb.location;this.Uq=!1;J6H=4;break;case 4:this.gsb=a;this.$t.forEach(function(a){var C6H;C6H=2;while(C6H!==1){switch(C6H){case 2:a.id!==b&&a.gb&&a.gb.ld>l.ie.Px&&(a.gb.ld=l.ie.Px);C6H=1;break;}}});J6H=9;break;}}};T1H=27;break;case 27:c.prototype.Rqb=function(){var O6H,a;O6H=2;while(O6H!==4){switch(O6H){case 2:a=this;this.gX||this.$t.forEach(function(b){var p6H;p6H=2;while(p6H!==1){switch(p6H){case 2:b.$d===x.TEMPORARY&&a.Tg.fail(b.id,n.time.fa());p6H=1;break;}}});O6H=4;break;}}};c.prototype.dump=function(){};return c;break;}}}(g.EventEmitter);c.K0=a;},function(g){var c,a,b;c=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;b=Object.prototype.propertyIsEnumerable;g.P=function(){var a,c;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return!1;c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0;}catch(d){return!1;}}()?Object.assign:function(f,g){var h,d;if(null===f||void 0===f)throw new TypeError("Object.assign cannot be called with null or undefined");d=Object(f);for(var k,m=1;m<arguments.length;m++){h=Object(arguments[m]);for(var t in h)a.call(h,t)&&(d[t]=h[t]);if(c){k=c(h);for(var l=0;l<k.length;l++)b.call(h,k[l])&&(d[k[l]]=h[k[l]]);}}return d;};},function(g,c,a){(function(b){var S,T,A,C,R,O,F,K;function c(a,b){if(a===b)return 0;for(var d=a.length,c=b.length,f=0,g=Math.min(d,c);f<g;++f)if(a[f]!==b[f]){d=a[f];c=b[f];break;}return d<c?-1:c<d?1:0;}function h(a){return b.Kga&&"function"===typeof b.Kga.isBuffer?b.Kga.isBuffer(a):!(null==a||!a.KKb);}function q(a){return h(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function d(a){if(T.Nb(a))return R?a.name:(a=a.toString().match(F))&&a[1];}function k(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function p(a){if(R||!T.Nb(a))return T.EL(a);a=d(a);return"[Function"+(a?": "+a:"")+"]";}function t(a,b,d,c,f){throw new O.AssertionError({message:d,Ky:a,Sn:b,kA:c,nxb:f});}function l(a,b){a||t(a,!0,b,"==",O.ok);}function n(a,b,d,f){var g;if(a===b)return!0;if(h(a)&&h(b))return 0===c(a,b);if(T.HL(a)&&T.HL(b))return a.getTime()===b.getTime();if(T.Lya(a)&&T.Lya(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!q(a)||!q(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(h(a)!==h(b))return!1;f=f||{Ky:[],Sn:[]};g=f.Ky.indexOf(a);if(-1!==g&&g===f.Sn.indexOf(b))return!0;f.Ky.push(a);f.Sn.push(b);return r(a,b,d,f);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return d?a===b:a==b;}function r(a,b,d,c){var f,g,h;if(null===a||void 0===a||null===b||void 0===b)return!1;if(T.Iya(a)||T.Iya(b))return a===b;if(d&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;f="[object Arguments]"==Object.prototype.toString.call(a);g="[object Arguments]"==Object.prototype.toString.call(b);if(f&&!g||!f&&g)return!1;if(f)return a=C.call(a),b=C.call(b),n(a,b,d);f=K(a);h=K(b);if(f.length!==h.length)return!1;f.sort();h.sort();for(g=f.length-1;0<=g;g--)if(f[g]!==h[g])return!1;for(g=f.length-1;0<=g;g--)if(h=f[g],!n(a[h],b[h],d,c))return!1;return!0;}function x(a,b,d){n(a,b,!0)&&t(a,b,d,"notDeepStrictEqual",x);}function H(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(ja){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function G(a,b,d,c){var f,g,h;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof d&&(c=d,d=null);try{b();}catch(ha){f=ha;}b=f;c=(d&&d.name?" ("+d.name+").":".")+(c?" "+c:".");a&&!b&&t(b,d,"Missing expected exception"+c);f="string"===typeof c;g=!a&&T.XV(b);h=!a&&b&&!d;(g&&f&&H(b,d)||h)&&t(b,d,"Got unwanted exception"+c);if(a&&b&&d&&!H(b,d)||!a&&b)throw b;}function P(a,b){a||t(a,!0,b,"==",P);}S=a(793);T=a(453);A=Object.prototype.hasOwnProperty;C=Array.prototype.slice;R=function(){return"foo"===function(){}.name;}();O=g.P=l;F=/\s*function\s+([^\(\s]*)\s*/;O.AssertionError=function(a){var b;this.name="AssertionError";this.Ky=a.Ky;this.Sn=a.Sn;this.kA=a.kA;this.message=a.message?a.message:k(p(this.Ky))+" "+this.kA+" "+k(p(this.Sn));b=a.nxb||t;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=d(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};T.bjb(O.AssertionError,Error);O.fail=t;O.ok=l;O.equal=function(a,b,d){a!=b&&t(a,b,d,"==",O.equal);};O.BM=function(a,b,d){a==b&&t(a,b,d,"!=",O.BM);};O.lta=function(a,b,d){n(a,b,!1)||t(a,b,d,"deepEqual",O.lta);};O.mta=function(a,b,d){n(a,b,!0)||t(a,b,d,"deepStrictEqual",O.mta);};O.sBa=function(a,b,d){n(a,b,!1)&&t(a,b,d,"notDeepEqual",O.sBa);};O.Iob=x;O.sGa=function(a,b,d){a!==b&&t(a,b,d,"===",O.sGa);};O.tBa=function(a,b,d){a===b&&t(a,b,d,"!==",O.tBa);};O["throws"]=function(a,b,d){G(!0,a,b,d);};O.UMb=function(a,b,d){G(!1,a,b,d);};O.rOb=function(a){if(a)throw a;};O.bfa=S(P,O,{equal:O.sGa,lta:O.mta,BM:O.tBa,sBa:O.Iob});O.bfa.bfa=O.bfa;K=Object.keys||function(a){var b,d;b=[];for(d in a)A.call(a,d)&&b.push(d);return b;};}.call(this,a(147)));},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(378);g=function(){var H42;function a(){var A42,R42;A42=2;while(A42!==5){R42="1SI";R42+="Y";R42+="bZrNJC";R42+="p";R42+="9";switch(A42){case 2:this.IR={};R42;A42=5;break;}}}H42=2;while(H42!==9){switch(H42){case 2:a.prototype.add=function(a,c,d,f){var z42,g;z42=2;while(z42!==3){switch(z42){case 2:g=this.IR;void 0===g[f]&&(g[f]=new b());g[f].add(a,c,d);z42=3;break;}}};a.prototype.start=function(a,c){var F42,d;F42=2;while(F42!==3){switch(F42){case 2:d=this.IR;void 0===d[c]&&(d[c]=new b());d[c].start(a);F42=3;break;}}};a.prototype.stop=function(a,b){var Q42,d;Q42=2;while(Q42!==4){switch(Q42){case 2:d=this.IR;void 0!==d[b]&&d[b].stop(a);Q42=4;break;}}};a.prototype.get=function(){var E42,f,g,a,b,d,c;E42=2;while(E42!==6){switch(E42){case 2:E42=1;break;case 7:return d;break;case 4:f=b[c];g=a[f].get();g&&d.push({cdnid:f,avtp:g.Ca,tm:g.Y6});E42=8;break;case 8:c++;E42=5;break;case 5:E42=c<b.length?4:7;break;case 1:a=this.IR,b=Object.keys(a),d=[],c=0;E42=5;break;}}};H42=3;break;case 3:return a;break;}}}();c.XKa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(795);new(a(3)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");g=function(){var W42;function a(a){var u42,O42;u42=2;while(u42!==4){O42="1SI";O42+="YbZ";O42+="rNJ";O42+="Cp9";switch(u42){case 2:this.s$=a;this.qt={};O42;u42=4;break;}}}W42=2;while(W42!==7){switch(W42){case 2:a.prototype.reset=function(){var j42;j42=2;while(j42!==1){switch(j42){case 4:this.wx=new b.XKa();j42=5;break;j42=1;break;case 2:this.wx=new b.XKa();j42=1;break;}}};a.prototype.DA=function(a,b){var J42;J42=2;while(J42!==1){switch(J42){case 2:b.Zd&&(this.s$?this.wx.start(a,b.Zd):1===b.type&&(this.qt[b.Zd]?this.qt[b.Zd].NO+=1:this.qt[b.Zd]={Zd:b.Zd,NO:1,mU:!1},this.HHa(a)));J42=1;break;}}};a.prototype.FA=function(a,b){var l42,d;l42=2;while(l42!==8){switch(l42){case 5:l42=this.s$?4:3;break;case 2:l42=1;break;case 4:this.wx.stop(a,b.Zd);l42=8;break;case 3:d=this.qt[b.Zd];1===b.type&&d&&(--d.NO,0===d.NO&&(d.mU&&this.wx.stop(a,b.Zd),d.mU=!1,delete this.qt[b.Zd]),this.HHa(a));l42=8;break;case 1:l42=b.Zd?5:8;break;}}};W42=4;break;case 4:a.prototype.Fv=function(a,b,d,c){var L42;L42=2;while(L42!==1){switch(L42){case 2:c.Zd&&(this.s$?this.wx.add(a,b,d,c.Zd):this.gJ===c.Zd&&this.wx.add(a,b,d,c.Zd));L42=1;break;}}};a.prototype.El=function(){var n42;n42=2;while(n42!==1){switch(n42){case 4:return this.wx.get();break;n42=1;break;case 2:return this.wx.get();break;}}};a.prototype.HHa=function(a){var G42,b,d;G42=2;while(G42!==3){switch(G42){case 4:1===b.length&&!1===d.mU?(this.wx.start(a,d.Zd),this.gJ=d.Zd):1<b.length&&this.gJ&&(b=this.qt[this.gJ],this.wx.stop(a,this.gJ),b.mU=!1,this.gJ=void 0);G42=3;break;case 2:b=Object.keys(this.qt);d=this.qt[b[0]];G42=4;break;}}};return a;break;}}}();c.ANa=g;},function(g,c,a){var f;function b(a){var b,d;b=a.sw;d=a.mw;this.VC=b;this.c2={uhd:a.uhdl,hd:a.hdl};this.Mh=Math.max(Math.ceil(1*b/d),1);this.GZa=a.mins||1;f.call(this,b,d);this.reset();}f=a(164);new(a(3)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(f.prototype);b.prototype.flush=function(){this.Jc.map(function(a,b){this.fqa(a,this.y8(b));},this);};b.prototype.O4a=function(){var a,b,d,c,f,g,h,H;a=this.c2;for(b in a)if(a.hasOwnProperty(b)){d=a[b];c=this.R3[b];f=this.Q3[b];if(c.first){g=c.first;h=c.wA;void 0!==h&&(f[g][h]+=1);c.first=void 0;}for(var c=[],g=0,d=h=d.length+1,l=0;l<h;l++){for(var n=0,r=0;r<d;r++)n+=f[r][l];g+=n;c.push(n);}n=-1;if(g>this.GZa){for(l=n=0;l<h;l++)if(0<c[l])for(r=0;r<d;r++){H=f[r][l];0<H&&(n-=H*Math.log(1*H/c[l]));}n/=g*Math.log(2);}this.D2[b]=n;}return this.D2;};b.prototype.fqa=function(a,b){var d,g,h;for(var d=this.Mh,c=this.c2;this.$Q.length>=d;)this.$Q.shift();for(;this.aR.length>=d;)this.aR.shift();this.$Q.push(a);this.aR.push(b);a=this.$Q.reduce(function(a,b){return a+b;},0);b=this.aR.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var f in c)if(c.hasOwnProperty(f)){b=this.R3[f];d=this.Q3[f];g=this.Fsb(a,c[f]);h=b.wA;void 0!==h?d[g][h]+=1:b.first=g;b.wA=g;}}};b.prototype.Fsb=function(a,b){for(var d=0;d<b.length&&a>b[d];)d+=1;return d;};b.prototype.shift=function(){this.fqa(this.Jc[0],this.y8(0));f.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.R3={};this.$Q=[];this.aR=[];this.Q3={};this.D2={};a=this.c2;for(b in a)if(a.hasOwnProperty(b)){for(var d=this.Q3,c=b,g,h=void 0,l=Array(h),h=g=a[b].length+1,n=0;n<h;n++){l[n]=Array(g);for(var r=0;r<g;r++)l[n][r]=0;}d[c]=l;this.R3[b]={first:void 0,wA:void 0};this.D2[b]=0;}f.prototype.reset.call(this);};g.P=b;},function(g,c,a){var f;function b(){this.Kh=void 0;this.zv=0;}f=a(6);b.prototype.Wc=function(){return 0!==this.zv&&this.Kh?{p25:this.Kh.Zj,p50:this.Kh.Ii,p75:this.Kh.$j,c:this.zv}:null;};b.prototype.Sd=function(a){if(!(!f.Ia(a)&&f.has(a,"p25")&&f.has(a,"p50")&&f.has(a,"p75")&&f.has(a,"c")&&f.isFinite(a.p25)&&f.isFinite(a.p50)&&f.isFinite(a.p75)&&f.isFinite(a.c)))return this.Kh=void 0,this.zv=0,!1;this.Kh={Zj:a.p25,Ii:a.p50,$j:a.p75};this.zv=a.c;};b.prototype.get=function(){return{FX:this.Kh,qo:this.zv};};b.prototype.set=function(a,b){this.Kh=a;this.zv=b;};b.prototype.reset=function(){this.Kh=void 0;this.zv=0;};b.prototype.toString=function(){return"IQRHist("+this.Kh+","+this.zv+")";};g.P=b;},function(g,c,a){var f,h,q,d,k,p,l,u,n,r;function b(a){this.dYa=a;}c=a(382);f=c.NMa;h=c.LMa;q=a(216).MMa;d=a(216).QWa;k=a(381);p=a(380);l=a(379).wma;u=a(798);n=a(797);r=a(378);b.prototype.constructor=b;b.prototype.create=function(a,b){var c,g,m,t;g=this.dYa[a];m=b[a];t={};g&&Object.keys(g).forEach(function(a){t[a]=g[a];});m&&Object.keys(m).forEach(function(a){t[a]=m[a];});switch(t.type){case"slidingwindow":c=new q(t.mw);break;case"discontiguous-ewma":c=new h(t.mw);break;case"wssl":c=new d(t.mw,t.max_n);break;case"iqr":c=new k(t.mx,t.mn,t.bw,t.iv);break;case"tdigest":c=new p(t);break;case"discrete-ewma":c=new f(t.hl);break;case"tdigest-history":c=new l(t);break;case"iqr-history":c=new u(t);break;case"avtp":c=new r();break;case"entropy":c=new n(t);}c&&(c.type=t.type);return c;};g.P=b;},function(g){function c(a){this.jC=a;this.Jd=0;this.PC=null;}c.prototype.add=function(a,b,c){null!==this.PC&&b>this.PC&&(this.Jd+=b-this.PC,this.PC=null);this.jC.add(a,b-this.Jd,c-this.Jd,this.Jd);};c.prototype.stop=function(a){null===this.PC&&(this.PC=a);};c.prototype.Fca=function(a,b){return this.jC.Fca(a,b);};c.prototype.get=function(){return this.jC.get();};c.prototype.reset=function(){this.jC.reset();};c.prototype.toString=function(){return this.jC.toString();};g.P=c;},function(g){function c(a,b,c){this.WC=a;this.Mh=Math.floor((a+b-1)/b);this.Dc=b;this.X_a=c;this.reset();}c.prototype.shift=function(){this.Jc.shift();this.mg.shift();};c.prototype.update=function(a,b){this.Jc[a]+=b;};c.prototype.push=function(a){this.Jc.push(0);this.mg.push(a?a:0);this.La+=this.Dc;};c.prototype.add=function(a,b,c,g){var f,d;if(null===this.La){f=Math.max(Math.floor((c-b+this.Dc-1)/this.Dc),1);for(this.La=b;this.Jc.length<f;)this.push(g);}for(;this.La<c;)if(this.push(g),this.X_a)for(;1<this.Jc.length&&c+g-(this.La-this.Dc*this.Jc.length+this.mg[0])>this.WC;)this.shift();else this.Jc.length>this.Mh&&this.shift();if(b>this.La-this.Dc)this.update(this.Jc.length-1,a);else if(b==c)g=this.Jc.length-Math.max(Math.ceil((this.La-c)/this.Dc),1),0<=g&&this.update(g,a);else for(g=1;g<=this.Jc.length;++g){f=this.La-g*this.Dc;d=f+this.Dc;if(!(f>c)){if(d<b)break;this.update(this.Jc.length-g,Math.round(a*(Math.min(d,c)-Math.max(f,b))/(c-b)));}}for(;this.Jc.length>this.Mh;)this.shift();};c.prototype.reset=function(){this.Jc=[];this.mg=[];this.La=null;};c.prototype.setInterval=function(a){this.Mh=Math.floor((a+this.Dc-1)/this.Dc);};g.P=c;},function(g,c,a){var h,q,d,k;function b(a,b,d){h.call(this,a,b,d);}function f(a,d){q.call(this,new b(a,d,!1));}h=a(801);q=a(800);d=a(113).Vdb;k=a(113).vhb;b.prototype=Object.create(h.prototype);b.prototype.Ca=function(){return Math.floor(8*d(this.Jc)/this.Dc);};b.prototype.$g=function(){return Math.floor(64*k(this.Jc)/(this.Dc*this.Dc));};b.prototype.get=function(){return{Ca:this.Ca(),$g:this.$g(),vLb:this.Jc.length};};b.prototype.toString=function(){return"bsw("+this.WC+","+this.Dc+","+this.Mh+")";};f.prototype=Object.create(q.prototype);f.prototype.setInterval=function(a){this.jC.setInterval(a);};g.P=f;},function(g,c,a){function b(a){this.data=a;this.right=this.left=null;}function f(a){this.Kd=null;this.uk=a;this.size=0;}c=a(384);b.prototype.Of=function(a){return a?this.right:this.left;};b.prototype.Wm=function(a,b){a?this.right=b:this.left=b;};f.prototype=new c();f.prototype.Gm=function(a){if(null===this.Kd)return this.Kd=new b(a),this.size++,!0;for(var c=0,d=null,f=this.Kd;;){if(null===f)return f=new b(a),d.Wm(c,f),ret=!0,this.size++,!0;if(0===this.uk(f.data,a))return!1;c=0>this.uk(f.data,a);d=f;f=f.Of(c);}};f.prototype.remove=function(a){var c,d,f,m,h;if(null===this.Kd)return!1;c=new b(void 0);d=c;d.right=this.Kd;for(var f=null,g=null,h=1;null!==d.Of(h);){f=d;d=d.Of(h);m=this.uk(a,d.data);h=0<m;0===m&&(g=d);}return null!==g?(g.data=d.data,f.Wm(f.right===d,d.Of(null===d.left)),this.Kd=c.right,this.size--,!0):!1;};g.P=f;},function(g,c,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function f(a){this.Kd=null;this.uk=a;this.size=0;}function h(a){return null!==a&&a.red;}function q(a,b){var d;d=a.Of(!b);a.Wm(!b,d.Of(b));d.Wm(b,a);a.red=!0;d.red=!1;return d;}function d(a,b){a.Wm(!b,q(a.Of(!b),!b));return q(a,b);}c=a(384);b.prototype.Of=function(a){return a?this.right:this.left;};b.prototype.Wm=function(a,b){a?this.right=b:this.left=b;};f.prototype=new c();f.prototype.Gm=function(a){var c,f,g,k,m,l,n,r,P;c=!1;if(null===this.Kd)this.Kd=new b(a),c=!0,this.size++;else{f=new b(void 0);g=0;k=0;m=null;l=f;n=null;r=this.Kd;for(l.right=this.Kd;;){null===r?(r=new b(a),n.Wm(g,r),c=!0,this.size++):h(r.left)&&h(r.right)&&(r.red=!0,r.left.red=!1,r.right.red=!1);if(h(r)&&h(n)){P=l.right===m;r===n.Of(k)?l.Wm(P,q(m,!k)):l.Wm(P,d(m,!k));}P=this.uk(r.data,a);if(0===P)break;k=g;g=0>P;null!==m&&(l=m);m=n;n=r;r=r.Of(g);}this.Kd=f.right;}this.Kd.red=!1;return c;};f.prototype.remove=function(a){var c,f,n,g,r,l,P;if(null===this.Kd)return!1;c=new b(void 0);f=c;f.right=this.Kd;for(var g=null,k,m=null,l=1;null!==f.Of(l);){n=l;k=g;g=f;f=f.Of(l);r=this.uk(a,f.data);l=0<r;0===r&&(m=f);if(!h(f)&&!h(f.Of(l)))if(h(f.Of(!l)))k=q(f,l),g.Wm(n,k),g=k;else if(!h(f.Of(!l))&&(r=g.Of(!n),null!==r))if(h(r.Of(!n))||h(r.Of(n))){P=k.right===g;h(r.Of(n))?k.Wm(P,d(g,n)):h(r.Of(!n))&&k.Wm(P,q(g,n));n=k.Of(P);n.red=!0;f.red=!0;n.left.red=!1;n.right.red=!1;}else g.red=!1,r.red=!0,f.red=!0;}null!==m&&(m.data=f.data,g.Wm(g.right===f,f.Of(null===f.left)),this.size--);this.Kd=c.right;null!==this.Kd&&(this.Kd.red=!1);return null!==m;};g.P=f;},function(g,c,a){g.P={vUa:a(804),cDb:a(803)};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a,b,c,f,g;this.Df();a=this.jr([{Cfa:"int32"},{tta:"int32"},{DT:"int32"},{FT:"int32"},{ET:"int32"}]);b=a.Cfa;c=a.tta;f=a.DT;g=a.ET;a=a.FT;this.od={ab:b,e$a:c,JD:f,pta:g,qta:a};this.Cfa=b;this.tta=c;this.DT=f;this.FT=a;this.ET=g;return!0;};c.Ee="trex";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(83);a=a(25);f=g.U0;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Df();this.od=this.jr([{pX:"int32"},{tK:"int16"}]);return!0;};c.Ee=f;c.Yb=!1;return c;}(a.Ff);c["default"]=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(222);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Df();this.pNa=f.Wha.EDa(this.J);return!0;};c.Ee="esds";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.hE=function(){var a;a=this.nz("esds");if(a=a&&a.pNa.nz(5))this.BU=a.BU;return!0;};c.Ee="mp4a";c.Yb=!0;return c;}(a(167)["default"]);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.J.ed();this.bJa=this.J.ed();this.J.ed();this.J.ed();this.J.ed();this.cGa=this.y3(this.J.ed()&31);this.y3(this.J.ed());this.XX=this.cGa.length?this.cGa[0][0]:this.bJa;this.epa=this.J.offset;this.startOffset+this.length<this.J.offset&&(100===this.XX||110===this.XX||122===this.XX||144===this.XX)&&(this.J.ed(),this.J.ed(),this.y3(this.J.ed()));a=this.startOffset+this.length-this.epa;0<a&&this.fk(a,this.epa);return!0;};c.prototype.y3=function(a){var f;for(var b=[],c=0;c<a;++c){f=this.J.vg();b.push(this.J.cY(f));}return b;};c.Ee="avcC";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(25);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Df();this.TEa=this.J.dx();f.jc&&this.J.console.trace("SchemeTypeBoxTranslator: "+this.TEa);"cenc"===this.TEa&&(this.J.offset-=4,f.jc&&this.J.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.J.offset),this.Ua.vIa("piff"));this.J.wb();return!0;};c.Ee="schm";c.Yb=!1;return c;}(f.Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var b;this.Zob=this.J.vg()&7;this.gyb=[];for(var a=0;a<this.Zob;a++){b={Adb:this.J.Cf(2),t4a:this.J.Cf(5),u4a:this.J.Cf(5),A1a:this.J.Cf(3),WOb:this.J.Cf(1),Yob:this.J.Cf(4)};0<b.Yob?b.KLb=this.J.Cf(9):this.J.Cf(1);this.gyb.push(b);}return!0;};c.Ee="dec3";return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Adb=this.J.Cf(2);this.t4a=this.J.Cf(5);this.u4a=this.J.Cf(3);this.A1a=this.J.Cf(3);this.J.Cf(1);this.J.Cf(5);this.J.Cf(5);return!0;};c.Ee="dac3";return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b,f,h,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(83);h=a(28);q=a(167);g=a(25);d=a(82);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Df();this.ym=this.J.wb();return!0;};c.prototype.hE=function(a){var b;b=Object.keys(this.Lc);b.length&&(b=b[0],this.Lc[b].length&&(b=this.Lc[b][0],b instanceof q["default"]?this.Ra=new h.Xa(b.BU,b.OEa):b instanceof d["default"]&&(b=b.Lc[f.U0])&&b.length&&(b=b[0].od,1E3!==b.tK&&1001!==b.tK||0!==b.pX%1E3?this.J.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.pX+"/"+b.tK):this.Ra=new h.Xa(b.tK,b.pX)),this.Ra&&(a.Ra=this.Ra)));return!0;};c.prototype.eEa=function(a){void 0!==this.Lc[a]&&0!==this.Lc[a].length&&(this.Ua.Do(this.ym-1,this.byteOffset+12),a=this.Lc[a][0],this.fk(a.byteLength,a.byteOffset));};c.Ee="stsd";c.Yb=!0;return c;}(g.Ff);c["default"]=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(62);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Df();this.od=this.jr([{xQb:"int32"},{uxa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.od.uxa=f.jI(this.od.uxa);return!0;};c.Ee="hdlr";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.J.dx();this.J.dx();for(this.O5=[];this.J.offset<=this.byteOffset+this.byteLength-4;)this.O5.push(this.J.dx());return!0;};c.Ee="ftyp";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.od=this.jr([{wLb:"int32"},{eo:"int32"},{O3a:"int32"}]);return!0;};c.Ee="btrt";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.od=this.jr([{jOb:"int32"},{aSb:"int32"}]);return!0;};c.Ee="pasp";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Df();this.od=this.jr(1===this.version?[{xva:"int64"}]:[{xva:"int32"}]);return!0;};c.Ee="mehd";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.Df();a=1===this.version?[{fh:"int64"},{modificationTime:"int64"},{ab:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{fh:"int32"},{modificationTime:"int32"},{ab:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{Xkb:"int16"},{B2a:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.od=this.jr(a);this.od.IRb=!!(this.Se&1);this.od.JRb=!!(this.Se&2);this.od.KRb=!!(this.Se&4);this.od.LRb=!!(this.Se&8);this.J.console.trace("Finished parsing track box");return!0;};c.Ee="tkhd";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.Ee="trak";c.Yb=!0;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Df();this.od=1===this.version?this.jr([{fh:"int64"},{modificationTime:"int64"},{ea:"int32"},{duration:"int64"}]):this.jr([{fh:"int32"},{modificationTime:"int32"},{ea:"int32"},{duration:"int32"}]);return!0;};c.Ee="mvhd";c.Yb=!1;return c;}(a(25).Ff);c["default"]=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(128);a(128);f=a(62);g=function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.fA=this.MS=this.offset=0;}a.prototype.Deb=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Cf=function(a){for(;this.fA<a;)this.MS=(this.MS<<8)+this.ed(),this.fA+=8;this.fA-=a;return this.MS>>>this.fA&(1<<a)-1;};a.prototype.ed=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.vg=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.wb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.cda=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.Jqb=function(a,b){var d;d=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(d&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*d+a;};a.prototype.Ki=function(a,b){a=this.Jqb(a,b);this.offset+=8;return a;};a.prototype.Kqb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.Wsb=function(){var a;a=this.Kqb();this.offset+=8;return a;};a.prototype.dx=function(){return f.jI(this.wb());};a.prototype.fY=function(){var b,c,f,g,h,m;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.wb(!0);c=this.vg(!0);f=this.vg(!0);g=this.vg();h=this.vg();m=this.wb();return[a(b,4),a(c,2),a(f,2),a(g,2),a(h,2)+a(m,4)].join("-");};a.prototype.Qsb=function(){var a;a=this.view.byteOffset+this.offset;return this.view.buffer.slice(a,a+16);};a.prototype.Osb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.ed();0!==c&&0<=--a;)b.push(c),c=this.ed();return String.fromCharCode.apply(null,b);};a.prototype.cY=function(a){var d,c;void 0===d&&(d=1);void 0===c&&(c=!0);return this.Dd(this.config.FG&&b.rhb||b.zE,1,a,d,c);};a.prototype.Nsb=function(a){var d,c,f;c=10;f=!1;void 0===c&&(c=2);void 0===f&&(f=!0);void 0===d&&(d=!1);return this.Dd(this.config.FG&&b.phb||b.iV,2,a,c,f,d);};a.prototype.bY=function(a,d,c){var f;void 0===d&&(d=4);void 0===c&&(c=!0);void 0===f&&(f=!1);return this.Dd(this.config.FG&&b.qhb||b.yE,4,a,d,c,f);};a.prototype.Ssb=function(){for(var a=this.ed(),b=a&127;a&128;)a=this.ed(),b=b<<7|a&127;return b;};a.prototype.Dd=function(a,b,c,f,g,h){void 0===g&&(g=!0);void 0===h&&(h=!1);a=a(this.view,this.offset,c,f,h);this.offset=g||!f||f===b?this.offset+c*(f||b):this.offset+b;return a;};return a;}();c.KWa=g;},function(g,c,a){var b,f,h,q,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(7);h=a(14);q=a(62);g=a(823);d=function(){function a(a){a?(this.Wl=a.Wl.slice(),this.Eo=a.Eo.slice(),this.ug=a.ug.slice(),this.trim=a.trim):(this.Wl=[],this.Eo=[],this.ug=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Wl.length&&0===this.Eo.length&&0===this.ug.length;},enumerable:!0,configurable:!0}});return a;}();g=function(a){function c(b,c,f){b=a.call(this,b,c,f)||this;b.cua=[];b.$c=new d();return b;}b.__extends(c,a);c.N2a=function(a,b){if(b.offset+b.size<=a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.QN?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.QN?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:f.assert(!b.QN);a.setUint32(b.offset,Math.floor(b.value/4294967296));a.setUint32(b.offset+4,b.value&4294967295);break;default:f.assert(!1);}};Object.defineProperties(c.prototype,{XT:{get:function(){return!this.$c.empty;},enumerable:!0,configurable:!0}});c.prototype.VZ=function(a,b){this.$c.Eo.push({offset:void 0!==b?b:this.offset,value:a,size:1});void 0===b&&(this.offset+=1);};c.prototype.DBb=function(a){this.$c.Eo.push({offset:!1,value:a,size:2,QN:!1});};c.prototype.Do=function(a,b){this.$c.Eo.push({offset:void 0!==b?b:this.offset,value:a,size:4,QN:!1});void 0===b&&(this.offset+=4);};c.prototype.EBb=function(a,b){this.$c.Eo.push({offset:void 0!==b?b:this.offset,value:a,size:8,QN:!1});void 0===b&&(this.offset+=8);};c.prototype.vIa=function(a){this.Do(q.wna(a));};c.prototype.bga=function(a,b){this.$c.ug.push({offset:this.offset,qm:a,value:b});this.offset+=4;};c.prototype.fk=function(a,b,d){this.$c.Wl.push({offset:b,remove:a,tb:d});};c.prototype.mY=function(a,b,d,c){this.$c.Wl.push({offset:d,remove:a,replace:b,tb:c});};c.prototype.trim=function(a){this.$c.trim=a;};c.prototype.Esb=function(){this.cua.push(new d(this.$c));};c.prototype.vrb=function(){this.$c=this.cua.pop()||new d();};c.prototype.Na=function(){var a,b,d,f,g,h,k;a=this;if(0===this.$c.Wl.length&&0===this.$c.Eo.length&&0===this.$c.ug.length)return[void 0===this.$c.trim?this.view.buffer:this.view.buffer.slice(0,this.$c.trim)];this.$c.Wl.sort(function(a,b){return a.offset-b.offset;});this.$c.Eo.sort(function(a,b){return a.offset-b.offset;});this.vub();b=this.Icb();d=this.view.buffer.slice(0,b);f=new DataView(d);this.$c.Eo.forEach(c.N2a.bind(void 0,f));this.Wzb(f);this.Uzb(f);g=[];h=void 0!==this.$c.trim?Math.min(this.$c.trim,this.view.byteLength):this.view.byteLength;k=0;this.$c.Wl.filter(function(a){return a.offset<=h;}).forEach(function(d){d.offset>k&&(g.push(f.buffer.slice(k,d.offset)),d.offset>f.byteLength&&f!==a.view&&(f=a.view,g.push(f.buffer.slice(b,d.offset))));d.replace&&g.push(d.replace);k=d.offset+d.remove;});k<b&&g.push(d.slice(k));k<h&&g.push(this.view.buffer.slice(Math.max(d.byteLength,k),h));return g;};c.prototype.Icb=function(){var a,b,d;a=[];b=this.$c.Eo[this.$c.Eo.length-1];d=this.$c.ug[this.$c.ug.length-1];b&&a.push(b.offset+b.size);d&&a.push(d.offset+4);this.$c.Wl.filter(function(a){return a.tb;}).forEach(function(b){return a.push(b.tb.byteOffset+4);});b=Math.max.apply(void 0,a);return void 0!==this.$c.trim?Math.min(b,this.$c.trim):b;};c.prototype.vub=function(){this.$c.Wl=this.$c.Wl.reduce(function(a,b){var d,c;if(0===a.length)return a.push(b),a;d=a[a.length-1];c=d.offset+d.remove;b.offset>=c?a.push(b):b.offset+b.remove>c&&(f.assert(d.tb===b.tb),d.remove+=b.offset+b.remove-c,b.replace&&(d.replace=d.replace?h.wl(d.replace,b.replace):b.replace));return a;},[]);};c.prototype.Wzb=function(a){var b;b=this;this.$c.ug.forEach(function(d){var c,f,g,h;c=a;f=d.offset;b.$c.Wl.some(function(a){return a.offset<=d.offset&&a.replace&&a.offset+a.replace.byteLength>=d.offset+4?(c=new DataView(a.replace),f=d.offset-a.offset,!0):!1;});g=d.qm+(void 0!==d.value?d.value:c.getInt32(f));h=b.$c.Wl.reduce(function(a,b){return b.offset>d.qm&&b.offset<g?a+(b.remove-(b.replace?b.replace.byteLength:0)):a;},0);c.setInt32(f,g-d.qm-h);});};c.prototype.Uzb=function(a){this.$c.Wl.forEach(function(b){var d;d=(b.remove||0)-(b.replace?b.replace.byteLength:0);if(0!==d)for(b=b.tb;b;)a.setUint32(b.byteOffset,a.getUint32(b.byteOffset)-d),b=b.parent;});};return c;}(g.KWa);c.JWa=g;},function(g,c,a){var b,f,h,q,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(168);h=a(391);q=a(26);d=a(3);g=a(84);k=a(375);p=a(7);a=function(a){function c(b,d,c,f,g,h,k,m,p,q,l){var t;t=a.call(this,b)||this;t.Kc=b;t.L=d;t.K=c;t.Nk=f;t.cV=g;t.hL=h;t.WV=k;t.If=m;t.OR=p;t.zf=q;t.loa=[void 0,void 0];t.Z3=[];t.tI=null!==l&&void 0!==l?l:{lq:[Object.create(null),Object.create(null)]};return t;}b.__extends(c,a);Object.defineProperties(c.prototype,{lq:{get:function(){return this.tI.lq;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Po:{get:function(){return this.tI.Po;},set:function(a){this.tI.Po=a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kC:{get:function(){return this.tI.kC;},set:function(a){this.tI.kC=a;},enumerable:!0,configurable:!0}});c.prototype.ec=function(){var a;a=this;this.lq.forEach(function(b,d){for(var c in b)b[c].ec(),a.M6(d,c);});};c.prototype.fj=function(a,b){return this.lq[a][b];};c.prototype.B5=function(){this.Po=void 0;};c.prototype.qea=function(a,b){var d;if(b)this.Po=b;else if(!(this.Po&&0<this.Po.length||this.K.YFa))for(f.Yk.Dl(1),a=a.Te(1).track.yc,b=0;b<a.length;++b){d=a[b];if(d.hf&&d.inRange&&!d.Sg&&!this.yxa(d.oa)){this.Po=[d.oa];break;}}};c.prototype.Haa=function(){var a,b;if(this.Po&&0!==this.Po.length&&!this.kC)for(f.Yk.Dl(1);0<this.Po.length;){a=this.Po.shift();b=this.Kc.Oq(1,a);if(b&&!this.yxa(a)&&b.hf){this.kC=a;this.yZ(b,{offset:0,eG:!0});break;}}};c.prototype.Sfa=function(a,b){var d;d=this;b.forEach(function(b){var c;c=d.fj(a,b.oa);c&&!b.pd&&(c.stream.pd?b.mT(c.stream):(c.MM||(c.MM=[]),c.MM.push(d.Kc)));});};c.prototype.OF=function(a,b,d){var c,f,g;c=this;g=this.Kc;q.ag.forEach(function(f){var h,m,q,l,t;if(g.bb(f)&&(void 0===d||f===d)){l=a[f];p.assert(l&&g.getTrackById(l.ab)===l);l=l.yc;if(g.vp)c.L.warn("requestHeadersFromManifest, shutdown detected");else if(g.Wj.CO(g.wa,l)){t=(q=null===(m=null===(h=c.hL(f))||void 0===h?void 0:h.Oz)||void 0===m?void 0:m.R,null!==q&&void 0!==q?q:0);h=k.bva(l,t);void 0===h&&c.L.warn("Unable to find stream for bitrate "+t);h=l[h];(m=g.fj(f,h.oa))&&m.stream.V?g.Xzb(f,m):(f={offset:0,eG:!1,ew:1===f,Iq:!0,mF:!c.WV(g)},g.Isa(h,f,b));}else c.L.warn("requestHeadersFromManifest, unable to update urls");}});g.xV=!0;(null===(f=this.zf)||void 0===f?void 0:f.call(this,g.Pa)).VS();};c.prototype.AG=function(a){var b,c,f,g;b=this.K;c=this.fj(a.M,a.oa);if(c)return c.stream.V||c.eG&&this.Yra(c),!1;c=this.jZa;f=this.kZa;if(void 0!==b.oba&&void 0!==c&&void 0!==f){g=d.time.fa();if(g-c<b.oba||g-f<b.oba)return!1;}a=this.yZ(a,{url:a.url,offset:0});this.kZa=d.time.fa();return a;};c.prototype.yZ=function(a,d,c,g){var h,k,m,p;m=a.M;f.Yk.Dl(m);p=a.oa;if(this.JXa(p,!!d.Iq))return null===(h=this.OR)||void 0===h?void 0:h.call(this),!1;if(h=this.fj(m,p))a=!1;else{h=b.__assign(b.__assign({},d),{aa:this.qYa(a)});c=this.cV(m,!!h.Iq,!!h.ew,!!h.mF,!!c);a.url&&(this.hL(m).gaa=a.url);h=c=this.r2(a,c,h);if(!c.dr())return this.Kc.ci("MediaRequest open failed (2)",a.O.Pa,"NFErr_MC_StreamingFailure"),!1;a=!0;}d.Iq&&g&&(this.Kc.Qf[m]=h);null===(k=this.OR)||void 0===k?void 0:k.call(this);return a;};c.prototype.Vp=function(){var a,b;a=this;b=[];this.lq.forEach(function(d,c){var h;f.Yk.Dl(c);for(var g in d){c=d[g];h=c.HZ();1===h?b.push(c):2===h&&a.Kc.ci("swapUrl failure");}});return b;};c.prototype.oj=function(a){var b,c;b=a.M;c=f.Yk.Dl(b);this.Kc.vp?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.Nk({type:"logdata",target:"startplay",od:{usedNativeDataView:a.OAb}}),a.DX>a.Opb&&(this.loa[b]=a.DX),a.eG&&this.Yra(a),this.RYa(a),this.jZa=d.time.fa(),this.Kc.xw.emit("onHeaderRequestComplete",a),this.Kq(a));};c.prototype.xS=function(a,b,d){var c;c=a.M;f.Yk.Dl(c);c=this.Kc.Oq(c,a.oa);if(b!==!!a.cj)return!1;this.Ypa(a);a.u2a(c);this.cna(a);this.Kc.xw.emit("onHeaderFromCache",{Vn:a,bdb:d});return!0;};c.prototype.d4=function(a,b){var d,c,f,g;d=[];c=this.lq[a];for(f in c){g=c[f];g&&!g.stream.V&&g.ph===b&&(this.M6(a,f),d.push({stream:g.stream,offset:g.offset,aa:g.aa,ew:g.ew,Iq:g.Iq,mF:g.mF,hca:g.hca}));}return d;};c.prototype.Cda=function(a){var b;b=this;a.forEach(function(a){b.yZ(a.stream,a);});};c.prototype.Ypa=function(a){this.lq[a.M][a.oa]=a;};c.prototype.yxa=function(a){return!!this.fj(1,a);};c.prototype.RYa=function(a){var b,d,c,g,k;b=this.K;d=f.Yk.Dl(a.M);c=a.stream.V;if(b.w6){g=c.length;d.trace("fragment count:",g);for(var h=0;h<g;++h){k=c.get(h);d.trace("fragment: "+h+", startPts: "+k.U+", duration: "+k.duration+", offset: "+k.offset);}}this.cna(a);if(b.uF&&b.uF.enabled&&void 0===c.Bx&&b.uF.simulatedFallback){g=c.length;b=[];for(h=0;h<g;++h)b[h]=Math.max(0,a.stream.Bc+this.V_a(h));c.Awb(b);}};c.prototype.cna=function(a){var b,d;b=a.M;d=a.oa;f.Yk.Dl(b);a.MM&&(a.MM.forEach(function(c){(c=c.Oq(b,d))&&c!==a.stream&&!c.pd&&c.mT(a.stream);}),a.MM=void 0);this.Kc.Ohb(a);};c.prototype.r2=function(a,b,d){var c,g;c=this;g=f.Yk.Dl(a.M);a=new h.yga(a,this.K,b,d,this,!1,g);a.addListener("headerRequestCancelled",function(a){c.QYa(a.request);});a.Sb(void 0);this.Ypa(a);return a;};c.prototype.JXa=function(a,b){return this.If&&(a=this.If.ZL(this.Kc.u,a))&&this.xS(a,!1,b)?!0:!1;};c.prototype.qYa=function(a){var b,d,c;b=a.or;d=a.O;c=this.K;return d.pe.ff?c.jU?c.jU:c.wV:c.cIa&&b?b.offset+b.size:(a=this.loa[a.M])?a+128:2292+12*Math.ceil(d.duration/2E3);};c.prototype.QYa=function(a){this.M6(a.M,a.oa);};c.prototype.M6=function(a,b){delete this.lq[a][b];};c.prototype.Yra=function(a){this.kC===a.oa&&(this.kC=void 0);};c.prototype.V_a=function(a){var b;b=this.K.uF.fallbackBound;void 0===this.Z3[a]&&(this.Z3[a]=Math.floor(2*Math.random()*b)-b);return this.Z3[a];};return c;}(g.Gr);c.uOa=a;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(27);h=a(3).Wr;g=function(a){function d(b){var d;d=a.call(this)||this;d.cpa=b;d.jR=b.groupId;d.Hg=new f.Mx();d.Hg.on(d,h.Hd.FH,d.GI);d.Hg.on(d,h.Hd.ay,d.FC);return d;}b.__extends(d,a);d.prototype.Npb=function(a,b,d){h.prototype.open.call(this,a,b,d);};d.prototype.iwb=function(a){this.jR=a;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.jR;},enumerable:!0,configurable:!0}});d.prototype.ec=function(){this.Hg&&this.Hg.clear();h.prototype.ec.call(this);};d.prototype.GI=function(a){this.cpa.dsb(a.probed,a.affected);this.ec();};d.prototype.FC=function(a){this.cpa.$rb(a.probed,a.affected);this.ec();};return d;}(h);c.AJa=g;},function(g,c,a){var f,h,q;function b(a,b){this.BI=a;this.wy=0===Math.floor(1E6*Math.random())%b.xA;this.groupId=1;this.config=b;this.vt={};this.cx={};}f=a(6);h=a(3);new h.Console("ASEJS_PROBE_MANAGER","asejs");q=a(826).AJa;b.prototype.constructor=b;b.prototype.csb=function(a,b){var d,c,g,k,m,q,l,n,r,S,T;d=this.BI;c=a.Db;g=d.qGa(a.url);k=d.wW(a.url);m=this.config;q=h.time.fa();n=b;r=[];S=g.Hk[0];T=!1;l=this.vt[c];if(!l)l=this.vt[c]={count:0,kh:q,qu:!1,error:b,nea:[],Oca:{}};else if(l.kh>=q-m.oZ)return;l.qu||(S&&k.id===S.id&&(a.isPrimary=!0),l.kh=q,l.qu=!1,l.error=b,++l.count,g&&g.fd&&0!==g.fd.length&&(f.forEach(g.fd,function(b){var d,f,g;d=b.ac.id;f=d+"-"+c;g=this.cx[f];if(void 0===g||void 0===g.WX)g&&g.Yl&&clearTimeout(g.Yl),b=this.Ksa(b.url,a,d),this.cx[f]={Z:!1,count:0,WX:b.hj()},r.push(b.hj()),T=!0;-1===l.nea.indexOf(d)&&l.nea.push(d);},this),this.wy&&0<r.length&&(g={type:"logdata",target:"endplay",fields:{}},b=n,n={ts:h.time.fa(),es:b.lqa,fc:b.Uh,fn:b.Pua,nc:b.Yj,pb:r,gid:this.groupId},b.uL&&(n.hc=b.uL),g.fields.errpb={type:"array",value:n,adjust:["ts"]},d.Nk(g)),T&&this.groupId++));};b.prototype.Ksa=function(a,b,c){var d,f,g;d=this.BI.wW(b.url);d&&d.gb&&d.gb.sp&&d.gb.sp.Ca||Math.random(0,1);d=new q(this);f=a.split("?");g="random="+parseInt(1E7*Math.random(),10);d.Npb(1<f.length?a+"&"+g:a+"?"+g,b,c);return d;};b.prototype.dsb=function(a,b){var d,c,f,g,k,m,q,l;d=this.BI;c=this.config;f=b.Db;g=this.vt[f];m=a.url;q=this.cx[a.Db+"-"+f];if(g&&(k=g.error,q)){q&&q.Yl&&clearTimeout(q.Yl);q.Z=!0;q.count=0;q.WX=void 0;g.Oca[a.Db]=!0;(q=this.vt[a.Db])&&!0===q.qu&&c.Js&&(d.vEa(a.Db,q.error.xO[1]),this.wy&&(q={type:"logdata",target:"endplay",fields:{}},q.fields.errst={type:"array",value:{ts:h.time.fa(),id:a.requestId,servid:b.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.Nk(q)),this.vt[a.Db]=void 0);if(m!==b.url){l=this.cx[f+"-"+f];l&&l.Z||(f=(f=d.wW(m))&&f.gb&&f.gb.sp&&f.gb.sp.Ca||Math.random(0,1)*c.HW,f=Math.min(f,c.HW),setTimeout(function(){var c;if(!(!1!==g.qu||l&&l.Z)&&(g.qu=!0,d.Sm(k.xO[0],k.xO[1],b.url,k),this.wy)){c={type:"logdata",target:"endplay",fields:{}};c.fields.erep={type:"array",value:{ts:h.time.fa(),id:a.requestId,servid:b.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]};d.Nk(c);}}.bind(this),f));}this.wy&&(q={type:"logdata",target:"endplay",fields:{}},q.fields.pbres={type:"array",value:{ts:h.time.fa(),id:a.requestId,result:1,servid:a.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.Nk(q));}};b.prototype.$rb=function(a,b){var d,c,g,k,m,q,l,n,r,S;d=this.BI;c=parseInt(b.Db,10);g=this.vt[c];k=parseInt(a.Db,10);m=this.cx[k+"-"+c];q=0;r=this.config;if(m&&g){m.Z=!1;m.WX=void 0;g.Oca[k]=!1;n=g.nea;if(r.Js&&k===c&&b.isPrimary){S=d.wW(b.url);S=S&&S.gb&&S.gb.sp&&S.gb.sp.Ca||300*Math.random(0,1);S=S*Math.pow(2,m.count);S=Math.min(S,12E4);S=S+Math.random(0,1)*(1E4>S?100:1E4);m.Yl=setTimeout(function(){var d;m.Yl=void 0;d=this.Ksa(a.url,b,k);d.iwb(a.groupId);m.WX=d.hj();}.bind(this),S);}++m.count;k===c&&(q=0,n.forEach(function(a){!1===g.Oca[a]&&q++;}),n.length===q&&g.count>=r.LW&&(l=g.error,g.qu=!0,f.forEach(d.qGa(b.url).fd,function(a){var b;d.Sm(l.xO[0],l.xO[1],a.url,l);if(this.wy){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.fa(),id:-1,servid:a.ac.id},adjust:["ts"]};d.Nk(b);}},this)));this.wy&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.pbres={type:"array",value:{ts:h.time.fa(),id:a.requestId,result:0,servid:a.Db,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.Nk(c));}};b.prototype.CZ=function(a){var b,d,c;b=a.url||a.mediaRequest.url;if(b){a=this.BI;b=a.lFa(b);d=this.vt[b];c=this.cx[b+"-"+b];d&&d.qu&&this.config.Js&&(a.vEa(d.error.lqa,!1),this.wy&&(d={type:"logdata",target:"endplay",fields:{}},d.fields.errst={type:"array",value:{ts:h.time.fa(),id:-1,servid:b},adjust:["ts"]},a.Nk(d)),this.vt[b]=void 0,c&&c.Yl&&clearTimeout(c.Yl));}};b.prototype.reset=function(){var a,b,c;a=this.cx;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.Yl&&clearTimeout(b.Yl);this.cx={};this.vt={};};g.P=b;},function(g,c,a){var b,f,h,q,d,k,p,l,n,y,r,x,H,G;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(13);h=a(3);q=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");d=a(827);k=h.Ej;p=k.Ku;l={};n={};g=[f.$f.Pr,!1];a=[f.$f.Pr,!0];y=[f.$f.fy,!1];r=[f.$f.fy,!0];x=[f.$f.URL,!0];H=[-1,!1];G=[f.$f.fy,!1];l[p.nCb]=y;l[p.eMa]=y;l[p.mha]=y;l[p.qMa]=y;l[p.iMa]=r;l[p.EKa]=r;l[p.Qga]=G;l[p.n_]=G;l[p.FKa]=H;l[p.GKa]=G;l[p.HKa]=G;l[p.BKa]=y;l[p.DKa]=y;l[p.Pga]=g;l[p.CKa]=y;l[p.AKa]=G;l[p.EDb]=r;l[p.pOa]=G;l[p.yia]=G;l[p.xia]=G;l[p.s0]=G;l[p.uia]=G;l[p.oOa]=x;l[p.u0]=r;l[p.KP]=x;l[p.v0]=a;l[p.w0]=r;l[p.rOa]=x;l[p.LP]=G;l[p.zia]=r;l[p.qOa]=r;l[p.lMa]=r;l[p.fMa]=y;l[p.ZUa]=y;l[p.WLa]=y;l[p.XLa]=y;l[p.YLa]=y;l[p.ZLa]=y;l[p.$La]=y;l[p.aMa]=y;l[p.bMa]=y;l[p.cMa]=y;l[p.dMa]=y;l[p.gMa]=y;l[p.hMa]=y;l[p.jMa]=y;l[p.kMa]=y;l[p.mMa]=y;l[p.nMa]=y;l[p.oMa]=y;l[p.pMa]=y;l[p.rMa]=y;l[p.sMa]=y;l[p.YUa]=G;l[p.TIMEOUT]=g;n[p.Qga]=!0;n[p.yia]=!0;n[p.xia]=!0;n[p.uia]=!0;n[p.mha]=!0;g=function(){var I42;I42=2;while(I42!==12){switch(I42){case 2:a.prototype.uwb=function(a){var h42;h42=2;while(h42!==1){switch(h42){case 4:this.UY=a;h42=8;break;h42=1;break;case 2:this.UY=a;h42=1;break;}}};a.prototype.Sm=function(a,d,c,g){var y42,h,m,p,t,u,r,x,B,P,Y11,R11,u11,j11,T11;y42=2;while(y42!==23){Y11="Unmappe";Y11+="d failure code in JSA";Y11+="SE error direc";Y11+="tor : ";R11=" : critical error c";R11+="ou";R11+="nt =";R11+=" ";u11=" o";u11+="n";u11+=" ";j11="F";j11+="ailu";j11+="re ";T11="Invali";T11+="d affec";T11+="ted ";T11+="for network fail";T11+="ure";switch(y42){case 11:y42=r!==H?10:23;break;case 26:q.error(T11);return;break;case 8:u=this.Wj;q.warn(j11+p+u11+JSON.stringify(a)+R11+this.qT);y42=6;break;case 20:x=u.lFa(a.url);y42=19;break;case 6:y42=c&&b.isArray(l[c])?14:24;break;case 19:x&&(m[x]=[a.url]);y42=18;break;case 27:m=u.Tvb(a.host,a.port);y42=18;break;case 15:y42=void 0!==a.host&&void 0!==a.port?27:26;break;case 2:h=this;m=k.Ku.name;p=c?m[c]:void 0;y42=3;break;case 10:y42=void 0!==a.url?20:15;break;case 18:B=r[0];P=r[1];t.Hp?b.forEach(m,function(b,k){var N42,B11;N42=2;while(N42!==5){B11="e";B11+="r";B11+="r";B11+="o";B11+="r";switch(N42){case 2:r===G||r===y?h.Mca.csb({url:void 0!==a.url?a.url:b[0],Db:k},{lqa:k,xO:r,uL:d,Uh:c,Pua:p,Yj:g}):b.some(function(a){var r42;r42=2;while(r42!==5){switch(r42){case 2:u.Sm(B,P,a);return B===f.$f.fy;break;}}});!h.UY||0!==d&&void 0!==d||(b=void 0!==a.url?a.url:b[0])&&h.UY.cea(B11,b);N42=5;break;}}}):b.forEach(m,function(b,c){var Z42,U11;Z42=2;while(Z42!==5){U11="er";U11+="ro";U11+="r";switch(Z42){case 2:Z42=r!==G||h.cub(c)?1:5;break;case 1:b.some(function(a){var k42;k42=2;while(k42!==5){switch(k42){case 2:u.Sm(B,P,a);return B===f.$f.fy;break;}}}),!h.UY||0!==d&&void 0!==d||(b=void 0!==a.url?a.url:b[0])&&h.UY.cea(U11,b);Z42=5;break;}}});y42=23;break;case 3:m={};t=this.config;y42=8;break;case 14:r=l[c];this.mW={uL:d,Uh:c,Pua:p,Yj:g};n[c]&&++this.qT;y42=11;break;case 24:h4KK.z11(0);q.error(h4KK.n11(c,Y11));y42=23;break;}}};a.prototype.cub=function(a){var V42,b,d,c;V42=2;while(V42!==13){switch(V42){case 2:b=h.time.fa();d=this.config;c=this.rfa[a];V42=3;break;case 9:V42=c.kh<this.RE?8:7;break;case 3:V42=c?9:14;break;case 8:c.kh=b,c.count=1;V42=13;break;case 14:this.rfa[a]={kh:b,count:1};V42=13;break;case 7:V42=!(c.kh>=b-d.oZ||c.qu||(c.kh=b,++c.count,c.count<d.LW))?6:13;break;case 6:return c.qu=!0;break;}}};a.prototype.Shb=function(a){var a42,b,d,c,f,g,k,m,l11,N11,X11,G11,x11;a42=2;while(a42!==6){l11="te";l11+="mp";l11+="or";l11+="ar";l11+="ily";N11="per";N11+="ma";N11+="n";N11+="e";N11+="ntly";X11=" las";X11+="t succes";X11+="s was";X11+=" ";G11="Network h";G11+="as ";G11+="fa";G11+="iled";G11+=" ";x11=" ";x11+="ms";x11+=" ";x11+="ag";x11+="o";switch(a42){case 7:c?(this.PF&&(clearTimeout(this.PF),this.PF=void 0),this.Zra(),this.Mca.reset(),this.mW&&(f=this.mW.Uh,g=this.mW.uL,k=this.mW.Yj),this.Zhb({Vjb:a,Ppb:f,Qpb:g,Rpb:k})):this.PF||(this.PF=setTimeout(function(){var v42;v42=2;while(v42!==5){switch(v42){case 2:b.PF=void 0;b.sN();v42=5;break;}}},m.yba));a42=6;break;case 2:b=this;d=h.time.fa()-this.RE;c=a;m=this.config;h4KK.r11(1);q.warn(h4KK.i11(d,x11,G11,X11,a?N11:l11));!a&&d>m.xba&&(c=!0);a42=7;break;}}};a.prototype.sN=function(a){var i52;i52=2;while(i52!==1){switch(i52){case 2:this.PF||(this.Wj.sN(!!a),this.rfa={},this.Qq());i52=1;break;}}};a.prototype.CZ=function(a){var w52,b;w52=2;while(w52!==9){switch(w52){case 2:b=this.config;this.RE=Math.max(a.timestamp||h.time.fa(),this.RE);this.Zra();b.Hp&&this.Mca.CZ(a);w52=9;break;}}};I42=8;break;case 8:a.prototype.rX=function(){var b52;b52=2;while(b52!==1){switch(b52){case 2:this.qT=0;b52=1;break;case 4:this.qT=2;b52=2;break;b52=1;break;}}};a.prototype.Ol=function(){var q52,a,b,d,c11,S11;q52=2;while(q52!==8){c11="m";c11+="s";S11="Se";S11+="tting underflow timeout ";S11+="in ";switch(q52){case 2:a=this;b=this.config;d=b.Raa;this.RE=Math.max(h.time.fa(),this.RE);q52=9;break;case 9:b.DAb&&!this.zO&&(q.info(S11+d+c11),this.zO=setTimeout(function(){var B52,Q11,b11;B52=2;while(B52!==4){Q11="ms, since underflo";Q11+="w with no succes";Q11+="s";b11="Forcing p";b11+="ermanent networ";b11+="k failure a";b11+="fter ";switch(B52){case 2:h4KK.z11(2);q.info(h4KK.n11(d,b11,Q11));a.zO=void 0;a.Wj.Sm(f.$f.Pr,!0);B52=4;break;}}},d));q52=8;break;}}};a.prototype.Zra=function(){var C52,t11;C52=2;while(C52!==1){t11="Cleare";t11+="d unde";t11+="rflow timeout";switch(C52){case 2:this.zO&&(clearTimeout(this.zO),this.zO=void 0,q.info(t11));C52=1;break;}}};a.prototype.djb=function(){var T52,b,d,c,f,k11,s11,M11;function a(a){var U52,b,d,c;U52=2;while(U52!==3){switch(U52){case 1:U52=b?5:4;break;case 5:c=Math.floor(Math.random()*b--),d=a[b],a[b]=a[c],a[c]=d;U52=1;break;case 2:b=a.length;U52=1;break;case 4:return a;break;case 14:return a;break;U52=3;break;}}}T52=2;while(T52!==11){k11="Initialized network failure ";k11+="simul";k11+="ation \"";s11="manifestA";s11+="dde";s11+="d";M11="manifestA";M11+="dde";M11+="d";switch(T52){case 6:T52=c==="2"?14:13;break;case 8:d.on(M11,function(){var d52,c;d52=2;while(d52!==9){switch(d52){case 2:c=[];f.n=f.n||0;d.ova(function(a,b,d,g){var H52;H52=2;while(H52!==1){switch(H52){case 2:f[g.id]||(f[g.id]=!0,c.push(g.id));H52=1;break;}}});d52=3;break;case 3:a(c).forEach(function(a){var A52;A52=2;while(A52!==5){switch(A52){case 2:setTimeout(function(){var z52;z52=2;while(z52!==1){switch(z52){case 2:b.Sm({url:a},k.Ku.w0);z52=1;break;}}},4E3+f.n);f.n+=1E3;A52=5;break;}}});d52=9;break;}}});T52=7;break;case 9:T52=c==="1"?8:6;break;case 14:d.on(s11,function(){var j52,a;j52=2;while(j52!==9){switch(j52){case 2:a=[];f.n=f.n||0;d.ova(function(b,d,c,g){var J52;J52=2;while(J52!==1){switch(J52){case 2:f[g.id]||(f[g.id]=!0,a.push({R:c.R,url:g.id}));J52=1;break;}}});a.sort(function(a,b){var L52;L52=2;while(L52!==1){switch(L52){case 2:return b.R-a.R;break;case 4:return b.R+a.R;break;L52=1;break;}}}).map(function(a){var n52;n52=2;while(n52!==1){switch(n52){case 2:return a.url;break;case 4:return a.url;break;n52=1;break;}}}).forEach(function(a){var S52;S52=2;while(S52!==5){switch(S52){case 2:setTimeout(function(){var r52;r52=2;while(r52!==1){switch(r52){case 2:d.ut()||b.Sm({url:a},k.Ku.KP);r52=1;break;}}},5E3*Math.random());f.n+=1E3;S52=5;break;}}});j52=9;break;}}});T52=7;break;case 13:return;break;case 2:b=this;d=this.Wj;c=this.config.y6;f={n:0};T52=9;break;case 7:h4KK.r11(2);q.warn(h4KK.i11(c,k11,'"'));T52=11;break;}}};return a;break;}}function a(a,b,c,f){var S42,W11,O11;S42=2;while(S42!==11){W11="netwo";W11+="rkFail";W11+="ed";O11="1SIYbZrN";O11+="JC";O11+="p9";switch(S42){case 13:this.Mca=new d(a,b);this.djb();S42=11;break;case 2:this.Wj=a;this.config=b;this.Zhb=c;this.Qq=f;O11;S42=9;break;case 9:l[p.s0]=b.Eib?r:G;this.Wj.on(W11,this.Shb.bind(this));this.RE=h.time.fa();this.qT=0;this.rfa={};S42=13;break;}}}}();c.DNa=g;},function(g,c,a){var b,f,h,q,d,k,p,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(7);h=a(128);q=a(226);g=a(3);d=a(392);a=a(394);k=new g.Console("FRAGMENTS","media|asejs");try{p=!0;}catch(u){p=!1;}l=function(a){function d(b,d){d=a.call(this,b.Bo,d)||this;d.Dy=b;return d;}b.__extends(d,a);Object.defineProperties(d.prototype,{aa:{get:function(){return this.Dy.exb(this.Xi);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{offset:{get:function(){return this.Dy.ug(this.Xi);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{rba:{get:function(){return this.Dy.jF&&this.Dy.jF[this.Xi];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Nh:{get:function(){return this.Dy.Mdb(this.Xi);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bc:{get:function(){return this.Dy.Bx&&this.Dy.Bx[this.Xi];},enumerable:!0,configurable:!0}});d.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.fb,contentEndTicks:this.xb,durationTicks:this.Qn,timescale:this.ea,startPts:this.U,endPts:this.ga,duration:this.duration,additionalSAPs:this.Nh};};return d;}(a.gWa);c.JJb=l;g=function(){function a(a,b,d,c,f,g){this.EC=128;this.Wb=a;this.Jd=b.offset;this.lm=b.sizes;this.eC=this.iI=this.mg=this.Dpa=this.L3=void 0;this.IZa=d;this.W1=c&&c.ug;this.Ppa=f;this.rv=Math.min(this.Wb.length,this.lm.length);this.vZa=this.V4a();this.Bo.un.length!==this.lm.length&&k.error("Mis-matched stream duration ("+this.Bo.un.length+","+this.lm.length+") for movie id "+g);this.Bo.AS&&!this.W1&&k.error("Mis-matched additional SAPs information for movie id "+g);}a.hMb=function(a,b){var d,c;b=b.ea;d=b/1E3;c=new DataView(a);a=Math.floor(a.byteLength/16);return{ea:b,tj:c.getUint32(4)*d,offset:65536*c.getUint32(8)+c.getUint16(12),sizes:h.yE(c,0,a,16),Bd:q.from(Uint32Array,{length:a},function(a,b){return c.getUint16(16*b+14)*d;})};};Object.defineProperties(a.prototype,{M:{get:function(){return this.Wb.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.rv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tj:{get:function(){return this.Wb.tj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{w7:{get:function(){return this.Wb.w7;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Wb.U;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Wb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Uaa:{get:function(){return this.Wb.Uaa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{KW:{get:function(){return this.vZa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.Wb.Ra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ea:{get:function(){return this.Wb.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wh:{get:function(){return this.Dpa||this.i2();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jF:{get:function(){return this.IZa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{iqa:{get:function(){return this.W1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bx:{get:function(){return this.Ppa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bo:{get:function(){return this.Wb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bG:{get:function(){return this.L3||this.VXa();},enumerable:!0,configurable:!0}});a.prototype.exb=function(a){if(this.lm)return this.lm[a];k.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.rh=function(a){return this.Wb.rh(a);};a.prototype.x7=function(a){return this.Wb.rh(a)+this.Wb.Bd(a);};a.prototype.ug=function(a){if(this.iI!==a||void 0===this.eC){if(0===a)return this.Jd;if(this.iI===a-1&&void 0!==this.eC)this.eC+=this.lm[this.iI],++this.iI;else{for(var b=this.mg||this.AXa(),d=Math.floor(a/this.EC),c=d*this.EC,b=b[d];c<a;++c)b+=this.lm[c];this.iI=a;this.eC=b;}}return this.eC;};a.prototype.Bd=function(a){return this.Wb.Bd(a);};a.prototype.get=function(a){return new l(this,a);};a.prototype.Mdb=function(a){var b,d,c;f.assert(0<=a);b=this.Bo.AS;d=this.Bo.jqa;c=this.W1;if(!c||!b||!d||a>=b.length)return[];for(var g=[],h=a===b.length-1?d.length:b[a+1],b=b[a];b<h;++b)g.push({Um:d[b],Oc:this.rh(a)+this.Ra.uba(d[b]).Va,offset:c[b]});return g;};a.prototype.Awb=function(a){this.Ppa=a;};a.prototype.Bl=function(a,b,d){return this.Wb.Bl(a,b,d);};a.prototype.nU=function(a,b,d){return this.Wb.nU(a,b,d);};a.prototype.b6=function(a,b){return this.Wb.b6(a,b);};a.prototype.hW=function(a,b,d){var c,f,g,h,k,m,p,q,l;c=!0;f=0;h=this.Wb.un;k=this.lm;m=Math.floor(a*this.ea/1E3);p=0;q=0;l=0;if(this.Wb.Nfa&&this.Wb.Mfa)for(f=this.Wb.Nfa;f<=this.Wb.Mfa;++f)p+=h[f],q+=k[f];if(q>b)c=!1;else for(;f<this.length&&(!d||f<d);){g=k[f];a=h[f];if(q+g>b&&p<m){c=!1;this.Wb.Nfa=l;this.Wb.Mfa=f;break;}for(;0<f-l&&q+g>b;)p-=h[l],q-=k[l],++l;p+=a;q+=g;++f;}return c;};a.prototype.subarray=function(b,d){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===d||d>b&&d<=this.length);return new a(this.Wb.subarray(b,d),{offset:this.ug(b),sizes:this.lm.subarray(b,d)},this.jF&&this.jF.subarray(b,d),this.iqa&&{ug:this.iqa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],d=0;d<this.length;++d)b.push(a(this.get(d),d,this));return b;};a.prototype.reduce=function(a,b){for(var d=0;d<this.length;++d)b=a(b,this.get(d),d,this);return b;};a.prototype.toJSON=function(){return{length:this.length};};a.prototype.dump=function(){var b;k.trace("StreamFragments: "+this.length);for(var a=0;a<this.length;++a){b=this.get(a);k.trace("StreamFragments: "+a+": ["+b.U+"-"+b.ga+"] @ "+b.offset+", "+b.aa+" bytes");}};a.prototype.V4a=function(){var a,b,d,c,f;b=0;d=this.Wb.iAa;c=this.Wb.un;f=this.lm;if(void 0===d||d>=this.length){for(var g=0;g<this.length;++g)a=f[g]/c[g],a>b&&(b=a,d=g);void 0===this.Wb.iAa&&(this.Wb.iAa=d);}else b=f[d]/c[d];return Math.floor(b*this.ea/125);};a.prototype.i2=function(){for(var a=0,b=0;b<this.length;++b)a+=this.lm[b];return this.Dpa=a;};a.prototype.VXa=function(){return this.L3=new d.fma(this.Wb.un,this.lm,this.Wb.ea);};a.prototype.AXa=function(){var a;if(!this.mg){a=p?new Float64Array(Math.ceil(this.length/this.EC)):Array(Math.ceil(this.length/this.EC));for(var b=this.Jd,d=0;d<a.length;++d){a[d]=b;for(var c=0;c<this.EC;++c)b+=this.lm[d*this.EC+c];}this.mg=a;}return this.mg;};return a;}();c.GVa=g;g.prototype.jGa=a.Faa(g.prototype.rh);},function(g,c,a){var f,h,q,d,k,p,l;function b(a,b){var d,c;d=Math.floor(1E3*a/b);c=1E3*Math.round(d/1E3);return new k.Xa(c,Math.abs(Math.floor(1001*a/b)-c)>Math.abs(d-c)?1E3:1001);}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);h=a(57);q=a(6);d=a(394);k=a(28);a(7);p=a(26);l=a(393);g=function(){function a(d,c,f){this.K=c;this.L=f;this.eoa=!1;this.b3=d.Vz;this.Kc=d.O;this.dg=d.M;this.V0a=d.vZ;this.XWa=d.dJ;1===this.dg&&(c=this.b3.streams[0],void 0!==c.framerate_value&&void 0!==c.framerate_scale&&(this.a3=b(c.framerate_value,c.framerate_scale).ftb()));this.Cs=(this.oC=this.a3)&&this.oC.ea;this.L2=this.Lna=!1;this.Z9=-Infinity;this.Pza=Infinity;d=a.XXa(this,d.ff,d.Aq);c=d.eo;f=d.yc;this.VYa=d.tV;this.uZa=c;this.As=f;this.H0a=f.reduce(function(a,b){a[b.oa]=b;return a;},{});!1;}a.XXa=function(a,b,d){var c,g,k,m,t,n;c=a.K;g=1===a.M;k={};c.XN&&c.XN.enabled&&c.XN.profiles&&c.XN.profiles.forEach(function(a){k[a]={action:c.XN.action,applied:!1};});m=!1;t=0;n=[];a.Vz.streams.forEach(function(u,r){var y,x,B,G,H;x=u.bitrate;B=u.vmaf;G=u.content_profile;H={inRange:!0,hf:!0};if(g){y=-1===u.content_profile.indexOf("none");H.hf=b&&!y||!b&&y;H.hf&&d&&h(p.C4(u.content_profile,u.bitrate,d),H);if(x<c.Bnb||x>c.xmb)H.inRange=!1;!q.Ia(B)&&(B<c.Cnb||B>c.ymb)&&(H.inRange=!1);k.hasOwnProperty(G)&&"keepLowest"===k[G].action&&(k[G].applied?H.inRange=!1:k[G].applied=!0);m=m||y;}H.inRange&&H.hf&&x>t&&(t=x);u=new l.BJa(f.__assign({Uz:u,uh:r,track:a},H),c,a.L);n.push(u);});return{tV:m,eo:t,yc:n};};Object.defineProperties(a.prototype,{kob:{get:function(){return!this.pd&&!this.eoa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pd:{get:function(){return!!this.Bo&&!!this.NV;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{h7:{get:function(){return this.Lna;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Kc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return String(this.Kc.u);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ab:{get:function(){return this.b3.track_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.dg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.oC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ea:{get:function(){return this.Cs;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kF:{get:function(){return this.KZa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bo:{get:function(){return this.Wb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NV:{get:function(){return this.N2;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vz:{get:function(){return this.b3;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{vZ:{get:function(){return this.V0a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{dJ:{get:function(){return this.XWa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tV:{get:function(){return this.VYa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eo:{get:function(){return this.uZa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yc:{get:function(){return this.As;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{r8:{get:function(){return this.Ra.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{q8:{get:function(){return this.Ra.Ud;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return 0;},enumerable:!0,configurable:!0}});a.prototype.Oq=function(a){return this.xE()[a];};a.prototype.xE=function(){return this.H0a;};a.prototype.equals=function(a){return this.u===a.u&&this.M===a.M&&this.ab===a.ab;};a.prototype.Tba=function(){this.eoa=!0;};a.prototype.sX=function(a,b,c,f,g){if(f&&void 0!==f.tj&&(this.pd||void 0!==f.Bd&&f.Bd.length))if(a.xp&&(this.Lna=!0),this.pd)!this.L2&&f.Bd&&f.Bd.length>this.Bo.length&&(this.Wb=new d.Bma(this.M,this.Ra,f,g),this.N2=a,this.Z9=-Infinity,this.L2=!0);else{this.xpa(b);if(c=c||this.a3)this.wpa(c||this.a3),void 0===this.ea&&this.ypa(c.ea);this.Wb=new d.Bma(this.M,this.Ra,f,g);this.N2=a;a.xp&&(this.L2=!0);}else this.L&&this.L.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.O6a=function(a){this.pd||(this.ypa(a.ea),this.xpa(a.kF),this.wpa(a.Ra),this.Wb=a.Bo,this.N2=a.NV);};a.prototype.toJSON=function(){return{movieId:this.u,mediaType:this.M,trackId:this.ab};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.ab;};a.prototype.ypa=function(a){this.Cs=a;};a.prototype.xpa=function(a){this.KZa=a;};a.prototype.wpa=function(a){this.oC=a;};return a;}();c.CJa=g;},function(g){function c(a,b){this.Ca=a;this.$g=b;}c.prototype.Cca=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),c=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),g=0;2>g;g++)var h=Math.abs(c),d=1/(1+h/2),h=d*Math.exp(-h*h-1.26551223+d*(1.00002368+d*(.37409196+d*(.09678418+d*(-.18628806+d*(.27886807+d*(-1.13520398+d*(1.48851587+d*(-.82215223+.17087277*d))))))))),h=(0<=c?h:2-h)-b,c=c+h/(1.1283791670955126*Math.exp(-(c*c))-c*h);a=1>a?c:-c;}return this.Ca-Math.sqrt(2*this.$g)*a;};g.P=c;},function(g,c,a){var f;function b(a){this.UF=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.UF[b]=a.charCodeAt(b);}f=new(a(3)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,d;b=this.UF.length;if(void 0===this.UF)f.warn("XORCiper.encrypt is called with undefined secret!");else{d="";for(var c=0;c<a.length;++c)d+=String.fromCharCode(this.UF[c%b]^a.charCodeAt(c));return encodeURIComponent(d);}};b.prototype.decrypt=function(a){var b,d;b="";d=this.UF.length;a=decodeURIComponent(a);for(var c=0;c<a.length;c++)b+=String.fromCharCode(this.UF[c%d]^a.charCodeAt(c));return b;};g.P=b;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(85);f=a(7);g=function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===Object.keys(this.data).length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b+a.data[c].length;},0);},enumerable:!0,configurable:!0}});a.prototype.get=function(a){var b;return b=this.data[a],null!==b&&void 0!==b?b:[];};a.prototype.has=function(a,b){return(a=this.data[a])?void 0===b?!0:-1!==a.indexOf(b):!1;};a.prototype.count=function(a){return(a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return b.lw(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a]||(this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var d,c;d=this.data[a];if(void 0===d)return!1;if(void 0===b)return f.assert(1===arguments.length),delete this.data[a],!0;c=d.indexOf(b);if(-1===c)return!1;1===d.length?delete this.data[a]:d.splice(c,1);return!0;};a.prototype.forEach=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;this.keys().forEach(function(b){return d.data[b].forEach(function(c){return a(c,b,d);});});};a.prototype.reduce=function(a,b,c){var d,f;d=this;a=void 0!==c?a.bind(c):a;f=b;this.forEach(function(b,c){f=a(f,b,c,d);});return f;};a.prototype.map=function(a,d){var c;c=this;a=void 0!==d?a.bind(d):a;return b.lw(this.keys().map(function(b){return c.data[b].map(function(d){return a(d,b,c);});}));};a.prototype.filter=function(a,d){var c;c=this;a=void 0!==d?a.bind(d):a;return b.lw(this.keys().map(function(b){return c.data[b].filter(function(d){return a(d,b,c);});}));};return a;}();c.BRa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(){function a(a,b){this.o=a;this.Dt=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!0,configurable:!0}});a.prototype.addListener=function(a){-1===this.Dt.indexOf(a)&&(this.Dt=this.Dt.slice(),this.Dt.push(a));};a.prototype.removeListener=function(a){a=this.Dt.indexOf(a);-1!==a&&(this.Dt=this.Dt.slice(),this.Dt.splice(a,1));};return a;}();c.HIb=g;g=function(a){function c(b,d){return a.call(this,b,d)||this;}b.__extends(c,a);Object.defineProperties(c.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!0,configurable:!0}});c.prototype.set=function(a){var b,c;b=this.o;c=this.Dt;this.o=a;c.forEach(function(d){return d({oldValue:b,newValue:a});});};return c;}(g);c.aQ=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);g=a(3);f=g.Ej;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,d,c){this.Ml=c;this.t1a=new b.TWa(a);this.s1a=d.ia;this.tXa=1E3*d.Umb/d.v4a;this.iYa=d.cw;this.py=d.G5;}a.prototype.wm=function(a){var d;d={s_xid:this.s1a,dl:this.iYa?1:0};a.EJ&&(d.bs=b.cT(Math.floor(a.EJ/this.tXa)+1,1,5));a.kX&&(d.limit_rate=a.kX);a.ira&&(d.bb_reason=a.ira);a.aHa&&(d.tm=a.aHa);a.nT&&a.EJ&&a.EJ>this.py.rM&&(this.py.hN[0]&&(d.cpr_ss=this.py.hN[0]*a.nT),this.py.hN[1]&&(d.cpr_ca=this.py.hN[1]*a.nT),this.py.hN[2]&&(d.cpr_rec=this.py.hN[2]*a.nT));return this.o_a(d);};a.prototype.cea=function(a,b){var d,c;try{d=new f(void 0,"notification");c=this.wm({ira:a});b&&c&&d.open(b,void 0,2,void 0,void 0,void 0,c);}catch(t){this.Ml("SideChannel: Error when sending sendBlackBoxNotification. Error: "+t);}};a.prototype.o_a=function(a){var b;try{b=this.s0a(a);return this.t1a.encrypt(b);}catch(k){this.Ml("SideChannel: Error when obfuscating msg. Error: "+k);}};a.prototype.s0a=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();c.wVa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.OG||(c.OG={});g[g.CLOSED=0]="CLOSED";g[g.OPEN=1]="OPEN";},function(g,c,a){var b,f,h,l,d,k,p,t,n,r,B,x,H;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(27);h=a(836);l=a(227);d=a(790);k=a(374);p=a(788);t=a(787);n=a(743);r=a(28);B=a(161);x=a(364);H=a(85);g=function(){function a(a){this.L=a;this.events=new f.EventEmitter();this.sq=h.OG.CLOSED;this.sS=[];this.BR=[];this.CR=[];this.IC=new n.KUa(this.R$.bind(this));this.OYa=new d.aOa();}Object.defineProperties(a.prototype,{state:{get:function(){return this.sq;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xca:{get:function(){return this.BR;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{OX:{get:function(){return this.CR;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Tb:{get:function(){this.mO();return this.tD.Tb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Om:{get:function(){this.mO();return this.tD.Om;},enumerable:!0,configurable:!0}});a.prototype.open=function(a,b){if(this.sq===h.OG.OPEN)return!1;this.tD=k.t_.Pwa(a,b);this.sq=h.OG.OPEN;return!0;};a.prototype.d2a=function(a,b){this.mO();a=new t.zJa(this.L,a,100,b,this.Mva.bind(this),this.IC.QJ.bind(this.IC));this.CR.push(a);return a;};a.prototype.b2a=function(a){this.mO();a=new p.xJa(a);this.BR.push(a);return a;};a.prototype.m2a=function(a,d,c,f){var k,m,p;function g(){}function h(a){k.events.emit("logdata",a);}k=this;this.mO();m=B.Yp.xe.AD("headers",""+a,!1,!1,{},c);p=[new x.aka(0),new x.aka(1)];a={sa:d,config:c,Gea:c.iz?b.__assign(b.__assign({},f),{Ml:g}):void 0,bb:function(){return!0;},Qh:!0,ZK:void 0,Tb:this.tD.Tb,Tg:this.tD.Tg,C7:{LE:function(){return!0;},Qq:g,ci:this.ci.bind(this,a),LL:function(){return!1;},Pp:g,Nk:h},S9:{Nk:h,cV:function(){return m;},hL:function(a){return p[a];},WV:function(){return!0;},He:void 0,zb:void 0,zf:void 0,yw:void 0},HA:{ZC:this.IC.ZC.bind(this.IC),kY:this.IC.kY.bind(this.IC)},Pa:0,Pk:void 0,aba:{ZV:!1,J$:!1},Aq:[],nF:void 0};a=new l.c_(a);this.sS.push(a);};a.prototype.mL=function(a){return this.Mva(a);};a.prototype.close=function(){this.N5a();};a.prototype.R$=function(){return this.OYa.Fpb(this.BR[0]?this.BR[0].position.offset:r.Xa.Ze,this.eV());};a.prototype.eV=function(){var a;a=this.CR.map(function(a){return a.eV();});return H.lw(a);};a.prototype.mO=function(){if(this.sq===h.OG.CLOSED)throw Error("Engine CLOSED");};a.prototype.N5a=function(){for(var a=0,b=this.sS;a<b.length;a++)b[a].ec();this.sS=[];};a.prototype.ci=function(a,b,d,c,f,g,h){this.CR.forEach(function(d){return d.ci(b,a,c,f,g,h);});};a.prototype.Mva=function(a){return H.Gv(this.sS,function(b){return b.wa===a;});};return a;}();c.dJa=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(837);h=a(3);c.xe=function(){var a;if(void 0===f){a=new h.Console("ASEJS","media|asejs");f=new b.dJa(a);}return f;};c.opa=function(){f=void 0;};},function(g,c,a){var b,f,h,l,d,k,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(27);f=a(3);h=a(396);l=a(14);d=a(362);k=a(739);p=new f.Console("ASEJS","media|asejs");p.trace.bind(p);g=function(c){var f11;f11=2;while(f11!==14){switch(f11){case 2:b.__extends(f,c);Object.defineProperties(f.prototype,{Tb:{get:function(){var E11;E11=2;while(E11!==1){switch(E11){case 2:return this.yq.Tb;break;case 4:return this.yq.Tb;break;E11=1;break;}}},enumerable:!0,configurable:!0}});f11=5;break;case 5:Object.defineProperties(f.prototype,{Om:{get:function(){var P11;P11=2;while(P11!==1){switch(P11){case 4:return this.yq.Om;break;P11=1;break;case 2:return this.yq.Om;break;}}},enumerable:!0,configurable:!0}});f.prototype.Sb=function(a,b,d,c,f,g){var q11;q11=2;while(q11!==1){switch(q11){case 2:this.yq.open(this.config,this.qZ,g);q11=1;break;}}};f.prototype.HX=function(){};f.prototype.xm=function(a,b,c,g,h,k,m,p){var e11;e11=2;while(e11!==5){switch(e11){case 2:this.OX[a.u]||(this.OX[a.u]=this.X8a(a,p,h));return this.Wkb=new d.RH(this,this.OX[a.u],b,{ib:f.XFa,offset:l.Xa.jp(c)},g,h,k,m);break;}}};f11=8;break;case 8:f.prototype.X8a=function(a,b,d){var F11,c,g;F11=2;while(F11!==9){var J11="l";J11+="a";J11+="z";J11+="y";switch(F11){case 2:g=Number(a.movieId);this.yq.m2a(g,a,b,{nA:d.nA,ia:d.ia,cw:d.cw});a.Wy?g=k.F5a(a.Wy):(a=f.XFa,g={ih:a,yg:J11,Za:(c={},c[a]={wa:g,Vf:0,Og:Infinity,On:null,next:{}},c)});return this.yq.d2a(g,b);break;}}};f.XFa=d.RH.XE(0);return f;break;}}function f(b,d){var V11,f;V11=2;while(V11!==12){var a11="D";a11+="EB";a11+="UG";a11+=":";var A11="nf-";A11+="ase";A11+=" shim version:";var w11="1S";w11+="IYbZ";w11+="rNJC";w11+="p9";switch(V11){case 7:f.yq=h.xe();f.OX={};w11;return f;break;case 4:f.qZ=d;b=a(361);f.console=p;f.console.trace(A11,b,a11,!1);V11=7;break;case 2:f=c.call(this)||this;f.config=b;V11=4;break;}}}}(g.EventEmitter);c.vVa=g;},function(g){function c(a,c,g,h){a.trace(":",g,":",h);c(h);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,f,g,h){g=h?g.bind(h):g;if(a){this.console&&(g=c.bind(null,this.console,g,f));if("function"===typeof a.addListener)a.addListener(f,g);else if("function"===typeof a.addEventListener)a.addEventListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.P=a;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(27);f=a(839);h=a(738);a=function(a){function d(b,d){var c;c=a.call(this)||this;c.K=b;c.Ob=new h.UPa(b,d);b.s7&&(c.kx=new f.vVa(b,d));["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"].forEach(function(a){c.Ob.on(a,function(b){return c.emit(a,b);});c.kx&&c.kx.on(a,function(b){return c.emit(a,b);});});return c;}b.__extends(d,a);Object.defineProperties(d.prototype,{Tb:{get:function(){return this.Ob.Tb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Om:{get:function(){return this.Ob.Om;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{yo:{get:function(){return this.Ob.yo;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{YY:{get:function(){return this.Ob.YY;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{M$:{get:function(){return this.Ob.M$;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Qea:{get:function(){return this.Ob.Qea;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{He:{get:function(){return this.Ob.He;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Tg:{get:function(){return this.Ob.Tg;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{j$:{get:function(){return this.Ob.j$;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{HX:{get:function(){return this.Ob.HX.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ZL:{get:function(){return this.Ob.ZL.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{xaa:{get:function(){return this.Ob.xaa.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{EFa:{get:function(){return this.Ob.EFa.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{KU:{get:function(){return this.Ob.KU.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$wa:{get:function(){return this.Ob.$wa.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Rt:{get:function(){return this.Ob.Rt.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Wra:{get:function(){return this.Ob.Wra.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{EZ:{get:function(){return this.Ob.EZ.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{US:{get:function(){return this.Ob.US.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{LJ:{get:function(){return this.Ob.LJ.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{i5:{get:function(){return this.Ob.i5.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{MJ:{get:function(){return this.Ob.MJ.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{TS:{get:function(){return this.Ob.TS.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{xra:{get:function(){return this.Ob.xra.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{wra:{get:function(){return this.Ob.wra.bind(this.Ob);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pFa:{get:function(){return this.Ob.pFa.bind(this.Ob);},enumerable:!0,configurable:!0}});d.prototype.Sb=function(a,b,d,c,f,g){this.Ob.Sb(a,b,d,c,f,g);this.kx&&this.kx.Sb(a,b,d,c,f,g);};d.prototype.xm=function(a,b,d,c,f,g,h,m,l,q){return this.kx&&m.JZ?this.kx.xm(a,b,d,c,f,g,h,m):this.Ob.xm(a,b,d,c,f,g,h,m,l,q);};d.prototype.addEventListener=function(a,b){this.addListener(a,b);return!0;};d.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return!0;};return d;}(g.EventEmitter);c.RQa=a;},function(g,c){var a;Object.defineProperty(c,"__esModule",{value:!0});g=a||(a={});g[g.Zr=0]="STOPPED";g[g.Zf=1]="BUFFERING";g[g.Gj=2]="REBUFFERING";g[g.z1=3]="STREAMING";c.Zk=a;},function(g,c){var a;Object.defineProperty(c,"__esModule",{value:!0});g=a||(a={});g[g.Dg=0]="STARTING";g[g.Zf=1]="BUFFERING";g[g.Gj=2]="REBUFFERING";g[g.Cc=3]="PLAYING";g[g.QH=4]="STOPPING";g[g.Zr=5]="STOPPED";g[g.ah=6]="PAUSED";c.pa=a;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(5);a=a(79);c.DIa=!0;c.Jla=!1;a=g.$.get(a.Vr);c.Lo={};c.Jja=a.tba;c.L_=a.tt;c.oNa=a.dE;c.qia=a.w8;c.RLa=a.MT;c.ZDb=a.Fta;c.$Db=a.MT;c.ULa=a.Ita;c.hGb=a.Ckb;c.kGb=a.Hza;c.hHb=!1;c.JRa=!0;c.bh={L_:a.tt,Lu:void 0,Ju:void 0,TLa:void 0,SLa:void 0,TSa:void 0,jha:void 0,QLa:void 0};},function(g,c,a){var f,h,l;function b(a){this.alb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(130);l=a(232);b.prototype.decode=function(a){var b;b=this.Ngb(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.c9(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.Eeb(a),timedtexttracks:this.fhb(a.textTracks,b),media:this.tE(a.media),trickplays:this.ohb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.Zeb(a),initialHeader:void 0,Rf:this.alb()};b.GA=a.GA;b.NF=a.NF;b.Rf.S1a(b);return b;};b.prototype.Eeb=function(a){var b,d,c;b=Q(a.defaultMedia.split("|"));d=b.next().value;c=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:d,videoTrackId:c,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.c9=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.Ngb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.mxa=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var d;d=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.Qdb(d,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:d&&d.length?d[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.Qdb=function(a,b){var d;d=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:d.mxa(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var d;d=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:d.whb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.whb=function(a,b){var d;d=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:d.mxa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.fhb=function(a,b){var d;d=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:d.ahb(a.downloadables),ttDownloadables:d.bhb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.ahb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.tgb=function(a){var b;b=l.H1.l9();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(fa(a.map(function(a){return a.pixHeight;}))));};b.prototype.bhb=function(a){var b;if(a){b=this.tgb(a);return a.reduce(function(a,d){d.isImage&&d.pixHeight!==b||(a[d.contentProfile]={size:d.size,textKey:null,isImage:d.isImage,midxOffset:d.offset,height:d.pixHeight,width:d.pixWidth,downloadUrls:d.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.tE=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.ohb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.Zeb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.KH))],a);c.XQa=a;},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.og=function(a,b){var d;d=this;return a.map(function(a){return b.call(d,a);});};b.prototype.bE=function(a,b){var d,c;d={};for(c in a)d[c]=b.call(this,a[c]);return d;};f=b;f=g.__decorate([a.N()],f);c.aia=f;},function(g,c,a){var f,h,l;function b(a){var b;b=l.aia.call(this)||this;b.pc=a;return b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);l=a(846);da(b,l.aia);b.prototype.decode=function(a){return{u:a.movieId,io:a.packageId,hp:a.drmType,qab:a.drmVersion,icb:a.expiration,o5a:this.x9a(a.cdnResponseData),media:this.F9a(a.media),duration:a.duration,fg:a.playbackContextId,rta:this.A9a(a.defaultTrackOrderList),Ek:a.drmContextId,eib:a.hasDrmProfile,cib:a.hasClearProfile,ZGa:this.O9a(a.timedtexttracks),rHa:this.R9a(a.trickplays),LS:this.w9a(a.audio_tracks),PO:this.W9a(a.video_tracks),xo:this.gta(a.servers),Hk:this.D9a(a.locations),nkb:a.isUsingLegacyBatchingAPI,Ry:a.bookmark,wxa:a.hasDrmStreams,dib:a.hasClearStreams,links:a.links,Wy:this.y9a(a.choiceMap),kya:a.initialHeader,uBb:this.X9a(a.watermarkInfo),Yh:a.isBranching,kab:a.dpsid,mBb:a.viewableType,NE:a.isSupplemental,$ra:a.clientIpAddress,Rf:a.Rf};};b.prototype.encode=function(a){return{movieId:a.u,packageId:a.io,drmType:a.hp,drmVersion:a.qab,expiration:a.icb,cdnResponseData:this.lbb(a.o5a),media:this.tbb(a.media),duration:a.duration,playbackContextId:a.fg,defaultTrackOrderList:this.obb(a.rta),drmContextId:a.Ek,timedtexttracks:this.Cbb(a.ZGa),trickplays:this.Gbb(a.rHa),audio_tracks:this.kbb(a.LS),video_tracks:this.Lbb(a.PO),servers:this.sua(a.xo),locations:this.rbb(a.Hk),isUsingLegacyBatchingAPI:a.nkb,bookmark:a.Ry,hasDrmProfile:a.eib,hasClearProfile:a.cib,hasDrmStreams:a.wxa,hasClearStreams:a.dib,links:a.links,choiceMap:this.mbb(a.Wy),initialHeader:a.kya,watermarkInfo:this.Mbb(a.uBb),isBranching:a.Yh,dpsid:a.kab,viewableType:a.mBb,isSupplemental:a.NE,clientIpAddress:a.$ra,Rf:a.Rf};};b.prototype.X9a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.Mbb=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.y9a=function(a){var b;b=this;return a&&{ih:a.initialSegment,type:a.type,wa:a.viewableId,Za:this.bE(a.segments,function(a){return{Vf:a.startTimeMs,Og:a.endTimeMs,On:a.defaultNext,next:b.bE(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.mbb=function(a){var b;b=this;return a&&{initialSegment:a.ih,type:a.type,viewableId:a.wa,segments:this.bE(a.Za,function(a){return{startTimeMs:a.Vf,endTimeMs:a.Og,defaultNext:a.On,next:b.bE(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.x9a=function(a){return{nA:a.pbcid,NA:a.sessionABTestCell};};b.prototype.lbb=function(a){return{pbcid:a.nA,sessionABTestCell:a.NA};};b.prototype.F9a=function(a){return this.og(a,this.E9a);};b.prototype.tbb=function(a){return this.og(a,this.sbb);};b.prototype.E9a=function(a){return{Sp:this.P9a(a.tracks),id:a.id};};b.prototype.sbb=function(a){return{tracks:this.Ebb(a.Sp),id:a.id};};b.prototype.P9a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,I1:a.TEXT};};b.prototype.Ebb=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.I1};};b.prototype.A9a=function(a){return this.og(a,this.z9a);};b.prototype.obb=function(a){return this.og(a,this.nbb);};b.prototype.z9a=function(a){return{gD:a.audioTrackId,Zz:a.mediaId,kBb:a.videoTrackId,wGa:a.subtitleTrackId,Irb:a.preferenceOrder};};b.prototype.nbb=function(a){return{audioTrackId:a.gD,mediaId:a.Zz,videoTrackId:a.kBb,subtitleTrackId:a.wGa,preferenceOrder:a.Irb};};b.prototype.O9a=function(a){return this.og(a,this.N9a);};b.prototype.Cbb=function(a){return this.og(a,this.Bbb);};b.prototype.N9a=function(a){return this.pc.Mm(this.E6(a),{type:a.type,wHa:this.M9a(a.ttDownloadables),zA:a.rawTrackType,PE:a.languageDescription,language:a.language,id:a.id,eW:a.isNoneTrack,aW:a.isForcedNarrative,Wta:a.downloadableIds,Ira:this.gta(a.cdnlist),HE:a.isLanguageLeftToRight});};b.prototype.Bbb=function(a){return this.pc.Mm(this.u7(a),{type:a.type,ttDownloadables:this.Abb(a.wHa),rawTrackType:a.zA,languageDescription:a.PE,language:a.language,id:a.id,isNoneTrack:a.eW,isForcedNarrative:a.aW,downloadableIds:a.Wta,cdnlist:this.sua(a.Ira),trackType:a.xj,new_track_id:a.Cp,isLanguageLeftToRight:a.HE});};b.prototype.M9a=function(a){return this.bE(a,this.L9a);};b.prototype.Abb=function(a){return this.bE(a,this.zbb);};b.prototype.L9a=function(a){return{Fq:a.downloadUrls,kib:a.hashAlgo,lib:a.hashValue,height:a.height,width:a.width,Jjb:a.isImage,oM:a.midxOffset,SW:a.midxSize,size:a.size,Eyb:a.textKey};};b.prototype.zbb=function(a){return{downloadUrls:a.Fq,hashAlgo:a.kib,hashValue:a.lib,height:a.height,width:a.width,isImage:a.Jjb,midxOffset:a.oM,midxSize:a.SW,size:a.size,textKey:a.Eyb};};b.prototype.R9a=function(a){if(a)return this.og(a,this.Q9a);};b.prototype.Gbb=function(a){if(a)return this.og(a,this.Fbb);};b.prototype.Q9a=function(a){return{interval:a.interval,JCa:a.pixelsAspectY,ICa:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,UD:a.downloadable_id,fd:a.urls,id:a.id};};b.prototype.Fbb=function(a){return{interval:a.interval,pixelsAspectY:a.JCa,pixelsAspectX:a.ICa,width:a.width,height:a.height,size:a.size,downloadable_id:a.UD,urls:a.fd,id:a.id};};b.prototype.w9a=function(a){return this.og(a,this.v9a);};b.prototype.kbb=function(a){return this.og(a,this.jbb);};b.prototype.v9a=function(a){return this.pc.Mm(this.E6(a),{id:a.id,bc:this.u9a(a.streams),xj:a.trackType,sl:a.channels,language:a.language,s5:a.channelsFormat,ifa:a.surroundFormatLabel,PE:a.languageDescription,isNative:a.isNative,R$a:a.disallowedSubtitleTracks,rO:a.track_id,f$a:a.defaultTimedText,Rca:a.profileType,type:a.type,Xea:a.stereo,profile:a.profile,fsa:a.codecName,zA:a.rawTrackType});};b.prototype.jbb=function(a){return this.pc.Mm(this.u7(a),{id:a.id,streams:this.ibb(a.bc),trackType:a.xj,channels:a.sl,language:a.language,channelsFormat:a.s5,surroundFormatLabel:a.ifa,languageDescription:a.PE,isNative:a.isNative,disallowedSubtitleTracks:a.R$a,track_id:a.rO,defaultTimedText:a.f$a,profileType:a.Rca,type:a.type,stereo:a.Xea,profile:a.profile,codecName:a.fsa,rawTrackType:a.zA});};b.prototype.W9a=function(a){return this.og(a,this.V9a);};b.prototype.Lbb=function(a){return this.og(a,this.Kbb);};b.prototype.V9a=function(a){return this.pc.Mm(this.E6(a),{type:a.type,bc:this.U9a(a.streams),g7:a.drmHeader&&this.fta(a.drmHeader),U6:a.dimensionsCount,V6:a.dimensionsLabel,Gib:a.ict,Cmb:a.maxCroppedHeight,Dmb:a.maxCroppedWidth,Emb:a.maxCroppedX,Fmb:a.maxCroppedY,Rca:a.profileType,Xea:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,GCa:a.pixelAspectX,HCa:a.pixelAspectY,profile:a.profile,Smb:a.max_framerate_value,Rmb:a.max_framerate_scale,Hnb:a.minCroppedHeight,Inb:a.minCroppedWidth,Jnb:a.minCroppedX,Knb:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,Lca:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.fta),kE:a.flavor,rO:a.track_id});};b.prototype.Kbb=function(a){return this.pc.Mm(this.u7(a),{type:a.type,streams:this.Jbb(a.bc),drmHeader:a.g7&&this.rua(a.g7),dimensionsCount:a.U6,dimensionsLabel:a.V6,ict:a.Gib,maxCroppedHeight:a.Cmb,maxCroppedWidth:a.Dmb,maxCroppedX:a.Emb,maxCroppedY:a.Fmb,profileType:a.Rca,stereo:a.Xea,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.GCa,pixelAspectY:a.HCa,profile:a.profile,max_framerate_value:a.Smb,max_framerate_scale:a.Rmb,minCroppedHeight:a.Hnb,minCroppedWidth:a.Inb,minCroppedX:a.Jnb,minCroppedY:a.Knb,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.Lca&&a.Lca.map(this.rua),flavor:a.kE,track_id:a.rO});};b.prototype.fta=function(a){return{aa:a.bytes,D5a:a.checksum,Hw:a.keyId};};b.prototype.rua=function(a){return{bytes:a.aa,checksum:a.D5a,keyId:a.Hw};};b.prototype.E6=function(a){return{xj:a.trackType,Cp:a.new_track_id,type:a.type};};b.prototype.u7=function(a){return{trackType:a.xj,new_track_id:a.Cp,type:a.type};};b.prototype.u9a=function(a){return this.og(a,this.t9a);};b.prototype.ibb=function(a){return this.og(a,this.hbb);};b.prototype.t9a=function(a){return{wD:a.content_profile,xj:a.trackType,R:a.bitrate,size:a.size,xp:a.isDrm,UD:a.downloadable_id,type:a.type,Bba:a.new_stream_id,fd:this.hta(a.urls),sl:a.channels,s5:a.channelsFormat,ifa:a.surroundFormatLabel,language:a.language,t3a:a.audioKey};};b.prototype.hbb=function(a){return{content_profile:a.wD,trackType:a.xj,bitrate:a.R,size:a.size,isDrm:a.xp,downloadable_id:a.UD,type:a.type,new_stream_id:a.Bba,urls:this.tua(a.fd),channels:a.sl,channelsFormat:a.s5,surroundFormatLabel:a.ifa,language:a.language,audioKey:a.t3a};};b.prototype.U9a=function(a){return this.og(a,this.T9a);};b.prototype.Jbb=function(a){return this.og(a,this.Ibb);};b.prototype.T9a=function(a){return{wD:a.content_profile,xj:a.trackType,R:a.bitrate,size:a.size,xp:a.isDrm,UD:a.downloadable_id,type:a.type,Bba:a.new_stream_id,fd:this.hta(a.urls),Iqb:a.peakBitrate,U6:a.dimensionsCount,V6:a.dimensionsLabel,FCa:a.pix_w,ECa:a.pix_h,sEa:a.res_w,rEa:a.res_h,Cva:a.framerate_value,Bva:a.framerate_scale,pxb:a.startByteOffset,Bc:a.vmaf,Tsa:a.crop_x,Usa:a.crop_y,Rsa:a.crop_h,Ssa:a.crop_w};};b.prototype.Ibb=function(a){return{content_profile:a.wD,trackType:a.xj,bitrate:a.R,size:a.size,isDrm:a.xp,downloadable_id:a.UD,type:a.type,new_stream_id:a.Bba,urls:this.tua(a.fd),peakBitrate:a.Iqb,dimensionsCount:a.U6,dimensionsLabel:a.V6,pix_w:a.FCa,pix_h:a.ECa,res_w:a.sEa,res_h:a.rEa,framerate_value:a.Cva,framerate_scale:a.Bva,startByteOffset:a.pxb,vmaf:a.Bc,crop_x:a.Tsa,crop_y:a.Usa,crop_h:a.Rsa,crop_w:a.Ssa};};b.prototype.hta=function(a){return this.og(a,this.S9a);};b.prototype.tua=function(a){return this.og(a,this.Hbb);};b.prototype.S9a=function(a){return{url:a.url,Hra:a.cdn_id};};b.prototype.Hbb=function(a){return{url:a.url,cdn_id:a.Hra};};b.prototype.gta=function(a){return this.og(a,this.K9a);};b.prototype.sua=function(a){return this.og(a,this.ybb);};b.prototype.K9a=function(a){return{id:a.id,key:a.key,Qza:a.lowgrade,name:a.name,mf:a.rank,type:a.type,Z$a:this.B9a(a.dns)};};b.prototype.ybb=function(a){return{id:a.id,key:a.key,lowgrade:a.Qza,name:a.name,rank:a.mf,type:a.type,dns:this.pbb(a.Z$a)};};b.prototype.B9a=function(a){if(a)return{host:a.host,wjb:a.ipv4,xjb:a.ipv6,odb:a.forceLookup};};b.prototype.pbb=function(a){if(a)return{host:a.host,ipv4:a.wjb,ipv6:a.xjb,forceLookup:a.odb};};b.prototype.D9a=function(a){return this.og(a,this.C9a);};b.prototype.rbb=function(a){return this.og(a,this.qbb);};b.prototype.C9a=function(a){return{key:a.key,mf:a.rank,weight:a.weight,level:a.level};};b.prototype.qbb=function(a){return{key:a.key,rank:a.mf,weight:a.weight,level:a.level};};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.$e))],a);c.TQa=a;},function(g,c){function a(a){this.$b=a;this.kb=JSON.stringify(this.Kfb());}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Kfb=function(){var a;a=[];(!this.$b.aj||0>=this.$b.aj.length)&&a.push({error:"No CDN."});this.$b.G6||a.push({error:"No default audio track.",foundTracks:this.R8(this.$b.Gn)});this.$b.K6||a.push({error:"No default video track.",foundTracks:this.R8(this.$b.Zm)});this.$b.J6||a.push({error:"No default subtitle track.",foundTracks:this.R8(this.$b.ik)});return a;};a.prototype.R8=function(a){return a&&0<a.length?a.map(function(a){return a.ab;}):"No tracks found.";};c.YQa=a;},function(g,c,a){var f,h,l,d,k,p;function b(a,b){a=h.ke.call(this,a,"ManifestParserConfigImpl")||this;a.Pn=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);l=a(29);d=a(34);k=a(144);p=a(47);da(b,h.ke);pa.Object.defineProperties(b.prototype,{ffa:{configurable:!0,enumerable:!0,get:function(){return[];}},k8:{configurable:!0,enumerable:!0,get:function(){return"";}},p5:{configurable:!0,enumerable:!0,get:function(){return[];}},o5:{configurable:!0,enumerable:!0,get:function(){return[];}},m8:{configurable:!0,enumerable:!0,get:function(){return"";}},m$:{configurable:!0,enumerable:!0,get:function(){return 0;}},vG:{configurable:!0,enumerable:!0,get:function(){return this.Pn.vG.da(p.Hr);}},zu:{configurable:!0,enumerable:!0,get:function(){return this.Pn.zu;}}});a=b;g.__decorate([d.config(d.cfa,"supportedAudioTrackTypes")],a.prototype,"ffa",null);g.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"k8",null);g.__decorate([d.config(d.yHa,"cdnIdWhiteList")],a.prototype,"p5",null);g.__decorate([d.config(d.yHa,"cdnIdBlackList")],a.prototype,"o5",null);g.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"m8",null);g.__decorate([d.config(d.yx,"imageSubsResolution")],a.prototype,"m$",null);g.__decorate([d.config(d.yx,"timedTextSimpleFallbackThreshold")],a.prototype,"vG",null);g.__decorate([d.config(d.cfa,"timedTextProfiles")],a.prototype,"zu",null);a=g.__decorate([f.N(),g.__param(0,f.l(l.Ui)),g.__param(1,f.l(k.LH))],a);c.UQa=a;},function(g,c,a){var f,h,l,d;function b(a,b){return h.SP.call(this,a,b)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(131);h=a(403);l=a(74);d=a(171);da(b,h.SP);b.prototype.uqb=function(a){var b,c;b=this;a=Q(f.gu(function(a){return a.bc&&0<a.bc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Cp});});a=c.map(function(a){var c;c=a.xj;c={type:l.Bg.video,ab:a.Cp,Ez:a.rO,xj:d.L1[c.toLowerCase()]||d.gq.OB,zA:c,bc:[],tg:{}};c.bc=b.kHa(a.bc,c);b.log.trace("Transformed video track",{StreamCount:c.bc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.pqb=function(a){var b;b=a.map(function(a){return a.Lca;}).filter(Boolean);b=[].concat.apply([],[].concat(fa(b))).map(function(a){return a.aa;});a=a.map(function(a){return a.g7;}).filter(Boolean).map(function(a){return a.aa;});return 0<b.length?b:a;};c.IWa=b;},function(g,c,a){var f,h,l,d,k;function b(a,b,d,c){a=h.SP.call(this,a,c)||this;a.config=b;a.j=d;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(430);h=a(403);l=a(131);d=a(74);k=a(171);da(b,h.SP);b.prototype.Xpb=function(a,b,c){var g,h,m;g=this;a=Q(l.gu(function(a){return a.bc&&0<a.bc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.kxa(a));});m=this.config.ffa;a=Q(l.gu(function(a){return 0===m.length||0<=m.indexOf(a.xj);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.kxa(a));});a=h.map(function(a){var h;h=a.xj;h={type:d.Bg.audio,ab:a.Cp,Ez:a.rO,xj:k.L1[h.toLowerCase()]||k.gq.OB,zA:h,Bk:a.language,displayName:a.PE,sl:a.sl,NLb:a.sl,MLb:Number(a.sl[0]),ik:g.Odb(a.Cp,b,c),tg:{Bcp47:a.language,TrackId:a.Cp},bc:[],isNative:a.isNative};h.bc=g.kHa(a.bc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.bc.length,AllowedTimedTextTracks:h.ik.length});h.fsa=f.Aga[h.bc[0].wf];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.z3a=function(a){var b,d;b=this;d=this.config.k8;if(d){if(a=Q(a.filter(function(a){return a.Bk==d||a.ab==d;})).next().value)return a;}else if(this.j.vU&&(a=Q(a.filter(function(a){return a.ab==b.j.vU;})).next().value))return a;};b.prototype.kxa=function(a){return{language:a.PE,bcp47:a.language,type:a.xj};};b.prototype.Odb=function(a,b,d){return b.filter(function(b){return b.Sp.AUDIO===a;}).map(function(a){return a.Sp.I1;}).map(function(a){return d.find(function(b){return b.ab===a;});}).filter(Boolean);};c.GJa=b;},function(g,c){function a(a,c,g){this.log=a;this.j=c;this.Gfa=g;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.tqb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.fd&&0<a.fd.length;}).map(function(a){return b.Gfa(b.j,a.id,a.height,a.width,a.ICa,a.JCa,a.size,{unknown:a.fd[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};c.mWa=a;},function(g,c){function a(a,c,g,h,d,k){this.Kaa=a;this.q5=c;this.JGa=g;this.Azb=h;this.Vqa=d;this.kIa=k;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.mqb=function(a){var b,c,g,d,h,p,l,n,r,B,x,H,G,P,S,A;a=this.Kaa.decode(a);b=this.q5.pCa(a.xo,a.Hk,!0);c=this.JGa.sqb(a.ZGa);g=this.Azb.tqb(a.rHa);d=this.Vqa.Xpb(a.LS,a.media,c);h=this.kIa.uqb(a.PO);p=this.oqb(a,d,c);l=p[0];n=h[0];r=this.Vqa.z3a(d)||l.Uc||d[0];l=this.JGa.Tyb(r.ik)||l.zc||r.ik[0];B=this.kIa.pqb(a.PO);x=a.fg;H=a.$ra;G=a.wxa;P=a.Ek;S=a.LS.findIndex(function(a){return a.Cp==r.ab;});A=a.PO.findIndex(function(a){return a.Cp==n.ab;});return{Jp:B,aj:b,Gn:d,Zm:h,ik:c,Cu:g,fg:x,Wvb:H,Ew:G,Ek:P,nta:S,sta:A,SX:p,K6:n,G6:r,J6:l,DPb:a};};a.prototype.oqb=function(a,c,g){var b,d;b=[];d=a.rta[0];b.push({Uc:c.find(function(a){return a.Ez===d.gD;}),zc:g.find(function(a){return a.Ez===d.wGa;}),yQb:0});return b;};c.WQa=a;},function(g,c,a){var f,h,l,d;function b(a,b,d,c,f){this.log=a;this.config=b;this.j=d;this.q5=c;this.wca=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(60);h=a(9);l=a(171);d=a(232);b.prototype.sqb=function(a){var b;b=this;a=a.map(function(a){var d,c,g;d=b.ozb(a);!1!==a.eW||d.length||b.log.error("track without downloadables",b.Awa(a));!0!==a.aW||d.length||b.log.error("forced track without downloadables",b.Awa(a));c={};g=[];if(0<d.length){c=d[0];g=c.profile;if(g==f.el.IB||g==f.el.XP)c=b.vvb(d);g=b.q5.pCa(a.Ira,void 0,!1);}a=b.wca(b.j,a.Cp,a.id,c.Zc,c.fd||{},g,a.language,a.PE,l.L1[a.xj.toLowerCase()]||l.gq.OB,a.zA.toUpperCase(),c.profile,b.Rfb(c)||{},a.eW,a.aW,a.HE);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.Tyb=function(a){var b,d;b=this;d=this.config.m8;if(d){if(a=Q(a.filter(function(a){return a.Bk==d||a.ab==d;})).next().value)return a;}else if(this.j.wU&&(a=Q(a.filter(function(a){return a.ab==b.j.wU;})).next().value))return a;};b.prototype.ozb=function(a){var b,d,c;b=this;d=a.wHa;c=a.Wta;a=Object.keys(d||{}).map(function(a){var f;f=d[a];return{Zc:c[a],profile:a,size:f.size||0,fe:b.Qeb(a,f),offset:f.oM||0,Xqb:f.width,DCa:f.height,fd:f.Fq};});a.sort(function(a,b){return a.fe-b.fe;});return a;};b.prototype.Qeb=function(a,b){var d,c;d=this.config.zu.indexOf(a);b=b.size;c=this.config.vG;return a===f.el.y_&&0<c&&b>c?this.config.zu.length+1:0<=d?d:this.config.zu.length;};b.prototype.Rfb=function(a){if(a.profile===f.el.IB||a.profile===f.el.XP)return{offset:a.offset,length:a.size,OQb:{width:a.Xqb,height:a.DCa}};};b.prototype.vvb=function(a){var b,c;b=this.config.m$||d.H1.l9();c=Q(a.filter(function(a){return a.profile===f.el.IB||a.profile===f.el.XP;}).filter(function(a){return a.DCa===b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.Rr.height,intendedResolution:b});return a[0];};b.prototype.Awa=function(a){return{isNone:a.eW,isForced:a.aW,bcp47:a.language,id:a.Cp};};c.TVa=b;},function(g){g.P=function(c){return function(){return!c.apply(this,arguments);};};},function(g,c,a){var b,f;b=a(855);c=a(51);f=a(410);a=c(function(a,c){return f(b(a),c);});g.P=a;},function(g,c,a){c=a(173);a=a(234);a=c(a);g.P=a;},function(g,c,a){c=a(51)(function(a,c){for(var b=0;b<a.length;){if(null==c)return;c=c[a[b]];b+=1;}return c;});g.P=c;},function(g,c,a){var b;c=a(51);b=a(858);a=c(function(a,c){return b([a],c);});g.P=a;},function(g,c,a){var b,f;c=a(51);b=a(407);f=function(){function a(a,b){this.WO=b;this.NK=a;}a.prototype["@@transducer/init"]=b.Sb;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.WO["@@transducer/step"](a,this.NK(b));};return a;}();a=c(function(a,b){return new f(a,b);});g.P=a;},function(g,c,a){var b,f,h,l,d,k;c=a(51);b=a(409);f=a(405);h=a(234);l=a(860);d=a(404);k=a(406);a=c(b(["fantasy-land/map","map"],l,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return d(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return h(function(d,c){d[c]=a(b[c]);return d;},{},k(b));default:return f(a,b);}}));g.P=a;},function(g,c,a){var b,f;c=a(51);b=a(861);f=a(859);a=c(function(a,c){return b(f(a),c);});g.P=a;},function(g,c,a){c=a(51)(function(a,c){return c>a?c:a;});g.P=c;},function(g,c,a){var f,h;function b(a,d,c){return function(){var q;for(var g=[],k=0,m=a,l=0;l<d.length||k<arguments.length;){l<d.length&&(!h(d[l])||k>=arguments.length)?q=d[l]:(q=arguments[k],k+=1);g[l]=q;h(q)||--m;l+=1;}return 0>=m?c.apply(this,g):f(m,b(a,g,c));};}f=a(233);h=a(172);g.P=b;},function(g,c,a){var b,f,h,l,d;c=a(51);b=a(405);f=a(404);h=a(863);l=a(862);d=a(857);a=c(function(a,c){return f(d(h,0,l("length",c)),function(){var d,f;d=arguments;f=this;return a.apply(f,b(function(a){return a.apply(f,d);},c));});});g.P=a;},function(g,c,a){var b;c=a(114);b=a(865);a=c(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});g.P=a;},function(g,c,a){var b,f;b=a(235);f=Object.prototype.toString;g.P=function(){return"[object Arguments]"===f.call(arguments)?function(a){return"[object Arguments]"===f.call(a);}:function(a){return b("callee",a);};};},function(g,c,a){var b,f;c=a(51);b=a(407);f=function(){function a(a,b){this.WO=b;this.NK=a;}a.prototype["@@transducer/init"]=b.Sb;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.NK(b)?this.WO["@@transducer/step"](a,b):a;};return a;}();a=c(function(a,b){return new f(a,b);});g.P=a;},function(g,c,a){var b;b=a(233);c=a(51)(function(a,c){return b(a.length,function(){return a.apply(c,arguments);});});g.P=c;},function(g){var c;c=function(){function a(a){this.NK=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,c){return this.NK(a,c);};return a;}();g.P=function(a){return new c(a);};},function(g){g.P=function(c){return"[object String]"===Object.prototype.toString.call(c);};},function(g,c,a){var b,f;c=a(114);b=a(408);f=a(871);a=c(function(a){return b(a)?!0:!a||"object"!==typeof a||f(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.P=a;},function(g){g.P=function(c,a){for(var b=0,f=a.length,g=[];b<f;)c(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(g){g.P=function(c){return"function"===typeof c["@@transducer/step"];};},function(g,c,a){var b;c=a(410);b=a(866);a=a(856);a=b([c,a]);g.P=a;},function(g,c,a){var b;c=a(173);b=a(235);a=c(function(a,c,g){var d,f;d={};for(f in c)b(f,c)&&(d[f]=b(f,g)?a(f,c[f],g[f]):c[f]);for(f in g)b(f,g)&&!b(f,d)&&(d[f]=g[f]);return d;});g.P=a;},function(g,c,a){var b,f;c=a(173);b=a(411);f=a(876);a=c(function q(a,c,g){return f(function(d,c,f){return b(c)&&b(f)?q(a,c,f):a(d,c,f);},c,g);});g.P=a;},function(g,c,a){var b;c=a(173);b=a(877);a=c(function(a,c,g){return b(function(b,c,f){return a(c,f);},c,g);});g.P=a;},function(g,c,a){var f;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(131);b.prototype.pCa=function(a,b,d){var c,g,h,m,l;c=this;g=this.config.p5;h=this.config.o5;a=Q(f.gu(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));m=a.next().value;a.next().value.forEach(function(a){return c.log.warn("Cdn is not allowed",{Id:a.id});});l=m.map(function(a){var d;d=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,mf:a.mf,type:a.type,maa:a.key,GOb:a.Qza,location:{id:d.key,mf:d.mf,level:d.level,weight:d.weight,aj:[]}};});l.sort(function(a,b){return a.mf-b.mf;});l.forEach(function(a){return a.location.aj=l.filter(function(b){return b.maa===a.maa;});});this.log.trace("Transformed cdns",{Count:l.length});if(d&&!l.length)throw Error("no valid cdns");return l;};c.ZKa=b;},function(g,c,a){var f,h,l,d,k,p,t,n,r,B,x,H,G;function b(a,b,d,c,f,g){this.Sf=a;this.Kaa=b;this.config=d;this.wca=c;this.Gfa=f;this.wZ=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(8);l=a(413);d=a(412);k=a(879);p=a(854);t=a(853);n=a(852);r=a(851);B=a(850);x=a(402);H=a(401);a=a(400);b.prototype.create=function(a){var b,d;b=this.Sf.ub("ManifestParser",a);d=new k.ZKa(b,this.config);return new t.WQa(this.Kaa,d,new p.TVa(b,this.config,a,d,this.wca),new n.mWa(b,a,this.Gfa),new r.GJa(b,this.config,a,this.wZ),new B.IWa(b,this.wZ));};G=b;G=g.__decorate([f.N(),g.__param(0,f.l(h.Bb)),g.__param(1,f.l(l.Mja)),g.__param(2,f.l(d.Oja)),g.__param(3,f.l(x.vla)),g.__param(4,f.l(a.Fma)),g.__param(5,f.l(H.Cma))],G);c.VQa=G;},function(g,c,a){var b,f,h,l,d,k,p,t,n,r,B,x;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(414);f=a(880);h=a(412);l=a(849);d=a(402);k=a(401);p=a(399);t=a(848);n=a(413);r=a(847);B=a(231);x=a(845);c.omb=new g.tc(function(c){c(h.Oja).to(l.UQa).Y();c(b.Pja).to(f.VQa).Y();c(d.vla).ii(function(b){for(var d=[],c=0;c<arguments.length;++c)d[c-0]=arguments[c];c=a(230).TH;return new(Function.prototype.bind.apply(c,[null].concat(fa(d))))();});c(k.Cma).ii(function(b){for(var d=[],c=0;c<arguments.length;++c)d[c-0]=arguments[c];c=a(350).SKa;return new(Function.prototype.bind.apply(c,[null].concat(fa(d))))();});c(p.Qja).Ef(function(){return function(a){return new t.YQa(a);};});c(n.Mja).to(r.TQa).Y();c(B.O0).to(x.XQa).Y();});},function(g,c,a){var f,h,l,d,k,p,t,n,r,B,x,H;function b(a,b,d,c,f,g,h,k,m){this.VD=a;this.Fc=b;this.config=d;this.dA=f;this.profile=g;this.xZ=h;this.jM=k;this.Jk=m;this.log=c.ub("CDMAttestedDescriptor");this.Xva();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(121);l=a(39);d=a(17);k=a(8);p=a(87);t=a(132);n=a(236);r=a(141);B=a(90);x=a(103);H=a(142);b.prototype.Xva=function(){var a;a=this;return this.xZ.Wfa?this.config().Mab?this.Wva().then(function(b){if(b)return Promise.resolve(void 0);a.mza||(a.mza=a.Dfb());return a.mza;}).then(function(b){return Promise.all([Promise.resolve(b),a.Wva()]);}).then(function(a){var b;a=Q(a);b=a.next().value;if(!a.next().value)return b;}):this.dA().then(function(a){a.uM.removeServiceToken("cad");}):Promise.resolve(void 0);};b.prototype.Dfb=function(){var a;a=this;return Promise.all([this.VD(),this.rfb()]).then(function(b){var d;d=Q(b);b=d.next().value;d=d.next().value;d={type:p.Cj.Su,JV:[d],context:{Rd:a.config().Rd}};return b.Fdb(d,a.jM());}).then(function(b){var d;d=b.jaa.data.map(function(b){return a.Fc.encode(b);});a.log.trace("Challenge generated",d);b.close().subscribe();return d&&d[0];})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);});};b.prototype.Wva=function(){var a;a=this;return this.dA().then(function(b){return(b=b.uM.getServiceTokens(a.profile))&&b.find(function(a){return"cad"===a.name;});});};b.prototype.rfb=function(){return this.Jk.mp().then(function(a){switch(a){case H.bn.lz:return"c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV6SWZ5aFdkc0dObEdGaGllK1VhUXNYZVNQczJ1eDQ2Nm9JMVZGN2RqTVRPZXJOST0=";default:return"AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA==";}}).then(this.Fc.decode);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.tP)),g.__param(1,f.l(l.Aj)),g.__param(2,f.l(d.sd)),g.__param(3,f.l(k.Bb)),g.__param(4,f.l(t.AH)),g.__param(5,f.l(B.OH)),g.__param(6,f.l(n.uQ)),g.__param(7,f.l(r.xH)),g.__param(8,f.l(x.Uu))],a);c.uKa=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(415);f=a(882);c.N4a=new g.tc(function(a){a(b.Nga).to(f.uKa).Y();});},function(g,c,a){var f,h,l;function b(a){this.Ea=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);l=a(4);b.prototype.Xxb=function(a,b){var d,c;d=parseFloat(a);c=0;"%"===a[a.length-1]&&this.Ea.Jg(d)?c=Math.round(d*b.da(l.ja)/100):(a=parseInt(a),this.Ea.wq(a)&&(c=a));return l.Cb(Math.min(c,b.da(l.ja)));};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Ke))],a);c.eKa=a;},function(g,c,a){var f,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.T8=function(){return this.ow().k4a;};b.prototype.U8=function(){return this.ow().l4a;};b.prototype.qfb=function(){return this.ow().m4a;};b.prototype.C8=function(){return this.ow().jra;};b.prototype.ow=function(){return this.config();};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.sd))],h);c.dKa=h;},function(g,c,a){var f,h,l,d,k,p,t;function b(a,b,d,c,f){this.NS=b;this.Ea=d;this.j4a=c;this.config=f;this.la=a.ub("Bookmark");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(417);l=a(416);d=a(8);k=a(22);p=a(4);a=a(17);b.prototype.kqa=function(a){var b,d;b=a.Sa.playbackState&&a.Sa.playbackState.currentTime;d=this.teb(a.u);b=this.Ea.ez(b)?p.Cb(b):d;if(this.Ea.Nd(b))this.la.info("Overriding bookmark",{From:a.fB.da(p.ja),To:b.da(p.ja)}),a=Object.assign({},a,{fB:b});else if(this.Lib(a))return this.la.trace("Ignoring bookmark because it's too close to beginning"),p.ei(0);return this.Kib(a)?(this.la.trace("Ignoring bookmark because it's too close to end"),p.ei(0)):this.Jib(a)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),p.ei(0)):a.fB;};b.prototype.Lib=function(a){return 0>a.fB.ul(this.T8(a));};b.prototype.T8=function(a){return this.kra(this.NS.T8(),a.SM);};b.prototype.Kib=function(a){return 0<a.fB.ul(this.U8(a));};b.prototype.U8=function(a){var b;b=a.Sa.Yh?this.NS.qfb():this.NS.U8();return a.SM.Fd(this.kra(b,a.SM));};b.prototype.Jib=function(a){return 0<a.fB.ul(this.Veb(a));};b.prototype.Veb=function(a){var b;b=a.Sa.Yh?this.config().$Ba:this.config().xX;return a.SM.Fd(p.Cb(b));};b.prototype.teb=function(a){var b;a=this.NS.C8()[a];b=-1;this.Ea.mm(a)?b=parseInt(a):this.Ea.Jg(a)&&(b=a);if(this.Ea.wq(b))return p.Cb(b);};b.prototype.kra=function(a,b){return this.j4a.Xxb(a,b);};t=b;t=g.__decorate([f.N(),g.__param(0,f.l(d.Bb)),g.__param(1,f.l(h.Jga)),g.__param(2,f.l(k.Ke)),g.__param(3,f.l(l.Iga)),g.__param(4,f.l(a.sd))],t);c.fKa=t;},function(g,c,a){var b,f,h,l,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(237);f=a(417);h=a(416);l=a(886);d=a(885);k=a(884);c.Ry=new g.tc(function(a){a(b.k_).to(l.fKa).Y();a(f.Jga).to(d.dKa).Y();a(h.Iga).to(k.eKa).Y();});},function(g,c,a){var h,l,d;function b(a,b,d){var c;c=this;this.la=a;this.valid=!0;this.cj=!1;this.context=d.context;this.size=d.size;this.Gk=b.create().then(function(a){c.storage=a;return a.XL("mediacache").then(function(a){c.keys=a;});});}function f(a,b){this.Sf=a;this.uj=b;this.RD={};}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(8);a=a(69);f.prototype.oT=function(a){this.RD[a.context]=new b(this.Sf.ub("DiskStorageContext"),this.uj,a);return this.RD[a.context];};f.prototype.Bta=function(a){delete this.RD[a.context];};d=f;d=g.__decorate([h.N(),g.__param(0,h.l(l.Bb)),g.__param(1,h.l(a.Fr))],d);c.OMa=d;b.prototype.create=function(a,b,d,c){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.Gk.then(function(){f.keys[g]=void 0;return f.storage.save(g,d,!1).then(function(){f.la.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");c(f.gV(a,b));});})["catch"](function(d){f.la.trace("create failed",d);c(f.qw(a,b,d));});};b.prototype.append=function(a,b,d,c){d=this.getKey(a,b);this.la.trace("append "+d);c(this.qw(a,b,"append is not supported"));};b.prototype.remove=function(a,b,d){var c,f,g;c=this;f=this.getKey(a,b);g=Date.now();this.Gk.then(function(){if(c.keys.hasOwnProperty(f))return delete c.keys[f],c.storage.remove(f).then(function(){c.la.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");d(c.gV(a,b));});d(c.gV(a,b));})["catch"](function(f){c.la.trace("remove failed",f);d(c.qw(a,b,f));});};b.prototype.read=function(a,b,d,c,f){var g,h,k;g=this;h=this.getKey(a,b);k=Date.now();0!==d||-1!=c?f(this.qw(a,b,"byteStart/byteEnd combination is not supported")):this.Gk.then(function(){if(g.keys.hasOwnProperty(h))return g.storage.load(h).then(function(m){g.la.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");f(Object.assign(g.gV(a,b),{value:m.value,oLb:d,end:c}));});f(g.qw(a,b,"Item doesn't exist"));})["catch"](function(d){g.la.trace("read failed",d);f(g.qw(a,b,d));});};b.prototype.info=function(a){var b;b=this;this.la.trace("info ");this.Gk.then(function(){var d;d={values:{}};d.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,d){d=b.eca(d);a[d.lK]||(a[d.lK]={});a[d.lK][d.Fw]={size:0};return a;},{}),total:b.size,VRb:0};a(d);})["catch"](function(d){b.la.trace("info failed",d);a(b.qw(void 0,void 0,d));});};b.prototype.query=function(a,b,d){var c,f;c=this;f=this.getKey(a,b||"");this.Gk.then(function(){var a;a=Object.keys(c.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[c.eca(b).Fw]={size:0};return a;},{});c.la.trace("query succeeded for prefix "+b,a);d(a);})["catch"](function(a){c.la.trace("query failed",a);d({});});};b.prototype.Xp=function(a){var b;b=this;this.la.trace("validate");this.Gk.then(function(){var d;d=Object.keys(b.keys).reduce(function(a,d){a[b.eca(d).Fw]={size:0};return a;},{});a(d);})["catch"](function(d){b.la.trace("validate failed",d);a(b.qw(void 0,void 0,d));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.gV=function(a,b){return{Z:!0,lK:void 0===a?"":a,key:void 0===b?"":b,PAb:0,ej:this.size};};b.prototype.qw=function(a,b,d){return{Z:!1,error:d,lK:void 0===a?"":a,key:void 0===b?"":b,PAb:0,ej:this.size};};b.prototype.eca=function(a){var b,d;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);d=b.indexOf(".");a=b.slice(0,d);b=b.slice(d+1);return{lK:a,Fw:b};};c.nEb=b;},function(g,c,a){var f,h,l;function b(a){this.Sf=a;this.Zt={};this.la=this.Sf.ub("MemoryStorage");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(8);b.prototype.load=function(a){var b;if(this.Zt.hasOwnProperty(a)){b=this.Zt[a];this.la.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.la.debug("Storage entry not found",{key:a});return Promise.reject({ba:h.G.av});};b.prototype.save=function(a,b,c){if(c&&this.Zt.hasOwnProperty(a))return Promise.resolve(!1);this.Zt[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Zt[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Zt).map(function(b){return{key:b,value:a.Zt[b]};});return Promise.resolve(b);};b.prototype.XL=function(a){var b;b=Object.keys(this.Zt).reduce(function(b,d){a&&0!==d.indexOf(a)||(b[d]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Zt={};return Promise.resolve();};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(a.Bb))],l);c.rRa=l;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.MLa="__default_rule_key__";},function(g,c,a){var h,l,d,k,p,n,u;function b(a,b,d,c){this.la=a;this.config=b;this.Hib=d;this.kba=c;this.Wv={mem:{storage:this.kba,key:"mem"}};this.lx=this.config.lx;}function f(a,b,d,c){this.Sf=a;this.uj=b;this.kba=d;this.config=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(2);d=a(174);k=a(8);p=a(419);n=a(890);a=a(40);f.prototype.create=function(){this.iK||(this.iK=this.zD());return this.iK;};f.prototype.zD=function(){this.H2a=new b(this.Sf.ub("AppStorage"),this.config,this.uj,this.kba);return this.H2a.create();};u=f;u=g.__decorate([h.N(),g.__param(0,h.l(k.Bb)),g.__param(1,h.l(d.D0)),g.__param(2,h.l(p.Zja)),g.__param(3,h.l(a.Io))],u);c.jJa=u;b.prototype.create=function(){var a;a=this;return this.M8a().then(function(b){if(!a.d5a(b,a.config.FV))throw a.Dob(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(d,c){b.H8(a).storage.load(a).then(function(a){d(a);})["catch"](function(a){c(a);});});};b.prototype.save=function(a,b,d){var c;c=this;return new Promise(function(f,g){c.H8(a).storage.save(a,b,d).then(function(a){f(a);})["catch"](function(a){g(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(d,c){b.H8(a).storage.remove(a).then(function(){d();})["catch"](function(a){c(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,d){a.bEa("mem").then(function(){return a.bEa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.la.error("remove all failed");d(b);});});};b.prototype.loadAll=function(){var a,b;a=this;b=[];return this.uza("mem").then(function(d){b=b.concat(d);return a.uza("idb");})["catch"](function(b){a.ikb(b)||a.la.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.la.error("load all failed",b);throw b;});};b.prototype.XL=function(a){var b;b=this;return new Promise(function(d,c){var f;f=b.Wv.idb;f?f.storage.XL(a).then(function(a){d(a);})["catch"](function(a){b.la.error("loadKeys failed",a);c(a);}):c("Storage is not available");});};b.prototype.M8a=function(){var a;a=this;return this.Hib.create().then(function(b){a.Wv.idb={storage:b,key:"idb"};})["catch"](function(b){a.la.error("idb failed to load",b);return b||{ba:l.G.qk};});};b.prototype.d5a=function(a,b){return!a||a&&b?!0:!1;};b.prototype.Dob=function(a){var b;b="";a&&(b+=a.ba);return{ba:b};};b.prototype.bEa=function(a){return(a=this.Wv[a])?a.storage.removeAll():Promise.resolve();};b.prototype.uza=function(a){return(a=this.Wv[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.Ncb=function(a){for(var b in this.lx)if(a.startsWith(b))return this.lx[b];return this.lx[n.MLa];};b.prototype.H8=function(a){var b,d;b=this;this.Ncb(a).every(function(a){return b.Wv[a]?(d=b.Wv[a],!1):!0;});d||(this.la.error("component not found for storageKey",{Oxb:a,gLb:Object.keys(this.Wv),rules:this.lx}),d=this.Wv.mem);this.la.trace("component found for key",{storageKey:a,componentKey:d.key});return d;};b.prototype.ikb=function(a){return(a&&(a.ba||a.errorSubCode))===l.G.av;};c.tga=b;},function(g,c,a){var f,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(40);pa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Yea;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.IGa;}}});h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.Io))],h);c.pLa=h;},function(g,c,a){var f,h,l,d,k;function b(a,b){a=l.ke.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.iA="namedatapairs";return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);l=a(36);d=a(40);a=a(29);da(b,l.ke);pa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Gq?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Yea;}},DS:{configurable:!0,enumerable:!0,get:function(){return this.config.DS;}},Kea:{configurable:!0,enumerable:!0,get:function(){return 0;}},RN:{configurable:!0,enumerable:!0,get:function(){return 0;}},kva:{configurable:!0,enumerable:!0,get:function(){return!0;}}});k=b;g.__decorate([h.config(h.yx,"simulateIdbOpenError")],k.prototype,"Kea",null);g.__decorate([h.config(h.yx,"simulateIdbLoadAllError")],k.prototype,"RN",null);g.__decorate([h.config(h.Ld,"fixInvalidDatabase")],k.prototype,"kva",null);k=g.__decorate([f.N(),g.__param(0,f.l(a.Ui)),g.__param(1,f.l(d.Io))],k);c.BPa=k;},function(g,c,a){var h,l,d;function b(a,b,d){this.config=a;this.ek=b;this.iu=d;}function f(a,b){this.reason=a;this.cause=b;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);l=a(64);(function(a){a[a.a1=0]="NoData";a[a.Error=1]="Error";a[a.iy=2]="Timeout";}(d=c.CUa||(c.CUa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){b.hU("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=h.G.$la;switch(a.reason){case d.a1:b=h.G.av;break;case d.iy:b=h.G.dVa;}f({ba:b,cause:a.cause});});});};b.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(g,k){f.hU(c?"add":"put",!0,{name:a,data:b}).then(function(){g(!c);})["catch"](function(a){var b;b=h.G.ama;switch(a.reason){case d.iy:b=h.G.gVa;}k({ba:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){b.hU("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=h.G.y1;switch(a.reason){case d.iy:b=h.G.Zla;}f({ba:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.hU("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.G.y1;switch(a.reason){case d.iy:b=h.G.Zla;}c({ba:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.ek.Ul(this.config.timeout,new Promise(function(b,c){var g,h,k;if(a.config.RN)c(new f(a.config.RN));else{g=[];h=a.iu.transaction(a.config.iA,"readonly");k=h.objectStore(a.config.iA).openCursor();h.onerror=function(){c(new f(d.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(H){c(new f(d.Error,H));}else b(g);};k.onerror=function(){c(new f(d.Error,k.error));};}}))["catch"](function(a){return a instanceof l.qn?Promise.reject(new f(d.iy,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(d.Error,a));});};b.prototype.XL=function(a){var b;b=this;return this.ek.Ul(this.config.timeout,new Promise(function(c,g){var h,k,m;if(b.config.RN)g(new f(b.config.RN));else{h={};k=b.iu.transaction(b.config.iA,"readonly");m=k.objectStore(b.config.iA).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){g(new f(d.Error,m.error));};m.onsuccess=function(b){var k,m;try{k=b.target.result;if(k){m=k.key;a&&0!==m.indexOf(a)?c(h):(h[m]=void 0,k["continue"]());}else c(h);}catch(S){g(new f(d.Error,S));}};m.onerror=function(){g(new f(d.Error,m.error));};}}))["catch"](function(a){return a instanceof l.qn?Promise.reject(new f(d.iy,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(d.Error,a));});};b.prototype.hU=function(a,b,c){var g;g=this;return this.ek.Ul(this.config.timeout,new Promise(function(h,k){var m,l;m=g.iu.transaction(g.config.iA,b?"readwrite":"readonly");l=m.objectStore(g.config.iA)[a](c);m.onerror=function(){k(new f(d.Error,l.error));};l.onsuccess=function(b){var c;if("get"==a)try{c=b.target.result;c?h(c.data):k(new f(d.a1));}catch(S){k(new f(d.a1,S));}else h();};l.onerror=function(){k(new f(d.Error,l.error));};}))["catch"](function(a){return a instanceof l.qn?Promise.reject(new f(d.iy,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(d.Error,a));});};c.APa=b;},function(g,c,a){var l,d,k,p,n,u,r,B,x,H,G,P;function b(a,b,d,c,f,g){this.config=b;this.mK=d;this.uj=c;this.$Ab=f;this.Ni=g;this.la=a.ub(u.E1);}function f(a,b){this.config=a;this.Au=b;}function h(a,b,d,c,f){this.config=b;this.Au=d;this.Ni=f;this.la=a.ub(u.E1);this.mK=new Promise(function(a,b){var d;try{d=c();d?a(d):b({ba:n.G.Eia});}catch(ca){b({ba:n.G.NP,cause:ca});}});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);l=a(1);d=a(8);k=a(894);p=a(175);n=a(2);u=a(422);r=a(423);B=a(64);x=a(69);H=a(117);G=a(174);P=a(63);h.prototype.create=function(){this.v6||(this.v6=this.zD());return this.v6;};h.prototype.yl=function(a){var b;b=this;this.v6=null;return this.Au.Ul(this.config.timeout,new Promise(function(d,c){a.close();b["delete"](a.name).then(function(){d();})["catch"](function(a){c(a);});}))["catch"](function(a){return a instanceof B.qn?Promise.reject({ba:n.G.NP}):a.ba?Promise.reject(a):Promise.reject({ba:n.G.NP,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.Au.Ul(this.config.timeout,new Promise(function(d,c){b.mK.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){d();};f.onerror=function(){c({ba:n.G.NP,cause:f.error});};})["catch"](function(a){c(a);});}));};h.prototype.zD=function(){var a,b;a=this;return this.Au.Ul(this.config.timeout,new Promise(function(d,c){if(a.config.Kea)return c({ba:a.config.Kea});a.mK.then(function(f){a.Ni.mark(P.Ti.MOa);b=f.open(a.config.name,a.config.version);if(!b)return c({ba:n.G.Fia});b.onblocked=function(){a.Ni.mark(P.Ti.JOa);c({ba:n.G.FOa});};b.onupgradeneeded=function(){var d;a.Ni.mark(P.Ti.TOa);d=b.result;try{d.createObjectStore(a.config.iA,{keyPath:"name"});}catch(ea){a.la.error("Exception while creating object store",ea);}};b.onsuccess=function(g){var h,k;a.Ni.mark(P.Ti.SOa);try{h=g.target.result;k=h.objectStoreNames.length;a.la.trace("objectstorenames length ",k);if(0===k){a.la.error("invalid indexedDb state, deleting");a.Ni.mark(P.Ti.LOa);try{h.close();}catch(ca){}f.deleteDatabase(a.config.name);setTimeout(function(){c({ba:n.G.EOa});},1);return;}}catch(ca){a.la.error("Exception while inspecting indexedDb objectstorenames",ca);}d(b.result);};b.onerror=function(){a.Ni.mark(P.Ti.KOa);a.la.error("IndexedDB open error",b.error);c({ba:n.G.GOa,cause:b.error});};})["catch"](function(a){c(a);});}))["catch"](function(d){if(d instanceof B.qn){try{b&&b.readyState&&a.Ni.mark("readyState-"+b.readyState);}catch(C){}if(a.config.DS&&b&&"done"===b.readyState){if(a.WAb(b))return a.Ni.mark(P.Ti.QOa),Promise.resolve(b.result);a.Ni.mark(P.Ti.POa);}a.Ni.mark(P.Ti.OOa);return Promise.reject({ba:n.G.IOa});}if(d.ba)return Promise.reject(d);a.Ni.mark(P.Ti.NOa);a.la.error("IndexedDB open exception occurred",d);return Promise.reject({ba:n.G.HOa,cause:d});});};h.prototype.WAb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(T){this.Ni.mark(P.Ti.ROa);this.la.error("failed to check open request state",T);}return!1;};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(d.Bb)),g.__param(1,l.l(r.OP)),g.__param(2,l.l(B.cy)),g.__param(3,l.l(p.Dia)),g.__param(4,l.l(H.jy))],a);c.COa=a;f.prototype.create=function(a){return Promise.resolve(new k.APa(this.config,this.Au,a));};a=f;a=g.__decorate([l.N(),g.__param(0,l.l(r.OP)),g.__param(1,l.l(B.cy))],a);c.CPa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.iK||(this.iK=this.zD(this.$Ab));return this.iK;};b.prototype.zD=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(d,c){b.Ni.mark(P.Ti.cVa);b.mK.create().then(function(f){b.uj.create(f).then(function(g){Promise.all(a.map(function(a){return a.Xp(g);})).then(function(){b.storage=g;d(b.storage);})["catch"](function(a){b.la.debug("DB validation failed, cause: "+a);b.config.kva?(b.la.debug("Fixing corrupt DB"),b.mK.yl(f).then(function(){b.la.error("Invalid database deleted, creating new database.");b.zD().then(function(a){b.la.error("Invalid database successfully recreated.");b.storage=a;d(b.storage);});})["catch"](function(a){b.la.error("Couldn't delete invalid database.");c(a);})):(b.la.debug("Ignoring invalid DB due to config"),b.storage=g,d(b.storage));});})["catch"](function(a){c(a);});})["catch"](function(a){c(a);});});};a=b;a=g.__decorate([l.N(),g.__param(0,l.l(d.Bb)),g.__param(1,l.l(r.OP)),g.__param(2,l.l(G.Cia)),g.__param(3,l.l(G.bja)),g.__param(4,l.eA(x.kma)),g.__param(5,l.l(H.jy))],a);c.DPa=a;},function(g,c,a){var f,h,l;function b(a){this.iu=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(175);b.prototype.load=function(a){var b;b=this;return new Promise(function(d,c){var f,g;try{f=b.iu.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(B){}d({key:a,value:g});}else c({ba:h.G.av});}catch(B){c({ba:h.G.$la,cause:B});}});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){if(c&&d.iu.getItem(a))f(!1);else try{"string"===typeof b?d.iu.setItem(a,b):d.iu.setItem(a,JSON.stringify(b));f(!0);}catch(B){g({ba:h.G.ama,cause:B});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(d,c){try{b.iu.removeItem(a);d();}catch(u){c({ba:h.G.y1,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.XL=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(a.LRa))],l);c.ZPa=l;},function(g,c,a){var f,h,l,d,k;function b(a,b,c){this.ek=b;this.config=c;this.la=a.ub(d.E1);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(8);l=a(64);d=a(422);a=a(421);b.prototype.Xp=function(a){return this.config.enabled?this.config.timeout?this.ek.Ul(this.config.timeout,this.Qta(a)):this.Qta(a):Promise.resolve();};b.prototype.Qta=function(a){var b;b=this;return new Promise(function(d,c){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&c();b.la.debug("save/load test passed");a.remove("indexdb-test").then(function(){d();})["catch"](function(){b.la.error("Failed to remove testValue");d();});});})["catch"](function(a){return c(a);});});};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(h.Bb)),g.__param(1,f.l(l.cy)),g.__param(2,f.l(a.eha))],k);c.oLa=k;},function(g,c,a){var b,f,h,l,d,k,p,n,u,r,B,x,H,G,P,A,F;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(423);f=a(69);h=a(175);l=a(897);d=a(420);k=a(896);p=a(421);n=a(174);u=a(895);r=a(893);B=a(892);x=a(891);H=a(69);G=a(419);P=a(889);A=a(418);F=a(888);c.storage=new g.tc(function(a){a(h.hka).Ef(function(){return function(){return K.localStorage;};});a(h.Dia).Ef(function(){return function(){return K.indexedDB;};});a(G.Zja).to(P.rRa).Y();a(H.Fr).to(x.jJa).Y();a(d.sja).to(k.ZPa).Y();a(b.OP).to(r.BPa).Y();a(n.bja).to(u.CPa).Y();a(f.kma).to(l.oLa).Y();a(n.Cia).to(u.COa).Y();a(n.D0).to(u.DPa).Y();a(p.eha).to(B.pLa).Y();a(A.Eha).to(F.OMa).Y();});},function(g,c,a){var f,h,l;function b(a){this.Trb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(238);a=a(424);b.prototype.zcb=function(){var a,b;a={MK:h.Nx.yWa};b=this.Trb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var d;a.MK=b.value?h.Nx.Bla:h.Nx.rga;if(a.MK===h.Nx.rga){d=function(){b.value&&(a.MK=h.Nx.Bla);b.removeEventListener("change",d);};b.addEventListener("change",d);}})["catch"](function(){a.MK=h.Nx.Error;});return a;};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(a.Cla))],l);c.KNa=l;},function(g,c,a){var f,h,l;function b(a,b){this.yAa=a;this.log=b.ub("MediaCapabilities");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(426);h=a(8);a=a(1);b.prototype.Q7=function(a){var b,d,c;b=this;d={wc:void 0};if(this.yAa.zAa){c={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,R:1E3*a.R,CU:"24"};this.yAa.Q7(c).then(function(a){return d.wc=Object.assign(Object.assign({},a),c);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return d;};l=b;l=g.__decorate([a.N(),g.__param(0,a.l(f.Tja)),g.__param(1,a.l(h.Bb))],l);c.dRa=l;},function(g,c,a){var f,h;function b(a){this.navigator=a;this.zAa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(37);b.prototype.Q7=function(a){return this.zAa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.R,framerate:a.CU}}).then(function(a){return{wRb:a.supported,jxb:a.smooth,zrb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.Yu))],h);c.cRa=h;},function(g,c,a){var f,h,l;function b(a,b,c,g,m){a=f.am.call(this,a,b,c)||this;a.we=g;a.navigator=m;a.type=h.sk.cma;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(133);h=a(31);l=a(60);da(b,f.am);b.prototype.kL=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.we.gi.toString()});};b.prototype.lU=function(a){var b,d;b=this;d=a.map(function(a){for(var d=Q(b.Ip),c=d.next();!c.done;c=d.next())if(c.value.test(a))return Promise.resolve(!0);d=Q(b.Sl);for(c=d.next();!c.done;c=d.next())if(c.value.test(a))return Promise.resolve(!1);return b.eba(a);});return Promise.all(d).then(function(b){return a.filter(function(a,d){return b[d];});});};b.prototype.eba=function(a){a=this.r6a(a);if(!a)return Promise.resolve(!1);a={type:"media-source",video:a};try{return this.navigator.mediaCapabilities.decodingInfo(a).then(function(a){return!0===a.supported&&!0===a.powerEfficient;})["catch"](function(){return!1;});}catch(k){return Promise.resolve(!1);}};b.prototype.r6a=function(a){var b,d,c,f,g,h,m;b={};d={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};f={width:1920,height:1080,bitrate:5939200,framerate:30};g={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};h={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};m=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),f);b[l.W.yP]=m;b[l.W.zP]=m;b[l.W.AP]=m;m=Object.assign(Object.assign({},d),f);b[l.W.HP]=m;b[l.W.IP]=m;b[l.W.JP]=m;K.matchMedia("(dynamic-range: high)").matches&&(d=Object.assign(Object.assign(Object.assign({},d),f),g),b[l.W.eH]=d,b[l.W.fH]=d,b[l.W.AB]=d,c=Object.assign(Object.assign(Object.assign({},c),f),h),b[l.W.UG]=c,b[l.W.VG]=c,b[l.W.tB]=c);return b[a];};b.prototype.oG=function(){return this.config().q7?this.eba(l.W.tB):Promise.resolve(!1);};b.prototype.pG=function(){return this.config().q7?this.eba(l.W.AB):Promise.resolve(!1);};c.jVa=b;},function(g,c,a){var f,h,l;function b(a,b,c,g,m,l){a=f.am.call(this,a,b,c)||this;a.Jk=g;a.Vq=m;a.Ja=l;a.type=h.sk.r_;a.log=a.Vq.ub("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(133);h=a(31);l=a(4);da(b,f.am);b.prototype.vr=function(a){switch(a){case h.ni.aq:return this.tyb;default:return Promise.resolve(!1);}};b.prototype.uE=function(){var a;a=this;return this.vr(h.ni.aq).then(function(a){return a?h.ni.aq:void 0;}).then(function(b){return a.hK(b);});};b.prototype.j4=function(a){return this.Yw=a;};b.prototype.BO=function(){var a;if(this.Yw){a=this.Ixa&&this.Jxa&&this.Ixa.Fd(this.Jxa).da(l.ja);this.Yw.itshdcp=JSON.stringify({hdcp1:this.Ft,time1:a});}};pa.Object.defineProperties(b.prototype,{Kk:{configurable:!0,enumerable:!0,get:function(){this.BAa||(this.BAa=this.Jk.rE().then(function(a){return a.createMediaKeys();}));return this.BAa;}},tyb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.hfa||(this.config().Sab?this.hfa=this.Kk.then(function(b){if(b&&b.getStatusForPolicy)return a.Jxa=a.Ja.ef,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.Ixa=a.Ja.ef;a.Ft=b;a.log.trace("hdcpStatus: "+a.Ft);return"usable"===a.Ft;});a.Ft="not available";a.log.trace("hdcpStatus: "+a.Ft);return!1;})["catch"](function(b){a.Ft="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Ft},b);return!1;}).then(function(b){a.BO();return b;}):(this.Ft="not enabled",this.log.trace("hdcpStatus: "+this.Ft),this.BO(),this.hfa=Promise.resolve(!1)));return this.hfa;}}});c.bLa=b;},function(g,c,a){var f,h,l,d,k,p,n,u,r,B,x,H,G,P,A,F,U,C,R;function b(a,b,c,d,f,g,k){a=h.am.call(this,a,b,c)||this;a.ha=d;a.Ja=f;a.Vq=g;a.Fc=k;a.type=l.sk.Zx;a.SG="hvc1";a.zKa="avc1";a.KCa={};a.log=a.Vq.ub("MicrosoftVideoCapabilityDetector");a.vxb();a.bO&&a.config().onb?a.mab=a.H8a():(a.mab=Promise.resolve(""),a.config().qnb?a.L8a():a.config().pnb&&a.K8a());return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(60);h=a(133);l=a(31);g=a(98);d=a(143);k=a(139);p=a(4);n=a(248);u=a(134);r=a(239);B="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");x="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");H="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");G="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");P="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");A="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");F=["hdcp=1"];U=["hdcp=2"];C=new g.hy();R=new n.h_();da(b,h.am);b.prototype.mE=function(a){return a===l.vd.Jr&&this.config().GAb?u.Gd.dH:h.am.prototype.mE.call(this,a);};b.prototype.vr=function(a){switch(a){case l.ni.aq:return this.zGa();case l.ni.Ux:return this.aN;default:return Promise.resolve(!1);}};b.prototype.qE=function(){return this.bO?this.Fib?this.zGa().then(function(a){return Promise.resolve(a?d.lb.ud:d.lb.MH);}):Promise.resolve(d.lb.MH):this.uyb?Promise.resolve(d.lb.MH):Promise.resolve(d.lb.fq);};b.prototype.pG=function(){return Promise.resolve(this.syb());};b.prototype.cO=function(){return this.bO&&this.BGa()?this.aN:Promise.resolve(!1);};b.prototype.oG=function(){return Promise.resolve(this.ryb());};b.prototype.j4=function(a){this.Yw=a;Object.assign(this.Yw,this.KCa);a.itshwdrm=this.bO;a.itsqhd=this.AGa();a.itshevc=this.BGa();a.itshdr=this.pG();a.itsdv=this.oG();return a;};b.prototype.iJ=function(a,b){(this.Yw?this.Yw:this.KCa)[a]=b;};b.prototype.uE=function(){var a;a=this;return this.vr(l.ni.Ux).then(function(b){return b?a.hK(l.ni.Ux):a.vr(l.ni.aq).then(function(b){return b?a.hK(l.ni.aq):a.hK(void 0);});});};b.prototype.kL=function(){return this.qE().then(function(a){return a===d.lb.ud?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.lU=function(a){var b;b=this;a=a.filter(function(a){var c,g;for(var c=Q(b.Ip),f=c.next();!f.done;f=c.next())if(f.value.test(a))return!0;c=Q(b.Sl);for(f=c.next();!f.done;f=c.next())if(f.value.test(a))return!1;a=b.Qca[a];c=[];g=d.lb.fq;if(a)return b.is.mm(a)?f=a:(c=a.md,f=a.Fe,g=a.Ie),b.Tv(g,f,c);});return Promise.resolve(a);};b.prototype.bz=function(){var a;a=h.am.prototype.bz.call(this);a[f.W.XH]="vp09.00.11.08.02";a[f.W.YH]="vp09.00.11.08.02";a[f.W.ZH]="vp09.00.11.08.02";a[f.W.HP]={Fe:"hev1.2.6.L90.B0",Ie:d.lb.ud,md:B};a[f.W.IP]={Fe:"hev1.2.6.L93.B0",Ie:d.lb.ud,md:B};a[f.W.JP]={Fe:"hev1.2.6.L120.B0",Ie:d.lb.ud,md:B};a[f.W.i0]={Fe:"hev1.2.6.L123.B0",Ie:d.lb.ud,md:B};a[f.W.hH]={Fe:"hev1.2.6.L150.B0",Ie:d.lb.ud,md:B};a[f.W.iH]={Fe:"hev1.2.6.L153.B0",Ie:d.lb.ud,md:B};a[f.W.c0]={Fe:"hev1.2.6.L90.B0",Ie:d.lb.ud,md:B};a[f.W.e0]={Fe:"hev1.2.6.L93.B0",Ie:d.lb.ud,md:B};a[f.W.g0]={Fe:"hev1.2.6.L120.B0",Ie:d.lb.ud,md:B};a[f.W.j0]={Fe:"hev1.2.6.L123.B0",Ie:d.lb.ud,md:B};a[f.W.k0]={Fe:"hev1.2.6.L150.B0",Ie:d.lb.ud,md:B};a[f.W.l0]={Fe:"hev1.2.6.L153.B0",Ie:d.lb.ud,md:B};a[f.W.eH]={Fe:"hev1.2.6.L90.B0",Ie:d.lb.ud,md:H};a[f.W.fH]={Fe:"hev1.2.6.L93.B0",Ie:d.lb.ud,md:H};a[f.W.AB]={Fe:"hev1.2.6.L120.B0",Ie:d.lb.ud,md:H};a[f.W.DP]={Fe:"hev1.2.6.L123.B0",Ie:d.lb.ud,md:G};a[f.W.Y_]={Fe:"hev1.2.6.L150.B0",Ie:d.lb.ud,md:G};a[f.W.$_]={Fe:"hev1.2.6.L153.B0",Ie:d.lb.ud,md:G};a[f.W.UG]={Fe:"hev1.2.6.L90.B0",Ie:d.lb.ud,md:P};a[f.W.VG]={Fe:"hev1.2.6.L93.B0",Ie:d.lb.ud,md:P};a[f.W.tB]={Fe:"hev1.2.6.L120.B0",Ie:d.lb.ud,md:P};a[f.W.oP]={Fe:"hev1.2.6.L123.B0",Ie:d.lb.ud,md:A};a[f.W.pP]={Fe:"hev1.2.6.L150.B0",Ie:d.lb.ud,md:A};a[f.W.A_]={Fe:"hev1.2.6.L153.B0",Ie:d.lb.ud,md:A};return a;};b.prototype.Tv=function(a,b,c){a=r.$x.pT(a,b,c);return this.Vs(a);};b.prototype.AGa=function(){return this.Tv(d.lb.ud,this.SG,B);};b.prototype.syb=function(){return this.Tv(d.lb.ud,this.SG,H);};b.prototype.ryb=function(){return this.Tv(d.lb.ud,this.SG,P);};b.prototype.BGa=function(){return this.Tv(d.lb.ud,this.SG,x);};b.prototype.zGa=function(){var a;a=this;return this.aN.then(function(b){return b?Promise.resolve(b):a.qDa;});};b.prototype.BO=function(){this.Yw&&(this.Yw.itshdcp=JSON.stringify({hdcp1:this.Gxa,time1:this.RGa-this.hGa,hdcp2:this.Hxa,time2:this.SGa-this.iGa}));};b.prototype.vxb=function(){var a;a=this;this.bO?(this.zca=new k.Hj(),this.Aca=new k.Hj(),this.qDa=k.Aa.from(this.zca).pO().then(function(a){return"probably"===a;}),this.aN=k.Aa.from(this.Aca).pO().then(function(a){return"probably"===a;}),this.OFa(this.Aca,this.config().snb),this.VCa(this.kfb.bind(this),this.Aca),this.aN.then(function(b){b||(a.OFa(a.zca,a.config().rnb),a.VCa(a.jfb.bind(a),a.zca));})):(this.qDa=Promise.resolve(!0),this.aN=Promise.resolve(!1));};b.prototype.VCa=function(a,b){k.Aa.Au(0,this.config().tnb).map(function(){return a();}).SN(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).kO(k.Aa.from(b)).pO();};b.prototype.OFa=function(a,b){this.ha.Xg(p.Cb(b),function(){a.next("timeout");a.complete();});};b.prototype.jfb=function(){var a;a=r.$x.pT(d.lb.MH,this.zKa,F).split("|");this.Gxa=r.$x.gfa(a[0],a[1]);this.RGa=this.Ja.ef.da(p.ja);this.hGa=this.hGa||this.RGa;this.BO();return this.Gxa;};b.prototype.kfb=function(){var a;a=r.$x.pT(d.lb.ud,this.SG,U).split("|");this.Hxa=r.$x.gfa(a[0],a[1]);this.SGa=this.Ja.ef.da(p.ja);this.iGa=this.iGa||this.SGa;this.BO();return this.Hxa;};b.prototype.H8a=function(){var a;a=this;return this.i6(d.lb.ud,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.iJ("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.K8a=function(){var a;a=this;this.i6(d.lb.fq,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Fc.decode(b));a.iJ("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.iJ("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.L8a=function(){var a;a=this;this.i6(d.lb.fq,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Fc.decode(b));a.iJ("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.iJ("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.i6=function(a,b){var c;c=this;return new Promise(function(d,f){var q,n,t;function g(a){try{m(a.target,"Unexpectedly got an mskeyerror event: 0x"+R.WK(a&&a.target&&a.target.error&&a.target.error.zRb||0,4));}catch(ya){m(a.target,ya);}}function h(a){m(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.M7(a.message,"PlayReadyKeyMessage","Challenge");l(a.target);d(b);}catch(ma){m(a.target,ma);}}function m(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});l(a);f(d);}function l(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);q&&q.cancel();}try{n=new Uint8Array(C.Wxb(b));t=new K.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);t.addEventListener("mskeymessage",k);t.addEventListener("mskeyadded",h);t.addEventListener("mskeyerror",g);q=c.ha.Xg(p.Cb(1E3),function(){m(t,Error("timeout"));});}catch(Fa){f(Fa);}});};b.prototype.M7=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};pa.Object.defineProperties(b.prototype,{Fib:{configurable:!0,enumerable:!0,get:function(){return this.config().Rab&&(!this.config().unb||this.AGa());}},bO:{configurable:!0,enumerable:!0,get:function(){try{return this.Vs(d.lb.ud+'|video/mp4;codecs="'+u.Gd.xB+'"');}catch(O){return!1;}}},uyb:{configurable:!0,enumerable:!0,get:function(){try{return this.Vs(d.lb.MH);}catch(O){return!1;}}}});c.PQa=b;b.BG='video/mp4;codecs="{0},mp4a";';},function(g,c,a){var f,h,l,d,k;function b(a,b,c,g){a=d.C_.call(this,a,b)||this;a.is=c;a.platform=g;a.type=f.Fx.Zx;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(31);h=a(60);l=a(143);d=a(427);k=a(239);da(b,d.C_);b.prototype.aO=function(){return Promise.resolve(this.config().EK&&this.Tv(l.lb.fq,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};b.prototype.bz=function(){var a;a={};a[h.Qi.EP]="mp4a.40.2";a[h.Qi.a0]="mp4a.40.5";a[h.Qi.FP]="mp4a.40.2";"browser"===this.platform.Fta?this.config().EK&&(a[h.Qi.mP]={Fe:"avc1",Ie:l.lb.fq,md:["audio-endpoint-codec=DD+JOC"]},a[h.Qi.nP]={Fe:"avc1",Ie:l.lb.fq,md:["audio-endpoint-codec=DD+JOC"]}):(this.config().o7&&(a[h.Qi.mP]="ec-3"),this.config().n7&&(a[h.Qi.v_]="ec-3"),this.config().EK&&(a[h.Qi.nP]={Fe:"avc1",Ie:l.lb.fq,md:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.lU=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=Q(b.Ip),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Q(b.Sl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.Qca[a];c=[];f=l.lb.fq;if(a)return b.is.mm(a)?d=a:(c=a.md,d=a.Fe,f=a.Ie),b.Tv(f,d,c);});return Promise.resolve(a);};b.prototype.Tv=function(a,b,c){a=k.$x.pT(a,b,c);return this.Vs(a);};c.tRa=b;},function(g,c,a){var f,h,l,d,k,p,n,u,r,B,x,H,G,P,A,F,U,C,R,O;function b(a,b,c,d,f,g,h,k,m,l,p,q){this.Rya=a;this.cast=b;this.config=c;this.ha=d;this.Ja=f;this.is=g;this.Jk=h;this.Vq=k;this.we=m;this.platform=l;this.Fc=p;this.navigator=q;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(31);l=a(241);d=a(176);k=a(240);p=a(905);n=a(904);u=a(133);r=a(427);B=a(33);x=a(45);H=a(22);G=a(903);P=a(103);A=a(8);F=a(902);U=a(52);C=a(79);R=a(39);a=a(37);b.prototype.r8a=function(a){var b;b=this.Rya.Lsa();switch(a){case h.Fx.Zx:return new p.tRa(this.config,b,this.is,this.platform);default:return new r.C_(this.config,b);}};b.prototype.i9a=function(a){var b;b=this.Rya.Lsa();switch(a){case h.sk.p_:a=new k.Vga(this.config,b,this.is,this.cast);break;case h.sk.r_:a=new G.bLa(this.config,b,this.is,this.Jk,this.Vq,this.Ja);break;case h.sk.Zx:a=new n.PQa(this.config,b,this.is,this.ha,this.Ja,this.Vq,this.Fc);break;case h.sk.cma:a=new F.jVa(this.config,b,this.is,this.we,this.navigator);break;default:a=new u.am(this.config,b,this.is);}return a;};O=b;O=g.__decorate([f.N(),g.__param(0,f.l(l.gja)),g.__param(1,f.l(k.q_)),g.__param(2,f.l(d.rP)),g.__param(3,f.l(B.Eg)),g.__param(4,f.l(x.kk)),g.__param(5,f.l(H.Ke)),g.__param(6,f.l(P.Uu)),g.__param(7,f.l(A.Bb)),g.__param(8,f.l(U.bm)),g.__param(9,f.l(C.Vr)),g.__param(10,f.l(R.Aj)),g.__param(11,f.l(a.Yu))],O);c.TKa=O;},function(g,c,a){var f,h,l,d,k,p;function b(a,b,c){this.config=a;this.ota=b;this.cast=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(241);l=a(176);d=a(31);k=a(240);p=a(239);b.prototype.Lsa=function(){switch(this.config().QZ){case d.sk.p_:return k.Vga.d6(this.ota,this.cast);case d.sk.Zx:return p.$x.d6(this.config);default:return this.ota;}};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(l.rP)),g.__param(1,f.l(h.jla)),g.__param(2,f.l(k.q_))],a);c.IPa=a;},function(g,c,a){var f,h,l,d,k,p,n,u;function b(a,b,c){this.LT=a;this.Ea=b;this.tGa=c;this.n1a="video/mp4;codecs={0}";this.qXa="audio/mp4;codecs={0}";a=this.LT.mE(h.vd.Jr);this.m1a=d.Gd.Psa(a);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(31);l=a(1);d=a(134);k=a(22);p=a(452);n=a(430);u=a(11);b.prototype.jK=function(a){a=this.LT.nfb(a);a=this.Ea.ez(a)?a:h.vd.PH;return this.tGa.format(this.n1a,this.m1a[a]);};b.prototype.dK=function(a){return 0===a.length?this.tGa.format(this.qXa,d.Gd.XO):n.Aga[a[0].wf]===f.SIa?u.Wx:u.uQa;};a=f=b;a.SIa="AAC";a=f=g.__decorate([l.N(),g.__param(0,l.l(h.E_)),g.__param(1,l.l(k.Ke)),g.__param(2,l.l(p.lma))],a);c.yVa=a;},function(g,c,a){var f,h,l,d,k,p;function b(a,b,c){this.config=a;this.Fra=b;this.$qb=c;this.osb=this.$8a();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(31);h=a(176);l=a(1);d=a(60);k=a(432);a=a(431);b.prototype.Xgb=function(){return this.Nva().fxa();};b.prototype.Ygb=function(){return this.Pq().fxa();};b.prototype.Nva=function(){this.K4&&this.K4.type==this.config().L4||(this.K4=this.Fra.r8a(this.config().L4));return this.K4;};b.prototype.Pq=function(){this.PZ&&this.PZ.type==this.config().QZ||(this.PZ=this.Fra.i9a(this.config().QZ),this.PZ.j4(this.$qb.$eb()));return this.PZ;};b.prototype.nfb=function(a){var d;if(!a||!a.length)return f.vd.CP;a=this.Tcb(a);for(var b=[f.vd.PH,f.vd.CP,f.vd.vQ,f.vd.Mr,f.vd.Jr,f.vd.kB,f.vd.bv,f.vd.ji],c=b.length;c--;){d=b[c];if((0,this.osb[d])(a))return d;}return f.vd.PH;};b.prototype.vr=function(a){return this.Pq().vr(a);};b.prototype.Vs=function(a){return this.Pq().Vs(a);};b.prototype.qE=function(){return this.Pq().qE();};b.prototype.pG=function(){return this.Pq().pG();};b.prototype.aO=function(){return this.Nva().aO();};b.prototype.oG=function(){return this.Pq().oG();};b.prototype.cO=function(){return this.Pq().cO();};b.prototype.mE=function(a){return this.Pq().mE(a);};b.prototype.uE=function(){return this.Pq().uE();};b.prototype.kL=function(){return this.Pq().kL();};b.prototype.Tcb=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.wf]="";});return Object.keys(b);};b.prototype.$8a=function(){var a;a={};a[f.vd.ji]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[f.vd.kB]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[f.vd.bv]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[f.vd.Jr]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[f.vd.Mr]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[f.vd.vQ]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[f.vd.CP]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=Q(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[d.W.yB]);a[f.vd.PH]=function(){return!0;};return a;};p=b;p=g.__decorate([l.N(),g.__param(0,l.l(h.rP)),g.__param(1,l.l(a.Uga)),g.__param(2,l.l(k.fia))],p);c.FMa=p;},function(g,c,a){var b,f,h,l,d,k,p,n,u,r,B,x,H,G,P,A,F,U,C,R;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(31);f=a(17);h=a(909);l=a(176);d=a(116);k=a(908);p=a(241);n=a(907);u=a(432);r=a(431);B=a(906);x=a(240);H=a(9);G=a(426);P=a(901);A=a(425);F=a(900);U=a(238);C=a(899);R=a(424);c.LT=new g.tc(function(a){a(d.SB).to(k.yVa).Y();a(b.E_).to(h.FMa).Y();a(p.gja).to(n.IPa).Y();a(r.Uga).to(B.TKa).Y();a(p.jla).ii({isTypeSupported:H.CH&&H.CH.isTypeSupported});a(x.q_).ii("undefined"!==typeof cast?cast:null);a(u.fia).yG(function(){return{$eb:function(){return K._cad_global.platformExtraInfo;}};});a(l.rP).yG(function(a){return a.tb.get(f.sd);});a(G.Tja).to(P.cRa).Y();a(A.Sja).to(F.dRa).Y();a(U.eia).to(C.KNa).Y();a(R.Cla).ii(K);});},function(g,c,a){function b(a){this.fab=void 0===a?10:a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b=g.__decorate([a.N()],b);c.VVa=b;},function(g,c,a){var f,h;function b(a){this.jzb=a;this.rZ={};}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(242);b.prototype.oeb=function(){var a,b,c;a=[];for(b in this.rZ){c=this.rZ[b];a.push({Uv:Number(b),YA:c.El().YA,e7:c.El().e7});}return a;};b.prototype.vS=function(a){var b,c;b=a.Uv;c=this.rZ[b];c||(c=this.jzb(),this.rZ[b]=c);c.vS(a);};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.K1))],h);c.$Ka=h;},function(g,c,a){var f,h,l,d;function b(a){this.config=a;this.Nea=h.Ze;this.dG=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(47);l=a(4);a=a(434);b.prototype.El=function(){var b;for(var a;0<this.dG.length;)a=this.dG.shift(),this.Wpa(a);a=void 0===this.xK||void 0===this.gz?l.Ze:this.gz.Fd(this.xK);b=a.Uya()?0:this.Nea.da(h.qB)/a.da(l.ja);return{YA:Math.floor(b),e7:a.da(l.ja)};};b.prototype.vS=function(a){this.Nea=this.Nea.add(a.size);this.dG.push(a.eab);for(this.dG.sort(function(a,b){return a.start.ul(b.start);});this.dG.length>this.config.fab;)a=this.dG.shift(),this.Wpa(a);};b.prototype.Wpa=function(a){void 0===this.xK&&(this.xK=a.start);void 0!==this.gz&&0>this.gz.ul(a.start)&&(this.xK=this.xK.add(a.start.Fd(this.gz)));if(void 0===this.gz||0>this.gz.ul(a.end))this.gz=a.end;};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(a.zma))],d);c.WVa=d;},function(g,c,a){var b,f,h,l,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(913);f=a(912);h=a(911);l=a(433);d=a(434);k=a(242);c.ZA=new g.tc(function(a){a(k.Ama).to(b.WVa);a(l.Wga).to(f.$Ka).Y();a(d.zma).ii(new h.VVa());a(k.K1).Ef(function(a){return function(){return a.tb.get(k.Ama);};});});},function(g,c,a){var f,h,l,d,k,p;function b(a,b,c,d,f,g,k,m,l,p,q,n){var t;t=this;this.Qc=a;this.Ea=b;this.Lb=d;this.Dp=g;this.UJ=k;this.config=l;this.ee=q;this.na=n;this.j=p.create(n.u,n.Ql,m,n.$a,n.id);this.j.background=!0;this.j.sa=n.EW;this.log=c.ub("VideoPlayer",this.j);this.yCa=[];this.ended=!1;this.SO();this.j.state.addListener(function(a){a.newValue===h.mb.jd&&t.Qd(h.qb.I$,{movieId:n.u});});this.j.Sa.Yh&&(this.iD=f.t8a(this,this.j,this.ee),this.j.addEventListener(h.S.DY,function(a){t.Qd(h.qb.tvb,{segmentId:a.segmentId});}));}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);h=a(15);l=a(4);d=a(9);k=a(75);p=a(19);b.prototype.isReady=function(){return this.j.state.value===h.mb.jd;};b.prototype.Ufb=function(){return this.j.u;};b.prototype.F9=function(){return this.j.ia;};b.prototype.qgb=function(){return this.j.uDa;};b.prototype.np=function(){return this.j.pf;};b.prototype.At=function(){return this.j;};b.prototype.Cw=function(){return this.j.Fp.value;};b.prototype.Tjb=function(){return this.j.paused.value;};b.prototype.Gjb=function(){return this.ended;};b.prototype.Rj=function(){var a;a=this.j.g5.value;return a?{networkStalled:!!a.aZ,stalled:!!a.aZ,progress:a.bi,progressRollback:!!a.rsb}:null;};b.prototype.getError=function(){var a;a=this.j.Di;return a?a.zfa():null;};b.prototype.geb=function(){var a;a=(this.PU()||0)+this.j.Sva();return Math.min(a,this.awa());};b.prototype.PU=function(){return this.j.vz();};b.prototype.awa=function(){return this.j.Eq.da(l.ja);};b.prototype.xhb=function(){return this.j.IG?{width:this.j.IG.width,height:this.j.IG.height}:null;};b.prototype.I8=function(){var f;if(this.j.Zm){for(var a,b=0;b<this.j.Zm.length;b++)for(var c=this.j.Zm[b],d=0;d<c.bc.length;d++){f=c.bc[d];this.Ea.Jg(f.o6)&&this.Ea.Jg(f.tT)&&this.Ea.Jg(f.sT)&&this.Ea.Jg(f.rT)&&0<f.tT&&(f=f.rT/f.sT,a=this.Ea.Jg(a)?Math.min(a,f):f);}return a;}};b.prototype.web=function(){return this.j.I8();};b.prototype.Heb=function(){return this.Ieb(this.j.J$a);};b.prototype.Sdb=function(){var a;a=this;return this.j.Gn?this.j.Gn.map(function(b){return a.wz(b);}).filter(function(a){return null!==a;}):[];};b.prototype.ixa=function(a){var b,c;b=this;c=a&&this.j.Gn.find(function(c){return b.wz(c)===a;})||this.j.Uc.value;return null===c?[]:c.ik.map(function(a){return b.wz(a);}).filter(function(a){return null!==a;});};b.prototype.Rjb=function(){return this.j.muted.value;};b.prototype.Ahb=function(){return this.j.volume.value;};b.prototype.Rdb=function(){return this.wz(this.j.Uc.value);};b.prototype.hxa=function(){return this.wz(this.j.zc.value);};b.prototype.zjb=function(){return!!this.j.background;};b.prototype.mwb=function(a){this.j.muted.set(!!a);};b.prototype.Bwb=function(a){this.j.volume.set(this.IBa(a,1));};b.prototype.qwb=function(a){this.j.playbackRate.set(this.IBa(a,2));};b.prototype.Zvb=function(a){var b,c;b=this;c=this.j.Gn.find(function(c){return b.wz(c)===a;});c?this.j.Uc.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.FFa=function(a){var d;if(null!==this.j.Uc.value){for(var b=this.j.Uc.value.ik,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.zc.set(null);return;}if(this.wz(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.zc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.rFa=function(a){this.j.background=a;};b.prototype.UN=function(){this.j.UN();};b.prototype.addEventListener=function(a,b,c){this.Lb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Lb.removeListener(a,b);};b.prototype.lu=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Qd(h.qb.Ilb,void 0,!0);b.sa&&(b.sa.watermarkInfo&&a.Qd(h.qb.tBb,b.sa.watermarkInfo,!0),b.sa.choiceMap&&a.Qd(h.qb.svb,{segmentMap:b.sa.choiceMap},!0));c({Z:!0});}catch(B){c({ba:f.G.Bh,kb:a.Qc.Re(B)});}}));};b.prototype.close=function(a){var b;b=this;this.bsa||(this.bsa=new Promise(function(c){a?b.j.Md(a,c):b.j.close(c);}));return this.bsa;};b.prototype.play=function(){this.j.Nj?this.j.fireEvent(h.S.LEa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.S.dIa)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.S.SAb));};b.prototype.seek=function(a,b,c,d){this.j.Gi?this.j.Gi.seek(a,b,c,d):this.j.Sy=a;};b.prototype.erb=function(a){return this.iD?(this.log.trace("Playing a segment",a),this.iD.play(a)):Promise.resolve();};b.prototype.Jsb=function(a){return this.iD?(this.log.trace("Queueing a segment",a),this.iD.ph(a)):Promise.resolve();};b.prototype.Co=function(a,b){return this.iD?(this.log.trace("Updating next segment weights",a,b),this.iD.Co(a,b)):Promise.resolve();};b.prototype.vO=function(){this.j.vO();};b.prototype.hV=function(){var a;a=this.j.Ao.hV();return{bounds:a.CJ,margins:a.co,size:a.size,visibility:a.visibility};};b.prototype.NN=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.oO&&(b&&this.j.oO.yea(b),c&&this.j.oO.zea(c),"boolean"===typeof a&&this.j.oO.Aea(a));this.j.Ao&&d&&this.j.Ao.vwb(d);};b.prototype.HFa=function(a){this.j.Ym=a;};b.prototype.mhb=function(a){return this.j.Bu&&this.j.Bu.gfb(a)||null;};b.prototype.Ldb=function(){return this.Qc.Mm({playerver:this.config.version,jssid:this.config.ykb,groupName:this.config.ifb(),xid:this.j.ia,pbi:this.j.index},this.config.arb,{prefix:"pi_"});};b.prototype.$ib=function(a){this.j.Md(this.ee(f.I.rNa,f.G.qk,a));};b.prototype.wlb=function(a,b,c,d){if(!this.Ea.vqa(a))throw Error("invalid url");this.yCa.push({url:a,name:b,G3a:c,options:d});this.mDa();};b.prototype.axa=function(){var a,b,c,d,f,g,h,k;a={};b=this.j.dZ;try{if(this.j.Di&&(a.errorCode=this.j.Di.NT,a.errorType=b?"endplay":"startplay"),a.playdelay=p.Cm(this.j.Bra()),a.xid=this.j.ia,this.j.sa&&this.Ea.mm(this.j.sa.packageId)&&(a.packageId=Number(this.j.sa.packageId)),a.auth=this.j.Udb(),a.hdr=this.j.ufb(),b){a.totaltime=this.j.Pl?this.oz(this.j.Pl.lL()):0;a.abrdel=this.j.Pl?this.j.Pl.Ova():0;c=this.j.Gi;d=c?c.tz():null;this.Ea.Jg(d)&&(a.totdfr=d);d=c?c.aL():null;this.Ea.Jg(d)&&(a.totcfr=d);f=c?c.vfb():null;f&&(a.rbfrs_decoder=f.$9a,a.rbfrs_network=f.rob);a.rbfrs_delay=this.j.Pl?this.j.Pl.E$:0;a.init_vbr=this.j.PV;g=this.ZU();this.Ea.ez(g)&&(a.pdltime=g);h=this.j.We.value;k=h&&h.stream;k&&(a.vbr=k.R,a.vdlid=k.Zc);a.bufferedTime=this.j.Sva();}}catch(S){this.log.error("error capturing session summary",S);}return a;};b.prototype.IK=function(a){return this.Ea.Jg(this.j.Zb.value)?(a=Object.assign(Object.assign({},this.Dp.create(this.j)),{action:a}),this.UJ(k.cm.IK).Bm(this.log,this.j.sa.Rf,a).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Pc,errorExternalCode:a.Qg,errorData:a.data,errorDetails:a.ND};})):Promise.resolve({success:!1});};b.prototype.Ieb=function(a){return{register:a.register.bind(a),notifyUpdated:a.CBa.bind(a),getModel:a.Sfb.bind(a),getGroups:a.S8.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};b.prototype.wz=function(a){var b;if(null!==a){b=a.Asb=a.Asb||{trackId:a.ab,bcp47:a.Bk,displayName:a.displayName,trackType:a.xj,channels:a.sl};a.Sq&&(b.isImageBased=!0);this.Wjb(a)&&(b.isNative=a.isNative);this.Xjb(a)&&(b.isNoneTrack=a.KL(),b.isForcedNarrative=a.$V());return b;}return null;};b.prototype.Wjb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.Xjb=function(a){return"undefined"!==typeof a.KL&&"undefined"!==typeof a.$V;};b.prototype.IBa=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.oz=function(a){return this.Ea.Jg(a)?(a/1E3).toFixed(0):"";};b.prototype.Qd=function(a,b,c){b=b||{};b.target=this;this.Lb.Mb(a,b,!c);};b.prototype.SO=function(){var a;a=this;this.j.addEventListener(h.S.qfa,function(){a.Qd(h.qb.Nn);});this.j.addEventListener(h.S.OW,function(){a.Qd(h.qb.rra);});this.j.addEventListener(h.S.no,function(){a.Qd(h.qb.rra);});this.j.addEventListener(h.S.EE,function(b){a.Qd(h.qb.EE,{errorCode:b});});this.j.addEventListener(h.S.P4,function(b){a.Qd(h.qb.H3a,b.j);});this.j.addEventListener(h.S.Nj,function(b){a.Qd(h.qb.I3a,b);});this.j.Fp.addListener(function(){a.Qd(h.qb.trb);});this.j.paused.addListener(function(){a.Qd(h.qb.yqb);});this.j.muted.addListener(function(){a.Qd(h.qb.job);});this.j.volume.addListener(function(){a.Qd(h.qb.oBb);});this.j.Qb.addListener(function(){a.LHa();});this.j.state.addListener(function(){a.LHa();});this.j.g5.addListener(function(b){a.Flb||a.j.state.value!=h.mb.jd||b.newValue||(a.Flb=!0,a.Qd(h.qb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.axa());}));a.Qd(h.qb.h5);});this.j.Uc.addListener(function(b){a.Qd(h.qb.tJ);b.oldValue&&b.newValue&&b.oldValue.ik==b.newValue.ik||a.Qd(h.qb.aB);setTimeout(function(){var b;if(null!==a.j.Uc.value&&null!==a.j.zc.value){b=a.j.Uc.value.ik;0<=b.indexOf(a.j.zc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.zc.set(b[0]));}},0);});this.j.zc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.ab==b.newValue.ab||a.Qd(h.qb.wG);});this.j.addEventListener(h.S.aB,function(){a.Qd(h.qb.aB);});this.j.addEventListener(h.S.tO,function(){a.Qd(h.qb.tO);});this.j.state.addListener(function(b){switch(b.newValue){case h.mb.jd:a.Qd(h.qb.Aab);a.Qd(h.qb.jBb);a.Qd(h.qb.Tqa);a.Qd(h.qb.aB);a.Qd(h.qb.Hlb);a.mDa();a.yBb();break;case h.mb.CLOSING:a.j.Di&&a.Qd(h.qb.error,a.j.Di.zfa());break;case h.mb.CLOSED:a.Qd(h.qb.closed),a.Lb.Ng();}});};b.prototype.yBb=function(){var a;a=this;this.j.Ao.addEventListener("showsubtitle",function(b){a.Qd(h.qb.$wb,b,!0);});this.j.Ao.addEventListener("removesubtitle",function(b){a.Qd(h.qb.Ttb,b,!0);});};b.prototype.mDa=function(){if(this.j.state.value==h.mb.jd){for(var a,b,c;b=this.yCa.shift();)a=this.j.Ao.i4(b.url,b.name,b.options),b.G3a&&(c=a);c&&this.j.zc.set(c);}};b.prototype.LHa=function(){var a;a=this.j.state.value==h.mb.jd&&this.j.Qb.value==h.jb.$p;this.ended!==a&&(this.ended=a,this.j.En("Ended changed: "+a),(a||this.j.state.value===h.mb.CLOSING)&&this.Qd(h.qb.Qbb));};b.prototype.ZU=function(){var a,b;try{a=/playercore.*js/;b=d.Qr.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(y){}};c.FPa=b;},function(g,c,a){var f,h,l,d,k,p,n,u,r,B,x;function b(a){this.bd=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(90);l=a(21);d=a(22);k=a(8);p=a(67);n=a(244);u=a(435);r=a(915);B=a(243);x=a(75);b.prototype.V8a=function(a,b,c,f){return new r.FPa(this.bd.get(l.$e),this.bd.get(d.Ke),this.bd.get(k.Bb),this.bd.get(p.P_),this.bd.get(n.C1),this.bd.get(B.o1),this.bd.get(x.O_),this.bd.get(u.Dha),a,b,c,f);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.cja))],a);c.FWa=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(437);f=a(916);c.hBb=new g.tc(function(a){a(b.Tma).to(f.FWa).Y();});},function(g,c,a){var f,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.nsb=function(a,b,c){var d,f;if(this.config().Ivb){d=a.metrics;if(void 0!==d){f=a.playlistSegment||void 0;b.Qt.transition({isBranching:void 0===f||void 0,isPlaygraph:f,mid:b.u,xid:b.ia,srcxid:c.ia,srcmid:c.u,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard});}}};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.sd))],h);c.iWa=h;},function(g,c,a){var h,l;function b(){}function f(a,b,c,f,g){this.debug=a;this.version=b;this.ykb=c;this.arb=f;this.config=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(4);f.prototype.ifb=function(){return this.config().ww;};f.prototype.C8=function(){return this.config().jra;};f.prototype.k9=function(){return l.Cb(this.config().urb);};f.prototype.zwa=function(){return this.config().Elb;};f.prototype.Cwa=function(){return this.config().qmb;};b.prototype.ow=function(a,b,c,g,h){return new f(a,b,c,g,h);};a=b;a=g.__decorate([h.N()],a);c.rVa=a;},function(g,c,a){var l,d,k,p;function b(a,b,c,d,f,g,h){var m;m=this;this.X=b;this.j=c;this.Sw=d;this.ha=f;this.nJ=g;this.ee=h;this.qD=function(){m.Vw&&(m.Vw.cancel(),m.Vw=void 0);};this.log=a.ub("SegmentManager",this.j);this.Za=new Map();this.j.Sa.Yh&&(this.j.addEventListener(k.S.DY,function(a){return m.Yba(a);}),this.j.addEventListener(k.S.closed,this.qD));}function f(a,b){this.id=a;this.y5=b;}function h(a,b,c,f){return d.qc.call(this,a,c,void 0,void 0,void 0,b,void 0,f)||this;}Object.defineProperty(c,"__esModule",{value:!0});l=a(2);d=a(46);k=a(15);p=a(4);da(h,d.qc);h.prototype.toString=function(){return this.code+"-"+this.Pc+" : "+this.message+"\n"+JSON.stringify(this.data);};f.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.Vf,contentEndPts:this.Og};};pa.Object.defineProperties(f.prototype,{Vf:{configurable:!0,enumerable:!0,get:function(){return this.y5.startTimeMs;}},Og:{configurable:!0,enumerable:!0,get:function(){return this.y5.endTimeMs;}},vob:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.y5.next);}}});b.prototype.Yba=function(a){var b,c;b=this;if(0===this.Za.size){c=this.j.OU();Object.keys(c).forEach(function(a){b.Za.set(a,new f(a,c[a]));});}this.ca=this.Za.get(a.segmentId);};b.prototype.play=function(a){this.JF&&(this.JF=void 0);this.qD();this.log.trace("Playing segment",a);return this.Eya(a)?this.drb(a):this.IX(a);};b.prototype.ph=function(a){this.log.trace("Queueing segment",a);return this.Eya(a)?this.Isb(a):this.Ksb(a);};b.prototype.Co=function(a,b){var c,d;c=this;d=this.j.ob;if(!d)return Promise.reject(this.getError(l.I.Cga,"ASE session manager is not yet initialized",l.G.g_,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.BZ(a,b);c.j.fireEvent(k.S.Co,{ib:a,uAb:b});f();}catch(G){g(c.getError(l.I.Cga,"updateNextSegmentWeights threw an exception",l.G.TJa,{segmentId:a,updates:b,error:G}));}});};b.prototype.Eya=function(a){return this.ca?void 0!==this.j.OU()[this.ca.id].next[a]:!1;};b.prototype.Swa=function(){if(this.j.ob)return this.j.ob.$U().re;};b.prototype.ugb=function(){if(this.j.ob)return this.j.ob.$U().id;};b.prototype.qeb=function(a){if(this.j.ob)return(a=this.j.ob.NU(a))&&a.zd;};b.prototype.drb=function(a){var b,c,d;b=this;c=this.j.ob;if(!c)return Promise.reject(this.getError(l.I.QG,"ASE session manager is not yet initialized",l.G.g_,{id:a}));if(this.ca&&1===this.ca.vob.length)return this.IX(a);if(!this.j.Gi)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(l.I.QG,"MediaPresenter is not initialized",l.G.QJa,{id:a}));d=this.qeb(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.IX(a)):new Promise(function(f,g){var t,r,u,x,y,B;function h(){!u&&r&&t&&(B.cancel(),u=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:r,repositioned:t,completed:u}),c.$s(a,!1,!0)?(f(),u=!0):(u=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.IX(a).then(f)["catch"](g)));}function m(){t=!0;b.log.trace("Player is repositioned",{id:a,stopped:r,repositioned:t,completed:u});b.j.removeEventListener(k.S.no,m);h();}function q(){b.j.removeEventListener(k.S.CA,q);c.stop();}function n(){r=!0;b.log.trace("ASE is stopped",{id:a,stopped:r,repositioned:t,completed:u});c.removeEventListener("stop",n);h();}t=!1;r=!1;u=!1;x=b.Za.get(a);y=x.Vf+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:y,currentSegment:b.ca,nextSegment:x},null,"  "));b.j.fireEvent(k.S.jX,{Mg:b.ca&&b.ca.id,zM:a});c.addEventListener("stop",n);b.j.addEventListener(k.S.CA,q);b.j.addEventListener(k.S.no,m);B=b.ha.Xg(p.ei(10),function(){u=!0;B.cancel();g(b.getError(l.I.QG,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.G.PJa,{id:a,stopped:r,repositioned:t,completed:u}));});b.X.seek(y,k.bg.RB);});};b.prototype.IX=function(a){var b;b=this.Za.get(a);return b?this.zN(b,l.I.QG):Promise.reject(this.getError(l.I.QG,"Unable to find the separated segment",l.G.Bga,{id:a}));};b.prototype.Isb=function(a){var b;b=this.j.ob;if(!b)return Promise.reject(this.getError(l.I.pB,"ASE session manager is not yet initialized",l.G.g_,{id:a}));if(b.$s(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(l.I.pB,"ASE chooseNextSegment failed",l.G.NJa,{id:a}));};b.prototype.Ksb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.u,srcsegment:this.ugb()});if(this.JF)return Promise.reject(this.getError(l.I.pB,"Unable to queue a non-next segment because there is currently already a segment queued",l.G.SJa,{currentSegment:this.ca?this.ca.id:void 0,queuedSegment:this.JF.id,failedSegment:a}));if(!this.ca)return Promise.reject(this.getError(l.I.pB,"Unable to queue a non-next segment because there is no currently playing segment",l.G.OJa,{nextSegmentid:a}));c=this.Za.get(a);if(!c)return Promise.reject(this.getError(l.I.pB,"Unable to find the separated segment",l.G.Bga,{nextSegmentid:a,currentSegmentId:this.ca.id}));this.JF={id:a,nu:new Promise(function(d,f){var g;b.Vw=b.Sw.h6({k9:function(){return p.Cb(100);}},function(){return b.X.j.Zb.value||0;});g=b.Swa()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:g});b.Vw.observe(g,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.ca.id,playerEndPts:b.Swa(),pts:g});b.JF=void 0;b.qD();b.zN(c,l.I.pB).then(d)["catch"](f);});})};this.JF.nu["catch"](function(a){b.j.Md(b.ee(a.code,a));});return Promise.resolve();};b.prototype.zN=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.X.seek(a.Vf,k.bg.Zu);d();}catch(H){f(c.getError(b,"Seek threw an exception",l.G.RJa,{id:a.id,error:H}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};c.kKa=b;},function(g,c,a){var d,k,p,n;function b(a,b,c,f,g,h,m,l,p){var q;q=this;this.qa=a;this.Sw=c;this.vca=f;this.config=g;this.ee=h;this.TM=m;this.pc=l;this.bcb=Object.keys(k.qb).map(function(a){return{event:k.qb[a],oV:function(b){return q.Lb.Mb(k.qb[a],b);}};});this.Lb=p.create();this.ix=[];this.log=b.ub("SegmentManager");new d.Hj();this.f8=!0;this.pf=this.pc.createElement("div",n.Mla);}function f(a,b,c,f,g,k,m,p,q){var n;n=this;this.log=a;this.config=b;this.jpb=c;this.vca=f;this.ee=g;this.TM=k;this.Np=m;this.na=p;this.pf=q;this.qD=function(){n.Vw&&(n.Vw.cancel(),n.Vw=void 0);};this.M9=function(a){n.log.trace("Received the transition event",{movieId:a.u});n.Ysb(l(n.na));};this.log.debug("Constructing session data",h(p));this.laa=new d.Hj();this.Yyb=new Promise(function(a){n.Ysb=a;});}function h(a){return{movieId:a.u};}function l(a){return JSON.stringify({movieId:a.u,startPts:a.U,logicalEnd:a.Km,params:a.$a?{trackingId:a.$a.xh,authParams:a.$a.uJ,sessionParams:a.$a.Vm,disableTrackStickiness:a.$a.X6,uiPlayStartTime:a.$a.AZ,loadImmediately:a.$a.vW,playbackState:a.$a.playbackState?{currentTime:a.$a.playbackState.currentTime,volume:a.$a.playbackState.volume,muted:a.$a.playbackState.muted}:void 0,pin:a.$a.BCa,heartbeatCooldown:a.$a.U9,uiLabel:a.$a.he}:void 0});}Object.defineProperty(c,"__esModule",{value:!0});d=a(139);k=a(15);p=a(4);n=a(11);f.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",h(this.na));this.X=this.vca.V8a(this.config,this.TM,this.ee,this.na);this.X.addEventListener(k.qb.EE,function(a){b.log.trace("Segment is inactive",h(b.na));b.Np.close(b.ee(a.errorCode));});this.X.addEventListener(k.qb.closed,this.qD);if(a)this.log.debug("Pausing background segment",h(this.na)),this.X.addEventListener(k.qb.I$,this.M9),this.X.pause();else{this.pf.appendChild(this.X.np());c=function(a){b.M9(a);b.X.removeEventListener(k.qb.loaded,c);};this.X.addEventListener(k.qb.loaded,c);}};f.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",l(this.na));if(this.Vw)this.log.trace("Segment is currently observing",h(this.na));else if(this.na.$a&&this.na.$a.vW)this.laa.next(this);else{b=this.jpb.h6(this.config,function(){var b;if(a.X){b=a.X.j.Zb.value;if(b)return b;}return 0;});c=this.U4a(this.na);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",h(a.na));a.laa.next(a);a.qD();});}};f.prototype.close=function(a){this.log.info("Closing segment",{segment:l(this.na),error:a});return this.X?(this.X.removeEventListener(k.qb.I$,this.M9),this.X.close(a)):Promise.resolve();};f.prototype.U4a=function(a){var b,c;b=a.Km;a=a.$a?a.$a.vW:!1;c=0;b&&!a&&(c=b-this.config.zwa(),c<this.config.Cwa()&&(a=b-this.config.Cwa(),c=b-a/2));return c;};b.prototype.aV=function(){return this.ne&&this.ne.X?this.ne.X.isReady():!1;};b.prototype.np=function(){return this.pf;};b.prototype.gj=function(){if(!this.ne||!this.ne.X)throw Error("Player not ready");return this.ne.X;};b.prototype.Wo=function(a){this.log.info("Adding segment",l(a));this.f8?(this.log.trace("First segment, loading",h(a)),a=this.wza(a),this.f8=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.wub(a));return a?a.Yyb:null;};b.prototype.transition=function(a){var b;if(this.au&&this.au.X){b=this.au;this.au=void 0;this.log.info("Transitioning segment",l(b.na));b&&b.X&&b.X.HFa(this.qa.kc().da(p.ja));return this.mHa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.ne.na)),nextSession:this.au?JSON.stringify(h(this.au.na)):void 0});c=[this.ne.close(a)];this.au&&c.push(this.au.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.au=void 0;b.ix=[];b.f8=!0;a();})["catch"](d);});};b.prototype.addListener=function(a,b,c){this.Lb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Lb.removeListener(a,b);};b.prototype.wza=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.ne&&(this.config.C8()[a.u]=a.U);c=this.Rcb(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.laa.subscribe(function(a){b.Pyb(a);});this.ne?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.au=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.mHa(c));return c;};b.prototype.mHa=function(a,b){var c,d;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.na));c=this.ne;this.ne=a;if(this.ne.X&&(this.ne.X.rFa(!1),this.SO(this.ne.X,c?c.X:void 0),c&&c.X)){d=c.X.np();a=this.ne.X.np();d.style.display="none";c=c.close();this.pf.appendChild(a);this.ne.X&&(a.style.display="block",this.ne.X.getError()?this.ne.X.close():(this.ne.X.At().fAb(b),this.ne.X.UN(),this.ne.X.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Pyb=function(a){var b,c,d,f;if(this.ix.length&&a.X){a=a.X.j.Zb.value;b=this.ix[0];c=this.ne.na.Km;d=this.ne.na.$a?this.ne.na.$a.vW:!1;if(c||d){d?f=0:c&&(f=c-this.config.zwa());null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.na)),this.wza(b.na),this.ix.splice(0,1));}}};b.prototype.Rcb=function(a){return this.ne?this.ix.find(function(b){return b.na.u===a.u;}):this.xm(a);};b.prototype.wub=function(a){var c;if(this.ne.na.u===a.u)return this.lCa(this.ne.na,a),this.log.trace("Overwrote the currently playing segment data",l(this.ne.na)),this.ne;for(var b=0;b<this.ix.length;++b){c=this.ix[b];if(c.na.u===a.u)return this.lCa(c.na,a),this.log.trace("Overwrote the currently playing segment data",l(c.na)),c;}a=this.xm(a);this.ix.push(a);this.ne.observe();return a;};b.prototype.lCa=function(a,b){a.U=b.U||a.U;a.Km=b.Km||a.Km;a.$a=b.$a||a.$a;a.EW=b.EW||a.EW;};b.prototype.xm=function(a){return new f(this.log,this.config,this.Sw,this.vca,this.ee,this.TM,this,a,this.pf);};b.prototype.SO=function(a,b){this.bcb.forEach(function(c){b&&b.removeEventListener(c.event,c.oV);a.addEventListener(c.event,c.oV);});this.Lb.Mb(k.PB.CN);};c.tVa=b;},function(g,c,a){var f,h,l,d,k,p,n,r,y,B,x,H,G;function b(a,b,c,d,f,g,h,k,m,l){this.qa=a;this.Sf=b;this.Sw=c;this.iBb=d;this.TM=f;this.ha=g;this.nJ=h;this.ee=k;this.G7=m;this.pc=l;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(24);l=a(8);d=a(245);k=a(59);p=a(438);n=a(437);r=a(921);y=a(920);B=a(86);x=a(33);H=a(442);a=a(21);b.prototype.Q8a=function(a){return new r.tVa(this.qa,this.Sf,this.Sw,this.iBb,a,this.ee,this.TM,this.pc,this.G7);};b.prototype.t8a=function(a,b,c){c=void 0===c?this.ee:c;return new y.kKa(this.Sf,a,b,this.Sw,this.ha,this.nJ,c);};G=b;G=g.__decorate([f.N(),g.__param(0,f.l(h.qf)),g.__param(1,f.l(l.Bb)),g.__param(2,f.l(d.R0)),g.__param(3,f.l(n.Tma)),g.__param(4,f.l(p.tla)),g.__param(5,f.l(x.Eg)),g.__param(6,f.l(B.$O)),g.__param(7,f.l(k.bl)),g.__param(8,f.l(H.wP)),g.__param(9,f.l(a.$e))],G);c.sVa=G;},function(g,c,a){var b,f,h,l,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(244);f=a(439);h=a(922);l=a(919);d=a(436);k=a(918);c.Za=new g.tc(function(a){a(b.C1).to(h.sVa).Y();a(f.ema).to(l.rVa).Y();a(d.Dma).to(k.iWa).Y();});},function(g,c){function a(a,c,g){this.ha=a;this.config=c;this.getTime=g;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.observe=function(a,c){var b;b=this;this.cancel();this.qh=this.ha.Mda(this.config.k9(),function(){b.getTime()>=a&&(b.cancel(),c());});};a.prototype.cancel=function(){this.qh&&(this.qh.cancel(),this.qh=void 0);};c.vRa=a;},function(g,c,a){var f,h,l;function b(a){this.ha=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(924);a=a(33);b.prototype.h6=function(a,b){return new h.vRa(this.ha,a,b);};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(a.Eg))],l);c.uRa=l;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(245);f=a(925);c.Ynb=new g.tc(function(a){a(b.R0).to(f.uRa).Y();});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.reduce=function(a,b,c){for(;void 0!==a;a=a.cause)c=b(c,a);return c;};},function(g,c,a){var B,x,H,G;function b(a,b){this.Fc=a;this.Qc=b;this.od=[];}function f(a){return y.call(this,a,function(a){return{Details:a};})||this;}function h(a){return y.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function l(a,b){b=y.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.Fc=a;return b;}function d(a,b){b=y.call(this,b,function(a){return a();})||this;b.Qc=a;return b;}function k(a,b){return n.call(this,a,b,function(a){var b;b=x.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.Z5a(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);})||this;}function p(a){return y.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function n(a,b,c){b=y.call(this,b,c)||this;b.Qc=a;return b;}function r(a){return y.call(this,a,function(a){return{Details:a};})||this;}function y(a,b){this.Lp=a;this.value=b?b(a):a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);B=a(1);x=a(927);H=a(21);a=a(39);y.prototype.KK=function(a){return this.Lp===a;};da(r,y);r.prototype.bB=function(a,b){return b?"":"\r\n"+this.Lp;};da(n,y);n.prototype.bB=function(){var a;a="";this.Qc.gw(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(U){try{a+=", "+b+": "+JSON.stringify(c);}catch(C){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};da(p,y);p.prototype.bB=function(a){var b;b="\r\n"+this.Lp.message;a||(b+="\r\n"+this.Lp.stack);return b;};da(k,n);k.Z5a=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};c.OEb=k;da(d,y);d.prototype.bB=function(){var a;a="";this.Qc.gw(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};da(l,y);l.prototype.bB=function(a,b){return this.Lp&&!b?"\r\n"+this.Fc.encode(this.Lp):"";};da(h,y);h.prototype.bB=function(){return this.Lp?this.Lp.toJSON():"";};da(f,y);f.prototype.bB=function(){return", "+(this.Lp.toString?""+this.Lp.toString():"");};b.prototype.j2a=function(a){this.od.push(new r(a));};b.prototype.X1a=function(a){this.od.push(new n(this.Qc,a));};b.prototype.M1a=function(a){this.od.push(new p(a));};b.prototype.K1a=function(a){this.od.push(new k(this.Qc,a));};b.prototype.P1a=function(a){this.od.push(new d(this.Qc,a));};b.prototype.k2a=function(a){this.od.push(new l(this.Fc,a));};b.prototype.V1a=function(a){this.od.push(new h(a));};b.prototype.l2a=function(a){this.od.push(new f(a));};b.prototype.Oj=function(){return this.od;};G=b;G=g.__decorate([B.N(),g.__param(0,B.l(a.Aj)),g.__param(1,B.l(H.$e))],G);c.eQa=G;},function(g,c,a){var f,h,l,d;function b(a,b){this.Fc=a;this.Qc=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(928);l=a(39);a=a(21);b.prototype.Ffb=function(){return new h.eQa(this.Fc,this.Qc);};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(l.Aj)),g.__param(1,f.l(a.$e))],d);c.dQa=d;},function(g,c,a){var f,h;function b(a,b,c,f,g,h,m){this.level=a;this.rl=b;this.timestamp=c;this.message=f;this.od=g;this.prefix=h;this.index=void 0===m?0:m;}Object.defineProperty(c,"__esModule",{value:!0});f=a(4);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.tZ=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.$xb(!!a));return(this.timestamp.da(f.ja)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.rl+"| "+a;};b.prototype.$xb=function(a){var g;for(var b=this.od.length,c="",f=0;f<b;++f){g=this.od[f].Lp;f&&c.length&&(c+=" ");if("object"===typeof g)if(null===g)c+="null";else if(g instanceof Error)c+=this.Zxb(g,a);else try{c+=JSON.stringify(g);}catch(u){c+=this.Yxb(g);}else c+=g;}return c;};b.prototype.Zxb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.Yxb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};c.uJa=b;},function(g,c,a){var f,h;function b(a,b,c,g,h,m){a=f.tH.call(this,a,b,c,g)||this;a.K9=h;Array.isArray(m)?a.prefix=m:m&&"string"===typeof m&&(a.prefix=[],a.prefix.push(m));return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(246);h=a(930);da(b,f.tH);b.prototype.Ev=function(a,b,c){a=new h.uJa(a,this.rl,this.qa.kc(),b,c,this.prefix);b=Q(this.Vk.Vk);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.j6=function(a){return new b(this.qa,this.Ts,this.Vk,a,this.K9,this.prefix);};c.vJa=b;},function(g,c,a){var f,h,l;function b(a,b,c,g,h){a=l.tH.call(this,a,b,c,h)||this;a.j=g;f.Lm(a,"playback");return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(53);h=a(440);l=a(246);da(b,l.tH);b.prototype.j6=function(a){return new b(this.qa,this.Ts,this.Vk,this.j,a);};b.prototype.Ev=function(a,b,c){a=new h.wja(a,this.rl,this.qa.kc(),b,c,this.j.index);b=Q(this.Vk.Vk);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};c.NTa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.EnumeratedErrorBase=function(a,b,c,g){this.type=a;this.name=a.name;this.number=b;"string"===typeof c?this.message=c:void 0!==c&&(this.cause=c);void 0!==g&&(this.message=g);};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(933);c.nD=function(a,c){var d;a=a.Ffb();for(var f=0;f<c.length;++f){d=c[f];void 0!=d&&null!=d&&(d.tg&&(d=d.tg),d.constructor===Uint8Array?a.k2a(d):"MediaRequest"===d.constructor.name?a.V1a(d):"string"===typeof d?a.j2a(d):"function"===typeof d?a.P1a(d):d instanceof Error?a.M1a(d):d instanceof b.EnumeratedErrorBase?a.K1a(d):d instanceof Object?a.X1a(d):a.l2a(d));}return a.Oj();};},function(g,c,a){var f,h,l,d,k,p,n;function b(a,b,c){this.qa=a;this.Vk=b;this.raa=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(246);h=a(1);l=a(932);d=a(24);k=a(96);p=a(8);n=a(931);b.prototype.ub=function(a,b,c,d,g){c=void 0===c?this.Vk:c;return b?new l.NTa(this.qa,this.raa,c,b,a):g?new n.vJa(this.qa,this.raa,c,a,d||"",g):new f.tH(this.qa,this.raa,c,a);};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(d.qf)),g.__param(1,h.l(k.FB)),g.__param(2,h.l(p.xja))],a);c.lQa=a;},function(g,c,a){var f;function b(){this.Mea={};this.Vk=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.jY=function(a,b){var c;c=this;b&&(this.Mea[a]=b,this.Vk=Object.keys(this.Mea).map(function(a){return c.Mea[a];}));};f=b;f=g.__decorate([a.N()],f);c.mQa=f;},function(g,c,a){var b,f,h,l,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(936);f=a(935);g=a(1);h=a(96);l=a(8);d=a(929);c.amb=new g.tc(function(a){a(l.Bb).to(f.lQa).Y();a(h.FB).to(b.mQa).Y();a(l.xja).to(d.dQa).Y();});},function(g,c,a){var f,h;function b(a,b){this.ha=a;this.lT=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(33);b.prototype.zb=function(a){this.Ng();this.qh=this.ha.Xg(this.lT,a);};b.prototype.Ng=function(){this.qh&&this.qh.cancel();this.qh=void 0;};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.Eg))],h);c.zMa=h;},function(g,c,a){var f,h,l;function b(a,b,c){this.ha=a;this.Xyb=b;this.oV=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(33);h=a(1);l=a(4);b.prototype.st=function(){this.qh||(this.qh=this.ha.Xg(l.Cb(this.Xyb),this.oV));};b.prototype.th=function(){this.qh&&this.qh.cancel();this.qh=void 0;};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(f.Eg))],a);c.dWa=a;},function(g,c,a){var f,h,l;function b(a){this.pc=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);l=a(9);b.prototype.L2a=function(a){var b;b={enableVP9:!0};67<=this.reb(l.pk)&&this.pc.Mm(a,b);};b.prototype.reb=function(a){return(a=a.match(/Chrome\/(\d*)\./))&&Number(a[1])||0;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.$e))],a);c.AWa=a;},function(g,c){function a(){this.searchParams={};}function b(b){this.qm=b;this.searchParams=new a();}Object.defineProperty(c,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};pa.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.qm+this.searchParams.toString();}}});c.zWa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,f){return""+b+(0==f?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.u1="PrioritizedSetOfListsSymbol";c.lUa="PrioritizedSetOfListsFactorySymbol";c.mUa="PrioritizedSetOfSetsFactorySymbol";},function(g,c,a){var f,h,l,d;function b(a,b,c){var d;d=this;this.app=a;this.ha=b;this.lT=c;this.cu=function(a){d.qh=void 0;d.Fzb(a||d.lT);};this.fza=l.Cb(-this.lT.da(l.ja));}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(24);l=a(4);a=a(33);b.prototype.zb=function(a){this.Oda=a;this.qh=this.qh||this.Jb(this.cu);};b.prototype.Ng=function(){this.qh&&this.qh.cancel();this.qh=void 0;};b.prototype.Fzb=function(a){var b,c;b=this.app.kc();if(this.Oda){c=a.Fd(b.Fd(this.fza));0>=c.ul(l.Ze)?(a=this.Oda,this.Oda=void 0,this.fza=b,a()):this.qh=this.qh||this.ha.Xg(c,this.cu.bind(this,a));}};b.prototype.Jb=function(a){return this.ha.Xg(l.Ze,a);};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(h.qf)),g.__param(1,f.l(a.Eg))],d);c.UVa=d;},function(g,c,a){var f,h,l,d,k,p,n,r,y;function b(a,b){this.qa=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(24);d=a(46);k=a(2);p=a(15);n=a(4);r=a(9);a=a(449);b.prototype.I$a=function(a){var b,c,g,h,m,l,q,t,r;b=this;m=a.Zb.value;l=a.Hn.value;q=a.Qb.value;t=a.state.value;h={segmentId:a.i9(),mediaTime:m,segmentTime:a.vz(),bufferingState:f.y4a[l],presentingState:f.Wrb[q],playbackState:f.lrb[t],mseBuffersBusy:this.Qgb(a),intBuffersBusy:this.tfb(a),tabVisible:this.zyb(),decodedFrameCount:this.Z9a(a),videoElementInDom:this.eBb(a),lastVideoSync:this.qa.kc().Fd(n.Cb(a.fO)).da(n.ja)};r=q===p.jb.cg?a.Sa.Yh?this.config.bCa:this.config.aCa:this.config.PAa;l!==p.Gf.jd?(c=k.G.yLa,this.nra(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.Dga)):q!==p.jb.Cc&&(c=k.G.zLa,(a=a.Gi)&&a.yb.sourceBuffers.forEach(function(a){var c,d;c=f.inb[a.M];h[c+"Ranges"]=a.MU();a=a.buffered();if(0===a.length)h[c+"Undecoded"]=0,g=f.UJa;else{d=1E3*a.end(0)-m;h[c+"Undecoded"]=d;1<a.length&&(g=f.VJa);m<1E3*a.start(0)||m>1E3*a.end(0)?g=f.WJa:d<r.da(n.ja)?g=f.XJa:b.nra(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.Dga);}}));a="";try{a=JSON.stringify(h);}catch(O){a="Cannot stringify details: "+O;}return new d.qc(k.I.Fka,c,g,void 0,void 0,void 0,a,void 0);};b.prototype.Qgb=function(a){var b;if(a.yb){b={};a.yb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.tfb=function(a){var b;if(a.yb){b={};a.yb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.Rj()};});return b;}};b.prototype.zyb=function(){return!r.je.hidden;};b.prototype.Z9a=function(a){return(a=a.Gi)&&(a=a.yb.Wa)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.eBb=function(a){if(a=a.Gi)if(a=a.yb.Wa)return r.je.body.contains(a);return!1;};b.prototype.nra=function(a,b){var c,d,f,g;return!((null===(c=a.audio)||void 0===c?void 0:c.updating)===(null===(d=b.audio)||void 0===d?void 0:d.updating)&&(null===(f=a.video)||void 0===f?void 0:f.updating)===(null===(g=b.video)||void 0===g?void 0:g.updating));};y=f=b;y.UJa="1";y.VJa="2";y.WJa="3";y.Dga="4";y.XJa="5";y.inb=["Audio","Video"];y.y4a=["","NORMAL","BUFFERING","STALLED"];y.Wrb=["","WAITING","PLAYING ","PAUSED","ENDED"];y.lrb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];y=f=g.__decorate([h.N(),g.__param(0,h.l(l.qf)),g.__param(1,h.l(a.dka))],y);c.DMa=y;},function(g,c,a){var f,h,l,d;function b(a,b){this.qa=a;this.entries=[];this.la=b.ub("TimingApi");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(24);l=a(4);a=a(8);b.prototype.mark=function(a,b){a={name:a,ia:b,Ryb:this.qa.kc()};this.entries.push(a);return a;};b.prototype.Lfb=function(){return this.entries.slice();};b.prototype.Bwa=function(){var a;a={};try{a=this.Lfb().filter(function(a){return!a.ia;}).reduce(function(a,b){a[b.name]=b.Ryb.da(l.ja);return a;},{});}catch(p){this.la.error(" getMapOfCommonMarks exception",p);}return a;};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(h.qf)),g.__param(1,f.l(a.Bb))],d);c.fWa=d;},function(g,c,a){var f,h,l,d;function b(a){return h.dP.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);l=a(1);a=a(29);da(b,h.dP);pa.Object.defineProperties(b.prototype,{aIa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});d=b;g.__decorate([f.config(f.Ld,"usePerformanceApi")],d.prototype,"aIa",null);d=g.__decorate([l.N(),g.__param(0,l.l(a.u_))],d);c.fLa=d;},function(g,c,a){var f,h,l,d;function b(a){a=h.dP.call(this,a,"DebugConfigImpl")||this;a.AMb=function(){debugger;};return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);l=a(1);a=a(29);da(b,h.dP);pa.Object.defineProperties(b.prototype,{s4a:{configurable:!0,enumerable:!0,get:function(){return!1;}}});d=b;g.__decorate([f.config(f.Ld,"breakOnError")],d.prototype,"s4a",null);d=g.__decorate([l.N(),g.__param(0,l.l(a.u_))],d);c.AMa=d;},function(g,c,a){var f,h,l,d;function b(a,b,c){this.config=a;this.Ea=b;this.la=c.ub("General");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);l=a(88);a=a(8);b.prototype.assert=function(){};b.prototype.$2a=function(a,b){this.assert(this.Ea.ez(a),b);};b.prototype.a3a=function(a,b){this.assert(this.Ea.Nd(a),b);};b.prototype.f3a=function(a,b){this.assert(this.Ea.mm(a),b);};b.prototype.i3a=function(a,b){this.assert(this.Ea.ml(a),b);};b.prototype.g3a=function(a,b){this.assert(this.Ea.mm(a)||null===a||void 0===a,b);};b.prototype.d3a=function(a,b){this.assert(this.Ea.Jg(a),b);};b.prototype.c3a=function(a,b){this.assert(this.Ea.x4(a),b);};b.prototype.h3a=function(a,b){this.assert(this.Ea.wq(a),b);};b.prototype.e3a=function(a,b){this.assert(this.Ea.cJ(a),b);};b.prototype.Y2a=function(a,b){this.assert(this.Ea.bJ(a),b);};b.prototype.b3a=function(a,b){this.assert(this.Ea.tS(a),b);};b.prototype.vjb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.XNb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(t){return t.stack;}};};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(l.vha)),g.__param(1,f.l(h.Ke)),g.__param(2,f.l(a.Bb))],d);c.BMa=d;},function(g,c,a){var f,h,l,d;function b(a,b){this.is=a;this.Qc=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(22);a=a(21);b.prototype.encode=function(a){var b,c;b=this;c="";this.Qc.gw(a,function(a,d){a=b.uua(a)+"="+b.uua(d);c=c?c+(","+a):a;});return c;};b.prototype.uua=function(a){return this.is.ez(a)?this.is.Jg(a)?""+a:this.is.mm(a)?(a=a.replace(f.ZDa,this.Naa.bind(this)),!f.Lsb.test(a)&&f.lob.test(a)&&(a='"'+a+'"'),a):this.is.bJ(a)?""+a:this.is.b4(a)?"NaN":"":"";};b.prototype.Naa=function(a){return f.map[a];};d=f=b;d.map={'"':'""',"\r":"","\n":" "};d.ZDa=/(?!^.+)["\r\n](?=.+$)/g;d.Lsb=/["].*["]/g;d.lob=/[", ]/;d=f=g.__decorate([h.N(),g.__param(0,h.l(l.Ke)),g.__param(1,h.l(a.$e))],d);c.rLa=d;},function(g,c,a){var f,h,l,d;function b(a,b){this.Ja=a;this.GU=this.Ja.ef.da(l.ja)-1;this.Ulb=this.nW=0;this.id=""+b.az();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(45);l=a(4);a=a(118);b.prototype.kc=function(){var a,b;a=this.Ja.ef.da(l.ja)-this.GU;if(a<this.nW){b=this.nW+1;this.GU-=b-a;a=b;}this.nW=a;return l.Cb(this.nW);};b.prototype.Gfb=function(){return this.Ulb++;};pa.Object.defineProperties(b.prototype,{Qz:{configurable:!0,enumerable:!0,get:function(){return l.Cb(this.GU);}}});d=b;d=g.__decorate([f.N(),g.__param(0,f.l(h.kk)),g.__param(1,f.l(a.EB))],d);c.kJa=d;},function(g){g.P="function"===typeof Object.create?function(c,a){c.oyb=a;c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});}:function(c,a){function b(){}c.oyb=a;b.prototype=a.prototype;c.prototype=new b();c.prototype.constructor=c;};},function(g){g.P=function(c){return c&&"object"===typeof c&&"function"===typeof c.Ln&&"function"===typeof c.fill&&"function"===typeof c.JQb;};},function(g,c,a){var f;function b(a){this.Kdb=a;this.rV=!1;this.DV=this.ig=this.sG=0;this.xL=!1;this.EV=0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(453);b.prototype.Y1a=function(a){a<this.sG&&(this.ig+=this.sG);this.sG=a;this.rV=!0;};b.prototype.veb=function(){if(this.rV)return this.xL?this.EV-this.DV:this.ig+this.sG-this.DV;};b.prototype.refresh=function(){var a;a=this.Kdb();f.ka(a)&&this.Y1a(a);};b.prototype.qxb=function(){this.xL||(this.rV&&(this.EV=this.ig+this.sG),this.xL=!0);};b.prototype.Gxb=function(){this.xL&&(this.rV&&(this.DV+=this.ig+this.sG-this.EV),this.EV=0,this.xL=!1);};c.aSa=b;},function(g,c,a){var f,h,l;function b(a){this.ha=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(33);l=a(64);b.prototype.Ul=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ha.Xg(a,function(){f(new l.qn(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Eg))],a);c.pUa=a;},function(g,c,a){var f,h,l,d,k,p,n,r;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;l=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};k={};p={};n={};r=/\s+/g;[l,h].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];d[c]=b<<18;k[c]=b<<12;p[c]=b<<6;n[c]=b;}});b.prototype.encode=function(a){return f.t7(a,l,"=");};b.prototype.decode=function(a){return f.D6(a);};b.D6=function(a){var b,c,f;a=a.replace(r,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);f=0;switch(b%4){case 2:f=1;break;case 3:f=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+f),g=0,h=0,m;h<c;){m=d[a[g++]]+k[a[g++]]+p[a[g++]]+n[a[g++]];if(!(0<=m&&16777215>=m))throw Error("bad base64");b[h++]=m>>>16;b[h++]=m>>>8&255;b[h++]=m&255;}if(0<f&&(m=d[a[g++]]+k[a[g++]],b[h++]=m>>>16,1<f&&(m+=p[a[g++]],b[h++]=m>>>8&255),!(0<=m&&16776960>=m&&0===(m&(1<f?255:65535)))))throw Error("bad base64");return b;};b.t7=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};h=f=b;h=f=g.__decorate([a.N()],h);c.$Ja=h;},function(g,c,a){var f,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.encode=function(a){return f.t7(a);};b.prototype.decode=function(a){return f.D6(a);};b.t7=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,f=a.length,g="";b<f;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(c);}return g;};b.D6=function(a){var b,c,f,g,h;b=a.length;c=0;g=0;if(!(0<=b))throw Error("bad string");for(f=b;f--;)h=a.charCodeAt(f),128>h?c++:c=2048>h?c+2:c+3;c=new Uint8Array(c);for(f=0;f<b;f++)h=a.charCodeAt(f),128>h?c[g++]=h:(2048>h?c[g++]=192|h>>>6:(c[g++]=224|h>>>12,c[g++]=128|h>>>6&63),c[g++]=128|h&63);return c;};h=f=b;h=f=g.__decorate([a.N()],h);c.BWa=h;},function(g,c,a){var f,h,l,d,k,p,n;function b(a,b,c,d){var g;g=this;this.config=a;this.o9a=b;this.Lb=c;this.performance=d;this.Hpb=function(a){g.kFa=a.Fd(g.ef);};f.Lm(this,"date");f.Lm(this,"performance");this.E2a=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.kFa=h.Ze;this.Lb.addListener(n.fja.mFa,this.Hpb);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(53);h=a(4);l=a(1);d=a(37);k=a(457);p=a(67);n=a(15);pa.Object.defineProperties(b.prototype,{ef:{configurable:!0,enumerable:!0,get:function(){return this.TAa?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.Cb(this.o9a.now());}},lea:{configurable:!0,enumerable:!0,get:function(){return this.ef.add(this.kFa);}},TAa:{configurable:!0,enumerable:!0,get:function(){return this.config.aIa&&this.E2a;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(k.Zga)),g.__param(1,l.l(d.tha)),g.__param(2,l.l(p.S_)),g.__param(3,l.l(d.q1)),g.__param(3,l.optional())],a);c.gLa=a;},function(g,c,a){var f,h;function b(a){this.yyb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(136);b.prototype.random=function(){return this.yyb.random();};b.prototype.ADa=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.oma))],h);c.BUa=h;},function(g,c,a){var f,h,l,d,k;function b(a,b){this.Ja=a;this.random=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(4);d=a(45);a=a(136);b.prototype.az=function(){return this.Ja.ef.da(l.nn)*f.Rga+Math.floor(this.random.random()*f.Rga);};k=f=b;k.Rga=1E4;k=f=g.__decorate([h.N(),g.__param(0,h.l(d.kk)),g.__param(1,h.l(a.kQ))],k);c.yPa=k;},function(g,c,a){var h,l,d,k;function b(a){this.xG=a;l.Lm(this,"timers");}function f(a,b){this.xG=a;this.f5a=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(53);d=a(37);k=a(4);f.prototype.cancel=function(){this.f5a(this.xG);};b.prototype.zb=function(a){return this.Xg(k.Ze,a);};b.prototype.Xg=function(a,b){var c;c=this.xG.setTimeout(b,a.da(k.ja));return new f(this.xG,function(a){a.clearTimeout(c);});};b.prototype.Mda=function(a,b){var c;c=this.xG.setInterval(b,a.da(k.ja));return new f(this.xG,function(a){a.clearInterval(c);});};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(d.Wma))],a);c.mVa=a;},function(g,c,a){var b,f,h,l,d,k,p,n,r,y,B,x,H,G,A,F,T,U,C,R,O,ea,Q,ca,V,ja,M,W,Z,N,da,fa,za,Fa,ya,ma,ga,ia,ka,la,oa,qa,ra,pa,Y,ta,ua,va,xa,Da,Ga,Ia,Ka,La,Na,Oa,Pa,Qa,Sa,Va,Wa;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(37);f=a(45);h=a(33);l=a(118);d=a(136);k=a(960);p=a(959);n=a(958);r=a(957);y=a(99);B=a(100);x=a(39);H=a(21);G=a(22);A=a(67);F=a(64);T=a(456);U=a(956);C=a(248);R=a(955);O=a(455);ea=a(954);Q=a(146);ca=a(454);V=a(953);ja=a(452);M=a(98);W=a(950);Z=a(24);N=a(451);da=a(949);fa=a(948);za=a(88);Fa=a(947);ya=a(8);ma=a(457);ga=a(946);ia=a(117);ka=a(945);la=a(450);oa=a(944);qa=a(943);ra=a(97);pa=a(9);Y=a(942);ta=a(448);ua=a(447);va=a(941);xa=a(446);Da=a(17);Ga=a(79);Ia=a(59);Ka=a(445);La=a(444);Na=a(940);Oa=a(443);Pa=a(442);Qa=a(135);Sa=a(939);Va=a(441);Wa=a(938);c.tD=new g.tc(function(a){a(b.Rx).ii(JSON);a(b.Wma).ii(K);a(d.oma).ii(Math);a(b.tja).ii(pa.Z0);a(b.q1).ii(pa.Qr);a(b.tha).ii(Date);a(b.Yu).ii(pa.$k);a(b.oRa).ii(pa.CH);a(ma.Zga).to(ga.fLa).Y();a(Z.qf).to(W.kJa).Y();a(f.kk).to(r.gLa).Y();a(h.Eg).to(k.mVa).Y();a(l.EB).to(p.yPa).Y();a(F.cy).to(ea.pUa).Y();a(d.kQ).to(n.BUa).Y();a(za.Kr).to(fa.BMa).Y();a(za.vha).to(Fa.AMa).Y();a(y.ky).to(U.BWa).Y();a(B.Gx).to(C.h_).Y();a(x.Aj).to(R.$Ja).Y();a(H.$e).to(O.Kma).Y();a(G.Ke).ii(Q.Ru);a(Oa.wP).to(Pa.INa).Y();a(A.P_).to(ca.lk).o$();a(A.XG).to(ca.lk).Y();a(A.Cha).to(ca.lk).Y();a(A.S_).to(ca.lk).Y();a(ja.lma).to(M.hy).Y();a(N.hha).to(da.rLa).Y();a(ia.jy).to(ka.fWa).Y();a("Factory<LoggerFactory>").$yb(ya.Bb);a(la.yha).to(oa.DMa).Y();a(ra.TB).Ef(function(a){return function(b){return new qa.UVa(a.tb.get(Z.qf),a.tb.get(h.Eg),b);};});a(Va.uha).Ef(function(a){return function(b){return new Wa.zMa(a.tb.get(h.Eg),b);};});a(Y.u1).bzb(ta.Dla);a(Y.lUa).Ef(function(a){var b;b=a.tb.get(Y.u1);return function(){return new b(!1);};});a(Y.mUa).Ef(function(a){var b;b=a.tb.get(Y.u1);return function(){return new b(!0);};});a(ua.Ima).Ef(function(){return function(a){return new va.zWa(a);};});a(Ia.bl).Ef(function(a){return function(b,c,d){var f,g,h;f=a.tb.get(za.Kr);g=a.tb.get(Da.sd);h=a.tb.get(Ga.Vr);return new xa.VTa(f,g,h,Ka.Uja,b,c,d);};});a(T.ska).Ef(function(){return function(a){return new V.aSa(a);};});a(La.Jma).to(Na.AWa).Y();a(Qa.UB).Ef(function(a){return function(b,c){return new Sa.dWa(a.tb.get(h.Eg),b,c);};});});},function(g,c,a){var b,f,h,l,d,k,p,n,r,y,B,x,H,G,A,F,T,U,C,R,O,K,Q,ca,V,ja,M,W,Z,N,da,fa;Object.defineProperty(c,"__esModule",{value:!0});b=a(961);f=a(937);h=a(926);l=a(923);d=a(917);k=a(914);p=a(910);n=a(898);r=a(887);y=a(883);B=a(881);x=a(685);H=a(683);G=a(679);A=a(667);F=a(660);T=a(653);U=a(650);C=a(644);R=a(261);O=a(636);K=a(634);Q=a(627);ca=a(623);V=a(615);ja=a(613);M=a(606);W=a(584);Z=a(565);N=a(561);da=a(557);fa=a(545);c.ulb=function(a){a.load(b.tD,k.ZA,f.amb,p.LT,h.Ynb,l.Za,d.hBb,n.storage,r.Ry,y.N4a,B.omb,x.dA,H.Sh,G.Ylb,A.sob,F.Bdb,T.wsb,U.xF,C.Cab,R.eme,O.crypto,K.Qc,Q.Ac,ca.yq,V.aob,ja.zqb,M.j,W.a6a,Z.uzb,N.Vj,da.gg,fa.l3a);};},function(g,c,a){var h,l;function b(a,b,c,f,g){this.qa=a;this.config=b;this.ha=c;this.cu=f;this.name=g;}function f(a,b,c,f){var d;d=this;this.qa=a;this.ha=b;this.timeout=c;this.Wyb=f;this.$hb=function(){d.NJ=!0;d.Mz.cancel();d.Wyb();};this.startTime=this.qa.kc();this.Mz=this.ha.Xg(this.timeout,function(){d.$hb();});this.NJ=!1;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);l=a(89);f.prototype.stop=function(){this.NJ||(this.gZ=this.qa.kc(),this.Mz.cancel());};pa.Object.defineProperties(f.prototype,{YT:{configurable:!0,enumerable:!0,get:function(){if(this.gZ&&this.startTime)return this.gZ.Fd(this.startTime);}}});b.prototype.l5a=function(){var a;a=this;this.rD=new f(this.qa,this.ha,this.config.n$,function(){a.cu(new l.Hf(h.I.Sla,h.G.mNa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.n$+"ms"));});};b.prototype.k5a=function(){this.rD&&this.rD.stop();};b.prototype.Rvb=function(){this.JN=this.qa.kc();};b.prototype.m5a=function(){var a;a=this;this.GZ=new f(this.qa,this.ha,this.config.Sda,function(){a.cu(new l.Hf(h.I.Sla,h.G.lNa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Sda+"ms"));});};b.prototype.Gra=function(){this.GZ&&this.GZ.stop();};pa.Object.defineProperties(b.prototype,{Hc:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.rD){b=this.rD.YT;b&&(a.EAa=b);this.JN&&this.rD.gZ&&(a.JN=this.JN.Fd(this.rD.gZ));}this.GZ&&(b=this.GZ.YT)&&(a.nsa=b);return a;}}});c.vNa=b;},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.bua=function(a,c){for(var b=a.next(),f;b&&!b.done&&b.value;)f=b.value[0],b=b.value[1],c&&c(f,b),b=a.next();};c.yNa=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.tNa="EmeApiSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Lr||(c.Lr={});g[g.WHa=0]="usable";g[g.jcb=1]="expired";g[g.Jtb=2]="released";g[g.fCa=3]="outputRestricted";g[g.Upb=4]="outputDownscaled";g[g.Cxb=5]="statusPending";g[g.sjb=6]="internalError";},function(g,c,a){var f,h,l,d,k,p,n,r,y,B,x,H,G,A,F,T,U,C,R,O,K,Q;function b(a,b,c,f,g,k,m,p,n){var q;q=this;this.qa=b;this.Ps=c;this.config=f;this.Mf=g;this.Oi=k;this.hp=m;this.ha=p;this.ek=n;this.onMessage=function(a){var b,c,f,g;b=q.Oi.Z5(a);c=b.lj;f=b.QW;g=b.sessionId;q.OE=q.OE||b.OE;q.KY(g);q.Bw=q.Oi.Bw(b);q.log.trace("Received "+a.type+" event",{sessionId:g,messageType:f,keyIds:q.OE,isIntermediateChallenge:q.Bw});"license-renewal"===f&&(q.log.trace("Received a renewal request"),q.$h=B.Cj.ln,q.kf=K.BA);q.kf!==K.kj||q.Bw||(q.jaa={hp:q.hp,data:c},q.om(x.Zp.PDa));q.kf===K.BA&&q.om(x.Zp.QDa);if(q.TL){if(q.N9(c)){q.Tq(new O.qc(d.I.iNa));return;}q.TL.next({Ph:c,Lra:f,$h:q.$h});q.$h!==B.Cj.ln||q.Bw||(q.TL.complete(),q.TL=void 0);}q.kf===K.stop&&(q.th.k5a(),q.config.gi&&q.yN&&(q.yN.next({Ph:c}),q.yN.complete(),q.yN=void 0));};this.TBa=function(a){var b,c;b=q.Oi.Y5(a).V$;q.KY(a.target.sessionId);q.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{U.yNa.bua(b,function(a,b){q.log.trace("key status: "+b);b=Q[b];q.cza.next({Hw:new Uint8Array(a),value:b.status});q.Gz(b.error)&&(c=new T.Hf(b.error),q.P$(c));});}catch(Za){c=new T.Hf(d.I.FSa);c.uK(Za);}c?q.Q$(c):(q.Oi.gT()||q.Xya(),q.$h!==B.Cj.Su||q.Oi.O4()||(q.log.info("Kicking off license renewal",{timeout:q.config.Jw}),setTimeout(function(){q.oN();},q.config.Jw.da(l.ja))));};this.pF=function(a){var b;b=q.Oi.cp(a);q.log.error("Received event: "+a.type,b);q.Tq(b);q.Q$(b);q.Ei||q.Hl||q.P$(b);};this.Tq=function(a){q.Ei&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Oi.cp(b));q.Ei&&(q.Ei.error(a),q.Ei=void 0);},function(){q.log.trace("Issuing a generate challenge error");q.Ei&&(q.Ei.error(a),q.Ei=void 0);});};this.Wya=function(){q.Ei&&(q.Ei.complete(),q.Ei=void 0);};this.Q$=function(a){q.Hl&&(q.log.error("Failed to add license",a),q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Oi.cp(b));q.kf===K.BA&&q.om(x.Zp.cqa);q.Ei=void 0;q.Hl&&(q.Hl.error(a),q.Hl=void 0);},function(){q.log.trace("Issuing a license error");q.Ei=void 0;q.Hl&&(q.Hl.error(a),q.Hl=void 0);}));};this.Xya=function(){q.Hl&&(q.log.info("Successfully added license"),q.kf===K.kj?q.om(x.Zp.$pa):q.kf===K.BA&&q.om(x.Zp.bqa),q.Hl.complete(),q.Hl=void 0);};this.P$=function(a){q.ip&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Oi.cp(b));q.Ei=void 0;q.Hl=void 0;q.ip&&(q.ip.next(a),q.ip.complete(),q.ip=void 0);},function(){q.log.trace("Issuing a CDM error");q.Ei=void 0;q.Hl=void 0;q.ip&&(q.ip.next(a),q.ip.complete(),q.ip=void 0);});};this.om=function(a){q.Hc.push({time:q.qa.kc(),Anb:a});};this.log=a.ub("EmeSession");this.TL=new h.Hj();this.config.gi&&(this.yN=new h.Hj());this.cza=new h.lQ();this.ip=new h.Hj();this.kf=K.Ozb;this.Hc=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(139);l=a(4);d=a(2);k=a(24);p=a(8);n=a(39);r=a(33);y=a(52);B=a(87);x=a(458);H=a(966);G=a(142);A=a(250);F=a(965);T=a(89);U=a(964);C=a(963);R=a(64);O=a(46);(function(a){a[a.Ozb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.kj=3]="license";a[a.BA=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(K||(K={})));Q={usable:{status:H.Lr.WHa},expired:{status:H.Lr.jcb,error:d.I.Gka},released:{status:H.Lr.Jtb},"output-not-allowed":{status:H.Lr.fCa,error:d.I.Hka},"output-restricted":{status:H.Lr.fCa,error:d.I.f1},"output-downscaled":{status:H.Lr.Upb},"status-pending":{status:H.Lr.Cxb},"internal-error":{status:H.Lr.sjb,error:d.I.ESa}};b.prototype.qE=function(){return this.context.Rd;};b.prototype.uz=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.kf=K.closed;this.Hc=[];return this.Mf.fkb()?(this.log.trace("Closing the session"),this.Mf.Qtb(this.onMessage),this.Mf.Ntb(this.TBa),this.Mf.Ltb(this.pF),this.Kk=void 0,h.Aa.create(function(b){a.ek.Ul(a.config.wqa,a.Mf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.Oi.cp(c);c.code=d.I.HSa;b.error(c);});})):h.Aa.empty();};b.prototype.Bkb=function(){return this.cza.F4();};b.prototype.LK=function(){return this.ip?this.ip.F4():void 0;};b.prototype.mp=function(){return this.hp;};b.prototype.Et=function(){return void 0!==this.Il;};b.prototype.xm=function(a,b,c,f){var g;g=this;this.$h=f;this.kf=K.create;this.context=a;this.om(x.Zp.oza);return h.Aa.create(function(a){(c.Cxa()?Promise.resolve():g.ek.Ul(g.config.xqa,g.Mf.S8a(b)).then(function(a){g.log.trace("Created media keys");c.OA(a);return g.K2a(a);})).then(function(){g.Kk=c.Kk;try{g.Mf.xm(g.Kk,g.Oi.t9(f));g.Mf.W1a(g.onMessage);g.Mf.R1a(g.TBa);g.Mf.L1a(g.pF);g.KY(g.Mf.uz());a.next(g);a.complete();}catch(N){a.error(new T.Hf(d.I.eNa,d.G.Bh,void 0,"Unable to create a persisted key session",N));}})["catch"](function(b){b.code&&b.Pc?a.error(b):a.error(new T.Hf(d.I.Pha,b instanceof R.qn?d.G.$G:d.G.Bh,void 0,"Unable to create MediaKeys. "+b.message,b));});});};b.prototype.pwb=function(a){this.oh=a;this.log.Vpa("xid",a.ia);};b.prototype.Dlb=function(a){var b;b=this;this.kf=K.load;return h.Aa.Lq(this.Mf.load(a).then(function(){return b;}));};b.prototype.EU=function(a){var b;b=this;this.kf=K.kj;this.log.trace("Generating a license challenge");this.Ei=new h.Hj();if(!a)return this.eT(new T.Hf(d.I.Sha,d.G.K_));if(this.N9(a))return this.eT(new T.Hf(d.I.Sha,d.G.J_));this.ek.Ul(this.config.yqa,this.Mf.x8("cenc",a)).then(function(){b.KY(b.Mf.uz());})["catch"](function(a){var c;c=new T.Hf(d.I.Rha,a instanceof R.qn?d.G.$G:d.G.Bh);c.message="Unable to generate request.";c.uK(a);b.log.error("Unable to generate a license request",c);b.Tq(c);});this.log.trace("Returning the challenge subject");return this.Ei;};b.prototype.Zpa=function(a){var b;b=this;a instanceof Array?this.N9(a)?(this.log.error("The license buffer is empty"),this.Tq(new T.Hf(d.I.Tha,d.G.J_))):this.Bw?this.ek.Ul(this.config.z4,this.Mf.update(a,this.OE)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.Oi.cp(a);a.code=d.I.vP;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Tq(a);}):(this.kf===K.kj&&(this.om(x.Zp.ODa),this.Il=a,this.Wya()),this.kf===K.BA&&(this.om(x.Zp.RDa),this.Il=a,this.D4())):this.kf===K.BA?(this.om(x.Zp.SDa),this.P$(a)):this.Tq(a);};b.prototype.D4=function(){var a,b;a=this;if(!this.Il)return this.eT(new T.Hf(d.I.Tha,d.G.K_));this.Hl=new h.Hj();b=this.Il;this.Il=void 0;this.ek.Ul(this.config.z4,this.Mf.update(b,this.OE)).then(function(){a.Oi.gT()&&a.Xya();})["catch"](function(b){b=a.Oi.cp(b);b.code=d.I.Kka;b.message="Unable to update the EME";a.log.error(b.message,b);a.Q$(b);});return this.Hl;};b.prototype.UL=function(){return this.TL;};b.prototype.Gva=function(){var a;a=this;if(this.kf===K.kj&&this.$h===B.Cj.Su)return h.Aa.empty();this.kf=K.stop;this.log.trace("Generating a secure stop challenge");this.Ei=new h.Hj();this.th=new C.vNa(this.qa,this.config,this.ha,function(){a.log.error("got a timeout error");},"non-persisted");this.th.l5a();this.Mf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.Oi.cp(b);c.code=d.I.Vha;c.Pc=d.G.Bh;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Tq(c);});return this.Ei;};b.prototype.dqa=function(a){a&&a.constructor!==Uint8Array?this.Tq(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Tq(new T.Hf(d.I.Uha,d.G.J_))):(this.log.trace("Secure stop is ready to apply"),this.YEa=a,this.th.Rvb(),this.Wya()):(this.log.error("The secure stop buffer is undefined"),this.Tq(new T.Hf(d.I.Uha,d.G.K_)));};b.prototype.M2a=function(){var a;a=this;if(!this.YEa)return h.Aa.from([this]);this.log.trace("Setting the secure stop data");return h.Aa.create(function(b){a.th.m5a();a.Mf.update([a.YEa]).then(function(){a.th.Gra();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var f;a.th.Gra();f=a.Oi.cp(c);f.code=d.I.vP;f.Pc=d.G.Bh;f.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(f);});});};b.prototype.K2a=function(a){var b,c;b=this;c=this.Oi.F8();return c?(c=this.Ps.decode(c),this.ek.Ul(this.config.zqa,this.Mf.twb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.KY=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.Vpa("sessionId",a));};b.prototype.Gz=function(a){return a===d.I.f1?this.config.AX:!!a;};b.prototype.oN=function(){var a;a=this;this.log.trace("Initiating a renewal request");this.$h=B.Cj.ln;this.kf=K.BA;this.Oi.B$(this.Mf)["catch"](function(){return a.eT(new O.qc(d.I.uP));});};b.prototype.eT=function(a){var b;b=this;return h.Aa.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};b.prototype.N9=function(a){return 0===a.length||a.reduce(function(a,b){return a||0===b.length;},!1);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(p.Bb)),g.__param(1,f.l(k.qf)),g.__param(2,f.l(n.Aj)),g.__param(3,f.l(y.bm)),g.__param(4,f.l(F.tNa)),g.__param(5,f.l(A.YMa)),g.__param(6,f.l(G.$Ma)),g.__param(7,f.l(r.Eg)),g.__param(8,f.l(R.cy))],a);c.xNa=a;},function(g,c,a){var f,h,l,d,k,p,n,r,y;function b(a,b,c,d,f,g,h){this.Vq=a;this.qa=b;this.Fc=c;this.config=d;this.ha=f;this.ek=g;this.Jk=h;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(8);l=a(24);d=a(39);k=a(52);p=a(33);n=a(64);r=a(967);a=a(103);b.prototype.create=function(){var a;a=this;return Promise.all([this.Jk.Ueb(),this.Jk.Teb(),this.Jk.mp()]).then(function(b){var c,d;c=Q(b);b=c.next().value;d=c.next().value;c=c.next().value;return new r.xNa(a.Vq,a.qa,a.Fc,a.config,b,d,c,a.ha,a.ek);});};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(h.Bb)),g.__param(1,f.l(l.qf)),g.__param(2,f.l(d.Aj)),g.__param(3,f.l(k.bm)),g.__param(4,f.l(p.Eg)),g.__param(5,f.l(n.cy)),g.__param(6,f.l(a.Uu))],y);c.wNa=y;},function(g,c,a){var f,h,l,d,k,p,n,r,y,B;function b(a,b,c,d,f){this.Qc=a;this.Oh=b;this.Fc=c;this.zh=d;this.we=f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(21);d=a(100);k=a(99);p=a(89);n=a(64);r=a(52);y=a(39);B=a(459);b.prototype.gT=function(){return!1;};b.prototype.O4=function(){return!1;};b.prototype.t9=function(){return this.we.gi?"persistent-usage-record":"temporary";};b.prototype.F8=function(){return B.gia;};b.prototype.o9=function(){return[{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.Bw=function(a){return this.Qc.Vv(a.lj[0],this.zh.decode("certificate"));};b.prototype.B$=function(a){return a.oN();};b.prototype.Z5=function(a){var b,c,d;b=this;if("license-request"===a.messageType){c=this.zh.encode(new Uint8Array(a.message));d=JSON.parse(c);c=d.map(function(a){return b.Fc.decode(a.payload);});d=d.map(function(a){return a.keyID;});return{type:a.type,sessionId:a.target.sessionId,OE:d,lj:c,QW:"license-request"};}return{type:a.type,sessionId:a.target.sessionId,lj:[new Uint8Array(a.message)],QW:a.messageType};};b.prototype.Y5=function(a){return{type:a.type,sessionId:a.target.sessionId,V$:a.target.keyStatuses.entries()};};b.prototype.cp=function(a){var b,c,d,f;c=null===(b=a.target)||void 0===b?void 0:b.error;c&&(d=c.systemCode,f=c.code);b=new p.Hf(h.I.dQ,a instanceof n.qn?h.G.$G:h.G.vB,d?this.Oh.WK(d,4):f,"",c);b.uK(a);return b;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(l.$e)),g.__param(1,f.l(d.Gx)),g.__param(2,f.l(y.Aj)),g.__param(3,f.l(k.ky)),g.__param(4,f.l(r.bm))],a);c.iVa=a;},function(g,c){function a(a,c,g){var b;b=this;this.Fc=a;this.pc=c;this.zh=g;this.Afb=function(a){var c;a=a.subarray(14,30);a=b.Fc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);c=new Uint8Array(16);c.set(a);return c;};this.TNa={vKa:1667591779,CDb:1667392371};}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.z6a=function(a,c){var b;b=this.TNa.vKa;c=c?1:0;a=a.map(function(a){return{SOb:"",Dkb:a,HS:a,mxb:a,bBb:[1]};});return this.jmb(b,c,a);};a.prototype.imb=function(a,c){var b;b=new Uint8Array(4);new DataView(b.buffer).setUint32(0,a);return this.Gaa("fpsi",c,[b]);};a.prototype.hmb=function(a,c,g,h){a=[this.Gaa("fkri",0,[a])];c.byteLength&&a.push(this.bM("fkai",[c]));g.byteLength&&a.push(this.bM("fkcx",[g]));h.length&&a.push(this.bM("fkvl",[new Uint8Array(new Uint32Array(h).buffer)]));return this.bM("fpsk",a);};a.prototype.jmb=function(a,c,g){var b;b=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.imb(a,c)];for(var d in g)c=g[d],a.push(this.hmb(c.Dkb,c.HS,c.mxb,c.bBb));g=this.bM("fpsd",a);d=new Uint8Array(4);new DataView(d.buffer).setUint32(0,g.byteLength);return this.Gaa("pssh",0,[b,d,g]);};a.prototype.Gaa=function(a,c,g){var b,d,f;b=0;for(d in g)b+=g[d].byteLength;b=new Uint8Array(12+b);f=new DataView(b.buffer);d=0;f.setUint32(d,b.byteLength);d+=4;b.set(this.zh.decode(a),d);d+=4;f.setUint32(d,0|4095&c);d+=4;for(var h in g)a=g[h],b.set(a,d),d+=a.byteLength;return b;};a.prototype.bM=function(a,c){var b,f;b=0;for(f in c)b+=c[f].byteLength;b=new Uint8Array(8+b);f=0;new DataView(b.buffer).setUint32(f,b.byteLength);f+=4;b.set(this.zh.decode(a),f);f+=4;for(var d in c)a=c[d],b.set(a,f),f+=a.byteLength;return b;};c.RNa=a;},function(g,c,a){var f,h,l,d,k,p,n,r,y;function b(a,b,c,d,f,g){a=h.Xr.call(this,a,b,c,d,f,g)||this;a.Fc=c;a.pc=d;a.we=f;a.zh=g;a.Qxa=new l.RNa(a.Fc,a.pc,a.zh);return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(249);l=a(970);d=a(37);k=a(22);p=a(39);n=a(21);r=a(52);a=a(99);da(b,h.Xr);b.prototype.x8=function(a,b){var c,d,f;c=this;try{d=b.map(function(a){return c.Qxa.Afb(a);});this.bza=d.map(function(a){return c.Fc.encode(a);});f=this.Qxa.z6a(d,this.we.gi);return h.Xr.prototype.x8.call(this,a,[f]);}catch(S){return Promise.reject(S);}};b.prototype.update=function(a,b){var c,d,f,g;c=this;if(b)try{d=a.map(function(d,f){return{keyID:1===a.length?c.bza[c.bza.length-1]:b[f],payload:c.Fc.encode(d)};});f=JSON.stringify(d);g=this.zh.decode(f);return h.Xr.prototype.update.call(this,[g]);}catch(T){return Promise.reject(T);}return h.Xr.prototype.update.call(this,a);};b.prototype.oN=function(){return h.Xr.prototype.update.call(this,[this.zh.decode("renew")]);};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(d.Yu)),g.__param(1,f.l(k.Ke)),g.__param(2,f.l(p.Aj)),g.__param(3,f.l(n.$e)),g.__param(4,f.l(r.bm)),g.__param(5,f.l(a.ky))],y);c.SNa=y;},function(g,c,a){var f,h,l,d,k,p,n,r,y,B;function b(a,b,c,d){this.Qc=a;this.Oh=b;this.we=c;this.config=d;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(21);d=a(100);k=a(250);p=a(89);n=a(64);r=a(52);y=a(17);B=a(46);b.prototype.gT=function(){return!0;};b.prototype.O4=function(){return!0;};b.prototype.t9=function(){return"temporary";};b.prototype.F8=function(){return this.we.IN?this.we.IN:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.o9=function(){var a,b;a=[{contentType:k.en,robustness:"HW_SECURE_DECODE"},{contentType:k.en,robustness:"SW_SECURE_DECODE"},{contentType:k.en,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.en,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.Wx,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().qva?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.Bw=function(a){return this.Qc.Vv(a.lj[0],new Uint8Array([8,4]));};b.prototype.B$=function(){return Promise.reject(new B.qc(h.I.uP));};b.prototype.Z5=function(a){return{type:a.type,sessionId:a.target.sessionId,lj:[new Uint8Array(a.message)],QW:a.messageType};};b.prototype.Y5=function(a){return{type:a.type,sessionId:a.target.sessionId,V$:a.target.keyStatuses.entries()};};b.prototype.cp=function(a){var b,c,d;b=new p.Hf(h.I.dQ);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Pc=1<=c&&9>=c?h.G.vB+c:h.G.vB):b.Pc=a instanceof n.qn?h.G.$G:h.G.Bh;try{d=a.message.match(/\((\d*)\)/)[1];b.Qg=this.Oh.WK(d,4);}catch(S){}b.uK(a);return b;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(l.$e)),g.__param(1,f.l(d.Gx)),g.__param(2,f.l(r.bm)),g.__param(3,f.l(y.sd))],a);c.aLa=a;},function(g,c,a){var f,h;function b(a){return h.Xr.apply(this,arguments)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(249);da(b,h.Xr);a=b;a=g.__decorate([f.N()],a);c.iUa=a;},function(g,c,a){var f,h,l,d,k,p,n,r,y,B;function b(a,b,c){this.Oh=a;this.Fc=b;this.we=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(100);d=a(39);k=a(250);p=a(89);n=a(87);r=a(52);y=a(64);B=a(46);b.prototype.gT=function(){return!0;};b.prototype.O4=function(){return!1;};b.prototype.t9=function(a){return this.we.gi&&a===n.Cj.ln?"persistent-usage-record":"temporary";};b.prototype.F8=function(){if(this.we.IN)return this.we.IN;};b.prototype.o9=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.Wx}],videoCapabilities:[{contentType:k.en}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.Bw=function(){return!1;};b.prototype.B$=function(){return Promise.reject(new B.qc(h.I.uP));};b.prototype.Z5=function(a){var b;b=new Uint8Array(a.message);b=this.M7(b,"PlayReadyKeyMessage","Challenge");b=this.Fc.decode(b);return{type:a.type,sessionId:a.target.sessionId,lj:[b],QW:a.messageType};};b.prototype.Y5=function(a){return{type:a.type,sessionId:a.target.sessionId,V$:a.target.keyStatuses.entries()};};b.prototype.cp=function(a){var b,c;b=new p.Hf(h.I.dQ);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Pc=1<=c&&9>=c?h.G.vB+c:h.G.vB):b.Pc=a instanceof y.qn?h.G.$G:h.G.Bh;try{b.Qg=this.Oh.WK(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(P){}b.uK(a);return b;};b.prototype.M7=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(l.Gx)),g.__param(1,f.l(d.Aj)),g.__param(2,f.l(r.bm))],a);c.sNa=a;},function(g,c,a){var f,h,l,d,k,p,n,r,y,B,x,H,G,A,F,T,K,C,R,O;function b(a,b,c,d,f,g,h,k,l){this.Vq=a;this.Qc=b;this.zh=c;this.Oh=d;this.Fc=f;this.is=g;this.vM=h;this.config=k;this.we=l;this.log=this.Vq.ub("MediaKeySystemAccessServices");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(8);d=a(89);k=a(142);p=a(974);n=a(973);r=a(972);y=a(249);B=a(21);x=a(100);H=a(39);G=a(22);A=a(37);F=a(971);T=a(969);K=a(99);C=a(17);R=a(143);a=a(52);b.prototype.rE=function(){this.nu||(this.nu=this.Kub());return this.nu;};b.prototype.N8a=function(a){var b;b=this;return new Promise(function(c,f){var g,k;g=R.lb.L8(a);k=b.nwa(g);g=b.jwa(g);k.gub(a,g.o9()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});f(new d.Hf(h.I.Qha,h.G.Bh,void 0,"Unable to create media keys system access. "+c.message,c));});});};b.prototype.mp=function(){var a;a=this;return this.rE().then(function(b){return a.kwa(b);});};b.prototype.Seb=function(){var a,b;a=this;b=this.config().dza||[this.config().Rd];if(1<b.length)return this.rE().then(function(b){return a.kwa(b);}).then(function(a){return R.lb.iwa(a);});b=R.lb.L8(b[0]);return Promise.resolve(R.lb.iwa(b));};b.prototype.Teb=function(){var a;a=this;return this.mp().then(function(b){return a.jwa(b);});};b.prototype.Ueb=function(){var a;a=this;return this.mp().then(function(b){return a.nwa(b);});};b.prototype.kwa=function(a){return R.lb.L8(a.keySystem);};b.prototype.jwa=function(a){switch(a){case k.bn.uA:return new p.sNa(this.Oh,this.Fc,this.we);case k.bn.lz:return new T.iVa(this.Qc,this.Oh,this.Fc,this.zh,this.we);default:return new r.aLa(this.Qc,this.Oh,this.we,this.config);}};b.prototype.nwa=function(a){switch(a){case k.bn.uA:return new n.iUa(this.vM,this.is,this.Fc,this.Qc,this.we,this.zh);case k.bn.lz:return new F.SNa(this.vM,this.is,this.Fc,this.Qc,this.we,this.zh);default:return new y.Xr(this.vM,this.is,this.Fc,this.Qc,this.we,this.zh);}};b.prototype.Kub=function(){var a,b;a=this;b=(this.config().dza||[this.config().Rd]).map(function(b){return function(){return a.N8a(b);};});return this.Lub(b);};b.prototype.Lub=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};O=b;O=g.__decorate([f.N(),g.__param(0,f.l(l.Bb)),g.__param(1,f.l(B.$e)),g.__param(2,f.l(K.ky)),g.__param(3,f.l(x.Gx)),g.__param(4,f.l(H.Aj)),g.__param(5,f.l(G.Ke)),g.__param(6,f.l(A.Yu)),g.__param(7,f.l(C.sd)),g.__param(8,f.l(a.bm))],O);c.hRa=O;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(76);a=a(77);g=function(a){function c(b){a.call(this);this.epb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.ng=function(a){return new h(a,this.epb);};return c;}(g.Aa);c.EMa=g;h=function(a){function c(b,c){a.call(this,b);this.jw=c;this.Ezb();}b(c,a);c.prototype.Ezb=function(){try{this.GXa();}catch(k){this.Vd(k);}};c.prototype.GXa=function(){var a;a=this.jw();a&&this.add(f.yu(this,a));};return c;}(a.Ur);},function(g,c,a){g=a(976);c.defer=g.EMa.create;},function(g,c,a){g=a(10);a=a(977);g.Aa.defer=a.defer;},function(g,c,a){g=a(10);a=a(469);g.Aa.from=a.from;},function(g,c,a){var f,h,l,d,k,p,n,r,y,B,x;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.Cx(a).sg(new n(b));}f=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(101);l=a(102);g=a(49);d=a(77);k=a(76);p=a(178);c.dga=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.sg.call(b.apply(void 0,[c].concat(a)));};};c.MBb=b;n=function(){function a(a){this.Vg=a;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.Vg));};return a;}();c.vKb=n;r=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.S$=[];this.active=0;this.Vg="function"===typeof c?c:null;this.values=d;}f(b,a);b.prototype.Ih=function(a){var b;b=this.S$;l.isArray(a)?b.push(new B(a)):"function"===typeof a[p.iterator]?b.push(new y(a[p.iterator]())):b.push(new x(this.destination,this,a));};b.prototype.uc=function(){var a,b,d;a=this.S$;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.Dxb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.Lob=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.y5a=function(){var f,k;for(var a=this.S$,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.pp&&!f.pp())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];k=f.next();f.BE()&&(g=!0);if(k.done){c.complete();return;}h.push(k.value);}this.Vg?this.S3(h):c.next(h);g&&c.complete();};b.prototype.S3=function(a){var b;try{b=this.Vg.apply(this,a);}catch(T){this.destination.error(T);return;}this.destination.next(b);};return b;}(g.Si);c.wKb=r;y=function(){function a(a){this.iterator=a;this.Dba=a.next();}a.prototype.pp=function(){return!0;};a.prototype.next=function(){var a;a=this.Dba;this.Dba=this.iterator.next();return a;};a.prototype.BE=function(){var a;a=this.Dba;return a&&a.done;};return a;}();B=function(){function a(a){this.Lj=a;this.length=this.index=0;this.length=a.length;}a.prototype[p.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.Lj;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.pp=function(){return this.Lj.length>this.index;};a.prototype.BE=function(){return this.Lj.length===this.index;};return a;}();x=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.Dxb=!0;this.buffer=[];this.wp=!1;}f(b,a);b.prototype[p.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.wp?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.pp=function(){return 0<this.buffer.length;};b.prototype.BE=function(){return 0===this.buffer.length&&this.wp;};b.prototype.Nl=function(){0<this.buffer.length?(this.wp=!0,this.parent.Lob()):this.destination.complete();};b.prototype.hA=function(a,b){this.buffer.push(b);this.parent.y5a();};b.prototype.subscribe=function(a,b){return k.yu(this,this.observable,this,b);};return b;}(d.Ur);},function(g,c,a){g=a(980);c.dga=g.MBb;},function(g,c,a){g=a(10);a=a(981);g.Aa.dga=a.dga;},function(g,c,a){var b,f,h,l,d,k,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(101);h=a(102);g=a(77);l=a(76);d={};c.L5=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.sg.call(new f.Cx([b].concat(a)),new k(c));};};k=function(){function a(a){this.Vg=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.Vg));};return a;}();c.iLa=k;p=function(a){function c(b,c){a.call(this,b);this.Vg=c;this.active=0;this.values=[];this.KBa=[];}b(c,a);c.prototype.Ih=function(a){this.values.push(d);this.KBa.push(a);};c.prototype.uc=function(){var a,b,d;a=this.KBa;b=a.length;if(0===b)this.destination.complete();else{this.Afa=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(l.yu(this,d,d,c));}}};c.prototype.Nl=function(){0===--this.active&&this.destination.complete();};c.prototype.hA=function(a,b,c){var f;a=this.values;f=a[c];f=this.Afa?f===d?--this.Afa:this.Afa:0;a[c]=b;0===f&&(this.Vg?this.S3(a):this.destination.next(a.slice()));};c.prototype.S3=function(a){var b;try{b=this.Vg.apply(this,a);}catch(x){this.destination.error(x);return;}this.destination.next(b);};return c;}(g.Ur);c.MDb=p;},function(g,c,a){var b,f,h,l;b=a(119);f=a(102);h=a(101);l=a(983);c.L5=function(){var g;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];g=c=null;b.Iz(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&f.isArray(a[0])&&(a=a[0]);return new h.Cx(a,g).sg(new l.iLa(c));};},function(g,c,a){g=a(10);a=a(984);g.Aa.L5=a.L5;},function(g,c,a){var b,f,h,l,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(462);g=a(10);h=a(177);l=a(119);d=a(464);a=function(a){function c(b,c,g){void 0===b&&(b=0);a.call(this);this.hu=-1;this.$ta=0;f.Fya(c)?this.hu=1>Number(c)&&1||Number(c):l.Iz(c)&&(g=c);l.Iz(g)||(g=h.async);this.ha=g;this.$ta=d.HL(b)?+b-this.ha.now():b;}b(c,a);c.create=function(a,b,d){void 0===a&&(a=0);return new c(a,b,d);};c.Jb=function(a){var b,c,d;b=a.index;c=a.hu;d=a.Wf;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.zb(a,c);}};c.prototype.ng=function(a){return this.ha.zb(c.Jb,this.$ta,{index:0,hu:this.hu,Wf:a});};return c;}(g.Aa);c.eWa=a;},function(g,c,a){g=a(986);c.Au=g.eWa.create;},function(g,c,a){g=a(10);a=a(987);g.Aa.Au=a.Au;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c){a.call(this);this.error=b;this.ha=c;}b(c,a);c.create=function(a,b){return new c(a,b);};c.Jb=function(a){a.Wf.error(a.error);};c.prototype.ng=function(a){var b,f;b=this.error;f=this.ha;a.Wk=!0;if(f)return f.zb(c.Jb,0,{error:b,Wf:a});a.error(b);};return c;}(a(10).Aa);c.FNa=g;},function(g,c,a){g=a(989);c.R0a=g.FNa.create;},function(g,c,a){g=a(10);a=a(990);g.Aa["throw"]=a.R0a;},function(g,c,a){g=a(463);c.jA=g.xpb;},function(g,c,a){g=a(10);a=a(992);g.Aa.jA=a.jA;},function(g,c,a){g=a(10);a=a(470);g.Aa.of=a.of;},function(g,c,a){var b,f,h,l;b=a(10);f=a(101);h=a(119);l=a(251);c.lba=function(){var c,g,m;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=Number.POSITIVE_INFINITY;g=null;m=a[a.length-1];h.Iz(m)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(c=a.pop())):"number"===typeof m&&(c=a.pop());return null===g&&1===a.length&&a[0]instanceof b.Aa?a[0]:l.Qw(c)(new f.Cx(a,g));};},function(g,c,a){g=a(10);a=a(995);g.Aa.lba=a.lba;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(462);g=a(10);h=a(177);a=function(a){function c(b,c){void 0===b&&(b=0);void 0===c&&(c=h.async);a.call(this);this.hu=b;this.ha=c;if(!f.Fya(b)||0>b)this.hu=0;c&&"function"===typeof c.zb||(this.ha=h.async);}b(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new c(a,b);};c.Jb=function(a){var b,c;b=a.Wf;c=a.hu;b.next(a.index);b.closed||(a.index+=1,this.zb(a,c));};c.prototype.ng=function(a){var b;b=this.hu;a.add(this.ha.zb(c.Jb,b,{index:0,Wf:a,hu:b}));};return c;}(g.Aa);c.GPa=a;},function(g,c,a){g=a(997);c.interval=g.GPa.create;},function(g,c,a){g=a(10);a=a(998);g.Aa.interval=a.interval;},function(g,c,a){g=a(467);c.Lq=g.Fla.create;},function(g,c,a){g=a(10);a=a(1E3);g.Aa.Lq=a.Lq;},function(g,c,a){g=a(137);c.empty=g.bH.create;},function(g,c,a){g=a(10);a=a(1002);g.Aa.empty=a.empty;},function(g,c,a){g=a(10);a=a(138);g.Aa.concat=a.concat;},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);f=a(76);c.nZ=function(a,b){return function(c){return c.sg(new h(a,b));};};h=function(){function a(a,b){this.Vg=a;this.Tk=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Vg,this.Tk));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.Vg=c;this.Tk=d;this.index=0;}b(c,a);c.prototype.Ih=function(a){var b,c;c=this.index++;try{b=this.Vg(a,c);}catch(y){this.destination.error(y);return;}this.O2(b,a,c);};c.prototype.O2=function(a,b,c){var d;d=this.SV;d&&d.unsubscribe();this.add(this.SV=f.yu(this,a,b,c));};c.prototype.uc=function(){var b;b=this.SV;b&&!b.closed||a.prototype.uc.call(this);};c.prototype.Es=function(){this.SV=null;};c.prototype.Nl=function(b){this.remove(b);this.SV=null;this.Bf&&a.prototype.uc.call(this);};c.prototype.hA=function(a,b,c,d){this.Tk?this.$0a(a,b,c,d):this.destination.next(b);};c.prototype.$0a=function(a,b,c,d){var f;try{f=this.Tk(a,b,c,d);}catch(x){this.destination.error(x);return;}this.destination.next(f);};return c;}(g.Ur);},function(g,c,a){var b;b=a(1005);c.nZ=function(a,c){return b.nZ(a,c)(this);};},function(g,c,a){g=a(10);a=a(1006);g.Aa.prototype.nZ=a.nZ;},function(g,c,a){var b,f;b=a(476);c.hob=function(a,c){return function(d){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof c)return d.sg(new f(g,c));h=Object.create(d,b.u6a);h.source=d;h.lZ=g;return h;};};f=function(){function a(a,b){this.lZ=a;this.EN=b;}a.prototype.call=function(a,b){var c,d;c=this.EN;d=this.lZ();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();c.NGb=f;},function(g,c,a){var b,f;b=a(478);f=a(1008);c.YX=function(a,c,d,g){var h,k;d&&"function"!==typeof d&&(g=d);h="function"===typeof d?d:void 0;k=new b.lQ(a,c,g);return function(a){return f.hob(function(){return k;},h)(a);};};},function(g,c,a){var b;b=a(1009);c.YX=function(a,c,g,d){return b.YX(a,c,g,d)(this);};},function(g,c,a){g=a(10);a=a(1010);g.Aa.prototype.YX=a.YX;},function(g,c,a){var b,f,h,l,d;b=a(101);f=a(252);h=a(137);l=a(138);d=a(119);c.cZ=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){var g,k;g=a[a.length-1];d.Iz(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new f.B1(a[0],g),c):1<k?l.concat(new b.Cx(a,g),c):l.concat(new h.bH(g),c);};};},function(g,c,a){var b;b=a(1012);c.cZ=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.cZ.apply(void 0,a)(this);};},function(g,c,a){g=a(10);a=a(1013);g.Aa.prototype.cZ=a.cZ;},function(){},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);f=a(76);c.kO=function(a){return function(b){return b.sg(new h(a));};};h=function(){function a(a){this.Oa=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Oa));};return a;}();l=function(a){function c(b,c){a.call(this,b);this.Oa=c;this.add(f.yu(this,c));}b(c,a);c.prototype.hA=function(){this.complete();};c.prototype.Nl=function(){};return c;}(g.Ur);},function(g,c,a){var b;b=a(1016);c.kO=function(a){return b.kO(a)(this);};},function(g,c,a){g=a(10);a=a(1017);g.Aa.prototype.kO=a.kO;},function(g,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.lJa=g;},function(g,c,a){var b,f,h,l,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);f=a(1019);h=a(137);c.jO=function(a){return function(b){return 0===a?new h.bH():b.sg(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new f.lJa();}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.total));};return a;}();d=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.Ih=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(g.Si);},function(g,c,a){var b;b=a(1020);c.jO=function(a){return b.jO(a)(this);};},function(g,c,a){g=a(10);a=a(1021);g.Aa.prototype.jO=a.jO;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);c.SN=function(a){return function(b){return b.sg(new f(a));};};f=function(){function a(a){this.bx=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.bx));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.bx=c;this.Sea=!0;this.index=0;}b(c,a);c.prototype.Ih=function(a){var b;b=this.destination;this.Sea&&this.Dzb(a);this.Sea||b.next(a);};c.prototype.Dzb=function(a){try{this.Sea=!!this.bx(a,this.index++);}catch(p){this.destination.error(p);}};return c;}(g.Si);},function(g,c,a){var b;b=a(1023);c.SN=function(a){return b.SN(a)(this);};},function(g,c,a){g=a(10);a=a(1024);g.Aa.prototype.SN=a.SN;},function(g,c,a){var b;b=a(463);c.jA=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.jA.apply(void 0,a)(this);};},function(g,c,a){g=a(10);a=a(1026);g.Aa.prototype.jA=a.jA;},function(g,c,a){var b;b=a(465);c.bF=function(a,c,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return b.bF(a,c,g)(this);};},function(g,c,a){g=a(10);a=a(1028);g.Aa.prototype.bF=a.bF;g.Aa.prototype.Jq=a.bF;},function(g,c,a){var b;b=a(251);c.Qw=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Qw(a)(this);};},function(g,c,a){g=a(10);a=a(1030);g.Aa.prototype.Qw=a.Qw;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);c.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.sg(new f(a,b));};};f=function(){function a(a,b){this.Vg=a;this.ofa=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Vg,this.ofa));};return a;}();c.GGb=f;h=function(a){function c(b,c,d){a.call(this,b);this.Vg=c;this.count=0;this.ofa=d||this;}b(c,a);c.prototype.Ih=function(a){var b;try{b=this.Vg.call(this.ofa,a,this.count++);}catch(t){this.destination.error(t);return;}this.destination.next(b);};return c;}(g.Si);},function(g,c,a){var b;b=a(1032);c.map=function(a,c){return b.map(a,c)(this);};},function(g,c,a){g=a(10);a=a(1033);g.Aa.prototype.map=a.map;},function(g,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.zNa=g;},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);f=a(1035);c.kh=function(a,b,c){return function(d){return d.sg(new h(a,b,c,d));};};h=function(){function a(a,b,c,d){this.bx=a;this.Tk=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.bx,this.Tk,this.defaultValue,this.source));};return a;}();l=function(a){function c(b,c,d,f,g){a.call(this,b);this.bx=c;this.Tk=d;this.defaultValue=f;this.source=g;this.pp=!1;this.index=0;"undefined"!==typeof f&&(this.qW=f,this.pp=!0);}b(c,a);c.prototype.Ih=function(a){var b;b=this.index++;this.bx?this.a1a(a,b):this.Tk?this.Ipa(a,b):(this.qW=a,this.pp=!0);};c.prototype.a1a=function(a,b){var c;try{c=this.bx(a,b,this.source);}catch(y){this.destination.error(y);return;}c&&(this.Tk?this.Ipa(a,b):(this.qW=a,this.pp=!0));};c.prototype.Ipa=function(a,b){var c;try{c=this.Tk(a,b);}catch(y){this.destination.error(y);return;}this.qW=c;this.pp=!0;};c.prototype.uc=function(){var a;a=this.destination;this.pp?(a.next(this.qW),a.complete()):a.error(new f.zNa());};return c;}(g.Si);},function(g,c,a){var b;b=a(1036);c.kh=function(a,c,g){return b.kh(a,c,g)(this);};},function(g,c,a){g=a(10);a=a(1037);g.Aa.prototype.kh=a.kh;},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(49);c.Ayb=function(a,b,c){return function(d){return d.sg(new h(a,b,c));};};h=function(){function a(a,b,c){this.uob=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.uob,this.error,this.complete));};return a;}();l=function(a){function c(b,c,d,g){a.call(this,b);b=new f.Si(c,d,g);b.Wk=!0;this.add(b);this.Hda=b;}b(c,a);c.prototype.Ih=function(a){var b;b=this.Hda;b.next(a);b.VA?this.destination.error(b.WA):this.destination.next(a);};c.prototype.Vd=function(a){var b;b=this.Hda;b.error(a);b.VA?this.destination.error(b.WA):this.destination.error(a);};c.prototype.uc=function(){var a;a=this.Hda;a.complete();a.VA?this.destination.error(a.WA):this.destination.complete();};return c;}(f.Si);},function(g,c,a){var b;b=a(1039);c.x2=function(a,c,g){return b.Ayb(a,c,g)(this);};},function(g,c,a){g=a(10);a=a(1040);g.Aa.prototype.vK=a.x2;g.Aa.prototype.x2=a.x2;},function(g,c,a){function b(){return function(){function a(){this.ll=[];}a.prototype.add=function(a){this.has(a)||this.ll.push(a);};a.prototype.has=function(a){return-1!==this.ll.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.ll.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.ll.length=0;};return a;}();}g=a(78);c.EPb=b;c.Set=g.root.Set||b();},function(g,c,a){var b,f,h,l,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);f=a(76);h=a(1042);c.QT=function(a,b){return function(c){return c.sg(new l(a,b));};};l=function(){function a(a,b){this.jW=a;this.hdb=b;}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.jW,this.hdb));};return a;}();d=function(a){function c(b,c,d){a.call(this,b);this.jW=c;this.values=new h.Set();d&&this.add(f.yu(this,d));}b(c,a);c.prototype.hA=function(){this.values.clear();};c.prototype.Kba=function(a){this.Vd(a);};c.prototype.Ih=function(a){this.jW?this.k1a(a):this.Qna(a,a);};c.prototype.k1a=function(a){var b,c;c=this.destination;try{b=this.jW(a);}catch(B){c.error(B);return;}this.Qna(b,a);};c.prototype.Qna=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(g.Ur);c.pEb=d;},function(g,c,a){var b;b=a(1043);c.QT=function(a,c){return b.QT(a,c)(this);};},function(g,c,a){g=a(10);a=a(1044);g.Aa.prototype.QT=a.QT;},function(g,c,a){var b,f,h,l,d,k,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(177);h=a(464);g=a(49);l=a(253);c.Od=function(a,b){var c;void 0===b&&(b=f.async);c=h.HL(a)?+a-b.now():Math.abs(a);return function(a){return a.sg(new d(c,b));};};d=function(){function a(a,b){this.Od=a;this.ha=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Od,this.ha));};return a;}();k=function(a){function c(b,c,d){a.call(this,b);this.Od=c;this.ha=d;this.ph=[];this.Eua=this.active=!1;}b(c,a);c.Jb=function(a){for(var b=a.source,c=b.ph,d=a.ha,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.zb(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.OR=function(a){this.active=!0;this.add(a.zb(c.Jb,this.Od,{source:this,destination:this.destination,ha:a}));};c.prototype.SEa=function(a){var b;if(!0!==this.Eua){b=this.ha;a=new p(b.now()+this.Od,a);this.ph.push(a);!1===this.active&&this.OR(b);}};c.prototype.Ih=function(a){this.SEa(l.Notification.g6(a));};c.prototype.Vd=function(a){this.Eua=!0;this.ph=[];this.destination.error(a);};c.prototype.uc=function(){this.SEa(l.Notification.c6());};return c;}(g.Si);p=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,c,a){var b,f;b=a(177);f=a(1046);c.Od=function(a,c){void 0===c&&(c=b.async);return f.Od(a,c)(this);};},function(g,c,a){g=a(10);a=a(1047);g.Aa.prototype.Od=a.Od;},function(g,c,a){var b;b=a(466);c.WJ=function(){return b.WJ()(this);};},function(g,c,a){g=a(10);a=a(1049);g.Aa.prototype.WJ=a.WJ;},function(g,c){c.Iib=function(a){return a;};},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(252);h=a(137);a=function(a){function c(b,c){a.call(this);this.E4=b;(this.ha=c)||1!==b.length||(this.ns=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var d;d=a.length;return 0===d?new h.bH():1===d?new f.B1(a[0],b):new c(a,b);};c.Jb=function(a){var b,c,d;b=a.E4;c=a.index;d=a.Wf;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.zb(a)));};c.prototype.ng=function(a){var b,d,f;b=this.E4;d=this.ha;f=b.length;if(d)return d.zb(c.Jb,0,{E4:b,index:0,length:f,Wf:a});for(d=0;d<f&&!a.closed;d++)a.next(b[d]);a.complete();};return c;}(g.Aa);c.nJa=a;},function(g,c,a){var b,f,h,l,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(78);g=a(10);h=a(178);a=function(a){function c(b,c){a.call(this);this.ha=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[h.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new d(b);else b=new l(b);this.iterator=b;}b(c,a);c.create=function(a,b){return new c(a,b);};c.Jb=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.Wf;if(a.qL)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.zb(a));}};c.prototype.ng=function(a){var b,d;b=this.iterator;d=this.ha;if(d)return d.zb(c.Jb,0,{index:0,iterator:b,Wf:a});do{d=b.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return c;}(g.Aa);c.JPa=a;l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.nx=a;this.wL=b;this.iaa=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.wL<this.iaa?{done:!1,value:this.nx.charAt(this.wL++)}:{done:!0,value:void 0};};return a;}();d=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&f.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>k?k:c;}this.O2a=a;this.wL=b;this.iaa=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.wL<this.iaa?{done:!1,value:this.O2a[this.wL++]}:{done:!0,value:void 0};};return a;}();k=Math.pow(2,53)-1;},function(g,c,a){var b;b=a(138);g=a(138);c.o6a=g.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.sg.call(b.concat.apply(void 0,[c].concat(a)));};};},function(g,c,a){var b;b=a(1054);g=a(138);c.o6a=g.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.concat.apply(void 0,a)(this);};},function(g,c,a){g=a(10);a=a(1055);g.Aa.prototype.concat=a.concat;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c,f){a.call(this);this.parent=b;this.Tpb=c;this.Spb=f;this.index=0;}b(c,a);c.prototype.Ih=function(a){this.parent.hA(this.Tpb,a,this.Spb,this.index++,this);};c.prototype.Vd=function(a){this.parent.Kba(a,this);this.unsubscribe();};c.prototype.uc=function(){this.parent.Nl(this);this.unsubscribe();};return c;}(a(49).Si);c.dja=g;},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);f=a(76);c.i5a=function(a){return function(b){var c;c=new h(a);b=b.sg(c);return c.n5=b;};};h=function(){function a(a){this.EN=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.EN,this.n5));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.EN=c;this.n5=d;}b(c,a);c.prototype.error=function(b){var c;if(!this.Bf){c=void 0;try{c=this.EN(b,this.n5);}catch(u){a.prototype.error.call(this,u);return;}this.d1a();this.add(f.yu(this,c));}};return c;}(g.Ur);},function(g,c,a){var b;b=a(1058);c.k2=function(a){return b.i5a(a)(this);};},function(g,c,a){g=a(10);a=a(1059);g.Aa.prototype["catch"]=a.k2;g.Aa.prototype.k2=a.k2;},function(g,c,a){var b,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(255);a=function(a){function c(b,c){var d;d=this;void 0===b&&(b=f);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b,function(){return d.frame;});this.Jmb=c;this.frame=0;this.index=-1;}b(c,a);c.prototype.flush=function(){for(var a=this.Ak,b=this.Jmb,c,f;(f=a.shift())&&(this.frame=f.Od)<=b&&!(c=f.yf(f.state,f.Od)););if(c){for(;f=a.shift();)f.unsubscribe();throw c;}};c.s8=10;return c;}(a(254).e_);c.MWa=a;f=function(a){function c(b,c,f){void 0===f&&(f=b.index+=1);a.call(this,b,c);this.ha=b;this.TO=c;this.index=f;this.active=!0;this.index=b.index=f;}b(c,a);c.prototype.zb=function(b,f){var d;void 0===f&&(f=0);if(!this.id)return a.prototype.zb.call(this,b,f);this.active=!1;d=new c(this.ha,this.TO);this.add(d);return d.zb(b,f);};c.prototype.pY=function(a,b,f){void 0===f&&(f=0);this.Od=a.frame+f;a=a.Ak;a.push(this);a.sort(c.kxb);return!0;};c.prototype.hY=function(){};c.prototype.dR=function(b,c){if(!0===this.active)return a.prototype.dR.call(this,b,c);};c.kxb=function(a,b){return a.Od===b.Od?a.index===b.index?0:a.index>b.index?1:-1:a.Od>b.Od?1:-1;};return c;}(g.d_);c.LWa=f;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(179);h=a(68);g=a(475);a=a(473);f=function(a){function c(b,c){a.call(this);this.lj=b;this.$N=[];this.ha=c;}b(c,a);c.prototype.ng=function(b){var c,d;c=this;d=c.Fza();b.add(new h.cl(function(){c.Gza(d);}));return a.prototype.ng.call(this,b);};c.prototype.Fwb=function(){for(var a=this,b=a.lj.length,c=0;c<b;c++)(function(){var b;b=a.lj[c];a.ha.zb(function(){b.notification.observe(a);},b.frame);}());};return c;}(f.Hj);c.FFb=f;a.Gqa(f,[g.nma]);},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);h=a(68);g=a(475);a=a(473);f=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.Fza();a.add(new h.cl(function(){b.Gza(c);}));b.Vub(a);return a;});this.lj=b;this.$N=[];this.ha=c;}b(c,a);c.prototype.Vub=function(a){var d;for(var b=this.lj.length,c=0;c<b;c++){d=this.lj[c];a.add(this.ha.zb(function(a){a.message.notification.observe(a.Wf);},d.frame,{message:d,Wf:a}));}};return c;}(f.Aa);c.hLa=f;a.Gqa(f,[g.nma]);},function(g,c,a){var b,f,h,l,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);f=a(253);h=a(1063);a(1062);l=a(474);d=a(1061);g=function(a){function c(b){a.call(this,d.LWa,750);this.Z2a=b;this.yib=[];this.fdb=[];}b(c,a);c.prototype.flush=function(){var c;for(var b=this.yib;0<b.length;)b.shift().Fwb();a.prototype.flush.call(this);for(b=this.fdb.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.Z2a(c.Ky,c.Sn);}};c.lQb=function(a){var h,k;if("string"!==typeof a)return new l.SH(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.s8;k=a[g];switch(k){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>f?new l.SH(d):new l.SH(d,f);};c.kQb=function(a,b,c,d){var q,r,t;void 0===d&&(d=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],l=a.indexOf("^"),l=-1===l?0:l*-this.s8,m="object"!==typeof b?function(a){return a;}:function(a){return d&&b[a]instanceof h.hLa?b[a].lj:b[a];},p=-1,n=0;n<g;n++){q=n*this.s8+l;r=void 0;t=a[n];switch(t){case"-":case" ":break;case"(":p=q;break;case")":p=-1;break;case"|":r=f.Notification.c6();break;case"^":break;case"#":r=f.Notification.Gsa(c||"error");break;default:r=f.Notification.g6(m(t));}r&&k.push({frame:-1<p?p:q,notification:r});}return k;};return c;}(d.MWa);c.yma=g;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);c.iY=function(){return function(a){return a.sg(new f(a));};};f=function(){function a(a){this.vm=a;}a.prototype.call=function(a,b){var c;c=this.vm;c.xv++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.bp=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.vm=c;}b(c,a);c.prototype.Es=function(){var a,b;a=this.vm;if(a){this.vm=null;b=a.xv;0>=b?this.bp=null:(a.xv=b-1,1<b?this.bp=null:(b=this.bp,a=a.gv,this.bp=null,!a||b&&a!==b||a.unsubscribe()));}else this.bp=null;};return c;}(g.Si);},function(g,c){g=function(){function a(b,c){void 0===c&&(c=a.now);this.lVa=b;this.now=c;}a.prototype.zb=function(a,c,g){void 0===c&&(c=0);return new this.lVa(this,a).zb(g,c);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();c.kVa=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.apply(this,arguments);}b(c,a);return c;}(a(254).e_);c.uUa=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.call(this);}b(c,a);c.prototype.zb=function(){return this;};return c;}(a(68).cl);c.cJa=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c){a.call(this,b,c);this.ha=b;this.TO=c;}b(c,a);c.prototype.zb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.zb.call(this,b,c);this.Od=c;this.state=b;this.ha.flush(this);return this;};c.prototype.yf=function(b,c){return 0<c||this.closed?a.prototype.yf.call(this,b,c):this.dR(b,c);};c.prototype.pY=function(b,c,f){void 0===f&&(f=0);return null!==f&&0<f||null===f&&0<this.Od?a.prototype.pY.call(this,b,c,f):b.flush(this);};return c;}(a(255).d_);c.sUa=g;},function(g,c,a){g=a(1069);a=a(1067);c.ph=new a.uUa(g.sUa);},function(g,c){c.Bob=function(){};},function(g,c,a){var f;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:f.Bob;}f=a(1071);c.Uqb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b(a);};c.Vqb=b;},function(g,c,a){var b,f,h;b=a(49);f=a(257);h=a(258);c.dzb=function(a,c,g){if(a){if(a instanceof b.Si)return a;if(a[f.JA])return a[f.JA]();}return a||c||g?new b.Si(a,c,g):new b.Si(h.empty);};},function(g,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(a){b.call(this);this.LK=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.xQ=g;},function(g,c,a){var f,h;function b(){try{return h.apply(this,arguments);}catch(q){return f.hw.e=q,f.hw;}}f=a(481);c.sHa=function(a){h=a;return b;};},function(g,c,a){var f,h,l,d,k,n,r,u,y,B,x,A,G;function b(a,b,c,d,f,g,k,l,m){var p;p=this;this.ha=b;this.gr=c;this.config=d;this.YK=f;this.hua=g;this.oD=k;this.Jk=l;this.jM=m;this.dyb=function(a,b){b.UL().jO(1).subscribe(function(a){p.nza.next({hp:b.mp(),data:a.Ph});});b.UL().map(function(c){return p.fL(a,b,c);}).Qw().vK(function(a){b.ic=a.ic[0];return b.Zpa(a.Il.map(function(a){return a.data;}));}).subscribe(void 0,function(a){b.Zpa(a);},function(){p.I4a(b);});};this.eyb=function(a){a.yN.map(function(b){return p.Wwa(a,b);}).Qw().vK(function(b){return a.dqa(b.response);}).subscribe(void 0,a.dqa);};this.log=a.ub("DrmServices");this.nza=new h.Hj();this.YK().Wp&&this.oD.FDa().then(function(){p.Fxb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});this.config.RV&&this.Jk.rE().then(function(a){return p.Jsa(a,{Rd:a.keySystem},n.Cj.ln,m()).Jq(function(a){return a.close();}).subscribe();});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(139);l=a(8);d=a(33);k=a(461);n=a(87);r=a(52);u=a(259);y=a(260);B=a(460);x=a(17);A=a(103);a=a(141);b.prototype.lu=function(a,b){var c;c=this;return new Promise(function(d,f){c.kj(a,b).subscribe(d,f);});};b.prototype.Fdb=function(a,b){var c;c=this;return new Promise(function(d,f){c.EU(a,b).subscribe(d,f);});};b.prototype.kj=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.ywa(a,a.type));return this.fK(a.context,a.type,b).Jq(function(b){b.pwb(a.oh);c.dyb(a,b);return c.rsa(b.EU(a.JV),b);});};b.prototype.Jxb=function(a,b){var c,d;c=this;this.config.gi?(this.log.info("Releasing server license and EME license",this.v9(a)),this.eyb(a),d=a.Gva()):(this.log.info("Releasing server license",this.v9(a)),d=this.Wwa(a));return this.rsa(d,a).vK(function(){var d;d=Object.assign({Rd:a.context.Rd,ic:[]},a.oh);c.oD.nda(d);b.Ptb();});};b.prototype.UL=function(){return this.nza.F4();};b.prototype.ywa=function(a,b){return{movieId:a.oh.u,xid:a.oh.ia,type:n.pza(b)};};b.prototype.v9=function(a){return{movieId:a.oh?a.oh.u:void 0,xid:a.oh?a.oh.ia:void 0,keySessionId:a.uz()};};b.prototype.rsa=function(a,b){return h.Aa.concat(a,h.Aa.of(b)).kh();};b.prototype.fL=function(a,b,c){this.log.info("Sending license request",this.ywa(a,c.$h));return h.Aa.Lq(this.gr.kj({ia:a.oh.ia,fg:a.oh.fg,TT:[a.oh.Ek],Ph:[{sessionId:b.uz()||"session",data:c.Ph}],$h:c.$h,hp:b.mp(),Lra:c.Lra,hM:a.oh.hM,Rf:a.oh.Rf}));};b.prototype.Wwa=function(a,b){this.log.info("Sending release request",this.v9(a));return b?h.Aa.Lq(this.gr.release({ia:a.oh.ia,ic:[a.ic],Ph:b.Ph})):h.Aa.Lq(this.gr.release({ia:a.oh.ia,ic:[a.ic]}));};b.prototype.EU=function(a,b){return this.fK(a.context,a.type,b).Jq(function(b){b.EU(a.JV);return b.UL().map(function(){return b;});});};b.prototype.fK=function(a,b,c){var d;d=this;return h.Aa.Lq(this.Jk.rE()).Jq(function(f){return d.Jsa(f,a,b,c);});};b.prototype.Jsa=function(a,b,c,d){return h.Aa.Lq(this.hua.create()).Jq(function(f){return f.xm(b,a,d,c);});};b.prototype.Exb=function(a){var b;b=this;return this.config.gi?h.Aa.Lq(this.slb(a)):h.Aa.Lq(this.gr.release({ia:a.ia,ic:a.ic}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.Aa.empty();}).map(function(){return a;});};b.prototype.slb=function(a){var b;b=this;this.Jk.rE().then(function(c){b.hua.create().then(function(d){d.xm({Rd:c.keySystem},c,b.jM(),n.Cj.ln).Jq(function(){return d.Dlb(a.ic[0].id);}).Jq(function(){return d.Gva();}).subscribe(void 0,function(a){b.log.error("SecureStop failed.",a);});});});return Promise.resolve(a);};b.prototype.Fxb=function(){var a;a=this;this.ha.Xg(this.config.mca,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.oD.UT.length});b=a.oD.UT.filter(function(a){return!a.active;}).map(function(b){return a.Exb(b);});h.Aa.concat.apply(h.Aa,[].concat(fa(b))).subscribe(function(b){a.oD.nda(b);});});};b.prototype.I4a=function(a){var b;if(a.uz()&&a.oh){b=new y.H_();b.Rd=a.context.Rd;b.ic=[a.ic];b.ia=a.oh.ia;b.u=a.oh.u;this.oD.Xpa(b);}};G=b;G=g.__decorate([f.N(),g.__param(0,f.l(l.Bb)),g.__param(1,f.l(d.Eg)),g.__param(2,f.l(k.Iha)),g.__param(3,f.l(r.bm)),g.__param(4,f.l(x.sd)),g.__param(5,f.l(B.$ha)),g.__param(6,f.l(u.o_)),g.__param(7,f.l(A.Uu)),g.__param(8,f.l(a.xH))],G);c.WMa=G;},function(g,c,a){var b,f,h,l,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(121);f=a(1076);h=a(103);l=a(975);d=a(460);k=a(968);c.Hab=new g.tc(function(a){a(b.Jha).to(f.WMa).Y();a(h.Uu).to(l.hRa).Y();a(d.$ha).to(k.wNa);});},function(g,c,a){var f,h,l,d,k;function b(a,b){return h.ke.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);l=a(29);d=a(4);a=a(34);da(b,h.ke);pa.Object.defineProperties(b.prototype,{RV:{configurable:!0,enumerable:!0,get:function(){return!1;}},gi:{configurable:!0,enumerable:!0,get:function(){return!1;}},Jw:{configurable:!0,enumerable:!0,get:function(){return d.Ze;}},mca:{configurable:!0,enumerable:!0,get:function(){return d.ei(10);}},n$:{configurable:!0,enumerable:!0,get:function(){return d.Cb(2E3);}},Sda:{configurable:!0,enumerable:!0,get:function(){return d.Cb(1E3);}},Sqb:{configurable:!0,enumerable:!0,get:function(){return d.Cb(2500);}},zK:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},TK:{configurable:!0,enumerable:!0,get:function(){return!1;}},mo:{configurable:!0,enumerable:!0,get:function(){return!0;}},wqa:{configurable:!0,enumerable:!0,get:function(){return d.ei(30);}},xqa:{configurable:!0,enumerable:!0,get:function(){return d.ei(30);}},zqa:{configurable:!0,enumerable:!0,get:function(){return d.ei(30);}},yqa:{configurable:!0,enumerable:!0,get:function(){return d.ei(30);}},z4:{configurable:!0,enumerable:!0,get:function(){return d.ei(30);}},IN:{configurable:!0,enumerable:!0,get:function(){return"";}},AX:{configurable:!0,enumerable:!0,get:function(){return!1;}}});k=b;g.__decorate([a.config(a.Ld,"initializeKeySystemAtStartup")],k.prototype,"RV",null);g.__decorate([a.config(a.Ld,"secureStopEnabled")],k.prototype,"gi",null);g.__decorate([a.config(a.Ug,"licenseRenewalRequestDelay")],k.prototype,"Jw",null);g.__decorate([a.config(a.Ug,"persistedReleaseDelay")],k.prototype,"mca",null);g.__decorate([a.config(a.Ug,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"n$",null);g.__decorate([a.config(a.Ug,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"Sda",null);g.__decorate([a.config(a.Ug,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"Sqb",null);g.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"zK",null);g.__decorate([a.config(a.Ld,"forceLimitedDurationLicense")],k.prototype,"TK",null);g.__decorate([a.config(a.Ld,"prepareCadmium")],k.prototype,"mo",null);g.__decorate([a.config(a.Ug,"apiCloseTimeout")],k.prototype,"wqa",null);g.__decorate([a.config(a.Ug,"apiCreateMediaKeysTimeout")],k.prototype,"xqa",null);g.__decorate([a.config(a.Ug,"apiSetServerCertificateTimeout")],k.prototype,"zqa",null);g.__decorate([a.config(a.Ug,"apiGenerateRequestTimeout")],k.prototype,"yqa",null);g.__decorate([a.config(a.Ug,"apiUpdateTimeout")],k.prototype,"z4",null);g.__decorate([a.config(a.string,"serverCertificate")],k.prototype,"IN",null);g.__decorate([a.config(a.Ld,"outputRestrictedIsFatal")],k.prototype,"AX",null);k=g.__decorate([f.N(),g.__param(0,f.l(l.Ui)),g.__param(1,f.l(l.sB)),g.__param(1,f.optional())],k);c.Fga=k;},function(g,c,a){var f,h,l,d;function b(a,b){return d.Fga.call(this,a,void 0===b?"ChromeEmeConfig":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(29);l=a(34);d=a(1078);da(b,d.Fga);pa.Object.defineProperties(b.prototype,{RV:{configurable:!0,enumerable:!0,get:function(){return!0;}},AX:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;g.__decorate([l.config(l.Ld,"initializeKeySystemAtStartup")],a.prototype,"RV",null);g.__decorate([l.config(l.Ld,"outputRestrictedIsFatal")],a.prototype,"AX",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.Ui)),g.__param(1,f.l(h.sB)),g.__param(1,f.optional())],a);c.uNa=a;},function(g,c,a){var f,h,l,d,k,n,r;function b(a,b,c,f){a=d.ke.call(this,a,void 0===f?"FtlProbeConfigImpl":f)||this;a.Mf=b;a.Ja=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(45);h=a(1);l=a(4);d=a(36);k=a(120);n=a(34);a=a(29);da(b,d.ke);pa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.v8+(-1===this.v8.indexOf("?")?"?":"&")+"monotonic="+this.Ja.TAa+"&device=web";}},eGa:{configurable:!0,enumerable:!0,get:function(){return l.Ze;}},l8:{configurable:!0,enumerable:!0,get:function(){return"";}},v8:{configurable:!0,enumerable:!0,get:function(){return this.Mf.endpoint+"/ftl/probe"+(this.l8?"?force="+this.l8:"");}}});r=b;g.__decorate([n.config(n.Ld,"ftlEnabled")],r.prototype,"enabled",null);g.__decorate([n.config(n.Ug,"ftlStartDelay")],r.prototype,"eGa",null);g.__decorate([n.config(n.string,"ftlEndpointForceParam")],r.prototype,"l8",null);g.__decorate([n.config(n.url,"ftlEndpoint")],r.prototype,"v8",null);r=g.__decorate([h.N(),g.__param(0,h.l(a.Ui)),g.__param(1,h.l(k.lB)),g.__param(2,h.l(f.kk)),g.__param(3,h.l(a.sB)),g.__param(3,h.optional())],r);c.VNa=r;},function(g,c,a){var f,h,l,d;function b(a,b){return l.ke.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);l=a(36);a=a(29);da(b,l.ke);pa.Object.defineProperties(b.prototype,{ZHa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});d=b;g.__decorate([h.config(h.Ld,"useNetworkMonitor")],d.prototype,"ZHa",null);d=g.__decorate([f.N(),g.__param(0,f.l(a.Ui)),g.__param(1,f.l(a.sB)),g.__param(1,f.optional())],d);c.MRa=d;},function(g,c){function a(a){this.value=a;}Object.defineProperty(c,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.cCa=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};c.uka=a;},function(g,c,a){var f,h,l,d,k,n,r,u;function b(a,b,c){a=d.ke.call(this,a,void 0===c?"GeneralConfigImpl":c)||this;a.Pn=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(4);h=a(1);l=a(34);d=a(36);k=a(40);n=a(29);a=a(144);r={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};c.JK=function(a,b){return a.GDa(r[b]||b,k.Mu);};da(b,d.ke);pa.Object.defineProperties(b.prototype,{JK:{configurable:!0,enumerable:!0,get:function(){return k.Mu.oUa;}},Yea:{configurable:!0,enumerable:!0,get:function(){return f.ei(8);}},ww:{configurable:!0,enumerable:!0,get:function(){return"";}},pD:{configurable:!0,enumerable:!0,get:function(){return"";}},dB:{configurable:!0,enumerable:!0,get:function(){return"";}},IGa:{configurable:!0,enumerable:!0,get:function(){return!1;}},DS:{configurable:!0,enumerable:!0,get:function(){return!0;}},FV:{configurable:!0,enumerable:!0,get:function(){return this.Pn.FV;}},fcb:{configurable:!0,enumerable:!0,get:function(){return!1;}},Bq:{configurable:!0,enumerable:!0,get:function(){return{};}},AEa:{configurable:!0,enumerable:!0,get:function(){return!1;}},L$:{configurable:!0,enumerable:!0,get:function(){return!1;}},SZ:{configurable:!0,enumerable:!0,get:function(){return!1;}},Ar:{configurable:!0,enumerable:!0,get:function(){return!1;}},lx:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Gq:{configurable:!0,enumerable:!0,get:function(){return 0<=[k.Mu.xma,k.Mu.eja].indexOf(this.JK);}}});u=b;g.__decorate([l.config(c.JK,"environment")],u.prototype,"JK",null);g.__decorate([l.config(l.Ug,"storageTimeout")],u.prototype,"Yea",null);g.__decorate([l.config(l.string,"groupName")],u.prototype,"ww",null);g.__decorate([l.config(l.string,"canaryGroupName")],u.prototype,"pD",null);g.__decorate([l.config(l.string,"uiGroupName")],u.prototype,"dB",null);g.__decorate([l.config(l.Ld,"testIndexDBForCorruptedDatabase")],u.prototype,"IGa",null);g.__decorate([l.config(l.Ld,"applyIndexedDbOpenWorkaround")],u.prototype,"DS",null);g.__decorate([l.config(l.Ld,"ignoreIdbOpenError")],u.prototype,"FV",null);g.__decorate([l.config(l.Ld,"executeStorageMigration")],u.prototype,"fcb",null);g.__decorate([l.config(l.object(),"browserInfo")],u.prototype,"Bq",null);g.__decorate([l.config(l.Ld,"retryAllMslRequestsOnError")],u.prototype,"AEa",null);g.__decorate([l.config(l.Ld,"isTestAccount")],u.prototype,"L$",null);g.__decorate([l.config(l.Ld,"vuiCommandLogging")],u.prototype,"SZ",null);g.__decorate([l.config(l.Ld,"useRangeHeader")],u.prototype,"Ar",null);g.__decorate([l.config(l.object,"storageRules")],u.prototype,"lx",null);u=g.__decorate([h.N(),g.__param(0,h.l(n.Ui)),g.__param(1,h.l(a.LH)),g.__param(2,h.l(n.sB)),g.__param(2,h.optional())],u);c.ZNa=u;},function(g,c,a){var l,d,k,n,r;function b(){this.ht={};this.EEa=0;}function f(a,b,c,d,f){this.debug=a;this.Jt=b;this.DM=c;this.Sf=d;this.$X=f;}function h(a,b,c){this.Jt=a;this.DM=b;this.$X=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);l=a(1);d=a(88);k=a(8);n=a(140);r=a(485);a=a(29);h=g.__decorate([l.N(),g.__param(0,l.l(a.PP)),g.__param(1,l.l(n.G1)),g.__param(2,l.l(r.v1))],h);c.lLa=h;f=g.__decorate([l.N(),g.__param(0,l.l(d.Kr)),g.__param(1,l.l(a.PP)),g.__param(2,l.l(n.G1)),g.__param(3,l.l(k.Bb)),g.__param(4,l.l(r.v1))],f);c.DWa=f;b.prototype.knb=function(a){this.ht=Object.assign({},this.ht,a);this.EEa++;};pa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.ht;}},DEa:{configurable:!0,enumerable:!0,get:function(){return this.EEa;}}});a=b;a=g.__decorate([l.N()],a);c.EPa=a;},function(g,c,a){var b,f,h,l,d,k,n,r,u,y,B;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(17);f=a(1084);h=a(29);l=a(40);d=a(1083);k=a(484);n=a(1081);r=a(180);u=a(1080);y=a(52);B=a(1079);c.config=new g.tc(function(a){a(b.sd).Ef(function(){return function(){return K._cad_global.config;};});a(h.u_).to(f.lLa).Y();a(h.Ui).to(f.DWa).Y();a(h.PP).to(f.EPa).Y();a(l.Io).to(d.ZNa).Y();a(k.ika).to(n.MRa).Y();a(r.oia).to(u.VNa).Y();a(y.bm).to(B.uNa).Y();});},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Cxa=function(){return void 0!==this.Kk;};a.prototype.OA=function(a){this.Kk=a;};a.prototype.Ptb=function(){this.Cxa()&&(this.Kk=void 0);};c.iRa=a;},function(g,c,a){var b,f,h,l,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);f=a(89);h=a(121);l=a(261);c.tsb=function(a){l.CK.parent=a.tb;return function(){d||(d=new Promise(function(a,c){try{a(l.CK.get(h.Jha));}catch(u){c(new f.Hf(b.I.YOa,b.G.qPa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return d;};};},function(g,c,a){var l,d,k,n,r,u,y,B;function b(a,b,c){var d;d=this;this.is=a;this.uj=b;this.config=c;this.xr=function(){return{version:d.version,drmData:d.UT.map(function(a){return a.xr();})};};this.u8=function(a){var b;d.is.ml(a)&&(a=f(a));1===a.version&&(a=h(d.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new B.H_(a);});}catch(U){throw new r.qc(k.I.BB,k.G.Gu,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",U);}}else{if(!a.version||!d.is.Jg(a.version))throw new r.qc(k.I.BB,k.G.Gu,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new r.qc(k.I.BB,k.G.Mga,void 0,void 0,void 0,"Version number is not supported. Version: "+d.getVersion);}return b;};this.wo=new u.aja(2,this.config.zK,this.is.ml(this.config.zK),this.uj,this.xr);}function f(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId||!a.xid||!a.movieId)throw new r.qc(k.I.BB,k.G.Gu);return{version:1,drmData:[a]};}function h(a,b){if(a.Ks(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new B.H_({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).xr();})};throw new r.qc(k.I.BB,k.G.Gu);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);l=a(1);d=a(52);k=a(2);n=a(22);r=a(46);u=a(486);y=a(69);B=a(260);b.prototype.FDa=function(){return this.xxb();};b.prototype.Xpa=function(a){return this.wo.add(a);};b.prototype.nda=function(a){return this.wo.remove(a,function(a,b){return a.ia===b.ia;});};b.prototype.toString=function(){return JSON.stringify(this.xr(),null,"  ");};b.prototype.xxb=function(){var a;a=this;this.JDa||(this.JDa=new Promise(function(b,c){a.wo.load(a.u8).then(function(){b();})["catch"](function(a){a.ba&&a.cause?c(new r.qc(k.I.BB,a.ba,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.JDa;};pa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.wo.version;}},UT:{configurable:!0,enumerable:!0,get:function(){return this.wo.Cq;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(n.Ke)),g.__param(1,l.l(y.Fr)),g.__param(2,l.l(d.bm))],a);c.RKa=a;},function(g,c,a){var b,f,h,l,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);f=a(47);h=a(488);l=a(60);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};c.ila=function(){this.E3a=this.vJ=h.cP.ija;this.iea=!0;this.sJ=[];this.HG=[];this.NM=this.ZT=!1;this.zu=[l.el.y_,l.el.XUa,l.el.IB];this.Rd=void 0;this.z7=!0;this.cU=!1;this.ES=f.aa(288E4);this.GS=f.aa(335544320);this.GW=b.Cb(15E3);this.Kmb=f.aa(6291456);this.UE=1E3;this.m5=!0;this.vfa=d;this.vG=f.aa(0);this.uZ=b.Cb(0);this.FV=!0;};},function(g,c,a){var h,l,d,k,n,r,u,y,f,B;function b(a){var b;b=r.ila.call(this)||this;a=/CrOS/.test(a.userAgent);b.sJ=[u.Qi.EP,u.Qi.FP];b.HG=[u.W.cH,u.W.yB,u.W.yP,u.W.zP,u.W.XH,u.W.YH];a&&b.HG.push(u.W.BP,u.W.AP,u.W.ZH);b.ZT=!0;b.NM=!0;b.Rd=y.lb.RWa;b.GW=k.Cb(15E3);return b;}function f(a){var b,c,d;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);d=/Tesla/.test(a);this.version="6.0022.162.011";this.tba=!0;this.dE=d?"T":b?"C":c?"O":"M";this.tt=d?"NFCDTS-01-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.w8=!0;this.MT=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.Fta="browser";this.Hza="";this.Ita="cadmium";this.Ckb=!0;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(37);d=a(79);k=a(4);n=a(144);r=a(1089);u=a(60);y=a(143);f=g.__decorate([h.N(),g.__param(0,h.l(l.Yu))],f);c.JDb=f;da(b,r.ila);B=b;B=g.__decorate([h.N(),g.__param(0,h.l(l.Yu))],B);c.KDb=B;c.platform=new h.tc(function(a){a(d.Vr).to(f);a(n.LH).to(B);});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.$Aa=function(a){return function(b){return function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return c.forEach(function(c){return a.bind(c).czb(b);});};};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);f=a(35);h=a(65);c.XCa=function(){return function(a,c){c=new h.Metadata(f.IH,c);if(Reflect.O9(f.IH,a.constructor))throw Error(b.QQa);Reflect.L6(f.IH,c,a.constructor);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);f=a(65);h=a(91);c.lO=function(a){return function(c,g,l){var d;d=new f.Metadata(b.UP,a);h.XA(c,g,l,d);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);f=a(65);h=a(91);c.eA=function(a){return function(c,g,l){var d;d=new f.Metadata(b.Xx,a);"number"===typeof l?h.XA(c,g,l,d):h.iO(c,g,d);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);f=a(65);h=a(91);c.yh=function(){return function(a,c,g){var d;d=new f.Metadata(b.UH,!0);h.XA(a,c,g,d);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);f=a(65);h=a(91);c.optional=function(){return function(a,c,g){var d;d=new f.Metadata(b.qka,!0);"number"===typeof g?h.XA(a,c,g,d):h.iO(a,c,d);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);f=a(65);h=a(91);c.cBa=function(a){return function(c,g,l){var d;d=new f.Metadata(b.Wu,a);"number"===typeof l?h.XA(c,g,l,d):h.iO(c,g,d);};};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(65);f=a(91);c.FGa=function(a,c){return function(d,g,h){var k;k=new b.Metadata(a,c);"number"===typeof h?f.XA(d,g,h,k):f.iO(d,g,k);};};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);f=a(35);c.N=function(){return function(a){var c;if(Reflect.O9(f.d1,a))throw Error(b.wMa);c=Reflect.getMetadata(f.PLa,a)||[];Reflect.L6(f.d1,c,a);return a;};};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(104);c.tc=function(){return function(a){this.id=b.id();this.kda=a;};}();c.zga=function(){return function(a){this.id=b.id();this.kda=a;};}();},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);g=function(){function a(){this.Yi=new Map();}a.prototype.add=function(a,c){var d;if(null===a||void 0===a)throw Error(b.DH);if(null===c||void 0===c)throw Error(b.DH);d=this.Yi.get(a);void 0!==d?(d.push(c),this.Yi.set(a,d)):this.Yi.set(a,[c]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.DH);a=this.Yi.get(a);if(void 0!==a)return a;throw Error(b.jja);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.DH);if(!this.Yi["delete"](a))throw Error(b.jja);};a.prototype.Axa=function(a){if(null===a||void 0===a)throw Error(b.DH);return this.Yi.has(a);};a.prototype.clone=function(){var b;b=new a();this.Yi.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.vzb=function(a){this.Yi.forEach(function(b,c){a(c,b);});};return a;}();c.oQa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(){}a.of=function(b,c){var f;f=new a();f.AJ=b;f.wnb=c;return f;};return a;}();c.PDb=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(80);f=a(491);g=function(){function a(a){this.Fb=a;}a.prototype.Y=function(){this.Fb.scope=b.Go.D1;return new f.Hx(this.Fb);};a.prototype.o$=function(){this.Fb.scope=b.Go.tQ;return new f.Hx(this.Fb);};return a;}();c.bKa=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(1103);f=a(263);h=a(262);g=function(){function a(a){this.Fb=a;this.fI=new h.j_(this.Fb);this.b2=new f.fP(this.Fb);this.lna=new b.bKa(a);}a.prototype.Y=function(){return this.lna.Y();};a.prototype.o$=function(){return this.lna.o$();};a.prototype.when=function(a){return this.fI.when(a);};a.prototype.RO=function(){return this.fI.RO();};a.prototype.cr=function(a){return this.b2.cr(a);};return a;}();c.Hga=g;},function(g,c,a){var b,f,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(54);f=a(80);h=a(1104);l=a(491);g=function(){function a(a){this.Fb=a;}a.prototype.to=function(a){this.Fb.type=f.mi.E0;this.Fb.Uj=a;return new h.Hga(this.Fb);};a.prototype.dHa=function(){if("function"!==typeof this.Fb.Xe)throw Error(""+b.tPa);this.to(this.Fb.Xe);};a.prototype.ii=function(a){this.Fb.type=f.mi.aha;this.Fb.cache=a;this.Fb.WD=null;this.Fb.Uj=null;new l.Hx(this.Fb);};a.prototype.yG=function(a){this.Fb.type=f.mi.Oha;this.Fb.cache=null;this.Fb.WD=a;this.Fb.Uj=null;new h.Hga(this.Fb);};a.prototype.bzb=function(a){this.Fb.type=f.mi.bha;this.Fb.Uj=a;new l.Hx(this.Fb);};a.prototype.Ef=function(a){this.Fb.type=f.mi.R_;this.Fb.jw=a;new l.Hx(this.Fb);};a.prototype.$yb=function(a){this.Fb.type=f.mi.R_;this.Fb.jw=function(b){return function(){return b.tb.get(a);};};new l.Hx(this.Fb);};a.prototype.qO=function(a){this.Fb.type=f.mi.Gla;this.Fb.gr=a;new l.Hx(this.Fb);};a.prototype.czb=function(a){this.yG(function(b){return b.tb.get(a);});};return a;}();c.cKa=g;},function(g,c,a){var h,l,d;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===l.$r.Yga;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function f(a,b){var c;if(Reflect.fib(d.IH,a)){c=Reflect.getMetadata(d.IH,a);try{b[c.value]();}catch(u){throw Error(h.VSa(a.name,u.message));}}}Object.defineProperty(c,"__esModule",{value:!0});h=a(54);l=a(80);d=a(35);c.tub=function(a,c,d){var g;g=null;0<c.length?(g=c.filter(function(a){return null!==a.target&&a.target.type===l.$r.cha;}).map(d),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,c,d)):g=new a();f(a,g);return g;};},function(g,c,a){var h,l,d,k,n;function b(a){return function(c){var d,g,m,p,q;d=c.AJ;g=c.x5;m=c.target&&c.target.isArray();p=!c.fu||!c.fu.target||!c.target||!c.fu.target.wmb(c.target.Xe);if(m&&p)return g.map(function(c){return b(a)(c);});m=null;if(!c.target.Gya()||0!==d.length){q=d[0];d=q.scope===l.Go.D1;p=q.scope===l.Go.Request;if(d&&q.g4)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===l.mi.aha)m=q.cache;else if(q.type===l.mi.Function)m=q.cache;else if(q.type===l.mi.bha)m=q.Uj;else if(q.type===l.mi.Oha&&null!==q.WD)m=f("toDynamicValue",q.Xe,function(){return q.WD(c.sF);});else if(q.type===l.mi.R_&&null!==q.jw)m=f("toFactory",q.Xe,function(){return q.jw(c.sF);});else if(q.type===l.mi.Gla&&null!==q.gr)m=f("toProvider",q.Xe,function(){return q.gr(c.sF);});else if(q.type===l.mi.E0&&null!==q.Uj)m=n.tub(q.Uj,g,b(a));else throw g=k.wE(c.Xe),Error(h.oPa+" "+g);"function"===typeof q.cr&&(m=q.cr(c.sF,m));d&&(q.cache=m,q.g4=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,m);return m;}};}function f(a,b,c){try{return c();}catch(B){if(d.Oya(B))throw Error(h.yKa(a,b.toString()));throw B;}}Object.defineProperty(c,"__esModule",{value:!0});h=a(54);l=a(80);d=a(494);k=a(145);n=a(1106);c.resolve=function(a){return b(a.wF.Gda.kub)(a.wF.Gda);};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(104);g=function(){function a(a,c,d,f,g){this.id=b.id();this.Xe=a;this.sF=c;this.fu=d;this.target=g;this.x5=[];this.AJ=Array.isArray(f)?f:[f];this.kub=null===d?new Map():null;}a.prototype.Upa=function(b,c,d){b=new a(b,this.sF,this,c,d);this.x5.push(b);return b;};return a;}();c.Request=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.nx=a;}a.prototype.startsWith=function(a){return 0===this.nx.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.nx.split("").reverse().join("");return this.startsWith.call({nx:a},b);};a.prototype.contains=function(a){return-1!==this.nx.indexOf(a);};a.prototype.equals=function(a){return this.nx===a;};a.prototype.value=function(){return this.nx;};return a;}();c.rUa=g;},function(g,c,a){var d,k,n,r,u,y;function b(a,b,c,g){var h,m,t,u,x,B,A,G,H,F;h=a.Zva(c);m=h.lsa;if(void 0===m)throw Error(k.BQa+" "+b+".");for(var h=h.QAb,p=Object.keys(h),q=0===c.length&&0<p.length?p.length:c.length,p=[],r=0;r<q;r++){u=r;x=g;B=b;A=m;t=h[u.toString()]||[];G=l(t);H=!0!==G.yh;A=A[u];F=G.l||G.eA;A=F?F:A;A instanceof d.J0&&(A=A.Qzb());if(H){H=A===Function;H=A===Object||H||void 0===A;if(!x&&H)throw Error(k.CQa+" argument "+u+" in class "+B+".");u=new y.rQ(n.$r.cha,G.lO,A);u.qd=t;t=u;}else t=null;null!==t&&p.push(t);}a=f(a,c);return p.concat(a);}function f(a,b){var k,m,p;for(var c=a.vgb(b),d=[],g=0,h=Object.keys(c);g<h.length;g++){k=h[g];m=c[k];p=l(c[k]);k=new y.rQ(n.$r.Yga,p.lO||k,p.l||p.eA);k.qd=m;d.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=f(a,b),d=d.concat(a));return d;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=u.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.qd.filter(function(a){return a.key===r.UH;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[r.pH],eA:b[r.Xx],lO:b[r.UP],yh:b[r.UH]};}Object.defineProperty(c,"__esModule",{value:!0});d=a(493);k=a(54);n=a(80);r=a(35);u=a(145);c.getFunctionName=u.getFunctionName;y=a(492);c.Feb=function(a,c){var d;d=u.getFunctionName(c);return b(a,d,c,!1);};c.$db=h;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.CTa=function(){return function(a,b){this.sF=a;this.Gda=b;};}();},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(104);g=function(){function a(a){this.id=b.id();this.tb=a;}a.prototype.Z1a=function(a){this.wF=a;};return a;}();c.dha=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.i_={OGb:2,lka:0,bSa:1};},function(g,c,a){var d,k,n,r,u,y,B,x,A,G,F,K;function b(a,b,c,g,h){var k,m;k=l(c.tb,h.Xe);m=[];k.length===d.i_.lka&&c.tb.options.xJ&&"function"===typeof h.Xe&&a.Zva(h.Xe).lsa&&(c.tb.bind(h.Xe).dHa(),k=l(c.tb,h.Xe));m=b?k:k.filter(function(a){var b;b=new F.Request(a.Xe,c,g,a,h);return a.Zy(b);});f(h.Xe,m,h,c.tb);return m;}function f(a,b,c,f){switch(b.length){case d.i_.lka:if(c.Gya())break;a=y.wE(a);b=k.HRa;b+=y.blb(a,c);b+=y.tza(f,a,l);throw Error(b);case d.i_.bSa:if(!c.isArray())break;default:if(!c.isArray())throw a=y.wE(a),b=k.FIa+" "+a,b+=y.tza(f,a,l),Error(b);}}function h(a,c,d,f,g,l){var m;null===g?(c=b(a,c,f,null,l),m=new F.Request(d,f,null,c,l),d=new A.CTa(f,m),f.Z1a(d)):(c=b(a,c,f,g,l),m=g.Upa(l.Xe,c,l));c.forEach(function(b){var c,d,g;c=null;if(l.isArray())c=m.Upa(b.Xe,b,l);else{if(b.cache)return;c=m;}if(b.type===n.mi.E0&&null!==b.Uj){d=G.Feb(a,b.Uj);if(!f.tb.options.RA){g=G.$db(a,b.Uj);if(d.length<g)throw b=k.GIa(G.getFunctionName(b.Uj)),Error(b);}d.forEach(function(b){h(a,!1,b.Xe,f,c,b);});}});}function l(a,b){var c,d;c=[];d=a.cC;d.Axa(b)?c=d.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(1113);k=a(54);n=a(80);r=a(35);u=a(494);y=a(145);B=a(1112);x=a(65);A=a(1111);G=a(1110);F=a(1108);K=a(492);c.B8=function(a){return a.cC;};c.wF=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new B.dha(b);c=new x.Metadata(c?r.Xx:r.pH,f);d=new K.rQ(d,"",f,c);void 0!==g&&(g=new x.Metadata(g,k),d.qd.push(g));try{return h(a,l,f,b,null,d),b;}catch(V){throw u.Oya(V)&&b.wF&&y.J5a(b.wF.Gda),V;}};c.jMb=function(a,b,c,d){c=new K.rQ(n.$r.N1,"",b,new x.Metadata(c,d));a=new B.dha(a);return new F.Request(b,a,null,[],c);};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(80);f=a(104);g=function(){function a(a,c){this.id=f.id();this.g4=!1;this.Xe=a;this.scope=c;this.type=b.mi.HPa;this.Zy=function(){return!0;};this.WD=this.cr=this.gr=this.jw=this.cache=this.Uj=null;}a.prototype.clone=function(){var b;b=new a(this.Xe,this.scope);b.g4=!1;b.Uj=this.Uj;b.WD=this.WD;b.scope=this.scope;b.type=this.type;b.jw=this.jw;b.gr=this.gr;b.Zy=this.Zy;b.cr=this.cr;b.cache=this.cache;return b;};return a;}();c.aKa=g;},function(g,c,a){var b,f,l,q,d,k,p,r,u,y,B,x;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(ba){g(ba);}}function k(a){try{l(d["throw"](a));}catch(ba){g(ba);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};f=this&&this.AKb||function(a,b){var f,g,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.lA.pop();f.cB.pop();continue;default:if(!(l=f.cB,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.lA.push(c);else{l[2]&&f.lA.pop();f.cB.pop();continue;}}c=b.call(a,f);}catch(ba){c=[6,ba];k=0;}finally{g=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,IY:function(){if(l[0]&1)throw l[1];return l[1];},cB:[],lA:[]};h();h();n();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(c,"__esModule",{value:!0});l=a(1115);q=a(54);d=a(80);a(35);k=a(495);p=a(1114);r=a(1107);u=a(1105);y=a(104);B=a(145);a(1102);x=a(1101);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+q.MKa);if(void 0===a.dz)a.dz=d.Go.tQ;else if(a.dz!==d.Go.D1&&a.dz!==d.Go.tQ&&a.dz!==d.Go.Request)throw Error(""+q.KKa);if(void 0===a.xJ)a.xJ=!1;else if("boolean"!==typeof a.xJ)throw Error(""+q.JKa);if(void 0===a.RA)a.RA=!1;else if("boolean"!==typeof a.RA)throw Error(""+q.LKa);this.options={xJ:a.xJ,dz:a.dz,RA:a.RA};this.id=y.id();this.cC=new x.oQa();this.B0a=[];this.parent=this.h3=null;this.AZa=new k.Q0();}a.lba=function(b,c){var f,g;function d(a,b){a.vzb(function(a,c){c.forEach(function(a){b.add(a.Xe,a.clone());});});}f=new a();g=p.B8(f);b=p.B8(b);c=p.B8(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.Yna(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.kda(f.fra,f.AHa,f.Vya,f.MDa);}};a.prototype.WL=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,d,g,h;return f(this,function(f){switch(f.label){case 0:b=this.Yna(),c=0,d=a,f.label=1;case 1:if(!(c<d.length))return[3,4];g=d[c];h=b(g.id);return[4,g.kda(h.fra,h.AHa,h.Vya,h.MDa)];case 2:f.IY(),f.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new l.aKa(a,this.options.dz||d.Go.tQ);this.cC.add(a,b);return new u.cKa(b);};a.prototype.$sb=function(a){this.zHa(a);return this.bind(a);};a.prototype.zHa=function(a){try{this.cC.remove(a);}catch(P){throw Error(q.tKa+" "+B.wE(a));}};a.prototype.xya=function(a){var b;b=this.cC.Axa(a);!b&&this.parent&&(b=this.parent.xya(a));return b;};a.prototype.restore=function(){var a;a=this.B0a.pop();if(void 0===a)throw Error(q.IRa);this.cC=a.AJ;this.h3=a.wnb;};a.prototype.w8a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Wna(!1,!1,d.$r.N1,a);};a.prototype.getAll=function(a){return this.Wna(!0,!0,d.$r.N1,a);};a.prototype.resolve=function(a){var b;b=this.w8a();b.bind(a).dHa();return b.get(a);};a.prototype.Yna=function(){var f;function a(a){return function(b){b=f.$sb.bind(f)(b);b.Fb.Xnb=a;return b;};}function b(){return function(a){return f.xya.bind(f)(a);};}function c(){return function(a){f.zHa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Fb.Xnb=a;return b;};}f=this;return function(f){return{fra:d(f),Vya:b(),MDa:a(f),AHa:c()};};};a.prototype.Wna=function(a,b,c,d){var f;f=null;a={P3a:a,F6a:function(a){return a;},Qjb:b,key:void 0,Xe:d,Cyb:c,value:void 0};if(this.h3){if(f=this.h3(a),void 0===f||null===f)throw Error(q.rPa);}else f=this.J_a()(a);return f;};a.prototype.J_a=function(){var a;a=this;return function(b){var c;c=p.wF(a.AZa,a,b.Qjb,b.Cyb,b.Xe,b.key,b.value,b.P3a);c=b.F6a(c);return r.resolve(c);};};return a;}();c.lP=g;},function(g,c,a){var b,f;b=a(497);f=a(500);g.P=function(){var a;a=b();f(Object,{values:a},{values:function(){return Object.values!==a;}});return a;};},function(g,c,a){var b,f,h;b=a(265);c=a(264)("%Function%");f=c.apply;h=c.call;g.P=function(){return b.apply(h,arguments);};g.P.apply=function(){return b.apply(f,arguments);};},function(g,c,a){var b,f,h;b=a(264);f=a(1118);h=f(b("String.prototype.indexOf"));g.P=function(a,c){c=b(a,!!c);return"function"===typeof c&&h(a,".prototype.")?f(c):c;};},function(g){g.P=function(){var c,a,b;h();if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;h();n();if("symbol"===typeof Symbol.iterator)return!0;c={};h();a=Symbol("test");b=Object(a);if("string"===typeof a||"[object Symbol]"!==Object.prototype.toString.call(a)||"[object Symbol]"!==Object.prototype.toString.call(b))return!1;c[a]=42;for(a in c)return!1;if("function"===typeof Object.keys&&0!==Object.keys(c).length||"function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(c).length)return!1;b=Object.getOwnPropertySymbols(c);return 1!==b.length||b[0]!==a||!Object.prototype.propertyIsEnumerable.call(c,a)||"function"===typeof Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(c,a),42!==c.value||!0!==c.enumerable)?!1:!0;};},function(g,c,a){(function(b){var c,l;c=b.Symbol;l=a(1120);g.P=function(){if("function"!==typeof c)return!1;h();if("function"!==typeof Symbol||"symbol"!==typeof c("foo"))return!1;h();return"symbol"!==typeof Symbol("bar")?!1:l();};}.call(this,a(147)));},function(g,c,a){var b;b=a(264)("%TypeError%");g.P=function(a,c){if(null==a)throw new b(c||"Cannot call method on "+a);return a;};},function(g,c,a){g.P=a(1122);},function(g){var c,a;c=Array.prototype.slice;a=Object.prototype.toString;g.P=function(b){var f;f=this;if("function"!==typeof f||"[object Function]"!==a.call(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var g=c.call(arguments,1),h,d=Math.max(0,f.length-g.length),k=[],l=0;l<d;l++)k.push("$"+l);h=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this,arguments); }")(function(){var a;if(this instanceof h){a=f.apply(this,g.concat(c.call(arguments)));return Object(a)===a?a:this;}return f.apply(b,g.concat(c.call(arguments)));});f.prototype&&(d=function(){},d.prototype=f.prototype,h.prototype=new d(),d.prototype=null);return h;};},function(g,c,a){c=a(265);g.P=c.call(Function.call,Object.prototype.hasOwnProperty);},function(g,c,a){var b,f,h,l,d,k,n,r,u,y;if(!Object.keys){f=Object.prototype.hasOwnProperty;h=Object.prototype.toString;l=a(499);c=Object.prototype.propertyIsEnumerable;d=!c.call({toString:null},"toString");k=c.call(function(){},"prototype");n="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");r=function(a){var b;b=a.constructor;return b&&b.prototype===a;};u={QBb:!0,RBb:!0,SBb:!0,TBb:!0,UBb:!0,VBb:!0,WBb:!0,XBb:!0,YBb:!0,ZBb:!0,$Bb:!0,aCb:!0,bCb:!0,cCb:!0,dCb:!0,eCb:!0,fCb:!0,gCb:!0,hCb:!0,iCb:!0,jCb:!0,kCb:!0,lCb:!0};y=function(){if("undefined"===typeof K)return!1;for(var a in K)try{!u["$"+a]&&f.call(K,a);}catch(x){return!0;}return!1;}();b=function(a){var b,c,g,m,p,t;b=null!==a&&"object"===typeof a;c="[object Function]"===h.call(a);g=l(a);m=b&&"[object String]"===h.call(a);p=[];if(!b&&!c&&!g)throw new TypeError("Object.keys called on a non-object");b=k&&c;if(m&&0<a.length&&!f.call(a,0))for(m=0;m<a.length;++m)p.push(String(m));if(g&&0<a.length)for(g=0;g<a.length;++g)p.push(String(g));else for(var q in a)b&&"prototype"===q||!f.call(a,q)||p.push(String(q));if(d){if("undefined"!==typeof K&&y)try{t=r(a);}catch(C){t=!1;}else t=r(a);for(g=0;g<n.length;++g)t&&"constructor"===n[g]||!f.call(a,n[g])||p.push(n[g]);}return p;};}g.P=b;},function(g,c,a){var b,f,h,l,d;b=Array.prototype.slice;f=a(499);h=Object.keys;l=h?function(a){return h(a);}:a(1126);d=Object.keys;l.kx=function(){Object.keys?function(){var a;a=Object.keys(arguments);return a&&a.length===arguments.length;}(1,2)||(Object.keys=function(a){return f(a)?d(b.call(a)):d(a);}):Object.keys=l;return Object.keys||l;};g.P=l;},function(g,c,a){var b,f,h;c=a(500);b=a(498);f=a(497);a=a(1117);h=f();c(h,{SNb:f,implementation:b,kx:a});g.P=h;},function(g,c,a){(function(a){var b;(function(b){var ca,V,da,M,fa,ga,N,ha,ia;function c(a,b,c){var d;d=ia.get(a);if(!d){if(!c)return;d=new N();ia.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new N();d.set(b,a);}return a;}function d(a,b,c){if(f(a,b,c))return!0;b=P(b);return null!==b?d(a,b,c):!1;}function f(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function g(a,b,c){if(f(a,b,c))return h(a,b,c);b=P(b);return null!==b?g(a,b,c):void 0;}function h(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function l(a,b){var c,f;c=m(a,b);a=P(a);if(null===a)return c;b=l(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ha();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return U(a);}function m(a,b){var d;a=c(a,b,!1);d=[];a&&T(a,function(a,b){return d.push(b);});return d;}function n(a){return void 0===a;}function r(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function A(a){return"object"===typeof a?null!==a:"function"===typeof a;}function F(a){return"symbol"===typeof a?a:String(a);}function P(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===ga||b!==ga)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function Q(a){a=a.next();return a.done?void 0:a;}function T(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=Q(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function U(a){var b;b=[];T(a,function(a,c){b.push(c);});return b;}function C(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function R(){var a;a={};return function(){function b(){this.Ro=[];this.ll=[];this.LQ=a;this.KQ=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Ro.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.eR(a,!1);};b.prototype.get=function(a){a=this.eR(a,!1);return 0<=a?this.ll[a]:void 0;};b.prototype.set=function(a,b){a=this.eR(a,!0);this.ll[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.eR(b,!1);if(0<=c){b=this.Ro.length;for(c+=1;c<b;c++)this.Ro[c-1]=this.Ro[c],this.ll[c-1]=this.ll[c];this.Ro.length--;this.ll.length--;this.LQ=a;this.KQ=-2;return!0;}return!1;};b.prototype.clear=function(){this.Ro.length=0;this.ll.length=0;this.LQ=a;this.KQ=-2;};b.prototype.keys=function(){return C(this.Ro,void 0,"key");};b.prototype.values=function(){return C(void 0,this.ll,"value");};b.prototype.entries=function(){return C(this.Ro,this.ll,"key+value");};b.prototype.eR=function(a,b){var c;if(this.LQ===a)return this.KQ;c=this.Ro.indexOf(a);0>c&&b&&(c=this.Ro.length,this.Ro.push(a),this.ll.push(void 0));return this.LQ=a,this.KQ=c;};return b;}();}function O(){return function(){function a(){this.Yi=new N();}Object.defineProperty(a.prototype,"size",{get:function(){return this.Yi.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.Yi.has(a);};a.prototype.add=function(a){return this.Yi.set(a,a),this;};a.prototype["delete"]=function(a){return this.Yi["delete"](a);};a.prototype.clear=function(){this.Yi.clear();};a.prototype.keys=function(){return this.Yi.keys();};a.prototype.values=function(){return this.Yi.values();};a.prototype.entries=function(){return this.Yi.entries();};return a;}();}function W(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(fa.has(d,b));d[b]=!0;return b;}function c(a,b){if(!ca.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:M()});}return a[f];}d=M();f=b();return function(){function a(){this.ty=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?fa.has(a,this.ty):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?fa.get(a,this.ty):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.ty]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.ty]:!1;};a.prototype.clear=function(){this.ty=b();};return a;}();}function Z(a){a.yKb=1;delete a.zKb;return a;}ca=Object.prototype.hasOwnProperty;V="function"===typeof Object.create;da=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();M=V?function(){return Z(Object.create(null));}:da?function(){return Z({__proto__:null});}:function(){return Z({});};(function(a){var b;b=!V&&!da;a.has=b?function(a,b){return ca.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return ca.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(fa||(fa={})));ga=Object.getPrototypeOf(Function);N="function"===typeof Map?Map:R();ha="function"===typeof Set?Set:O();ia=new("function"===typeof WeakMap?WeakMap:(W()))();b.Zv=function(a,b,c,d){var g;if(n(d)){if(n(c)){if(!r(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!n(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!r(a))throw new TypeError();if(!A(b))throw new TypeError();c=F(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!r(a))throw new TypeError();if(!A(b))throw new TypeError();if(n(c))throw new TypeError();if(!A(d))throw new TypeError();c=F(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!n(g)){if(!A(g))throw new TypeError();d=g;}}return d;}};b.qd=function(a,b){return function(d,f){if(n(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!A(d))throw new TypeError();f=F(f);c(d,f,!0).set(a,b);}};};b.L6=function(a,b,d){var f;if(!A(d))throw new TypeError();n(f)||(f=F(f));c(d,f,!0).set(a,b);};b.fib=function(a,b){var c;if(!A(b))throw new TypeError();n(c)||(c=F(c));return d(a,b,c);};b.O9=function(a,b){var c;if(!A(b))throw new TypeError();n(c)||(c=F(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!A(b))throw new TypeError();n(c)||(c=F(c));return g(a,b,c);};b.PNb=function(a,b,c){if(!A(b))throw new TypeError();n(c)||(c=F(c));return h(a,b,c);};b.ONb=function(a,b){if(!A(a))throw new TypeError();n(b)||(b=F(b));return l(a,b);};b.QNb=function(a,b){if(!A(a))throw new TypeError();n(b)||(b=F(b));return m(a,b);};b.KMb=function(a,b,d){var f;if(!A(b))throw new TypeError();n(d)||(d=F(d));f=c(b,d,!1);if(n(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ia.get(b);a["delete"](d);if(0<a.size)return!0;ia["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)ca.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof K?K:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(147)));},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(1129);a(1128);K._cad_global={};K.DEBUG=!1;a(11);a(9);a(16);a(19);a(44);a(38);a(93);a(535);a(271);a(50);a(30);a(18);a(72);a(55);a(534);a(186);a(446);a(533);a(532);a(184);a(531);a(269);a(203);a(353);a(290);a(284);a(286);a(285);a(268);a(298);a(297);a(295);a(150);a(191);a(530);a(12);a(279);a(529);a(105);a(73);a(289);a(125);a(352);a(351);a(202);a(528);a(527);a(326);a(526);a(525);a(332);a(189);a(335);a(190);a(299);a(524);a(149);a(282);a(153);a(294);a(124);a(92);a(523);a(522);a(521);a(520);a(519);a(283);a(56);a(518);a(280);a(287);a(350);a(288);a(278);a(517);a(516);a(272);a(122);a(515);a(514);a(513);a(512);a(511);a(504);a(501);a(292);},function(g,c,a){g.P=a(1130);}]));}.call(K));}(window));}.call(window));